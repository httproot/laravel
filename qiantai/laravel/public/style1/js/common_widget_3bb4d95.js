define("common:widget/oui/lib/jquery/1.9.1/jquery",function(e,t,n){function r(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=Ct[e]={};return lt.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function o(e,t,n,r){if(lt.acceptData(e)){var i,o,a=lt.expando,s="string"==typeof t,u=e.nodeType,l=u?lt.cache:e,c=u?e[a]:e[a]&&a;if(c&&l[c]&&(r||l[c].data)||!s||void 0!==n)return c||(u?e[a]=c=et.pop()||lt.guid++:c=a),l[c]||(l[c]={},u||(l[c].toJSON=lt.noop)),("object"==typeof t||"function"==typeof t)&&(r?l[c]=lt.extend(l[c],t):l[c].data=lt.extend(l[c].data,t)),i=l[c],r||(i.data||(i.data={}),i=i.data),void 0!==n&&(i[lt.camelCase(t)]=n),s?(o=i[t],null==o&&(o=i[lt.camelCase(t)])):o=i,o}}function a(e,t,n){if(lt.acceptData(e)){var r,i,o,a=e.nodeType,s=a?lt.cache:e,l=a?e[lt.expando]:lt.expando;if(s[l]){if(t&&(o=n?s[l]:s[l].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in o?t=[t]:(t=lt.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete o[t[r]];if(!(n?u:lt.isEmptyObject)(o))return}(n||(delete s[l].data,u(s[l])))&&(a?lt.cleanData([e],!0):lt.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function s(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Et,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:kt.test(n)?lt.parseJSON(n):n}catch(i){}lt.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function f(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=lt.grep(e,function(e){return 1===e.nodeType});if(zt.test(t))return lt.filter(t,r,!n);t=lt.filter(t,r)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function p(e){var t=Vt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function g(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=an.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var n,r=0;null!=(n=e[r]);r++)lt._data(n,"globalEval",!t||lt._data(t[r],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,r,i,o=lt._data(e),a=lt._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)lt.event.add(t,n,s[n][r])}a.data&&(a.data=lt.extend({},a.data))}}function b(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){i=lt._data(t);for(r in i.events)lt.removeEvent(t,r,i.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(g(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&nn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function x(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Y?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||lt.nodeName(r,t)?o.push(r):lt.merge(o,x(r,t));return void 0===t||t&&lt.nodeName(e,t)?lt.merge([e],o):o}function w(e){nn.test(e.type)&&(e.defaultChecked=e.checked)}function T(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=En.length;i--;)if(t=En[i]+n,t in e)return t;return r}function N(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function C(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=lt._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&N(r)&&(o[a]=lt._data(r,"olddisplay",A(r.nodeName)))):o[a]||(i=N(r),(n&&"none"!==n||!i)&&lt._data(r,"olddisplay",i?n:lt.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function k(e,t,n){var r=bn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function E(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=lt.css(e,n+kn[o],!0,i)),r?("content"===n&&(a-=lt.css(e,"padding"+kn[o],!0,i)),"margin"!==n&&(a-=lt.css(e,"border"+kn[o]+"Width",!0,i))):(a+=lt.css(e,"padding"+kn[o],!0,i),"padding"!==n&&(a+=lt.css(e,"border"+kn[o]+"Width",!0,i)));return a}function S(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=fn(e),a=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=pn(e,t,o),(0>i||null==i)&&(i=e.style[t]),xn.test(i))return i;r=a&&(lt.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+E(e,t,n||(a?"border":"content"),r,o)+"px"}function A(e){var t=J,n=Tn[e];return n||(n=j(e,t),"none"!==n&&n||(dn=(dn||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(dn[0].contentWindow||dn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=j(e,t),dn.detach()),Tn[e]=n),n}function j(e,t){var n=lt(t.createElement(e)).appendTo(t.body),r=lt.css(n[0],"display");return n.remove(),r}function D(e,t,n,r){var i;if(lt.isArray(t))lt.each(t,function(t,i){n||An.test(e)?r(e,i):D(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==lt.type(t))r(e,t);else for(i in t)D(e+"["+i+"]",t[i],n,r)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(dt)||[];if(lt.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function H(e,t,n,r){function i(s){var u;return o[s]=!0,lt.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Xn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function q(e,t){var n,r,i=lt.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&lt.extend(!0,e,n),e}function M(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes,l=e.responseFields;for(a in l)a in n&&(t[l[a]]=n[a]);for(;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function _(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=u[++s];)if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i)for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}function F(){try{return new window.XMLHttpRequest}catch(e){}}function O(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function B(){return setTimeout(function(){er=void 0}),er=lt.now()}function P(e,t){lt.each(t,function(t,n){for(var r=(ar[t]||[]).concat(ar["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(e,t,n))return})}function R(e,t,n){var r,i,o=0,a=or.length,s=lt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=er||B(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:er||B(),duration:n.duration,tweens:[],createTween:function(t,n){var r=lt.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(W(c,l.opts.specialEasing);a>o;o++)if(r=or[o].call(l,e,c,l.opts))return r;return P(l,c),lt.isFunction(l.opts.start)&&l.opts.start.call(e,l),lt.fx.timer(lt.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(e,t){var n,r,i,o,a;for(i in e)if(r=lt.camelCase(i),o=t[r],n=e[i],lt.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=lt.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}function $(e,t,n){var r,i,o,a,s,u,l,c,d,f=this,p=e.style,h={},g=[],m=e.nodeType&&N(e);n.queue||(c=lt._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,lt.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",lt.support.shrinkWrapBlocks||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],nr.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show"))continue;g.push(i)}if(o=g.length){s=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),u&&(s.hidden=!m),m?lt(e).show():f.done(function(){lt(e).hide()}),f.done(function(){var t;lt._removeData(e,"fxshow");for(t in h)lt.style(e,t,h[t])});for(i=0;o>i;i++)r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||lt.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function I(e,t,n,r,i){return new I.prototype.init(e,t,n,r,i)}function z(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=kn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function X(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var U,V,Y="undefined",J=window.document,G=window.location,Q=window.jQuery,K=window.$,Z={},et=[],tt="1.9.1",nt=et.concat,rt=et.push,it=et.slice,ot=et.indexOf,at=Z.toString,st=Z.hasOwnProperty,ut=tt.trim,lt=function(e,t){return new lt.fn.init(e,t,V)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,yt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bt=/^-ms-/,xt=/-([\da-z])/gi,wt=function(e,t){return t.toUpperCase()},Tt=function(e){(J.addEventListener||"load"===e.type||"complete"===J.readyState)&&(Nt(),lt.ready())},Nt=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",Tt,!1),window.removeEventListener("load",Tt,!1)):(J.detachEvent("onreadystatechange",Tt),window.detachEvent("onload",Tt))};lt.fn=lt.prototype={jquery:tt,constructor:lt,init:function(e,t,n){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:pt.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof lt?t[0]:t,lt.merge(this,lt.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),ht.test(r[1])&&lt.isPlainObject(t))for(r in t)lt.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if(i=J.getElementById(r[2]),i&&i.parentNode){if(i.id!==r[2])return n.find(e);this.length=1,this[0]=i}return this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?n.ready(e):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:rt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},s=2),"object"==typeof a||lt.isFunction(a)||(a={}),u===s&&(a=this,--s);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(lt.isPlainObject(n)||(t=lt.isArray(n)))?(t?(t=!1,o=e&&lt.isArray(e)?e:[]):o=e&&lt.isPlainObject(e)?e:{},a[r]=lt.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},lt.extend({noConflict:function(e){return window.$===lt&&(window.$=K),e&&window.jQuery===lt&&(window.jQuery=Q),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!J.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(U.resolveWith(J,[lt]),lt.fn.trigger&&lt(J).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Z[at.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!st.call(e,"constructor")&&!st.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;for(n in e);return void 0===n||st.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=ht.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=lt.buildFragment([e],t,i),i&&lt(i).remove(),lt.merge([],r.childNodes))},parseJSON:function(e){return window.JSON&&window.JSON.parse?window.JSON.parse(e):null===e?e:"string"==typeof e&&(e=lt.trim(e),e&&gt.test(e.replace(yt,"@").replace(vt,"]").replace(mt,"")))?new Function("return "+e)():void lt.error("Invalid JSON: "+e)},parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{window.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(r){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&lt.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},camelCase:function(e){return e.replace(bt,"ms-").replace(xt,wt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,o=0,a=e.length,s=r(e);if(n){if(s)for(;a>o&&(i=t.apply(e[o],n),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],n),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:ut&&!ut.call("﻿ ")?function(e){return null==e?"":ut.call(e)}:function(e){return null==e?"":(e+"").replace(ft,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?lt.merge(n,"string"==typeof e?[e]:e):rt.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(ot)return ot.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;n>i;i++)e[r++]=t[i];else for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,a=e.length,s=r(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,n),null!=i&&(u[u.length]=i);else for(o in e)i=t(e[o],o,n),null!=i&&(u[u.length]=i);return nt.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),lt.isFunction(e)?(n=it.call(arguments,2),r=function(){return e.apply(t||this,n.concat(it.call(arguments)))},r.guid=e.guid=e.guid||lt.guid++,r):void 0},access:function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===lt.type(n)){i=!0;for(s in n)lt.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,lt.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(lt(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(e){if(!U)if(U=lt.Deferred(),"complete"===J.readyState)setTimeout(lt.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",Tt,!1),window.addEventListener("load",Tt,!1);else{J.attachEvent("onreadystatechange",Tt),window.attachEvent("onload",Tt);var t=!1;try{t=null==window.frameElement&&J.documentElement}catch(n){}t&&t.doScroll&&!function r(){if(!lt.isReady){try{t.doScroll("left")}catch(e){return setTimeout(r,50)}Nt(),lt.ready()}}()}return U.promise(e)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()}),V=lt(J);var Ct={};lt.Callbacks=function(e){e="string"==typeof e?Ct[e]||i(e):lt.extend({},e);var t,n,r,o,a,s,u=[],l=!e.once&&[],c=function(i){for(n=e.memory&&i,r=!0,a=s||0,s=0,o=u.length,t=!0;u&&o>a;a++)if(u[a].apply(i[0],i[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function i(t){lt.each(t,function(t,n){var r=lt.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),t?o=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&lt.each(arguments,function(e,n){for(var r;(r=lt.inArray(n,u,r))>-1;)u.splice(r,1),t&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?lt.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return n=n||[],n=[e,n.slice?n.slice():n],!u||r&&!l||(t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,o){var a=o[0],s=lt.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,r):r}},i={};return r.pipe=r.then,lt.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=it.call(arguments),a=o.length,s=1!==a||e&&lt.isFunction(e.promise)?a:0,u=1===s?e:lt.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?it.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&lt.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}}),lt.support=function(){var e,t,n,r,i,o,a,s,u,l,c=J.createElement("div");if(c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=c.getElementsByTagName("*"),n=c.getElementsByTagName("a")[0],!t||!n||!t.length)return{};i=J.createElement("select"),a=i.appendChild(J.createElement("option")),r=c.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={getSetAttribute:"t"!==c.className,leadingWhitespace:3===c.firstChild.nodeType,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!r.value,optSelected:a.selected,enctype:!!J.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===J.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,i.disabled=!0,e.optDisabled=!a.disabled;try{delete c.test}catch(d){e.deleteExpando=!1}r=J.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),o=J.createDocumentFragment(),o.appendChild(r),e.appendChecked=r.checked,e.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,c.attachEvent&&(c.attachEvent("onclick",function(){e.noCloneEvent=!1}),c.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})c.setAttribute(s="on"+l,"t"),e[l+"Bubbles"]=s in window||c.attributes[s].expando===!1;return c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===c.style.backgroundClip,lt(function(){var t,n,r,i="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=J.getElementsByTagName("body")[0];o&&(t=J.createElement("div"),t.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(t).appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=c.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=u&&0===r[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===c.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,window.getComputedStyle&&(e.pixelPosition="1%"!==(window.getComputedStyle(c,null)||{}).top,e.boxSizingReliable="4px"===(window.getComputedStyle(c,null)||{width:"4px"}).width,n=c.appendChild(J.createElement("div")),n.style.cssText=c.style.cssText=i,n.style.marginRight=n.style.width="0",c.style.width="1px",e.reliableMarginRight=!parseFloat((window.getComputedStyle(n,null)||{}).marginRight)),typeof c.style.zoom!==Y&&(c.innerHTML="",c.style.cssText=i+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.innerHTML="<div></div>",c.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==c.offsetWidth,e.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(t),t=c=r=n=null)}),t=i=o=a=n=r=null,e}();var kt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Et=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(tt+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!u(e)},data:function(e,t,n){return o(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return o(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,t){var n,r,i=this[0],o=0,a=null;if(void 0===e){if(this.length&&(a=lt.data(i),1===i.nodeType&&!lt._data(i,"parsedAttrs"))){for(n=i.attributes;o<n.length;o++)r=n[o].name,r.indexOf("data-")||(r=lt.camelCase(r.slice(5)),s(i,r,a[r]));lt._data(i,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(t){return void 0===t?i?s(i,e,lt.data(i,e)):null:void this.each(function(){lt.data(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=lt._data(e,t),n&&(!r||lt.isArray(n)?r=lt._data(e,t,lt.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),r=n.length,i=n.shift(),o=lt._queueHooks(e,t),a=function(){lt.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?lt.queue(this[0],e):void 0===t?this:this.each(function(){var n=lt.queue(this,e,t);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=lt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=lt._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var St,At,jt=/[\t\r\n]/g,Dt=/\r/g,Lt=/^(?:input|select|textarea|button|object)$/i,Ht=/^(?:a|area)$/i,qt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Mt=/^(?:checked|selected)$/i,_t=lt.support.getSetAttribute,Ft=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(dt)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=lt.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(dt)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?lt.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return this.each(lt.isFunction(e)?function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var i,o=0,a=lt(this),s=t,u=e.match(dt)||[];i=u[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else(n===Y||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(jt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=lt.isFunction(e),this.each(function(t){var i,o=lt(this);1===this.nodeType&&(i=r?e.call(this,t,o.val()):e,null==i?i="":"number"==typeof i?i+="":lt.isArray(i)&&(i=lt.map(i,function(e){return null==e?"":e+""})),n=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&void 0!==n.set(this,i,"value")||(this.value=i))});if(i)return n=lt.valHooks[i.type]||lt.valHooks[i.nodeName.toLowerCase()],n&&"get"in n&&void 0!==(t=n.get(i,"value"))?t:(t=i.value,"string"==typeof t?t.replace(Dt,""):null==t?"":t)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Y?lt.prop(e,t,n):(i=1!==a||!lt.isXMLDoc(e),i&&(t=t.toLowerCase(),r=lt.attrHooks[t]||(qt.test(t)?At:St)),void 0===n?r&&i&&"get"in r&&null!==(o=r.get(e,t))?o:(typeof e.getAttribute!==Y&&(o=e.getAttribute(t)),null==o?void 0:o):null!==n?r&&i&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void lt.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;n=o[i++];)r=lt.propFix[n]||n,qt.test(n)?!_t&&Mt.test(n)?e[lt.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:lt.attr(e,n,""),e.removeAttribute(_t?n:r)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!lt.isXMLDoc(e),o&&(t=lt.propFix[t]||t,i=lt.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");
return t&&t.specified?parseInt(t.value,10):Lt.test(e.nodeName)||Ht.test(e.nodeName)&&e.href?0:void 0}}}}),At={get:function(e,t){var n=lt.prop(e,t),r="boolean"==typeof n&&e.getAttribute(t),i="boolean"==typeof n?Ft&&_t?null!=r:Mt.test(t)?e[lt.camelCase("default-"+t)]:!!r:e.getAttributeNode(t);return i&&i.value!==!1?t.toLowerCase():void 0},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):Ft&&_t||!Mt.test(n)?e.setAttribute(!_t&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},Ft&&_t||(lt.attrHooks.value={get:function(e,t){var n=e.getAttributeNode(t);return lt.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:void 0},set:function(e,t,n){return lt.nodeName(e,"input")?void(e.defaultValue=t):St&&St.set(e,t,n)}}),_t||(St=lt.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&("id"===t||"name"===t||"coords"===t?""!==n.value:n.specified)?n.value:void 0},set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},lt.attrHooks.contenteditable={get:St.get,set:function(e,t,n){St.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null==n?void 0:n}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,t){return lt.isArray(t)?e.checked=lt.inArray(lt(e).val(),t)>=0:void 0}})});var Ot=/^(?:input|select|textarea)$/i,Bt=/^key/,Pt=/^(?:mouse|contextmenu)|click/,Rt=/^(?:focusinfocus|focusoutblur)$/,Wt=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,g,m=lt._data(e);if(m){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=lt.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||(c=m.handle=function(e){return typeof lt===Y||e&&lt.event.triggered===e.type?void 0:lt.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(dt)||[""],s=t.length;s--;)o=Wt.exec(t[s])||[],p=g=o[1],h=(o[2]||"").split(".").sort(),l=lt.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=lt.event.special[p]||{},d=lt.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&lt.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),lt.event.global[p]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,g,m=lt.hasData(e)&&lt._data(e);if(m&&(c=m.events)){for(t=(t||"").match(dt)||[""],l=t.length;l--;)if(s=Wt.exec(t[l])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(d=lt.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,m.handle)!==!1||lt.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)lt.event.remove(e,p+t[l],n,r,!0);lt.isEmptyObject(c)&&(delete m.handle,lt._removeData(e,"events"))}},trigger:function(e,t,n,r){var i,o,a,s,u,l,c,d=[n||J],f=st.call(e,"type")?e.type:e,p=st.call(e,"namespace")?e.namespace.split("."):[];if(a=l=n=n||J,3!==n.nodeType&&8!==n.nodeType&&!Rt.test(f+lt.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),o=f.indexOf(":")<0&&"on"+f,e=e[lt.expando]?e:new lt.Event(f,"object"==typeof e&&e),e.isTrigger=!0,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:lt.makeArray(t,[e]),u=lt.event.special[f]||{},r||!u.trigger||u.trigger.apply(n,t)!==!1)){if(!r&&!u.noBubble&&!lt.isWindow(n)){for(s=u.delegateType||f,Rt.test(s+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),l=a;l===(n.ownerDocument||J)&&d.push(l.defaultView||l.parentWindow||window)}for(c=0;(a=d[c++])&&!e.isPropagationStopped();)e.type=c>1?s:u.bindType||f,i=(lt._data(a,"events")||{})[e.type]&&lt._data(a,"handle"),i&&i.apply(a,t),i=o&&a[o],i&&lt.acceptData(a)&&i.apply&&i.apply(a,t)===!1&&e.preventDefault();if(e.type=f,!(r||e.isDefaultPrevented()||u._default&&u._default.apply(n.ownerDocument,t)!==!1||"click"===f&&lt.nodeName(n,"a")||!lt.acceptData(n)||!o||!n[f]||lt.isWindow(n))){l=n[o],l&&(n[o]=null),lt.event.triggered=f;try{n[f]()}catch(h){}lt.event.triggered=void 0,l&&(n[o]=l)}return e.result}},dispatch:function(e){e=lt.event.fix(e);var t,n,r,i,o,a=[],s=it.call(arguments),u=(lt._data(this,"events")||{})[e.type]||[],l=lt.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=lt.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((lt.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?lt(n,this).index(u)>=0:lt.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[lt.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Pt.test(i)?this.mouseHooks:Bt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new lt.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||J),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||J,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==J.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===J.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?lt.event.trigger(i,null,t):lt.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=J.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Y&&(e[r]=null),e.detachEvent(r,n))},lt.Event=function(e,t){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&lt.extend(this,t),this.timeStamp=e&&e.timeStamp||lt.now(),void(this[lt.expando]=!0)):new lt.Event(e,t)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!lt.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:void lt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=lt.nodeName(t,"input")||lt.nodeName(t,"button")?t.form:void 0;n&&!lt._data(n,"submitBubbles")&&(lt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:void lt.event.remove(this,"._submit")}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Ot.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):void lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ot.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lt.event.remove(this,"._change"),!Ot.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&J.addEventListener(e,r,!0)},teardown:function(){0===--n&&J.removeEventListener(e,r,!0)}}}),lt.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(a=r,r=function(e){return lt().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,lt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){lt.event.remove(this,e,n,t)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?lt.event.trigger(e,t,n,!0):void 0}}),function(e,t){function n(e){return ht.test(e+"")}function r(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>C.cacheLength&&delete e[t.shift()],e[n]=r}}function i(e){return e[P]=!0,e}function o(e){var t=L.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,r){var i,o,a,s,u,l,c,p,h,g;if((t?t.ownerDocument||t:R)!==L&&D(t),t=t||L,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!q&&!r){if(i=gt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&O(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,K.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&W.getByClassName&&t.getElementsByClassName)return Q.apply(n,K.call(t.getElementsByClassName(a),0)),n}if(W.qsa&&!M.test(e)){if(c=!0,p=P,h=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=d(e),(c=t.getAttribute("id"))?p=c.replace(vt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=pt.test(e)&&t.parentNode||t,g=l.join(",")}if(g)try{return Q.apply(n,K.call(h.querySelectorAll(g),0)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return x(e.replace(at,"$1"),t,n,r)}function s(e,t){var n=t&&e,r=n&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function d(e,t){var n,r,i,o,s,u,l,c=X[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=C.preFilter;s;){(!n||(r=st.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(i=[])),n=!1,(r=ut.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(at," ")}),s=s.slice(n.length));for(o in C.filter)!(r=ft[o].exec(s))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?a.error(e):X(e,u).slice(0)}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=I++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=$+" "+o;if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(l=t[P]||(t[P]={}),(u=l[r])&&u[0]===c){if((s=u[1])===!0||s===N)return s===!0}else if(u=l[r]=[c],u[1]=e(t,n,a)||N,u[1]===!0)return!0}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function m(e,t,n,r,o,a){return r&&!r[P]&&(r=m(r)),o&&!o[P]&&(o=m(o,a)),i(function(i,a,s,u){var l,c,d,f=[],p=[],h=a.length,m=i||b(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?m:g(m,f,e,s,u),v=n?o||(i?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r)for(l=g(v,p),r(l,[],s,u),c=l.length;c--;)(d=l[c])&&(v[p[c]]=!(y[p[c]]=d));if(i){if(o||e){if(o){for(l=[],c=v.length;c--;)(d=v[c])&&l.push(y[c]=d);o(null,v=[],l,u)}for(c=v.length;c--;)(d=v[c])&&(l=o?Z.call(i,d):f[c])>-1&&(i[l]=!(a[l]=d))}}else v=g(v===a?v.splice(h,v.length):v),o?o(null,a,v,u):Q.apply(a,v)})}function y(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return Z.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==j)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>s;s++)if(n=C.relative[e[s].type])c=[p(h(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!C.relative[e[r].type];r++);return m(s>1&&h(c),s>1&&f(e.slice(0,s-1)).replace(at,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function v(e,t){var n=0,r=t.length>0,o=e.length>0,s=function(i,s,u,l,c){var d,f,p,h=[],m=0,y="0",v=i&&[],b=null!=c,x=j,w=i||o&&C.find.TAG("*",c&&s.parentNode||s),T=$+=null==x?1:Math.random()||.1;for(b&&(j=s!==L&&s,N=n);null!=(d=w[y]);y++){if(o&&d){for(f=0;p=e[f++];)if(p(d,s,u)){l.push(d);break}b&&($=T,N=++n)}r&&((d=!p&&d)&&m--,i&&v.push(d))}if(m+=y,r&&y!==m){for(f=0;p=t[f++];)p(v,h,s,u);if(i){if(m>0)for(;y--;)v[y]||h[y]||(h[y]=G.call(l));h=g(h)}Q.apply(l,h),b&&!i&&h.length>0&&m+t.length>1&&a.uniqueSort(l)}return b&&($=T,j=x),v};return r?i(s):s}function b(e,t,n){for(var r=0,i=t.length;i>r;r++)a(e,t[r],n);return n}function x(e,t,n,r){var i,o,a,s,u,l=d(e);if(!r&&1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&!q&&C.relative[o[1].type]){if(t=C.find.ID(a.matches[0].replace(xt,wt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=ft.needsContext.test(e)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((u=C.find[s])&&(r=u(a.matches[0].replace(xt,wt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Q.apply(n,K.call(r,0)),n;break}}return S(e,l)(r,t,q,n,pt.test(e)),n}function w(){}var T,N,C,k,E,S,A,j,D,L,H,q,M,_,F,O,B,P="sizzle"+-new Date,R=e.document,W={},$=0,I=0,z=r(),X=r(),U=r(),V=typeof t,Y=1<<31,J=[],G=J.pop,Q=J.push,K=J.slice,Z=J.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),rt="([*^$|!~]?=)",it="\\["+et+"*("+tt+")"+et+"*(?:"+rt+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+it.replace(3,8)+")*)|.*)\\)|)",at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=new RegExp("^"+et+"*,"+et+"*"),ut=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ct=new RegExp(ot),dt=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,ht=/^[^{]+\{\s*\[native code/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,vt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,xt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{K.call(R.documentElement.childNodes,0)[0].nodeType}catch(Tt){K=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}E=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},D=a.setDocument=function(e){var r=e?e.ownerDocument||e:R;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,H=r.documentElement,q=E(r),W.tagNameNoComments=o(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),W.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),W.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),W.getByName=o(function(e){e.id=P+0,e.innerHTML="<a name='"+P+"'></a><div name='"+P+"'></div>",H.insertBefore(e,H.firstChild);var t=r.getElementsByName&&r.getElementsByName(P).length===2+r.getElementsByName(P+0).length;return W.getIdNotName=!r.getElementById(P),H.removeChild(e),t}),C.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==V&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},W.getIdNotName?(C.find.ID=function(e,t){if(typeof t.getElementById!==V&&!q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){return e.getAttribute("id")===t}}):(C.find.ID=function(e,n){if(typeof n.getElementById!==V&&!q){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==V&&r.getAttributeNode("id").value===e?[r]:t:[]}},C.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=W.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.NAME=W.getByName&&function(e,t){return typeof t.getElementsByName!==V?t.getElementsByName(name):void 0},C.find.CLASS=W.getByClassName&&function(e,t){return typeof t.getElementsByClassName===V||q?void 0:t.getElementsByClassName(e)},_=[],M=[":focus"],(W.qsa=n(r.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||M.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||M.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&M.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(W.matchesSelector=n(F=H.matchesSelector||H.mozMatchesSelector||H.webkitMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&o(function(e){W.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),_.push("!=",ot)}),M=new RegExp(M.join("|")),_=new RegExp(_.join("|")),O=n(H.contains)||H.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},B=H.compareDocumentPosition?function(e,t){var n;return e===t?(A=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===r||O(R,e)?-1:t===r||O(R,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(e===t)return A=!0,0;if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},A=!1,[0,0].sort(B),W.detectDuplicates=A,L):L},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==L&&D(e),t=t.replace(bt,"='$1']"),!(!W.matchesSelector||q||_&&_.test(t)||M.test(t)))try{var n=F.call(e,t);if(n||W.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return a(t,L,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==L&&D(e),O(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==L&&D(e),q||(t=t.toLowerCase()),(n=C.attrHandle[t])?n(e):q||W.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],r=1,i=0;if(A=!W.detectDuplicates,e.sort(B),A){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},k=a.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=k(t);return n},C=a.selectors={cacheLength:50,createPseudo:i,match:ft,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,wt),e[3]=(e[4]||e[5]||"").replace(xt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ft.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ct.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(xt,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&z(e,function(e){return t.test(e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=a.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(c=m[P]||(m[P]={}),l=c[e]||[],p=l[0]===$&&l[1],f=l[0]===$&&l[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[$,p,f];break}}else if(v&&(l=(t[P]||(t[P]={}))[e])&&l[0]===$)f=l[1];else for(;(d=++p&&d&&d[g]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++f||(v&&((d[P]||(d[P]={}))[e]=[$,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,t){var n,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return r[P]?r(t):r.length>1?(n=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=Z.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(at,"$1"));return r[P]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return a(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return dt.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(xt,wt).toLowerCase(),function(t){var n;do if(n=q?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return yt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}};for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[T]=u(T);for(T in{submit:!0,reset:!0})C.pseudos[T]=l(T);S=a.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=U(e,v(i,r))}return o},C.pseudos.nth=C.pseudos.eq,C.filters=w.prototype=C.pseudos,C.setFilters=new w,D(),a.attr=lt.attr,lt.find=a,lt.expr=a.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=a.uniqueSort,lt.text=a.getText,lt.isXMLDoc=a.isXML,lt.contains=a.contains}(window);var $t=/Until$/,It=/^(?:parents|prev(?:Until|All))/,zt=/^.[^:#\[\.,]*$/,Xt=lt.expr.match.needsContext,Ut={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(lt(e).filter(function(){for(t=0;i>t;t++)if(lt.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)lt.find(e,this[t],n);return n=this.pushStack(i>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(f(this,e,!1))},filter:function(e){return this.pushStack(f(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Xt.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=Xt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:lt.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?lt.unique(o):o)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),r=lt.merge(this.get(),n);
return this.pushStack(lt.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,r){var i=lt.map(this,t,n);return $t.test(e)||(r=n),r&&"string"==typeof r&&(i=lt.filter(r,i)),i=this.length>1&&!Ut[e]?lt.unique(i):i,this.length>1&&It.test(e)&&(i=i.reverse()),this.pushStack(i)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!lt(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Yt=/ jQuery\d+="(?:null|\d+)"/g,Jt=new RegExp("<(?:"+Vt+")[\\s/>]","i"),Gt=/^\s+/,Qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kt=/<([\w:]+)/,Zt=/<tbody/i,en=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,nn=/^(?:checkbox|radio)$/i,rn=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^$|\/(?:java|ecma)script/i,an=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,un={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(J),cn=ln.appendChild(J.createElement("div"));un.optgroup=un.option,un.tbody=un.tfoot=un.colgroup=un.caption=un.thead,un.th=un.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return void 0===e?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(lt.isFunction(e)?function(t){lt(this).wrapInner(e.call(this,t))}:function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(x(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&y(x(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(x(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Yt,""):void 0;if(!("string"!=typeof e||tn.test(e)||!lt.support.htmlSerialize&&Jt.test(e)||!lt.support.leadingWhitespace&&Gt.test(e)||un[(Kt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Qt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(lt.cleanData(x(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=nt.apply([],e);var r,i,o,a,s,u,l=0,c=this.length,d=this,f=c-1,p=e[0],y=lt.isFunction(p);if(y||!(1>=c||"string"!=typeof p||lt.support.checkClone)&&rn.test(p))return this.each(function(r){var i=d.eq(r);y&&(e[0]=p.call(this,r,t?i.html():void 0)),i.domManip(e,t,n)});if(c&&(u=lt.buildFragment(e,this[0].ownerDocument,!1,this),r=u.firstChild,1===u.childNodes.length&&(u=r),r)){for(t=t&&lt.nodeName(r,"tr"),a=lt.map(x(u,"script"),g),o=a.length;c>l;l++)i=u,l!==f&&(i=lt.clone(i,!0,!0),o&&lt.merge(a,x(i,"script"))),n.call(t&&lt.nodeName(this[l],"table")?h(this[l],"tbody"):this[l],i,l);if(o)for(s=a[a.length-1].ownerDocument,lt.map(a,m),l=0;o>l;l++)i=a[l],on.test(i.type||"")&&!lt._data(i,"globalEval")&&lt.contains(s,i)&&(i.src?lt.ajax({url:i.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(sn,"")));u=r=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,r=0,i=[],o=lt(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),lt(o[r])[t](n),rt.apply(i,n.get());return this.pushStack(i)}}),lt.extend({clone:function(e,t,n){var r,i,o,a,s,u=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(o=cn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(r=x(o),s=x(e),a=0;null!=(i=s[a]);++a)r[a]&&b(i,r[a]);if(t)if(n)for(s=s||x(e),r=r||x(o),a=0;null!=(i=s[a]);a++)v(i,r[a]);else v(e,o);return r=x(o,"script"),r.length>0&&y(r,!u&&x(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=p(t),h=[],g=0;d>g;g++)if(o=e[g],o||0===o)if("object"===lt.type(o))lt.merge(h,o.nodeType?[o]:o);else if(en.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(Kt.exec(o)||["",""])[1].toLowerCase(),c=un[u]||un._default,s.innerHTML=c[1]+o.replace(Qt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!lt.support.leadingWhitespace&&Gt.test(o)&&h.push(t.createTextNode(Gt.exec(o)[0])),!lt.support.tbody)for(o="table"!==u||Zt.test(o)?"<table>"!==c[1]||Zt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)lt.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(lt.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(o));for(s&&f.removeChild(s),lt.support.appendChecked||lt.grep(x(h,"input"),w),g=0;o=h[g++];)if((!r||-1===lt.inArray(o,r))&&(a=lt.contains(o.ownerDocument,o),s=x(f.appendChild(o),"script"),a&&y(s),n))for(i=0;o=s[i++];)on.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=lt.expando,u=lt.cache,l=lt.support.deleteExpando,c=lt.event.special;null!=(n=e[a]);a++)if((t||lt.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?lt.event.remove(n,r):lt.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Y?n.removeAttribute(s):n[s]=null,et.push(i))}}});var dn,fn,pn,hn=/alpha\([^)]*\)/i,gn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,yn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,bn=new RegExp("^("+ct+")(.*)$","i"),xn=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),wn=new RegExp("^([+-])=("+ct+")","i"),Tn={BODY:"block"},Nn={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],En=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,t){return lt.access(this,function(e,t,n){var r,i,o={},a=0;if(lt.isArray(t)){for(i=fn(e),r=t.length;r>a;a++)o[t[a]]=lt.css(e,t[a],!1,i);return o}return void 0!==n?lt.style(e,t,n):lt.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:N(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=pn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=lt.camelCase(t),u=e.style;if(t=lt.cssProps[s]||(lt.cssProps[s]=T(u,s)),a=lt.cssHooks[t]||lt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=wn.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(lt.css(e,t)),o="number"),!(null==n||"number"===o&&isNaN(n)||("number"!==o||lt.cssNumber[s]||(n+="px"),lt.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=lt.camelCase(t);return t=lt.cssProps[s]||(lt.cssProps[s]=T(e.style,s)),a=lt.cssHooks[t]||lt.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=pn(e,t,r)),"normal"===o&&t in Cn&&(o=Cn[t]),""===n||n?(i=parseFloat(o),n===!0||lt.isNumeric(i)?i||0:o):o},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),window.getComputedStyle?(fn=function(e){return window.getComputedStyle(e,null)},pn=function(e,t,n){var r,i,o,a=n||fn(e),s=a?a.getPropertyValue(t)||a[t]:void 0,u=e.style;return a&&(""!==s||lt.contains(e.ownerDocument,e)||(s=lt.style(e,t)),xn.test(s)&&vn.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=s,s=a.width,u.width=r,u.minWidth=i,u.maxWidth=o)),s}):J.documentElement.currentStyle&&(fn=function(e){return e.currentStyle},pn=function(e,t,n){var r,i,o,a=n||fn(e),s=a?a[t]:void 0,u=e.style;return null==s&&u&&u[t]&&(s=u[t]),xn.test(s)&&!mn.test(t)&&(r=u.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),u.left="fontSize"===t?"1em":s,s=u.pixelLeft+"px",u.left=r,o&&(i.left=o)),""===s?"auto":s}),lt.each(["height","width"],function(e,t){lt.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&yn.test(lt.css(e,"display"))?lt.swap(e,Nn,function(){return S(e,t,r)}):S(e,t,r):void 0},set:function(e,n,r){var i=r&&fn(e);return k(e,n,r?E(e,t,r,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,i),i):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return gn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(o.replace(hn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=hn.test(o)?o.replace(hn,i):o+" "+i)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,t){return t?lt.swap(e,{display:"inline-block"},pn,[e,"marginRight"]):void 0}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,t){lt.cssHooks[t]={get:function(e,n){return n?(n=pn(e,t),xn.test(n)?lt(e).position()[t]+"px":n):void 0}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+kn[r]+t]=o[r]||o[r-2]||o[0];return i}},vn.test(e)||(lt.cssHooks[e+t].set=k)});var Sn=/%20/g,An=/\[\]$/,jn=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,Ln=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&Ln.test(this.nodeName)&&!Dn.test(e)&&(this.checked||!nn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(jn,"\r\n")}}):{name:t.name,value:n.replace(jn,"\r\n")}}).get()}}),lt.param=function(e,t){var n,r=[],i=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){i(this.name,this.value)});else for(n in e)D(n,e[n],t,i);return r.join("&").replace(Sn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Hn,qn,Mn=lt.now(),_n=/\?/,Fn=/#.*$/,On=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rn=/^(?:GET|HEAD)$/,Wn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,In=lt.fn.load,zn={},Xn={},Un="*/".concat("*");try{qn=G.href}catch(Vn){qn=J.createElement("a"),qn.href="",qn=qn.href}Hn=$n.exec(qn.toLowerCase())||[],lt.fn.load=function(e,t,n){if("string"!=typeof e&&In)return In.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=e.slice(s,e.length),e=e.slice(0,s)),lt.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&lt.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?lt("<div>").append(lt.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,t){lt[t]=function(e,n,r,i){return lt.isFunction(n)&&(i=i||r,r=n,n=void 0),lt.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qn,type:"GET",isLocal:Pn.test(Hn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,lt.ajaxSettings),t):q(lt.ajaxSettings,e)},ajaxPrefilter:L(zn),ajaxTransport:L(Xn),ajax:function(e,t){function n(e,t,n,r){var i,c,y,v,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,n&&(v=M(d,w,n)),e>=200&&300>e||304===e?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(lt.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(lt.etag[o]=x)),204===e?(i=!0,T="nocontent"):304===e?(i=!0,T="notmodified"):(i=_(d,v),T=i.state,c=i.data,y=i.error,i=!y)):(y=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,y]),w.statusCode(m),m=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:y]),g.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=lt.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?lt(f):lt.event,h=lt.Deferred(),g=lt.Callbacks("once memory"),m=d.statusCode||{},y={},v={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Bn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||qn)+"").replace(Fn,"").replace(Wn,Hn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=lt.trim(d.dataType||"*").toLowerCase().match(dt)||[""],null==d.crossDomain&&(r=$n.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Hn[1]&&r[2]===Hn[2]&&(r[3]||("http:"===r[1]?80:443))==(Hn[3]||("http:"===Hn[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=lt.param(d.data,d.traditional)),H(zn,d,t,w),2===b)return w;u=d.global,u&&0===lt.active++&&lt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(_n.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=On.test(o)?o.replace(On,"$1_="+Mn++):o+(_n.test(o)?"&":"?")+"_="+Mn++)),d.ifModified&&(lt.lastModified[o]&&w.setRequestHeader("If-Modified-Since",lt.lastModified[o]),lt.etag[o]&&w.setRequestHeader("If-None-Match",lt.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Un+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=H(Xn,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(y,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getScript:function(e,t){return lt.get(e,void 0,t,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=J.head||lt("head")[0]||J.documentElement;return{send:function(r,i){t=J.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Yn=[],Jn=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yn.pop()||lt.expando+"_"+Mn++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=e.jsonp!==!1&&(Jn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jn.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=lt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Jn,"$1"+r):e.jsonp!==!1&&(e.url+=(_n.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||lt.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){o=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Yn.push(r)),o&&lt.isFunction(i)&&i(o[0]),o=i=void 0}),"script"):void 0});var Gn,Qn,Kn=0,Zn=window.ActiveXObject&&function(){var e;for(e in Gn)Gn[e](void 0,!0)};lt.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&F()||O()}:F,Qn=lt.ajaxSettings.xhr(),lt.support.cors=!!Qn&&"withCredentials"in Qn,Qn=lt.support.ajax=!!Qn,Qn&&lt.ajaxTransport(function(e){if(!e.crossDomain||lt.support.cors){var t;return{send:function(n,r){var i,o,a=e.xhr();if(e.username?a.open(e.type,e.url,e.async,e.username,e.password):a.open(e.type,e.url,e.async),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(o in n)a.setRequestHeader(o,n[o])}catch(s){}a.send(e.hasContent&&e.data||null),t=function(n,o){var s,u,l,c;try{if(t&&(o||4===a.readyState))if(t=void 0,i&&(a.onreadystatechange=lt.noop,Zn&&delete Gn[i]),o)4!==a.readyState&&a.abort();else{c={},s=a.status,u=a.getAllResponseHeaders(),"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(d){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}}catch(f){o||r(-1,f)}c&&r(s,l,c,u)},e.async?4===a.readyState?setTimeout(t):(i=++Kn,Zn&&(Gn||(Gn={},lt(window).unload(Zn)),Gn[i]=t),a.onreadystatechange=t):t()},abort:function(){t&&t(void 0,!0)}}}});var er,tr,nr=/^(?:toggle|show|hide)$/,rr=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ir=/queueHooks$/,or=[$],ar={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=rr.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(lt.cssNumber[e]?"":"px"),"px"!==r&&s){s=lt.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,lt.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};lt.Animation=lt.extend(R,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],ar[n]=ar[n]||[],ar[n].unshift(t)},prefilter:function(e,t){t?or.unshift(e):or.push(e)}}),lt.Tween=I,I.prototype={constructor:I,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(lt.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(z(t,!0),e,r,i)}}),lt.fn.extend({fadeTo:function(e,t,n,r){return this.filter(N).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=lt.isEmptyObject(e),o=lt.speed(t,n,r),a=function(){var t=R(this,lt.extend({},e),o);a.finish=function(){t.stop(!0)},(i||lt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=lt.timers,a=lt._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ir.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=lt.timers,a=r?r.length:0;for(n.finish=!0,lt.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),lt.speed=function(e,t,n){var r=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return r.duration=lt.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in lt.fx.speeds?lt.fx.speeds[r.duration]:lt.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){lt.isFunction(r.old)&&r.old.call(this),r.queue&&lt.dequeue(this,r.queue)},r},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=I.prototype.init,lt.fx.tick=function(){var e,t=lt.timers,n=0;for(er=lt.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||lt.fx.stop(),er=void 0},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){tr||(tr=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(tr),tr=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return void 0===e?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,lt.contains(t,i)?(typeof i.getBoundingClientRect!==Y&&(r=i.getBoundingClientRect()),n=X(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},lt.offset={setOffset:function(e,t,n){var r=lt.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=lt(e),s=a.offset(),u=lt.css(e,"top"),l=lt.css(e,"left"),c=("absolute"===r||"fixed"===r)&&lt.inArray("auto",[u,l])>-1,d={},f={};c?(f=a.position(),i=f.top,o=f.left):(i=parseFloat(u)||0,o=parseFloat(l)||0),lt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===lt.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(r,"marginTop",!0),left:t.left-n.left-lt.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||J.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);lt.fn[e]=function(r){return lt.access(this,function(e,r,i){var o=X(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?lt(o).scrollLeft():i,n?i:lt(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,t){lt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){lt.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return lt.access(this,function(t,n,r){var i;return lt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?lt.css(t,n,a):lt.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),window.jQuery=window.$=lt,n.exports=lt});
;define("common:widget/oui/arale/position/1.0.1/position",["require","exports","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e,t){function o(e){e=u(e)||{},e.nodeType&&(e={element:e});var t=u(e.element)||d;if(1!==t.nodeType)throw new Error("posObject.element is invalid.");var o={element:t,x:e.x||0,y:e.y||0},n=t===d||"VIEWPORT"===t._id;return o.offset=function(){return p?{left:0,top:0}:n?{left:s(document).scrollLeft(),top:s(document).scrollTop()}:l(s(t)[0])},o.size=function(){var e=s(n?window:t);return{width:e.outerWidth(),height:e.outerHeight()}},o}function n(e){e.x=i(e.x,e,"width"),e.y=i(e.y,e,"height")}function i(e,t,o){if(e+="",e=e.replace(/px/gi,""),/\D/.test(e)&&(e=e.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==e.indexOf("%")&&(e=e.replace(/(\d+(?:\.\d+)?)%/gi,function(e,n){return t.size()[o]*(n/100)})),/[+\-*\/]/.test(e))try{e=new Function("return "+e)()}catch(n){throw new Error("Invalid position value: "+e)}return c(e)}function r(e){var t=e.offsetParent();t[0]===document.documentElement&&(t=s(document.body)),m&&t.css("zoom",1);var o;return o=t[0]===document.body&&"static"===t.css("position")?{top:0,left:0}:l(t[0]),o.top+=c(t.css("border-top-width")),o.left+=c(t.css("border-left-width")),o}function c(e){return parseFloat(e,10)||0}function u(e){return s(e)[0]}function l(e){var t=e.getBoundingClientRect(),o=document.documentElement;return{left:t.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||document.body.clientTop||0)}}var f=t,d={_id:"VIEWPORT",nodeType:1},s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),p=!1,a=(window.navigator.userAgent||"").toLowerCase(),m=-1!==a.indexOf("msie 6");f.pin=function(e,t){e=o(e),t=o(t);var i=s(e.element);"fixed"!==i.css("position")||m?(i.css("position","absolute"),p=!1):p=!0,n(e),n(t);var c=r(i),u=t.offset(),l=u.top+t.y-e.y-c.top,f=u.left+t.x-e.x-c.left;i.css({left:f,top:l})},f.center=function(e,t){f.pin({element:e,x:"50%",y:"50%"},{element:t,x:"50%",y:"50%"})},f.VIEWPORT=d});
;define("common:widget/oui/arale/shim/1.0.2/iframe-shim",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/position/1.0.1/position"],function(e,i,t){function o(e){this.target=s(e).eq(0)}function r(){}function n(e){var i={display:"none",border:"none",opacity:0,position:"absolute"},t=e.css("zIndex");return t&&t>0&&(i.zIndex=t-1),s("<iframe>",{src:"javascript:''",frameborder:0,css:i}).insertBefore(e)}var s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/arale/position/1.0.1/position"),u=-1!==(window.navigator.userAgent||"").toLowerCase().indexOf("msie 6");o.prototype.sync=function(){var e=this.target,i=this.iframe;if(!e.length)return this;var t=e.outerHeight(),o=e.outerWidth();return t&&o&&!e.is(":hidden")?(i||(i=this.iframe=n(e)),i.css({height:t,width:o}),a.pin(i[0],e[0]),i.show()):i&&i.hide(),this},o.prototype.destroy=function(){this.iframe&&(this.iframe.remove(),delete this.iframe),delete this.target},u?t.exports=o:(r.prototype.sync=function(){return this},r.prototype.destroy=r,t.exports=r)});
;define("common:widget/oui/arale/class/1.1.0/class",function(t,n,r){function o(t){return this instanceof o||!f(t)?void 0:i(t)}function e(t){var n,r;for(n in t)r=t[n],o.Mutators.hasOwnProperty(n)?o.Mutators[n].call(this,r):this.prototype[n]=r}function i(t){return t.extend=o.extend,t.implement=e,t}function s(){}function c(t,n,r){for(var o in n)if(n.hasOwnProperty(o)){if(r&&-1===l(r,o))continue;"prototype"!==o&&(t[o]=n[o])}}r.exports=o,o.create=function(t,n){function r(){t.apply(this,arguments),this.constructor===r&&this.initialize&&this.initialize.apply(this,arguments)}return f(t)||(n=t,t=null),n||(n={}),t||(t=n.Extends||o),n.Extends=t,t!==o&&c(r,t,t.StaticsWhiteList),e.call(r,n),i(r)},o.extend=function(t){return t||(t={}),t.Extends=this,o.create(t)},o.Mutators={Extends:function(t){var n=this.prototype,r=u(t.prototype);c(r,n),r.constructor=this,this.prototype=r,this.superclass=t.prototype},Implements:function(t){p(t)||(t=[t]);for(var n,r=this.prototype;n=t.shift();)c(r,n.prototype||n)},Statics:function(t){c(this,t)}};var u=Object.__proto__?function(t){return{__proto__:t}}:function(t){return s.prototype=t,new s},a=Object.prototype.toString,p=Array.isArray||function(t){return"[object Array]"===a.call(t)},f=function(t){return"[object Function]"===a.call(t)},l=Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){for(var r=0,o=t.length;o>r;r++)if(t[r]===n)return r;return-1}});
;define("common:widget/oui/arale/events/1.1.0/events",function(){function t(){}function e(t,e,r,s){var n;if(t)for(var i=0,o=t.length;o>i;i+=2)n=t[i].apply(t[i+1]||r,e),n===!1&&s.status&&(s.status=!1)}var r=/\s+/;t.prototype.on=function(t,e,s){var n,i,o;if(!e)return this;for(n=this.__events||(this.__events={}),t=t.split(r);i=t.shift();)o=n[i]||(n[i]=[]),o.push(e,s);return this},t.prototype.off=function(t,e,n){var i,o,f,u;if(!(i=this.__events))return this;if(!(t||e||n))return delete this.__events,this;for(t=t?t.split(r):s(i);o=t.shift();)if(f=i[o])if(e||n)for(u=f.length-2;u>=0;u-=2)e&&f[u]!==e||n&&f[u+1]!==n||f.splice(u,2);else delete i[o];return this},t.prototype.trigger=function(t){var s,n,i,o,f,u,a=[],h={status:!0};if(!(s=this.__events))return this;for(t=t.split(r),f=1,u=arguments.length;u>f;f++)a[f-1]=arguments[f];for(;n=t.shift();)(i=s.all)&&(i=i.slice()),(o=s[n])&&(o=o.slice()),e(o,a,this,h),e(i,[n].concat(a),this,h);return h.status},t.mixTo=function(e){e=e.prototype||e;var r=t.prototype;for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s])};var s=Object.keys;return s||(s=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),t});
;define("common:widget/oui/arale/base/1.1.1/aspect",function(t,r){function i(t,r,i,s){for(var o,c,f=r.split(a);o=f.shift();)c=e(this,o),c.__isAspected||n.call(this,o),this.on(t+":"+o,i,s);return this}function e(t,r){var i=t[r];if(!i)throw new Error("Invalid method name: "+r);return i}function n(t){var r=this[t];this[t]=function(){var i=Array.prototype.slice.call(arguments),e=["before:"+t].concat(i);if(this.trigger.apply(this,e)!==!1){var n=r.apply(this,arguments),a=["after:"+t,n].concat(i);return this.trigger.apply(this,a),n}},this[t].__isAspected=!0}r.before=function(t,r,e){return i.call(this,"before",t,r,e)},r.after=function(t,r,e){return i.call(this,"after",t,r,e)};var a=/\s+/});
;define("common:widget/oui/arale/base/1.1.1/attribute",function(t,r){function e(t){return"[object String]"===w.call(t)}function n(t){return"[object Function]"===w.call(t)}function i(t){return null!=t&&t==t.window}function o(t){if(!t||"[object Object]"!==w.call(t)||t.nodeType||i(t))return!1;try{if(t.constructor&&!A.call(t,"constructor")&&!A.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}var e;if(j)for(e in t)return A.call(t,e);for(e in t);return void 0===e||A.call(t,e)}function a(t){if(!t||"[object Object]"!==w.call(t)||t.nodeType||i(t)||!t.hasOwnProperty)return!1;for(var r in t)if(t.hasOwnProperty(r))return!1;return!0}function c(t,r){var e;for(e in r)r.hasOwnProperty(e)&&(t[e]=u(r[e],t[e]));return t}function u(t,r){return P(t)?t=t.slice():o(t)&&(o(r)||(r={}),t=c(r,t)),t}function s(t,r,e){for(var n=[],i=r.constructor.prototype;i;)i.hasOwnProperty("attrs")||(i.attrs={}),l(e,i.attrs,i),a(i.attrs)||n.unshift(i.attrs),i=i.constructor.superclass;for(var o=0,c=n.length;c>o;o++)y(t,p(n[o]))}function f(t,r){y(t,p(r,!0),!0)}function l(t,r,e,n){for(var i=0,o=t.length;o>i;i++){var a=t[i];e.hasOwnProperty(a)&&(r[a]=n?r.get(a):e[a])}}function h(t,r){for(var e in r)if(r.hasOwnProperty(e)){var i,o=r[e].value;n(o)&&(i=e.match(m))&&(t[i[1]](v(i[2]),o),delete r[e])}}function v(t){var r=t.match(S),e=r[1]?"change:":"";return e+=r[2].toLowerCase()+r[3]}function g(t,r,e){var n={silent:!0};t.__initializingAttrs=!0;for(var i in e)e.hasOwnProperty(i)&&r[i].setter&&t.set(i,e[i],n);delete t.__initializingAttrs}function p(t,r){var e={};for(var n in t){var i=t[n];e[n]=!r&&o(i)&&b(i,x)?i:{value:i}}return e}function y(t,r,e){var n,i,o;for(n in r)if(r.hasOwnProperty(n)){if(i=r[n],o=t[n],o||(o=t[n]={}),void 0!==i.value&&(o.value=u(i.value,o.value)),e)continue;for(var a in C){var c=C[a];void 0!==i[c]&&(o[c]=i[c])}}return t}function b(t,r){for(var e=0,n=r.length;n>e;e++)if(t.hasOwnProperty(r[e]))return!0;return!1}function O(t){return null==t||(e(t)||P(t))&&0===t.length||a(t)}function d(t,r){if(t===r)return!0;if(O(t)&&O(r))return!0;var e=w.call(t);if(e!=w.call(r))return!1;switch(e){case"[object String]":return t==String(r);case"[object Number]":return t!=+t?r!=+r:0==t?1/t==1/r:t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object RegExp]":return t.source==r.source&&t.global==r.global&&t.multiline==r.multiline&&t.ignoreCase==r.ignoreCase;case"[object Array]":var n=t.toString(),i=r.toString();return-1===n.indexOf("[object")&&-1===i.indexOf("[object")&&n===i}if("object"!=typeof t||"object"!=typeof r)return!1;if(o(t)&&o(r)){if(!d(_(t),_(r)))return!1;for(var a in t)if(t[a]!==r[a])return!1;return!0}return!1}r.initAttrs=function(t){var r=this.attrs={},e=this.propsInAttrs||[];s(r,this,e),t&&f(r,t),g(this,r,t),h(this,r),l(e,this,r,!0)},r.get=function(t){var r=this.attrs[t]||{},e=r.value;return r.getter?r.getter.call(this,e,t):e},r.set=function(t,r,n){var i={};e(t)?i[t]=r:(i=t,n=r),n||(n={});var a=n.silent,u=n.override,s=this.attrs,f=this.__changedAttrs||(this.__changedAttrs={});for(t in i)if(i.hasOwnProperty(t)){var l=s[t]||(s[t]={});if(r=i[t],l.readOnly)throw new Error("This attribute is readOnly: "+t);l.setter&&(r=l.setter.call(this,r,t));var h=this.get(t);!u&&o(h)&&o(r)&&(r=c(c({},h),r)),s[t].value=r,this.__initializingAttrs||d(h,r)||(a?f[t]=[r,h]:this.trigger("change:"+t,r,h,t))}return this},r.change=function(){var t=this.__changedAttrs;if(t){for(var r in t)if(t.hasOwnProperty(r)){var e=t[r];this.trigger("change:"+r,e[0],e[1],r)}delete this.__changedAttrs}return this},r._isPlainObject=o;var j,w=Object.prototype.toString,A=Object.prototype.hasOwnProperty;!function(){function t(){this.x=1}var r=[];t.prototype={valueOf:1,y:1};for(var e in new t)r.push(e);j="x"!==r[0]}();var P=Array.isArray||function(t){return"[object Array]"===w.call(t)},_=Object.keys;_||(_=function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(e);return r});var m=/^(on|before|after)([A-Z].*)$/,S=/^(Change)?([A-Z])(.*)/,x=["value","getter","setter","readOnly"],C=["setter","getter","readOnly"]});
;define("common:widget/oui/arale/base/1.1.1/base",["require","exports","module","common:widget/oui/arale/class/1.1.0/class","common:widget/oui/arale/events/1.1.0/events","common:widget/oui/arale/base/1.1.1/aspect","common:widget/oui/arale/base/1.1.1/attribute"],function(e,t,i){function o(e,t){for(var i in t)if(t.hasOwnProperty(i)){var o="_onChange"+a(i);e[o]&&e.on("change:"+i,e[o])}}function a(e){return e.charAt(0).toUpperCase()+e.substring(1)}var s=e("common:widget/oui/arale/class/1.1.0/class"),n=e("common:widget/oui/arale/events/1.1.0/events"),r=e("common:widget/oui/arale/base/1.1.1/aspect"),c=e("common:widget/oui/arale/base/1.1.1/attribute");i.exports=s.create({Implements:[n,r,c],initialize:function(e){this.initAttrs(e),o(this,this.attrs)},destroy:function(){this.off();for(var e in this)this.hasOwnProperty(e)&&delete this[e];this.destroy=function(){}}})});
;define("common:widget/oui/arale/widget/1.1.1/daparser",["require","exports","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e,r){function t(e){return e.toLowerCase().replace(o,function(e,r){return(r+"").toUpperCase()})}function a(e){for(var r in e)if(e.hasOwnProperty(r)){var t=e[r];if("string"!=typeof t)continue;s.test(t)?(t=t.replace(/'/g,'"'),e[r]=a(u(t))):e[r]=n(t)}return e}function n(e){if("false"===e.toLowerCase())e=!1;else if("true"===e.toLowerCase())e=!0;else if(/\d/.test(e)&&/[^a-z]/i.test(e)){var r=parseFloat(e);r+""===e&&(e=r)}return e}var i=e("common:widget/oui/lib/jquery/1.9.1/jquery");r.parseElement=function(e,r){e=i(e)[0];var n={};if(e.dataset)n=i.extend({},e.dataset);else for(var o=e.attributes,s=0,u=o.length;u>s;s++){var f=o[s],l=f.name;0===l.indexOf("data-")&&(l=t(l.substring(5)),n[l]=f.value)}return r===!0?n:a(n)};var o=/-([a-z])/g,s=/^\s*[\[{].*[\]}]\s*$/,u=this.JSON?JSON.parse:i.parseJSON});
;define("common:widget/oui/arale/widget/1.1.1/auto-render",["require","exports","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e,t){var a=e("common:widget/oui/lib/jquery/1.9.1/jquery"),r="data-widget-auto-rendered";t.autoRender=function(e){return new this(e).render()},t.autoRenderAll=function(e,n){"function"==typeof e&&(n=e,e=null),e=a(e||document.body);var o=[],i=[];e.find("[data-widget]").each(function(e,a){t.isDataApiOff(a)||(o.push(a.getAttribute("data-widget").toLowerCase()),i.push(a))}),o.length&&seajs.use(o,function(){for(var e=0;e<arguments.length;e++){var t=arguments[e],o=a(i[e]);if(!o.attr(r)){var u={initElement:o,renderType:"auto"},d=o.attr("data-widget-role");u[d?d:"element"]=o,t.autoRender&&t.autoRender(u),o.attr(r,"true")}}n&&n()})};var n="off"===a(document.body).attr("data-api");t.isDataApiOff=function(e){var t=a(e).attr("data-api");return"off"===t||"on"!==t&&n}});
;define("common:widget/oui/arale/widget/1.1.1/widget",["require","exports","module","common:widget/oui/arale/base/1.1.1/base","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/widget/1.1.1/daparser","common:widget/oui/arale/widget/1.1.1/auto-render"],function(e,t,n){function i(){return"widget-"+A++}function r(e){return"[object String]"===y.call(e)}function s(e){return"[object Function]"===y.call(e)}function o(e){return b(document.documentElement,e)}function a(e){return e.charAt(0).toUpperCase()+e.substring(1)}function l(e){return s(e.events)&&(e.events=e.events()),e.events}function u(e,t){var n=e.match(R),i=n[1]+g+t.cid,r=n[2]||void 0;return r&&r.indexOf("{{")>-1&&(r=d(r,t)),{type:i,selector:r}}function d(e,t){return e.replace(x,function(e,n){for(var i,s=n.split("."),o=t;i=s.shift();)o=o===t.attrs?t.get(i):o[i];return r(o)?o:C})}function m(e){return null==e||void 0===e}var h=e("common:widget/oui/arale/base/1.1.1/base"),c=e("common:widget/oui/lib/jquery/1.9.1/jquery"),f=e("common:widget/oui/arale/widget/1.1.1/daparser"),p=e("common:widget/oui/arale/widget/1.1.1/auto-render"),g=".delegate-events-",v="_onRender",w="data-widget-cid",E={},_=h.extend({propsInAttrs:["initElement","element","events"],element:null,events:null,attrs:{id:null,className:null,style:null,template:"<div></div>",model:null,parentNode:document.body},initialize:function(e){this.cid=i();var t=this._parseDataAttrsConfig(e);_.superclass.initialize.call(this,e?c.extend(t,e):t),this.parseElement(),this.initProps(),this.delegateEvents(),this.setup(),this._stamp(),this._isTemplate=!(e&&e.element)},_parseDataAttrsConfig:function(e){var t,n;return e&&(t=c(e.initElement?e.initElement:e.element)),t&&t[0]&&!p.isDataApiOff(t)&&(n=f.parseElement(t)),n},parseElement:function(){var e=this.element;if(e?this.element=c(e):this.get("template")&&this.parseElementFromTemplate(),!this.element||!this.element[0])throw new Error("element is invalid")},parseElementFromTemplate:function(){this.element=c(this.get("template"))},initProps:function(){},delegateEvents:function(e,t,n){if(0===arguments.length?(t=l(this),e=this.element):1===arguments.length?(t=e,e=this.element):2===arguments.length?(n=t,t=e,e=this.element):(e||(e=this.element),this._delegateElements||(this._delegateElements=[]),this._delegateElements.push(c(e))),r(t)&&s(n)){var i={};i[t]=n,t=i}for(var o in t)if(t.hasOwnProperty(o)){var a=u(o,this),d=a.type,m=a.selector;!function(t,n){var i=function(e){s(t)?t.call(n,e):n[t](e)};m?c(e).on(d,m,i):c(e).on(d,i)}(t[o],this)}return this},undelegateEvents:function(e,t){if(t||(t=e,e=null),0===arguments.length){var n=g+this.cid;if(this.element&&this.element.off(n),this._delegateElements)for(var i in this._delegateElements)this._delegateElements.hasOwnProperty(i)&&this._delegateElements[i].off(n)}else{var r=u(t,this);e?c(e).off(r.type,r.selector):this.element&&this.element.off(r.type,r.selector)}return this},setup:function(){},render:function(){this.rendered||(this._renderAndBindAttrs(),this.rendered=!0);var e=this.get("parentNode");if(e&&!o(this.element[0])){var t=this.constructor.outerBoxClass;if(t){var n=this._outerBox=c("<div></div>").addClass(t);n.append(this.element).appendTo(e)}else this.element.appendTo(e)}return this},_renderAndBindAttrs:function(){var e=this,t=e.attrs;for(var n in t)if(t.hasOwnProperty(n)){var i=v+a(n);if(this[i]){var r=this.get(n);m(r)||this[i](r,void 0,n),function(t){e.on("change:"+n,function(n,i,r){e[t](n,i,r)})}(i)}}},_onRenderId:function(e){this.element.attr("id",e)},_onRenderClassName:function(e){this.element.addClass(e)},_onRenderStyle:function(e){this.element.css(e)},_stamp:function(){var e=this.cid;(this.initElement||this.element).attr(w,e),E[e]=this},$:function(e){return this.element.find(e)},destroy:function(){this.undelegateEvents(),delete E[this.cid],this.element&&this._isTemplate&&(this.element.off(),this._outerBox?this._outerBox.remove():this.element.remove()),this.element=null,_.superclass.destroy.call(this)}});c(window).unload(function(){for(var e in E)E[e].destroy()}),_.query=function(e){var t,n=c(e).eq(0);return n&&(t=n.attr(w)),E[t]},_.autoRender=p.autoRender,_.autoRenderAll=p.autoRenderAll,_.StaticsWhiteList=["autoRender"],n.exports=_;var y=Object.prototype.toString,A=0,b=c.contains||function(e,t){return!!(16&e.compareDocumentPosition(t))},R=/^(\S+)\s*(.*)$/,x=/{{([^}]+)}}/g,C="INVALID_SELECTOR"});
;define("common:widget/oui/arale/overlay/1.1.2/overlay",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/position/1.0.1/position","common:widget/oui/arale/shim/1.0.2/iframe-shim","common:widget/oui/arale/widget/1.1.1/widget"],function(e,i,t){function n(e){return r.contains(document.documentElement,e)}function s(e){r(u.blurOverlays).each(function(i,t){if(t&&t.get("visible")){for(var n=0;n<t._relativeElements.length;n++){var s=r(t._relativeElements[n])[0];if(s===e.target||r.contains(s,e.target))return}t.hide()}})}function o(e,i){for(var t=0;t<i.length;t++)if(e===i[t])return i.splice(t,1),i}var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),l=e("common:widget/oui/arale/position/1.0.1/position"),h=e("common:widget/oui/arale/shim/1.0.2/iframe-shim"),a=e("common:widget/oui/arale/widget/1.1.1/widget"),u=a.extend({attrs:{width:null,height:null,zIndex:99,visible:!1,align:{selfXY:[0,0],baseElement:l.VIEWPORT,baseXY:[0,0]},parentNode:document.body},show:function(){return this.rendered||this.render(),this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},setup:function(){var e=this;this._setupShim(),this._setupResize(),this.after("show",function(){e._setPosition()})},destroy:function(){return o(this,u.allOverlays),o(this,u.blurOverlays),u.superclass.destroy.call(this)},_setPosition:function(e){if(n(this.element[0])&&(e||(e=this.get("align")),e)){var i="none"===this.element.css("display");return i&&this.element.css({visibility:"hidden",display:"block"}),l.pin({element:this.element,x:e.selfXY[0],y:e.selfXY[1]},{element:e.baseElement,x:e.baseXY[0],y:e.baseXY[1]}),i&&this.element.css({visibility:"",display:"none"}),this}},_setupShim:function(){var e=new h(this.element);this.after("hide _setPosition",e.sync,e);var i=["width","height"];for(var t in i)i.hasOwnProperty(t)&&this.on("change:"+t,e.sync,e);this.before("destroy",e.destroy,e)},_setupResize:function(){u.allOverlays.push(this)},_blurHide:function(e){e=r.makeArray(e),e.push(this.element),this._relativeElements=e,u.blurOverlays.push(this)},_onRenderWidth:function(e){this.element.css("width",e)},_onRenderHeight:function(e){this.element.css("height",e)},_onRenderZIndex:function(e){this.element.css("zIndex",e)},_onRenderAlign:function(e){this._setPosition(e)},_onRenderVisible:function(e){this.element[e?"show":"hide"]()}});u.blurOverlays=[],r(document).on("click",function(e){s(e)});var d,c=r(window).width(),m=r(window).height();u.allOverlays=[],r(window).resize(function(){var e=r(window).width(),i=r(window).height();(c!==e||m!==i)&&(d&&clearTimeout(d),d=setTimeout(function(){r(u.allOverlays).each(function(e,i){i&&i.get("visible")&&i._setPosition()})},80)),c=e,m=i}),t.exports=u});
;define("common:widget/oui/arale/overlay/1.1.2/mask",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/overlay/1.1.2/overlay"],function(e,o,t){var i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/arale/overlay/1.1.2/overlay"),r=(window.navigator.userAgent||"").toLowerCase(),s=-1!==r.indexOf("msie 6"),u=i(document.body),a=i(document),l=n.extend({attrs:{width:s?a.outerWidth(!0):"100%",height:s?a.outerHeight(!0):"100%",className:"ui-mask",opacity:.2,backgroundColor:"#000",style:{position:s?"absolute":"fixed",top:0,left:0},align:{baseElement:s?u:void 0}},show:function(){return s&&(this.set("width",a.outerWidth(!0)),this.set("height",a.outerHeight(!0))),l.superclass.show.call(this)},setup:function(){this._setupShim()},_onRenderBackgroundColor:function(e){this.element.css("backgroundColor",e)},_onRenderOpacity:function(e){this.element.css("opacity",e)}});t.exports=new l});
;define("common:widget/oui/lib/handlebars/1.0.0/handlebars",function(t,e,s){var i={};!function(t,e){t.VERSION="1.0.0",t.COMPILER_REVISION=4,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},t.helpers={},t.partials={};var s=Object.prototype.toString,i="[object Function]",n="[object Object]";t.registerHelper=function(e,i,r){if(s.call(e)===n){if(r||i)throw new t.Exception("Arg not supported with multiple helpers");t.Utils.extend(this.helpers,e)}else r&&(i.not=r),this.helpers[e]=i},t.registerPartial=function(e,i){s.call(e)===n?t.Utils.extend(this.partials,e):this.partials[e]=i},t.registerHelper("helperMissing",function(t){if(2===arguments.length)return e;throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var r=n.inverse||function(){},o=n.fn,a=s.call(e);return a===i&&(e=e.call(this)),e===!0?o(this):e===!1||null==e?r(this):"[object Array]"===a?e.length>0?t.helpers.each(e,n):r(this):o(e)}),t.K=function(){},t.createFrame=Object.create||function(e){t.K.prototype=e;var s=new t.K;return t.K.prototype=null,s},t.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(e,s){if(t.logger.level<=e){var i=t.logger.methodMap[e];"undefined"!=typeof console&&console[i]&&console[i].call(console,s)}}},t.log=function(e,s){t.logger.log(e,s)},t.registerHelper("each",function(e,n){var r,o=n.fn,a=n.inverse,h=0,l="",c=s.call(e);if(c===i&&(e=e.call(this)),n.data&&(r=t.createFrame(n.data)),e&&"object"==typeof e)if(e instanceof Array)for(var p=e.length;p>h;h++)r&&(r.index=h),l+=o(e[h],{data:r});else for(var u in e)e.hasOwnProperty(u)&&(r&&(r.key=u),l+=o(e[u],{data:r}),h++);return 0===h&&(l=a(this)),l}),t.registerHelper("if",function(e,n){var r=s.call(e);return r===i&&(e=e.call(this)),!e||t.Utils.isEmpty(e)?n.inverse(this):n.fn(this)}),t.registerHelper("unless",function(e,s){return t.helpers["if"].call(this,e,{fn:s.inverse,inverse:s.fn})}),t.registerHelper("with",function(e,n){var r=s.call(e);return r===i&&(e=e.call(this)),t.Utils.isEmpty(e)?void 0:n.fn(e)}),t.registerHelper("log",function(e,s){var i=s.data&&null!=s.data.level?parseInt(s.data.level,10):1;t.log(i,e)});var r=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(t,e,s,i,n,r){var o=r.length-1;switch(n){case 1:return r[o-1];case 2:this.$=new i.ProgramNode([],r[o]);break;case 3:this.$=new i.ProgramNode(r[o-2],r[o]);break;case 4:this.$=new i.ProgramNode(r[o-1],[]);break;case 5:this.$=new i.ProgramNode(r[o]);break;case 6:this.$=new i.ProgramNode([],[]);break;case 7:this.$=new i.ProgramNode([]);break;case 8:this.$=[r[o]];break;case 9:r[o-1].push(r[o]),this.$=r[o-1];break;case 10:this.$=new i.BlockNode(r[o-2],r[o-1].inverse,r[o-1],r[o]);break;case 11:this.$=new i.BlockNode(r[o-2],r[o-1],r[o-1].inverse,r[o]);break;case 12:this.$=r[o];break;case 13:this.$=r[o];break;case 14:this.$=new i.ContentNode(r[o]);break;case 15:this.$=new i.CommentNode(r[o]);break;case 16:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1]);break;case 17:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1]);break;case 18:this.$=r[o-1];break;case 19:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1],"&"===r[o-2][2]);break;case 20:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1],!0);break;case 21:this.$=new i.PartialNode(r[o-1]);break;case 22:this.$=new i.PartialNode(r[o-2],r[o-1]);break;case 23:break;case 24:this.$=[[r[o-2]].concat(r[o-1]),r[o]];break;case 25:this.$=[[r[o-1]].concat(r[o]),null];break;case 26:this.$=[[r[o-1]],r[o]];break;case 27:this.$=[[r[o]],null];break;case 28:this.$=[[r[o]],null];break;case 29:r[o-1].push(r[o]),this.$=r[o-1];break;case 30:this.$=[r[o]];break;case 31:this.$=r[o];break;case 32:this.$=new i.StringNode(r[o]);break;case 33:this.$=new i.IntegerNode(r[o]);break;case 34:this.$=new i.BooleanNode(r[o]);break;case 35:this.$=r[o];break;case 36:this.$=new i.HashNode(r[o]);break;case 37:r[o-1].push(r[o]),this.$=r[o-1];break;case 38:this.$=[r[o]];break;case 39:this.$=[r[o-2],r[o]];break;case 40:this.$=[r[o-2],new i.StringNode(r[o])];break;case 41:this.$=[r[o-2],new i.IntegerNode(r[o])];break;case 42:this.$=[r[o-2],new i.BooleanNode(r[o])];break;case 43:this.$=[r[o-2],r[o]];break;case 44:this.$=new i.PartialNameNode(r[o]);break;case 45:this.$=new i.PartialNameNode(new i.StringNode(r[o]));break;case 46:this.$=new i.PartialNameNode(new i.IntegerNode(r[o]));break;case 47:this.$=new i.DataNode(r[o]);break;case 48:this.$=new i.IdNode(r[o]);break;case 49:r[o-2].push({part:r[o],separator:r[o-1]}),this.$=r[o-2];break;case 50:this.$=[{part:r[o]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=s.lexer.lex()||1,"number"!=typeof t&&(t=s.symbols_[t]||t),t}var s=this,i=[0],n=[null],r=[],o=this.table,a="",h=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;r.push(p);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,g,d,m,y,v,k,S,x,b={};;){if(d=i[i.length-1],this.defaultActions[d]?m=this.defaultActions[d]:((null===f||"undefined"==typeof f)&&(f=e()),m=o[d]&&o[d][f]),"undefined"==typeof m||!m.length||!m[0]){var E="";if(!c){x=[];for(v in o[d])this.terminals_[v]&&v>2&&x.push("'"+this.terminals_[v]+"'");E=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(E,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:p,expected:x})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+f);switch(m[0]){case 1:i.push(f),n.push(this.lexer.yytext),r.push(this.lexer.yylloc),i.push(m[1]),f=null,g?(f=g,g=null):(l=this.lexer.yyleng,a=this.lexer.yytext,h=this.lexer.yylineno,p=this.lexer.yylloc,c>0&&c--);break;case 2:if(k=this.productions_[m[1]][1],b.$=n[n.length-k],b._$={first_line:r[r.length-(k||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(k||1)].first_column,last_column:r[r.length-1].last_column},u&&(b._$.range=[r[r.length-(k||1)].range[0],r[r.length-1].range[1]]),y=this.performAction.call(b,a,l,h,this.yy,m[1],n,r),"undefined"!=typeof y)return y;k&&(i=i.slice(0,-1*k*2),n=n.slice(0,-1*k),r=r.slice(0,-1*k)),i.push(this.productions_[m[1]][0]),n.push(b.$),r.push(b._$),S=o[i[i.length-2]][i[i.length-1]],i.push(S);break;case 3:return!0}}return!0}},s=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,s,i,n;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length&&(s=this._input.match(this.rules[r[o]]),!s||e&&!(s[0].length>e[0].length)||(e=s,i=o,this.options.flex));o++);return e?(n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,s,i){switch(s){case 0:return e.yytext="\\",14;case 1:if("\\"!==e.yytext.slice(-1)&&this.begin("mu"),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1),this.begin("emu")),e.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==e.yytext.slice(-1)&&this.popState(),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1)),14;case 4:return e.yytext=e.yytext.substr(0,e.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return e.yytext=e.yytext.substr(3,e.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\"/g,'"'),31;case 23:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return e.yytext=e.yytext.substr(1,e.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},t.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},t}();return e.lexer=s,t.prototype=e,e.Parser=t,new t}();t.Parser=r,t.parse=function(e){return e.constructor===t.AST.ProgramNode?e:(t.Parser.yy=t.AST,t.Parser.parse(e))},t.AST={},t.AST.ProgramNode=function(e,s){this.type="program",this.statements=e,s&&(this.inverse=new t.AST.ProgramNode(s))},t.AST.MustacheNode=function(t,e,s){this.type="mustache",this.escaped=!s,this.hash=e;var i=this.id=t[0],n=this.params=t.slice(1),r=this.eligibleHelper=i.isSimple;this.isHelper=r&&(n.length||e)},t.AST.PartialNode=function(t,e){this.type="partial",this.partialName=t,this.context=e},t.AST.BlockNode=function(e,s,i,n){var r=function(e,s){if(e.original!==s.original)throw new t.Exception(e.original+" doesn't match "+s.original)};r(e.id,n),this.type="block",this.mustache=e,this.program=s,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},t.AST.ContentNode=function(t){this.type="content",this.string=t},t.AST.HashNode=function(t){this.type="hash",this.pairs=t},t.AST.IdNode=function(e){this.type="ID";for(var s="",i=[],n=0,r=0,o=e.length;o>r;r++){var a=e[r].part;if(s+=(e[r].separator||"")+a,".."===a||"."===a||"this"===a){if(i.length>0)throw new t.Exception("Invalid path: "+s);".."===a?n++:this.isScoped=!0}else i.push(a)}this.original=s,this.parts=i,this.string=i.join("."),this.depth=n,this.isSimple=1===e.length&&!this.isScoped&&0===n,this.stringModeValue=this.string},t.AST.PartialNameNode=function(t){this.type="PARTIAL_NAME",this.name=t.original},t.AST.DataNode=function(t){this.type="DATA",this.id=t},t.AST.StringNode=function(t){this.type="STRING",this.original=this.string=this.stringModeValue=t},t.AST.IntegerNode=function(t){this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},t.AST.BooleanNode=function(t){this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},t.AST.CommentNode=function(t){this.type="comment",this.comment=t};var o=["description","fileName","lineNumber","message","name","number","stack"];t.Exception=function(){for(var t=Error.prototype.constructor.apply(this,arguments),e=0;e<o.length;e++)this[o[e]]=t[o[e]]},t.Exception.prototype=new Error,t.SafeString=function(t){this.string=t},t.SafeString.prototype.toString=function(){return this.string.toString()};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},h=/[&<>"'`]/g,l=/[&<>"'`]/,c=function(t){return a[t]||"&amp;"};t.Utils={extend:function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])},escapeExpression:function(e){return e instanceof t.SafeString?e.toString():null==e||e===!1?"":(e=e.toString(),l.test(e)?e.replace(h,c):e)},isEmpty:function(t){return t||0===t?"[object Array]"===s.call(t)&&0===t.length?!0:!1:!0}};var p=t.Compiler=function(){},u=t.JavaScriptCompiler=function(){};p.prototype={compiler:p,disassemble:function(){for(var t,e,s,i=this.opcodes,n=[],r=0,o=i.length;o>r;r++)if(t=i[r],"DECLARE"===t.opcode)n.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var a=0;a<t.args.length;a++)s=t.args[a],"string"==typeof s&&(s='"'+s.replace("\n","\\n")+'"'),e.push(s);n.push(t.opcode+" "+e.join(" "))}return n.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var s=0;e>s;s++){var i=this.opcodes[s],n=t.opcodes[s];if(i.opcode!==n.opcode||i.args.length!==n.args.length)return!1;for(var r=0;r<i.args.length;r++)if(i.args[r]!==n.args[r])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(s=0;e>s;s++)if(!this.children[s].equals(t.children[s]))return!1;return!0},guid:0,compile:function(t,e){this.children=[],this.depths={list:[]},this.options=e;var s=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},s)for(var i in s)this.options.knownHelpers[i]=s[i];return this.program(t)},accept:function(t){return this[t.type](t)},program:function(t){var e,s=t.statements;this.opcodes=[];for(var i=0,n=s.length;n>i;i++)e=s[i],this[e.type](e);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,s=(new this.compiler).compile(t,this.options),i=this.guid++;this.usePartial=this.usePartial||s.usePartial,this.children[i]=s;for(var n=0,r=s.depths.list.length;r>n;n++)e=s.depths.list[n],2>e||this.addDepth(e-1);return i},block:function(t){var e=t.mustache,s=t.program,i=t.inverse;s&&(s=this.compileProgram(s)),i&&(i=this.compileProgram(i));var n=this.classifyMustache(e);"helper"===n?this.helperMustache(e,s,i):"simple"===n?(this.simpleMustache(e),this.opcode("pushProgram",s),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(e,s,i),this.opcode("pushProgram",s),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,s,i=t.pairs;this.opcode("pushHash");for(var n=0,r=i.length;r>n;n++)e=i[n],s=e[1],this.options.stringParams?(s.depth&&this.addDepth(s.depth),this.opcode("getContext",s.depth||0),this.opcode("pushStringParam",s.stringModeValue,s.type)):this.accept(s),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){var e=this.options,s=this.classifyMustache(t);"simple"===s?this.simpleMustache(t):"helper"===s?this.helperMustache(t):this.ambiguousMustache(t),this.opcode(t.escaped&&!e.noEscape?"appendEscaped":"append")},ambiguousMustache:function(t,e,s){var i=t.id,n=i.parts[0],r=null!=e||null!=s;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",s),this.opcode("invokeAmbiguous",n,r)},simpleMustache:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(t,e,s){var i=this.setupFullMustacheParams(t,e,s),n=t.id.parts[0];if(this.options.knownHelpers[n])this.opcode("invokeKnownHelper",i.length,n);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+n);this.opcode("invokeHelper",i.length,n)}},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var s=1,i=t.parts.length;i>s;s++)this.opcode("lookup",t.parts[s])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new t.Exception("Scoped data references are not supported: "+e.original);this.opcode("lookupData");for(var s=e.id.parts,i=0,n=s.length;n>i;i++)this.opcode("lookup",s[i])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){if(isNaN(t))throw new Error("EWOT");0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifyMustache:function(t){var e=t.isHelper,s=t.eligibleHelper,i=this.options;if(s&&!e){var n=t.id.parts[0];i.knownHelpers[n]?e=!0:i.knownHelpersOnly&&(s=!1)}return e?"helper":s?"ambiguous":"simple"},pushParams:function(t){for(var e,s=t.length;s--;)e=t[s],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type)):this[e.type](e)},setupMustacheParams:function(t){var e=t.params;return this.pushParams(e),t.hash?this.hash(t.hash):this.opcode("emptyHash"),e},setupFullMustacheParams:function(t,e,s){var i=t.params;return this.pushParams(i),this.opcode("pushProgram",e),this.opcode("pushProgram",s),t.hash?this.hash(t.hash):this.opcode("emptyHash"),i}};var f=function(t){this.value=t};u.prototype={nameLookup:function(t,e){return/^[0-9]+$/.test(e)?t+"["+e+"]":u.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,s,i,n){this.environment=e,this.options=s||{},t.log(t.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(e,s);var r,o=e.opcodes;for(this.i=0,y=o.length;this.i<y;this.i++)r=o[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args);return this.createFunctionContext(n)},nextOpcode:function(){var t=this.environment.opcodes;return t[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,s="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(s=s+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(s+=" data = data || {};"),t.push(s)}t.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(e){var s=this.stackVars.concat(this.registers.list);if(s.length>0&&(this.source[1]=this.source[1]+", "+s.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var n=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,o=this.environment.depths.list.length;o>r;r++)n.push("depth"+this.environment.depths.list[r]);var a=this.mergeSource();if(!this.isChild){var h=t.COMPILER_REVISION,l=t.REVISION_CHANGES[h];a="this.compilerInfo = ["+h+",'"+l+"'];\n"+a}if(e)return n.push(a),Function.apply(this,n);var c="function "+(this.name||"")+"("+n.join(",")+") {\n  "+a+"}";return t.log(t.logger.DEBUG,c+"\n\n"),c},mergeSource:function(){for(var t,s="",i=0,n=this.source.length;n>i;i++){var r=this.source[i];r.appendToBuffer?t=t?t+"\n    + "+r.content:r.content:(t&&(s+="buffer += "+t+";\n  ",t=e),s+=r+"\n  ")}return s},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),t[t.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.source.push(this.appendToBuffer(this.quotedString(t)))},append:function(){this.flushInline();var t=this.popStack();this.source.push("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"string"==typeof t?this.pushString(t):this.pushStackLiteral(t)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=e,this.options.stringParams&&(this.register("hashContexts","{"+t.contexts.join(",")+"}"),this.register("hashTypes","{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){this.pushStackLiteral(null!=t?this.programExpression(t):null)},invokeHelper:function(t,e){this.context.aliases.helperMissing="helpers.helperMissing";var s=this.lastHelper=this.setupHelper(t,e,!0),i=this.nameLookup("depth"+this.lastContext,e,"context");this.push(s.name+" || "+i),this.replaceStack(function(t){return t+" ? "+t+".call("+s.callParams+") : helperMissing.call("+s.helperMissingParams+")"})},invokeKnownHelper:function(t,e){var s=this.setupHelper(t,e);this.push(s.name+".call("+s.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var s=this.setupHelper(0,t,e),i=this.lastHelper=this.nameLookup("helpers",t,"helper"),n=this.nameLookup("depth"+this.lastContext,t,"context"),r=this.nextStack();this.source.push("if ("+r+" = "+i+") { "+r+" = "+r+".call("+s.callParams+"); }"),this.source.push("else { "+r+" = "+n+"; "+r+" = typeof "+r+" === functionType ? "+r+".apply(depth0) : "+r+"; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];
this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,s,i=this.popStack();this.options.stringParams&&(s=this.popStack(),e=this.popStack());var n=this.hash;e&&n.contexts.push("'"+t+"': "+e),s&&n.types.push("'"+t+"': "+s),n.values.push("'"+t+"': ("+i+")")},compiler:u,compileChildren:function(t,e){for(var s,i,n=t.children,r=0,o=n.length;o>r;r++){s=n[r],i=new this.compiler;var a=this.matchExistingProgram(s);null==a?(this.context.programs.push(""),a=this.context.programs.length,s.index=a,s.name="program"+a,this.context.programs[a]=i.compile(s,e,this.context),this.context.environments[a]=s):(s.index=a,s.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,s=this.context.environments.length;s>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,s=this.environment.children[t],i=s.depths.list,n=[s.index,s.name,"data"],r=0,o=i.length;o>r;r++)e=i[r],n.push(1===e?"depth0":"depth"+(e-1));return(0===i.length?"self.program(":"self.programWithDepth(")+n.join(", ")+")"},register:function(t,e){this.useRegister(t),this.source.push(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new f(t))},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.source.push(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,s="",i=this.isInline();if(i){var n=this.popStack(!0);if(n instanceof f)e=n.value;else{var r=this.stackSlot?this.topStackName():this.incrStack();s="("+this.push(r)+" = "+n+"),",e=this.topStack()}}else e=this.topStack();var o=t.call(this,e);return i?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+s+o+")")):(/^stack/.test(e)||(e=this.nextStack()),this.source.push(e+" = ("+s+o+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,s=t.length;s>e;e++){var i=t[e];i instanceof f?this.compileStack.push(i):this.pushStack(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),s=(e?this.inlineStack:this.compileStack).pop();return!t&&s instanceof f?s.value:(e||this.stackSlot--,s)},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,s=e[e.length-1];return!t&&s instanceof f?s.value:s},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,s){var i=[];this.setupParams(t,i,s);var n=this.nameLookup("helpers",e,"helper");return{params:i,name:n,callParams:["depth0"].concat(i).join(", "),helperMissingParams:s&&["depth0",this.quotedString(e)].concat(i).join(", ")}},setupParams:function(t,e,s){var i,n,r,o=[],a=[],h=[];o.push("hash:"+this.popStack()),n=this.popStack(),r=this.popStack(),(r||n)&&(r||(this.context.aliases.self="this",r="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),o.push("inverse:"+n),o.push("fn:"+r));for(var l=0;t>l;l++)i=this.popStack(),e.push(i),this.options.stringParams&&(h.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(o.push("contexts:["+a.join(",")+"]"),o.push("types:["+h.join(",")+"]"),o.push("hashContexts:hashContexts"),o.push("hashTypes:hashTypes")),this.options.data&&o.push("data:data"),o="{"+o.join(",")+"}",s?(this.register("options",o),e.push("options")):e.push(o),e.join(", ")}};for(var g="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),d=u.RESERVED_WORDS={},m=0,y=g.length;y>m;m++)d[g[m]]=!0;u.isValidJavaScriptVariableName=function(t){return!u.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(t)?!0:!1},t.precompile=function(e,s){if(null==e||"string"!=typeof e&&e.constructor!==t.AST.ProgramNode)throw new t.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);s=s||{},"data"in s||(s.data=!0);var i=t.parse(e),n=(new p).compile(i,s);return(new u).compile(n,s)},t.compile=function(s,i){function n(){var n=t.parse(s),r=(new p).compile(n,i),o=(new u).compile(r,i,e,!0);return t.template(o)}if(null==s||"string"!=typeof s&&s.constructor!==t.AST.ProgramNode)throw new t.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+s);i=i||{},"data"in i||(i.data=!0);var r;return function(t,e){return r||(r=n()),r.call(this,t,e)}},t.VM={template:function(e){var s={escapeExpression:t.Utils.escapeExpression,invokePartial:t.VM.invokePartial,programs:[],program:function(e,s,i){var n=this.programs[e];return i?n=t.VM.program(e,s,i):n||(n=this.programs[e]=t.VM.program(e,s)),n},merge:function(e,s){var i=e||s;return e&&s&&(i={},t.Utils.extend(i,s),t.Utils.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,n){n=n||{};var r=e.call(s,t,i,n.helpers,n.partials,n.data),o=s.compilerInfo||[],a=o[0]||1,h=t.COMPILER_REVISION;if(a!==h){if(h>a){var l=t.REVISION_CHANGES[h],c=t.REVISION_CHANGES[a];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+l+") or downgrade your runtime to an older version ("+c+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return r}},programWithDepth:function(t,e,s){var i=Array.prototype.slice.call(arguments,3),n=function(t,n){return n=n||{},e.apply(this,[t,n.data||s].concat(i))};return n.program=t,n.depth=i.length,n},program:function(t,e,s){var i=function(t,i){return i=i||{},e(t,i.data||s)};return i.program=t,i.depth=0,i},noop:function(){return""},invokePartial:function(s,i,n,r,o,a){var h={helpers:r,partials:o,data:a};if(s===e)throw new t.Exception("The partial "+i+" could not be found");if(s instanceof Function)return s(n,h);if(t.compile)return o[i]=t.compile(s,{data:a!==e}),o[i](n,h);throw new t.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},t.template=t.VM.template}(i),s.exports=i});
;define("common:widget/oui/arale/templatable/0.9.1/templatable",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e,t,l){function r(e){return o(e)?null:s(n(e))}function i(e,t){if(e){var l;if(t){if(l=e.find(t),0===l.length)throw new Error("Invalid template selector: "+t)}else l=e;return a(l.html())}}function n(e){return e.replace(/({[^}]+}})/g,"<!--$1-->").replace(/\s(src|href)\s*=\s*(['"])(.*?\{.+?)\2/g," data-templatable-$1=$2$3$2")}function a(e){return e.replace(/(?:<|&lt;)!--({{[^}]+}})--(?:>|&gt;)/g,"$1").replace(/data-templatable-/gi,"")}function o(e){return"function"==typeof e}function m(e){if(!e)return{};var t={};for(var l in e){var r=e[l];t[l]=o(r)?r:p.compile(r)}return t}var s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),p=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),h={};l.exports={templateHelpers:null,templatePartials:null,templateObject:null,parseElementFromTemplate:function(){var e,t=this.get("template");/^#/.test(t)&&(e=document.getElementById(t.substring(1)))&&(t=e.innerHTML,this.set("template",t)),this.templateObject=r(t),this.element=s(this.compile())},compile:function(e,t){if(e||(e=this.get("template")),t||(t=this.get("model"))||(t={}),t.toJSON&&(t=t.toJSON()),o(e))return e(t,{helpers:this.templateHelpers,partials:m(this.templatePartials)});var l,r,i=this.templateHelpers,n=this.templatePartials;if(i)for(l in i)i.hasOwnProperty(l)&&p.registerHelper(l,i[l]);if(n)for(r in n)n.hasOwnProperty(r)&&p.registerPartial(r,n[r]);var a=h[e];a||(a=h[e]=p.compile(e));var s=a(t);if(i)for(l in i)i.hasOwnProperty(l)&&delete p.helpers[l];if(n)for(r in n)n.hasOwnProperty(r)&&delete p.partials[r];return s},renderPartial:function(e){if(this.templateObject){var t=i(this.templateObject,e);t?e?this.$(e).html(this.compile(t)):this.element.html(this.compile(t)):this.element.html(this.compile())}else{var l=s(this.compile()),r=l.find(e);r.length?this.$(e).html(r.html()):this.element.html(l.html())}return this}};var u=p.compile;p.compile=function(e){return o(e)?e:u.call(p,e)}});
;define("common:widget/oui/arale/dialog/1.3.3/dialog",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/overlay/1.1.2/overlay","common:widget/oui/arale/overlay/1.1.2/mask","common:widget/oui/arale/events/1.1.0/events","common:widget/oui/arale/templatable/0.9.1/templatable"],function(e,t,i){function s(e){null==e.attr("tabindex")&&e.attr("tabindex","-1")}function n(e){var t=e[0].contentWindow.document;return t.body.scrollHeight&&t.documentElement.scrollHeight?Math.min(t.body.scrollHeight,t.documentElement.scrollHeight):t.documentElement.scrollHeight?t.documentElement.scrollHeight:t.body.scrollHeight?t.body.scrollHeight:void 0}var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/arale/overlay/1.1.2/overlay"),a=e("common:widget/oui/arale/overlay/1.1.2/mask"),l=e("common:widget/oui/arale/events/1.1.0/events"),h=(e("common:widget/oui/arale/templatable/0.9.1/templatable"),"300px"),c=o.extend({attrs:{template:'<div class="ui-dialog"><div class="ui-dialog-close" title="关闭本框" data-role="close"></div><div class="ui-dialog-content" data-role="content"></div></div>',trigger:{value:null,getter:function(e){return r(e)}},classPrefix:"ui-dialog",content:{value:null,setter:function(e){return/^(https?:\/\/|\/|\.\/|\.\.\/)/.test(e)&&(this._type="iframe"),e}},hasMask:{hideOnClick:!0},closeTpl:"×",width:700,height:null,effect:"none",zIndex:99999,autoFit:!0,align:{selfXY:["50%","50%"],baseXY:["50%","50%"]}},parseElement:function(){this.set("model",{classPrefix:this.get("classPrefix")}),c.superclass.parseElement.call(this),this.contentElement=this.$("[data-role=content]"),this.contentElement.css({background:"#fff",height:"100%",zoom:1}),this.$("[data-role=close]").hide()},events:{"click [data-role=close]":function(e){e.preventDefault(),this.hide()}},show:function(){return"iframe"===this._type&&(!this.get("height")&&this.element.css("height",h),this._showIframe()),c.superclass.show.call(this),this},hide:function(){return"iframe"===this._type&&this.iframe&&(this.iframe.attr({src:"javascript:'';"}),this.iframe.remove(),this.iframe=null),c.superclass.hide.call(this),clearInterval(this._interval),delete this._interval,this},destroy:function(){return this.element.remove(),this.get("hasMask")&&a.hide(),clearInterval(this._interval),c.superclass.destroy.call(this)},setup:function(){c.superclass.setup.call(this),this._setupTrigger(),this._setupMask(),this._setupKeyEvents(),this._setupFocus(),s(this.element),s(this.get("trigger")),this.activeTrigger=this.get("trigger").eq(0)},_onRenderContent:function(e){if("iframe"!==this._type){var t;try{t=r(e)}catch(i){t=[]}t[0]?this.contentElement.empty().append(t):this.contentElement.empty().html(e)}},_onRenderCloseTpl:function(e){""===e?this.$("[data-role=close]").html(e).hide():this.$("[data-role=close]").html(e).show()},_onRenderVisible:function(e){e?"fade"===this.get("effect")?this.element.fadeIn(300):this.element.show():this.element.hide()},_setupTrigger:function(){this.delegateEvents(this.get("trigger"),"click",function(e){e.preventDefault(),this.activeTrigger=r(e.currentTarget),this.show()})},_setupMask:function(){var e,t=this.get("hasMask"),i=parseInt(this.get("zIndex"),10),s=this;a.set("opacity",.2),a.set("backgroundColor","#000"),this.before("show",function(){t&&(e=a.get("zIndex"),a.set("zIndex",i-1).show(),t.hideOnClick&&a.element.one("click",function(){s.hide()}))}),this.after("hide",function(){t&&a.set("zIndex",e).hide()})},_setupFocus:function(){this.after("show",function(){this.element.focus()}),this.after("hide",function(){this.activeTrigger&&this.activeTrigger.focus()})},_setupKeyEvents:function(){this.delegateEvents(r(document),"keyup",function(e){27===e.keyCode&&this.get("visible")&&this.hide()})},_showIframe:function(){var e=this;this.iframe||this._createIframe(),this.iframe.attr({src:this._fixUrl(),name:"dialog-iframe"+(new Date).getTime()}),this.iframe.one("load",function(){e.get("visible")&&(e.get("autoFit")&&(clearInterval(e._interval),e._interval=setInterval(function(){e._syncHeight()},300)),e._syncHeight(),e._setPosition(),e.trigger("complete:show"))})},_fixUrl:function(){var e=this.get("content").match(/([^?#]*)(\?[^#]*)?(#.*)?/);return e.shift(),e[1]=(e[1]&&"?"!==e[1]?e[1]+"&":"?")+"t="+(new Date).getTime(),e.join("")},_createIframe:function(){var e=this;this.iframe=r("<iframe>",{src:"javascript:'';",scrolling:"no",frameborder:"no",allowTransparency:"true",css:{border:"none",width:"100%",display:"block",height:"100%",overflow:"hidden"}}).appendTo(this.contentElement),l.mixTo(this.iframe[0]),this.iframe[0].on("close",function(){e.hide()})},_syncHeight:function(){var e;if(this.get("height"))clearInterval(this._interval),delete this._interval;else{try{this._errCount=0,e=n(this.iframe)+"px"}catch(t){this._errCount=(this._errCount||0)+1,this._errCount>=6&&(e=h,clearInterval(this._interval),delete this._interval)}this.element.css("height",e),this.element[0].className=this.element[0].className}}});i.exports=c});
;define("common:widget/oui/arale/moment/2.1.0/moment",function(t,e,n){(function(e){function s(t,e){return function(n){return d(t.call(this,n),e)}}function i(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function r(){}function a(t){u(this,t)}function o(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,s=t.weeks||t.week||t.w||0,i=t.days||t.day||t.d||0,r=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,o=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*o+6e4*a+36e5*r,this._days=i+7*s,this._months=n+12*e,this._data={},this._bubble()}function u(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function h(t){return 0>t?Math.ceil(t):Math.floor(t)}function d(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function c(t,e,n,s){var i,r,a=e._milliseconds,o=e._days,u=e._months;a&&t._d.setTime(+t._d+a*n),(o||u)&&(i=t.minute(),r=t.hour()),o&&t.date(t.date()+o*n),u&&t.month(t.month()+u*n),a&&!s&&U.updateOffset(t),(o||u)&&(t.minute(i),t.hour(r))}function f(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t,e){var n,s=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),r=0;for(n=0;s>n;n++)~~t[n]!==~~e[n]&&r++;return r+i}function _(t){return t?ae[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function m(t,e){return e.abbr=t,G[t]||(G[t]=new r),G[t].set(e),G[t]}function y(e){if(!e)return U.fn._lang;if(!G[e]&&Z)try{t("./lang/"+e)}catch(n){return U.fn._lang}return G[e]}function M(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function g(t){var e,n,s=t.match(J);for(e=0,n=s.length;n>e;e++)s[e]=de[s[e]]?de[s[e]]:M(s[e]);return function(i){var r="";for(e=0;n>e;e++)r+=s[e]instanceof Function?s[e].call(i,t):s[e];return r}}function p(t,e){function n(e){return t.lang().longDateFormat(e)||e}for(var s=5;s--&&I.test(e);)e=e.replace(I,n);return oe[e]||(oe[e]=g(e)),oe[e](t)}function D(t,e){switch(t){case"DDDD":return $;case"YYYY":return R;case"YYYYY":return j;case"S":case"SS":case"SSS":case"DDD":return X;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return B;case"a":case"A":return y(e._l)._meridiemParse;case"X":return Q;case"Z":case"ZZ":return q;case"T":return K;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return V;default:return new RegExp(t.replace("\\",""))}}function Y(t){var e=(q.exec(t)||[])[0],n=(e+"").match(se)||["-",0,0],s=+(60*n[1])+~~n[2];return"+"===n[0]?-s:s}function w(t,e,n){var s,i=n._a;switch(t){case"M":case"MM":i[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":s=y(n._l).monthsParse(e),null!=s?i[1]=s:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(i[2]=~~e);break;case"YY":i[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~e;break;case"a":case"A":n._isPm=y(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":i[3]=~~e;break;case"m":case"mm":i[4]=~~e;break;case"s":case"ss":i[5]=~~e;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=Y(e)}null==e&&(n._isValid=!1)}function k(t){var e,n,s=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];s[3]+=~~((t._tzm||0)/60),s[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(s[0],s[1],s[2]),n.setUTCHours(s[3],s[4],s[5],s[6])):(n.setFullYear(s[0],s[1],s[2]),n.setHours(s[3],s[4],s[5],s[6])),t._d=n}}function v(t){var e,n,s=t._f.match(J),i=t._i;for(t._a=[],e=0;e<s.length;e++)n=(D(s[e],t).exec(i)||[])[0],n&&(i=i.slice(i.indexOf(n)+n.length)),de[s[e]]&&w(s[e],n,t);i&&(t._il=i),t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),k(t)}function T(t){var e,n,s,i,r,o=99;for(i=0;i<t._f.length;i++)e=u({},t),e._f=t._f[i],v(e),n=new a(e),r=l(e._a,n.toArray()),n._il&&(r+=n._il.length),o>r&&(o=r,s=n);u(t,s)}function b(t){var e,n=t._i,s=te.exec(n);if(s){for(t._f="YYYY-MM-DD"+(s[2]||" "),e=0;4>e;e++)if(ne[e][1].exec(n)){t._f+=ne[e][0];break}q.exec(n)&&(t._f+=" Z"),v(t)}else t._d=new Date(n)}function S(t){var n=t._i,s=E.exec(n);n===e?t._d=new Date:s?t._d=new Date(+s[1]):"string"==typeof n?b(t):f(n)?(t._a=n.slice(0),k(t)):t._d=new Date(n instanceof Date?+n:n)}function F(t,e,n,s,i){return i.relativeTime(e||1,!!n,t,s)}function O(t,e,n){var s=A(Math.abs(t)/1e3),i=A(s/60),r=A(i/60),a=A(r/24),o=A(a/365),u=45>s&&["s",s]||1===i&&["m"]||45>i&&["mm",i]||1===r&&["h"]||22>r&&["hh",r]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",A(a/30)]||1===o&&["y"]||["yy",o];return u[2]=e,u[3]=t>0,u[4]=n,F.apply({},u)}function z(t,e,n){var s,i=n-e,r=n-t.day();return r>i&&(r-=7),i-7>r&&(r+=7),s=U(t).add("d",r),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function C(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=y().preparse(e)),U.isMoment(e)?(t=u({},e),t._d=new Date(+e._d)):n?f(n)?T(t):v(t):S(t),new a(t))}function L(t,e){U.fn[t]=U.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),U.updateOffset(this),this):this._d["get"+n+e]()}}function H(t){U.duration.fn[t]=function(){return this._data[t]}}function P(t,e){U.duration.fn["as"+t]=function(){return+this/e}}for(var U,W,x="2.1.0",A=Math.round,G={},Z="undefined"!=typeof n&&n.exports,E=/^\/?Date\((\-?\d+)/i,N=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,J=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,V=/\d\d?/,X=/\d{1,3}/,$=/\d{3}/,R=/\d{1,4}/,j=/[+\-]?\d{1,6}/,B=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,q=/Z|[\+\-]\d\d:?\d\d/i,K=/T/i,Q=/[\+\-]?\d+(\.\d{1,3})?/,te=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ee="YYYY-MM-DDTHH:mm:ssZ",ne=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],se=/([\+\-]|\d\d)/gi,ie="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),re={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ae={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},oe={},ue="DDD w W M D d".split(" "),he="M D H h m s w W".split(" "),de={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return d(this.year()%100,2)},YYYY:function(){return d(this.year(),4)},YYYYY:function(){return d(this.year(),5)},gg:function(){return d(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return d(this.weekYear(),5)},GG:function(){return d(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return d(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return d(~~(this.milliseconds()/10),2)},SSS:function(){return d(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+d(~~(t/60),2)+":"+d(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+d(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ue.length;)W=ue.pop(),de[W+"o"]=i(de[W],W);for(;he.length;)W=he.pop(),de[W+W]=s(de[W],2);for(de.DDDD=s(de.DDD,3),r.prototype={set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,s;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=U([2e3,e]),s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(s.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=U([2e3,1]).day(e),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,s){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,s):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return z(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},U=function(t,e,n){return C({_i:t,_f:e,_l:n,_isUTC:!1})},U.utc=function(t,e,n){return C({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},U.unix=function(t){return U(1e3*t)},U.duration=function(t,e){var n,s,i=U.isDuration(t),r="number"==typeof t,a=i?t._input:r?{}:t,u=N.exec(t);return r?e?a[e]=t:a.milliseconds=t:u&&(n="-"===u[1]?-1:1,a={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),s=new o(a),i&&t.hasOwnProperty("_lang")&&(s._lang=t._lang),s},U.version=x,U.defaultFormat=ee,U.updateOffset=function(){},U.lang=function(t,e){return t?(e?m(t,e):G[t]||y(t),void(U.duration.fn._lang=U.fn._lang=y(t))):U.fn._lang._abbr},U.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),y(t)},U.isMoment=function(t){return t instanceof a},U.isDuration=function(t){return t instanceof o},U.fn=a.prototype={clone:function(){return U(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return p(U(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!l(this._a,(this._isUTC?U.utc(this._a):U(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=p(this,t||U.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?U.duration(+e,t):U.duration(t,e),c(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?U.duration(+e,t):U.duration(t,e),c(this,n,-1),this},diff:function(t,e,n){var s,i,r=this._isUTC?U(t).zone(this._offset||0):U(t).local(),a=6e4*(this.zone()-r.zone());return e=_(e),"year"===e||"month"===e?(s=432e5*(this.daysInMonth()+r.daysInMonth()),i=12*(this.year()-r.year())+(this.month()-r.month()),i+=(this-U(this).startOf("month")-(r-U(r).startOf("month")))/s,i-=6e4*(this.zone()-U(this).startOf("month").zone()-(r.zone()-U(r).startOf("month").zone()))/s,"year"===e&&(i/=12)):(s=this-r,i="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-a)/864e5:"week"===e?(s-a)/6048e5:s),n?i:h(i)},from:function(t,e){return U.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(U(),t)},calendar:function(){var t=this.diff(U().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4===0&&t%100!==0||t%400===0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),U.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=_(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+U(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+U(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+U(t).startOf(e)},min:function(t){return t=U.apply(null,arguments),this>t?this:t},max:function(t){return t=U.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=Y(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&c(this,U.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return U.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=A((U(this).startOf("day")-U(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=z(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=z(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=z(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(t){return t===e?this._lang:(this._lang=y(t),this)}},W=0;W<ie.length;W++)L(ie[W].toLowerCase().replace(/s$/,""),ie[W]);L("year","FullYear"),U.fn.days=U.fn.day,U.fn.months=U.fn.month,U.fn.weeks=U.fn.week,U.fn.isoWeeks=U.fn.isoWeek,U.fn.toJSON=U.fn.toISOString,U.duration.fn=o.prototype={_bubble:function(){var t,e,n,s,i=this._milliseconds,r=this._days,a=this._months,o=this._data;o.milliseconds=i%1e3,t=h(i/1e3),o.seconds=t%60,e=h(t/60),o.minutes=e%60,n=h(e/60),o.hours=n%24,r+=h(n/24),o.days=r%30,a+=h(r/30),o.months=a%12,s=h(a/12),o.years=s},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,n=O(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=U.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=U.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=_(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=_(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:U.fn.lang};for(W in re)re.hasOwnProperty(W)&&(P(W,re[W]),H(W.toLowerCase()));P("Weeks",6048e5),U.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},U.lang("en",{ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Z&&(n.exports=U),"undefined"==typeof ender&&(this.moment=U)}).call(this)});
;define("common:widget/oui/arale/calendar/0.9.0/i18n/zh-cn",{Su:"日",Mo:"一",Tu:"二",We:"三",Th:"四",Fr:"五",Sa:"六",Jan:"一月",Feb:"二月",Mar:"三月",Apr:"四月",May:"五月",Jun:"六月",Jul:"七月",Aug:"八月",Sep:"九月",Oct:"十月",Nov:"十一月",Dec:"十二月"});
;define("common:widget/oui/arale/calendar/0.9.0/base-calendar",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/position/1.0.1/position","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/widget/1.1.1/widget","common:widget/oui/arale/shim/1.0.2/iframe-shim","common:widget/oui/arale/calendar/0.9.0/i18n/zh-cn"],function(e,t,i){var n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/arale/position/1.0.1/position"),r=e("common:widget/oui/arale/moment/2.1.0/moment"),a=e("common:widget/oui/arale/widget/1.1.1/widget"),s=e("common:widget/oui/arale/shim/1.0.2/iframe-shim"),u=e("common:widget/oui/arale/calendar/0.9.0/i18n/zh-cn")||{},l=(window.navigator.userAgent||"").toLowerCase(),g=l.match(/msie\s+(\d+)/),m=!1;g&&g[1]&&(m=parseInt(g[1],10)<9),document.documentMode&&document.documentMode<9&&(m=!0);var h=a.extend({attrs:{lang:u,trigger:null,triggerType:"click",output:{value:"",getter:function(e){return e=e?e:this.get("trigger"),n(e)}},hideOnSelect:!0,focus:{value:"",getter:function(e){return e=e||this._outputTime(),e?r(e,this.get("format")):r()},setter:function(e){return e?r(e,this.get("format")):r()}},format:"YYYY-MM-DD",startDay:"Sun",range:{value:null,setter:function(e){if(n.isArray(e)){var t=this.get("format"),i=[];return n.each(e,function(e,n){n=null===n?null:r(n,t),i.push(n)}),i}return e}},process:null,align:{getter:function(e){if(e)return e;var t=n(this.get("trigger"));return t?{selfXY:[0,0],baseElement:t,baseXY:[0,t.height()+10]}:{selfXY:[0,0],baseXY:[0,0]}}}},setup:function(){h.superclass.setup.call(this),this.enable(),this._shim=new s(this.element).sync();var e=this;this.element.on("mousedown",function(t){if(m){var i=n(e.get("trigger"))[0];i.onbeforedeactivate=function(){window.event.returnValue=!1,i.onbeforedeactivate=null}}t.preventDefault()})},show:function(){this.trigger("show"),this.rendered||(this._pin(),this.render()),this._pin(),this.element.show()},hide:function(){this.trigger("hide"),this.element.hide()},_pin:function(e){e=e||this.get("align"),o.pin({element:this.element,x:e.selfXY[0],y:e.selfXY[1]},{element:e.baseElement,x:e.baseXY[0],y:e.baseXY[1]})},_outputTime:function(){var e=n(this.get("output")),t=e.val()||e.text();return t&&(t=r(t,this.get("format")),t.isValid())?t:void 0},output:function(e){var t=this.get("output");if(t.length){e=e||this.get("focus");var i=t[0].tagName.toLowerCase();"input"===i||"textarea"===i?t.val(e):t.text(e),this.get("hideOnSelect")&&this.hide()}},enable:function(){var e=this.get("trigger");if(e){var t=this,i=n(e);if("date"===i.attr("type"))try{i.attr("type","text")}catch(o){}var r=this.get("triggerType")+".calendar";i.on(r,function(){t.show()}),i.on("blur.calendar",function(){t.hide()}),"input"!==i[0].tagName.toLowerCase()&&t.autohide()}},disable:function(){var e=this.get("trigger");if(e){var t=n(e),i=this.get("triggerType")+".calendar";t.off(i),t.off("blur.calendar")}},autohide:function(){var e=this,t=n(this.get("trigger"))[0],i=this.element;n("body").on("mousedown.calendar",function(n){i.find(n.target).length||i[0]===n.target||t!==n.target&&e.hide()})},destroy:function(){this._shim&&this._shim.destroy(),n("body").off("mousedown.calendar"),h.superclass.destroy.call(this)}});i.exports=h});
;define("common:widget/oui/arale/calendar/0.9.0/base-column",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/widget/1.1.1/widget"],function(e,t,n){var i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),r=e("common:widget/oui/arale/moment/2.1.0/moment"),o=e("common:widget/oui/arale/widget/1.1.1/widget"),m=o.extend({attrs:{focus:{value:"",getter:function(e){return e?e:r()},setter:function(e){return e?r.isMoment(e)?e:r(e,this.get("format")):r()}},template:null,format:"YYYY-MM-DD",range:{value:"",getter:function(e){if(!e)return null;if(i.isArray(e)){var t=e[0];t&&t.length>4&&(t=r(t,this.get("format")));var n=e[1];return n&&n.length>4&&(n=r(n,this.get("format"))),[t,n]}return e}},lang:{}},compileTemplate:function(){var e=this.get("template");if(!e)return"";var t=this.get("model"),n=this.get("lang")||{};return e(t,{helpers:{_:function(e){return n[e]||e}}})},parseElement:function(){this.element=i(this.compileTemplate())},show:function(){this.render(),this.focus()},hide:function(){this.element.hide()},refresh:function(){this.element.html(i(this.compileTemplate()).html())}});n.exports=m,m.isInRange=function(e,t){if(null==t)return!0;if(i.isArray(t)){var n=t[0],r=t[1],o=!0;return n&&(o=o&&e>=n),r&&(o=o&&r>=e),o}return i.isFunction(t)?t(e):!0}});
;define("common:widget/oui/arale/calendar/0.9.0/date-column",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/calendar/0.9.0/base-column"],function(e,t,a){function n(e){if(e=(e||0).toString().toLowerCase(),u.isNumeric(e))return e=parseInt(e,10);for(var t=0;t<c.length;t++)if(0===c[t].indexOf(e)){e=t;break}return e}function r(e){e=n(e);for(var t=[],a=e;7>a;a++)t.push({label:f[a],value:a});for(a=0;e>a;a++)t.push({label:f[a],value:a});var r={value:e,label:f[e]};return{current:r,items:t}}function s(e,t,a,r){var s,o,u,l=[];t=n(t);var d=function(e,t){var n={value:e.format("YYYY-MM-DD"),label:e.date(),day:e.day(),className:t,available:i.isInRange(e,a)};r&&(n.type="date",n=r(n)),l.push(n)},c=e.clone().date(1),f=c.clone().add("months",-1),m=c.clone().add("months",1);if(s=c.day()-t,0>s&&(s+=7),0!=s)for(u=f.daysInMonth(),g=s-1;g>=0;g--)o=f.date(u-g),d(o,"previous-month");for(u=c.daysInMonth(),g=1;u>=g;g++)o=c.date(g),d(o,"current-month");if(s=35-l.length,0!=s)for(0>s&&(s+=7),g=1;s>=g;g++)o=m.date(g),d(o,"next-month");for(var h=[],g=0;g<l.length/7;g++)h.push(l.slice(7*g,7*g+7));var v={value:e.format("YYYY-MM-DD"),label:e.date()};return{current:v,items:h}}function o(e,t){var a=t.helpers._,n='<table class="ui-calendar-date" data-role="date-column">';return n+='<tr class="ui-calendar-day-column">',u.each(e.day.items,function(e,t){n+='<th class="ui-calendar-day ui-calendar-day-'+t.value+'" ',n+='data-role="day" data-value="'+t.value+'">',n+=a(t.label),n+="</th>"}),n+="</tr>",u.each(e.date.items,function(e,t){n+='<tr class="ui-calendar-date-column">',u.each(t,function(e,t){var a=["ui-calendar-day-"+t.day,t.className||""];t.available||a.push("disabled-element"),n+='<td class="'+a.join(" ")+'" data-role="date"',n+='data-value="'+t.value+'">',n+=t.label+"</td>"}),n+="</tr>"}),n+="</table>"}var u=e("common:widget/oui/lib/jquery/1.9.1/jquery"),l=e("common:widget/oui/arale/moment/2.1.0/moment"),i=e("common:widget/oui/arale/calendar/0.9.0/base-column"),d=i.extend({attrs:{startDay:"Sun",template:o,range:{value:null,setter:function(e){if(u.isArray(e)){var t=this.get("format"),a=[];return u.each(e,function(e,n){n=null===n?null:l(n,t),a.push(n)}),a}return e}},process:null,model:{getter:function(){var e=s(this.get("focus"),this.get("startDay"),this.get("range"),this.get("process")),t=r(this.get("startDay"));return{date:e,day:t}}}},events:{"click [data-role=date]":function(e){var t=u(e.target),a=t.data("value");this.select(a,t)}},prev:function(){var e=this.get("focus").format("YYYY-MM-DD"),t=this.get("focus").add("days",-1);return this._sync(t,e)},next:function(){var e=this.get("focus").format("YYYY-MM-DD"),t=this.get("focus").add("days",1);return this._sync(t,e)},select:function(e,t){if(t&&t.hasClass("disabled-element"))return this.trigger("selectDisable",e,t),e;var a=this.get("focus").format("YYYY-MM-DD");return this.set("focus",e),this._sync(this.get("focus"),a,t)},focus:function(e){e=e||this.get("focus");var t="[data-value="+e.format("YYYY-MM-DD")+"]";this.element.find(".focused-element").removeClass("focused-element"),this.element.find(t).addClass("focused-element")},inRange:function(e){return l.isMoment(e)||(e=l(e,this.get("format"))),i.isInRange(e,this.get("range"))},_sync:function(e,t,a){return this.set("focus",e),e.format("YYYY-MM")!==t&&this.refresh(),this.focus(e),null!==a&&this.trigger("select",e,a),e}});a.exports=d;var c=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],f=["Su","Mo","Tu","We","Th","Fr","Sa"]});
;define("common:widget/oui/arale/calendar/0.9.0/month-column",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/calendar/0.9.0/base-column"],function(e,t,n){function a(e,t,n){var a=e.month(),o=[];for(l=0;l<c.length;l++){var r={value:l,available:n.inRange.call(n,l),label:c[l]};t&&(r.type="month",r=t(r)),o.push(r)}for(var s={year:e.year(),value:a,label:c[a]},i=[],l=0;l<o.length/3;l++)i.push(o.slice(3*l,3*l+3));return{current:s,items:i}}function o(e,t){if(null==t)return!0;if(s.isArray(t)){var n=t[0],a=t[1],o=!0;if(n&&n.month){var r=e.clone().date(e.daysInMonth());r.hour(23).minute(59).second(59).millisecond(999),o=o&&r>=n}else n&&(o=o&&e.month()+1>=n);if(a&&a.month){var i=e.clone().date(1);i.hour(0).minute(0).second(0).millisecond(0),o=o&&a>=i}else a&&(o=o&&e.month()+1<=a);return o}return s.isFunction(t)?t(e):!0}function r(e,t){var n=t.helpers._,a='<table class="ui-calendar-month" data-role="month-column">';return s.each(e.items,function(t,o){a+='<tr class="ui-calendar-month-column" data-year="'+e.current.year+'">',s.each(o,function(e,t){a+='<td data-role="month"',t.available||(a+=' class="disabled-element"'),a+='data-value="'+t.value+'">',a+=n(t.label)+"</td>"}),a+="</tr>"}),a+="</table>"}var s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=e("common:widget/oui/arale/moment/2.1.0/moment"),l=e("common:widget/oui/arale/calendar/0.9.0/base-column"),u=l.extend({attrs:{template:r,process:null,model:{getter:function(){return a(this.get("focus"),this.get("process"),this)}}},events:{"click [data-role=month]":function(e){var t=s(e.target),n=t.data("value");this.select(n,t)}},setup:function(){u.superclass.setup.call(this),this.on("change:range",function(){this.element.html(s(this.compileTemplate()).html())})},prev:function(){var e=this.get("focus").add("months",-1);return this._sync(e)},next:function(){var e=this.get("focus").add("months",1);return this._sync(e)},select:function(e,t){if(t&&t.hasClass("disabled-element"))return this.trigger("selectDisable",e,t),e;var n;return n=e.month?e:this.get("focus").month(e),this._sync(n,t)},focus:function(e){e=e||this.get("focus");var t="[data-value="+e.month()+"]";this.element.find(".focused-element").removeClass("focused-element"),this.element.find(t).addClass("focused-element")},refresh:function(){var e=this.get("focus").year(),t=this.element.find("[data-year]").data("year");parseInt(t,10)!==e&&this.element.html(s(this.compileTemplate()).html())},inRange:function(e){var t=this.get("range");if(e.month)return o(e,t);if(e.toString().length<3){var n=this.get("focus");return o(n.clone().month(e),t)}return o(i(e,this.get("format")),t)},_sync:function(e,t){return this.set("focus",e),this.refresh(),this.focus(e),null!==t&&this.trigger("select",e.month(),t),e}});n.exports=u;var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});
;define("common:widget/oui/arale/calendar/0.9.0/year-column",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/calendar/0.9.0/base-column"],function(e,a,t){function r(e,a,t){for(var r=e.year(),s=[l({value:r-10,label:". . .",available:!0,role:"previous-10-year"},t)],i=r-6;r+4>i;i++)s.push(l({value:i,label:i,available:n(i,a),role:"year"},t));s.push(l({value:r+10,label:". . .",available:!0,role:"next-10-year"},t));var u=[];for(i=0;i<s.length/3;i++)u.push(s.slice(3*i,3*i+3));var o={value:r,label:r};return{current:o,items:u}}function l(e,a){return a?(e.type="year",a(e)):e}function n(e,a){if(null==a)return!0;if(i.isArray(a)){var t=a[0];t&&t.year&&(t=t.year());var r=a[1];r&&r.year&&(r=r.year());var l=!0;return t&&(l=l&&e>=t),r&&(l=l&&r>=e),l}return!0}function s(e,a){var t=a.helpers._,r='<table class="ui-calendar-year" data-role="year-column">';return i.each(e.items,function(e,a){r+='<tr class="ui-calendar-year-column">',i.each(a,function(e,a){r+='<td data-role="'+a.role+'"',a.available||(r+=' class="disabled-element"'),r+='data-value="'+a.value+'">',r+=t(a.label)+"</td>"}),r+="</tr>"}),r+="</table>"}var i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),u=e("common:widget/oui/arale/calendar/0.9.0/base-column"),o=u.extend({attrs:{process:null,template:s,model:{getter:function(){return r(this.get("focus"),this.get("range"),this.get("process"))}}},events:{"click [data-role=year],[data-role=previous-10-year],[data-role=next-10-year]":function(e){var a=i(e.target),t=a.data("value");this.select(t,a)}},setup:function(){o.superclass.setup.call(this),this.on("change:range",function(){this.element.html(i(this.compileTemplate()).html())})},prev:function(){var e=this.get("focus").add("years",-1);return this._sync(e)},next:function(){var e=this.get("focus").add("years",1);return this._sync(e)},select:function(e,a){if(a&&a.hasClass("disabled-element"))return this.trigger("selectDisable",e,a),e;var t;return t=e.year?e:this.get("focus").year(e),this._sync(t,a)},focus:function(e){e=e||this.get("focus");var a="[data-value="+e.year()+"]";this.element.find(".focused-element").removeClass("focused-element"),this.element.find(a).addClass("focused-element")},refresh:function(){var e=this.get("focus").year(),a=this.element.find("[data-role=year]");(e<a.first().data("value")||e>a.last().data("value"))&&this.element.html(i(this.compileTemplate()).html())},inRange:function(e){return n(e,this.get("range"))},_sync:function(e,a){return this.set("focus",e),this.refresh(),this.focus(e),null!==a&&this.trigger("select",e.year(),a),e}});t.exports=o});
;define("common:widget/oui/arale/calendar/0.9.0/calendar",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/calendar/0.9.0/base-calendar","common:widget/oui/arale/calendar/0.9.0/date-column","common:widget/oui/arale/calendar/0.9.0/month-column","common:widget/oui/arale/calendar/0.9.0/year-column","common:widget/oui/arale/calendar/0.9.0/base-column"],function(e,t,a){var n=(e("common:widget/oui/lib/jquery/1.9.1/jquery"),e("common:widget/oui/arale/moment/2.1.0/moment")),s=e("common:widget/oui/arale/calendar/0.9.0/base-calendar"),r=e("common:widget/oui/arale/calendar/0.9.0/date-column"),o=e("common:widget/oui/arale/calendar/0.9.0/month-column"),i=e("common:widget/oui/arale/calendar/0.9.0/year-column"),l=['<div class="ui-calendar">','<div class="ui-calendar-pannel" data-role="pannel">','<span class="ui-calendar-control" data-role="prev-year">&lt;&lt;</span>','<span class="ui-calendar-control" data-role="prev-month">&lt;</span>','<span class="ui-calendar-control month" data-role="current-month"></span>','<span class="ui-calendar-control year" data-role="current-year"></span>','<span class="ui-calendar-control" data-role="next-month">&gt;</span>','<span class="ui-calendar-control" data-role="next-year">&gt;&gt;</span>',"</div>",'<div class="ui-calendar-container" data-role="container">',"</div>","</div>"].join(""),c=s.extend({attrs:{mode:"dates",template:l},events:{"click [data-role=current-month]":function(){this.renderContainer("months"===this.get("mode")?"dates":"months")},"click [data-role=current-year]":function(){this.renderContainer("years"===this.get("mode")?"dates":"years")},"click [data-role=prev-year]":function(){var e=this.years.prev();this.dates.select(e),this.months.select(e)},"click [data-role=next-year]":function(){var e=this.years.next();this.dates.select(e),this.months.select(e)},"click [data-role=prev-month]":function(){var e=this.months.prev();this.dates.select(e),this.years.select(e)},"click [data-role=next-month]":function(){var e=this.months.next();this.dates.select(e),this.years.select(e)}},setup:function(){c.superclass.setup.call(this),this.renderPannel();var e={lang:this.get("lang"),focus:this.get("focus"),range:this.get("range"),format:this.get("format"),startDay:this.get("startDay"),process:this.get("process")};this.dates=new r(e),this.months=new o(e),this.years=new i(e);var t=this;this.dates.on("select",function(e,a){t.set("focus",e);var s=t.get("focus");t.months.select(s),t.years.select(s),a&&(t.trigger("selectDate",e),n.isMoment(e)&&(e=e.format(this.get("format"))),t.output(e))}),this.months.on("select",function(e,a){var n=t.get("focus");n.month(e),t.set("focus",n),t.renderPannel(),a&&(t.renderContainer("dates",n),t.trigger("selectMonth",n))}),this.years.on("select",function(e,a){var n=t.get("focus");n.year(e),t.set("focus",n),t.renderPannel(),a&&"year"===a.data("role")&&(t.renderContainer("dates",n),t.trigger("selectYear",n))});var a=this.element.find("[data-role=container]");a.append(this.dates.element),a.append(this.months.element),a.append(this.years.element),this.renderContainer("dates")},renderContainer:function(e,t){return this.set("mode",e),t=t||this.get("focus"),this.dates.hide(),this.months.hide(),this.years.hide(),this.dates.select(t,null),this.months.select(t,null),this.years.select(t,null),"dates"===e?this.dates.element.show():"months"===e?this.months.element.show():"years"===e&&this.years.element.show(),this},renderPannel:function(){var e=this.get("focus"),t=this.element.find("[data-role=current-month]"),a=this.element.find("[data-role=current-year]"),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=n[e.month()];s=this.get("lang")[s]||s,t.text(s),a.text(e.year())},focus:function(e){e=n(e,this.get("format")),this.dates.focus(e),this.months.focus(e),this.years.focus(e)},range:function(e){this.set("range",e),this.dates.set("range",e),this.months.set("range",e),this.years.set("range",e),this.renderContainer(this.get("mode"))},show:function(){var e=this._outputTime();e&&this.dates.select(e),c.superclass.show.call(this)},destroy:function(){this.dates.destroy(),this.months.destroy(),this.years.destroy(),c.superclass.destroy.call(this)}});c.BaseColumn=e("common:widget/oui/arale/calendar/0.9.0/base-column"),c.BaseCalendar=s,c.DateColumn=r,c.MonthColumn=o,c.YearColumn=i,a.exports=c});
;define("common:widget/oui/arale/calendar/0.9.0/double-calendar",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/calendar/0.9.0/base-calendar","common:widget/oui/arale/calendar/0.9.0/date-column"],function(a,e,t){var n=(a("common:widget/oui/lib/jquery/1.9.1/jquery"),a("common:widget/oui/arale/moment/2.1.0/moment"),a("common:widget/oui/arale/calendar/0.9.0/base-calendar")),r=a("common:widget/oui/arale/calendar/0.9.0/date-column"),l=['<div class="ui-calendar ui-double-calendar">','<div class="ui-calendar-start">','<div class="ui-calendar-wrap">','<div class="ui-calendar-pannel" data-role="pannel">','<span class="ui-calendar-control" data-role="prev-year">&lt;&lt;</span>','<span class="ui-calendar-control" data-role="prev-month">&lt;</span>','<span class="ui-calendar-control month" data-role="start-month"></span>','<span class="ui-calendar-control year" data-role="start-year"></span>',"</div>","</div>",'<div class="ui-calendar-container" data-role="container"></div>',"</div>",'<div class="ui-calendar-end">','<div class="ui-calendar-wrap">','<div class="ui-calendar-pannel" data-role="pannel">','<span class="ui-calendar-control month" data-role="end-month"></span>','<span class="ui-calendar-control year" data-role="end-year"></span>','<span class="ui-calendar-control" data-role="next-month">&gt;</span>','<span class="ui-calendar-control" data-role="next-year">&gt;&gt;</span>',"</div>","</div>",'<div class="ui-calendar-container" data-role="container"></div>',"</div>","</div>"].join(""),o=n.extend({attrs:{template:l},events:{"click [data-role=prev-year]":function(){},"click [data-role=next-year]":function(){},"click [data-role=prev-month]":function(){},"click [data-role=next-month]":function(){}},setup:function(){o.superclass.setup.call(this),this.renderPannel();var a=this.get("focus"),e={focus:a,lang:this.get("lang"),range:this.get("range"),format:this.get("format"),startDay:this.get("startDay"),process:this.get("process")};this.startDates=new r(e),e.focus=a.clone().add("months",1),this.endDates=new r(e),this.element.find(".ui-calendar-start .ui-calendar-container").append(this.startDates.element),this.element.find(".ui-calendar-end .ui-calendar-container").append(this.endDates.element)},renderPannel:function(){var a=this.get("focus"),e=this.element.find("[data-role=start-month]"),t=this.element.find("[data-role=start-year]"),n=this.element.find("[data-role=end-month]"),r=this.element.find("[data-role=end-year]"),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=this.get("lang"),s=l[a.month()];s=o[s]||s,e.text(s),t.text(a.year()),a=a.clone(),a.add("months",1),s=l[a.month()],s=o[s]||s,n.text(s),r.text(a.year())},destroy:function(){this.startDates.destroy(),this.endDates.destroy(),o.superclass.destroy.call(this)}});t.exports=o});
;define("common:widget/oui/arale/calendar/0.9.0/i18n/en",{});
;define("common:widget/oui/arale/calendar/0.9.0/i18n/fr",{Su:"Di",Mo:"Lu",Tu:"Ma",We:"Me",Th:"Je",Fr:"Ve",Sa:"Sa",Jan:"janv.",Feb:"févr.",Mar:"mars",Apr:"avr.",May:"mai",Jun:"juin",Jul:"juil.",Aug:"août",Sep:"sept.",Oct:"oct.",Nov:"nov.",Dec:"déc."});
;define("common:widget/oui/arale/calendar/0.9.0/i18n/ja",{Su:"日",Mo:"月",Tu:"火",We:"水",Th:"木",Fr:"金",Sa:"土",Jan:"1月",Feb:"2月",Mar:"3月",Apr:"4月",May:"5月",Jun:"6月",Jul:"7月",Aug:"8月",Sep:"9月",Oct:"10月",Nov:"11月",Dec:"12月"});
;define("common:widget/oui/arale/calendar/0.9.0/i18n/zh-tw",{Su:"日",Mo:"一",Tu:"二",We:"三",Th:"四",Fr:"五",Sa:"六",Jan:"一月",Feb:"二月",Mar:"三月",Apr:"四月",May:"五月",Jun:"六月",Jul:"七月",Aug:"八月",Sep:"九月",Oct:"十月",Nov:"十一月",Dec:"十二月"});
;define("common:widget/oui/arale/dialog/1.3.3/confirmbox",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(e,t,i){var n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/arale/dialog/1.3.3/dialog"),l=o.extend({attrs:{title:"默认标题",confirmTpl:'<a class="ui-dialog-button-orange">确定</a>',cancelTpl:'<a class="ui-dialog-button-white">取消</a>',message:"默认内容",hasMask:{hideOnClick:!1}},setup:function(){l.superclass.setup.call(this);var e={classPrefix:this.get("classPrefix"),message:this.get("message"),title:this.get("title"),confirmTpl:this.get("confirmTpl"),cancelTpl:this.get("cancelTpl"),hasFoot:this.get("confirmTpl")||this.get("cancelTpl")};this.set("content",template(e))},events:{"click [data-role=confirm]":function(e){e.preventDefault(),this.trigger("confirm")},"click [data-role=cancel]":function(e){e.preventDefault(),this.hide()}},_onChangeMessage:function(e){this.$("[data-role=message]").html(e)},_onChangeTitle:function(e){this.$("[data-role=title]").html(e)},_onChangeConfirmTpl:function(e){this.$("[data-role=confirm]").html(e)},_onChangeCancelTpl:function(e){this.$("[data-role=cancel]").html(e)}});l.alert=function(e,t,i){var o={message:e,title:"",cancelTpl:"",closeTpl:"",onConfirm:function(){t&&t(),this.hide()}};new l(n.extend(null,o,i)).show().after("hide",function(){this.destroy()})},l.confirm=function(e,t,i,o){var a={message:e,title:t||"确认框",closeTpl:"",onConfirm:function(){i&&i(),this.hide()}};new l(n.extend(null,a,o)).show().after("hide",function(){this.destroy()})},l.show=function(e,t,i){var o={message:e,title:"",confirmTpl:!1,cancelTpl:!1};new l(n.extend(null,o,i)).show().before("hide",function(){t&&t()}).after("hide",function(){this.destroy()})},i.exports=l});
;define("common:widget/oui/arale/dialog/1.3.3/dialog-1.3.3",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/overlay/1.1.2/overlay","common:widget/oui/arale/overlay/1.1.2/mask","common:widget/oui/arale/events/1.1.0/events","common:widget/oui/arale/templatable/0.9.1/templatable"],function(e,t,i){function s(e){null==e.attr("tabindex")&&e.attr("tabindex","-1")}function n(e){var t=e[0].contentWindow.document;return t.body.scrollHeight&&t.documentElement.scrollHeight?Math.min(t.body.scrollHeight,t.documentElement.scrollHeight):t.documentElement.scrollHeight?t.documentElement.scrollHeight:t.body.scrollHeight?t.body.scrollHeight:void 0}var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/arale/overlay/1.1.2/overlay"),o=e("common:widget/oui/arale/overlay/1.1.2/mask"),l=e("common:widget/oui/arale/events/1.1.0/events"),h=(e("common:widget/oui/arale/templatable/0.9.1/templatable"),"300px"),c=a.extend({attrs:{template:'<div class="ui-dialog"><div class="ui-dialog-close" title="关闭本框" data-role="close"></div><div class="ui-dialog-content" data-role="content"></div></div>',trigger:{value:null,getter:function(e){return r(e)}},classPrefix:"ui-dialog",content:{value:null,setter:function(e){return/^(https?:\/\/|\/|\.\/|\.\.\/)/.test(e)&&(this._type="iframe"),e}},hasMask:{hideOnClick:!0},closeTpl:"×",width:500,height:null,effect:"none",zIndex:999,autoFit:!0,align:{selfXY:["50%","50%"],baseXY:["50%","50%"]}},parseElement:function(){this.set("model",{classPrefix:this.get("classPrefix")}),c.superclass.parseElement.call(this),this.contentElement=this.$("[data-role=content]"),this.contentElement.css({background:"#fff",height:"100%",zoom:1}),this.$("[data-role=close]").hide()},events:{"click [data-role=close]":function(e){e.preventDefault(),this.hide()}},show:function(){return"iframe"===this._type&&(!this.get("height")&&this.element.css("height",h),this._showIframe()),c.superclass.show.call(this),this},hide:function(){return"iframe"===this._type&&this.iframe&&(this.iframe.attr({src:"javascript:'';"}),this.iframe.remove(),this.iframe=null),c.superclass.hide.call(this),clearInterval(this._interval),delete this._interval,this},destroy:function(){return this.element.remove(),this.get("hasMask")&&o.hide(),clearInterval(this._interval),c.superclass.destroy.call(this)},setup:function(){c.superclass.setup.call(this),this._setupTrigger(),this._setupMask(),this._setupKeyEvents(),this._setupFocus(),s(this.element),s(this.get("trigger")),this.activeTrigger=this.get("trigger").eq(0)},_onRenderContent:function(e){if("iframe"!==this._type){var t;try{t=r(e)}catch(i){t=[]}t[0]?this.contentElement.empty().append(t):this.contentElement.empty().html(e)}},_onRenderCloseTpl:function(e){""===e?this.$("[data-role=close]").html(e).hide():this.$("[data-role=close]").html(e).show()},_onRenderVisible:function(e){e?"fade"===this.get("effect")?this.element.fadeIn(300):this.element.show():this.element.hide()},_setupTrigger:function(){this.delegateEvents(this.get("trigger"),"click",function(e){e.preventDefault(),this.activeTrigger=r(e.currentTarget),this.show()})},_setupMask:function(){var e,t=this.get("hasMask"),i=parseInt(this.get("zIndex"),10),s=this;this.before("show",function(){t&&(e=o.get("zIndex"),o.set("zIndex",i-1).show(),t.hideOnClick&&o.element.one("click",function(){s.hide()}))}),this.after("hide",function(){t&&o.set("zIndex",e).hide()})},_setupFocus:function(){this.after("show",function(){this.element.focus()}),this.after("hide",function(){this.activeTrigger&&this.activeTrigger.focus()})},_setupKeyEvents:function(){this.delegateEvents(r(document),"keyup",function(e){27===e.keyCode&&this.get("visible")&&this.hide()})},_showIframe:function(){var e=this;this.iframe||this._createIframe(),this.iframe.attr({src:this._fixUrl(),name:"dialog-iframe"+(new Date).getTime()}),this.iframe.one("load",function(){e.get("visible")&&(e.get("autoFit")&&(clearInterval(e._interval),e._interval=setInterval(function(){e._syncHeight()},300)),e._syncHeight(),e._setPosition(),e.trigger("complete:show"))})},_fixUrl:function(){var e=this.get("content").match(/([^?#]*)(\?[^#]*)?(#.*)?/);return e.shift(),e[1]=(e[1]&&"?"!==e[1]?e[1]+"&":"?")+"t="+(new Date).getTime(),e.join("")},_createIframe:function(){var e=this;this.iframe=r("<iframe>",{src:"javascript:'';",scrolling:"no",frameborder:"no",allowTransparency:"true",css:{border:"none",width:"100%",display:"block",height:"100%",overflow:"hidden"}}).appendTo(this.contentElement),l.mixTo(this.iframe[0]),this.iframe[0].on("close",function(){e.hide()})},_syncHeight:function(){var e;if(this.get("height"))clearInterval(this._interval),delete this._interval;else{try{this._errCount=0,e=n(this.iframe)+"px"}catch(t){this._errCount=(this._errCount||0)+1,this._errCount>=6&&(e=h,clearInterval(this._interval),delete this._interval)}this.element.css("height",e),this.element[0].className=this.element[0].className}}});i.exports=c});
;define("common:widget/oui/arale/popup/1.1.2/popup",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/overlay/1.1.2/overlay"],function(e,t,i){function n(e,t,i,n,s){var o=n&&n[0];s.delegateEvents(o?n:t,o?e+" "+t.selector:e,function(e){i.call(e.currentTarget,e)})}var s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/arale/overlay/1.1.2/overlay"),r=o.extend({attrs:{trigger:{value:null,getter:function(e){return s(e)}},triggerType:"hover",delegateNode:{value:null,getter:function(e){return s(e)}},align:{value:{baseXY:[0,"100%"],selfXY:[0,0]},setter:function(e){return e?(e.baseElement?this._specifiedBaseElement=!0:this.activeTrigger&&(e.baseElement=this.activeTrigger),e):void 0},getter:function(e){return s.extend({},e,this._specifiedBaseElement?{}:{baseElement:this.activeTrigger})}},delay:70,disabled:!1,effect:"",duration:250},setup:function(){r.superclass.setup.call(this),this._bindTrigger(),this._blurHide(this.get("trigger")),this.activeTrigger=this.get("trigger").eq(0)},show:function(){return this.get("disabled")?void 0:r.superclass.show.call(this)},_bindTrigger:function(){var e=this.get("triggerType");"click"===e?this._bindClick():"focus"===e?this._bindFocus():this._bindHover()},_bindClick:function(){function e(e){t.get("disabled")||t.get("trigger").each(function(i,n){e==n?(n._active=!0,t.activeTrigger=s(n)):n._active=!1})}var t=this;n("click",this.get("trigger"),function(i){"a"===this.tagName.toLowerCase()&&i.preventDefault(),this._active===!0?t.hide():(e(this),t.show())},this.get("delegateNode"),this),this.before("hide",function(){e()})},_bindFocus:function(){var e=this;n("focus",this.get("trigger"),function(){e.activeTrigger=s(this),e.show()},this.get("delegateNode"),this),n("blur",this.get("trigger"),function(){setTimeout(function(){!e._downOnElement&&e.hide(),e._downOnElement=!1},e.get("delay"))},this.get("delegateNode"),this),this.delegateEvents("mousedown",function(){this._downOnElement=!0})},_bindHover:function(){function e(){clearTimeout(t),t=null,u.get("visible")&&(i=setTimeout(function(){u.hide()},g))}var t,i,o=this.get("trigger"),r=this.get("delegateNode"),g=this.get("delay"),u=this;return 0>g?void this._bindTooltip():(n("mouseenter",o,function(){clearTimeout(i),i=null,u.activeTrigger=s(this),t=setTimeout(function(){u.show()},g)},r,this),n("mouseleave",o,e,r,this),this.delegateEvents("mouseenter",function(){clearTimeout(i)}),void this.delegateEvents("mouseleave",e))},_bindTooltip:function(){var e=this.get("trigger"),t=this.get("delegateNode"),i=this;n("mouseenter",e,function(){i.activeTrigger=s(this),i.show()},t,this),n("mouseleave",e,function(){i.hide()},t,this)},_onRenderVisible:function(e){var t=-1!==this.get("effect").indexOf("fade"),i=-1!==this.get("effect").indexOf("slide"),n={};i&&(n.height=e?"show":"hide"),t&&(n.opacity=e?"show":"hide"),t||i?this.element.stop(!0,!0).animate(n,this.get("duration")).css({visibility:"visible"}):this.element[e?"show":"hide"]()}});i.exports=r});
;define("common:widget/oui/arale/sticky/1.2.1/sticky",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t,i,e){function s(t){this.options=t||{},this.elem=n(this.options.element),this.callback=t.callback||function(){},this.marginTop=t.marginTop||0,this._stickyId=c++}function o(t,i,e){return new s({element:t,marginTop:i||0,callback:e}).render()}function l(){return!m}function r(){if(p)return!1;var t=a[0].body;if(a[0].createElement&&t&&t.appendChild&&t.removeChild){var i,e=a[0].createElement("div"),s=function(t){return window.getComputedStyle?window.getComputedStyle(e).getPropertyValue(t):e.currentStyle.getAttribute(t)};t.appendChild(e);for(var o=0;o<h.length&&(e.style.cssText="position:"+h[o]+"sticky;visibility:hidden;",!(i=-1!==s("position").indexOf("sticky")));o++);return e.parentNode.removeChild(e),i}}var n=t("common:widget/oui/lib/jquery/1.9.1/jquery"),a=n(document),h=["-webkit-","-ms-","-o-","-moz-",""],c=0,d=(window.navigator.userAgent||"").toLowerCase(),p=-1!==d.indexOf("msie"),m=-1!==d.indexOf("msie 6"),u=r(),y=l();s.prototype.render=function(){var t=this;if(this.elem.length&&!this.elem.data("bind-sticked")){if(this._originTop=this.elem.offset().top,this.marginTop===Number.MAX_VALUE){var i=!0;this.marginTop=this._originTop}this._originStyles={position:null,top:null,left:null};for(var e in this._originStyles)this._originStyles.hasOwnProperty(e)&&(this._originStyles[e]=this.elem.css(e));var s;if(o.isPositionStickySupported&&!i){s=this._supportSticky;for(var l="",r=0;r<h.length;r++)l+="position:"+h[r]+"sticky;";this.elem[0].style.cssText+=l+"top: "+this.marginTop+"px;"}else o.isPositionFixedSupported?s=this._supportFixed:(s=this._supportAbsolute,n("<style type='text/css'> * html{ background:url(null) no-repeat fixed; } </style>").appendTo("head"));return s.call(this),n(window).on("scroll."+this._stickyId,function(){t.elem.is(":visible")&&s.call(t)}),this.elem.data("bind-sticked",!0),this}},s.prototype._supportFixed=function(){var t=this._originTop-a.scrollTop();!this.elem.data("sticked")&&t<=this.marginTop?(this._addPlaceholder(),this.elem.css({position:"fixed",top:this.marginTop,left:this.elem.offset().left}),this.elem.data("sticked",!0),this.callback.call(this,!0)):this.elem.data("sticked")&&t>this.marginTop&&this._restore()},s.prototype._supportAbsolute=function(){var t=this._originTop-a.scrollTop();t<=this.marginTop?(this.elem.data("sticked")||(this._addPlaceholder(),this.elem.data("sticked",!0),this.callback.call(this,!0)),this.elem.css({position:"absolute",top:this.marginTop+a.scrollTop()})):this.elem.data("sticked")&&t>this.marginTop&&this._restore()},s.prototype._supportSticky=function(){var t=this._originTop-a.scrollTop();!this.elem.data("sticked")&&t<=this.marginTop?(this.elem.data("sticked",!0),this.callback.call(this,!0)):this.elem.data("sticked")&&t>this.marginTop&&this.callback.call(this,!1)},s.prototype._restore=function(){this._removePlaceholder(),this.elem.css(this._originStyles),this.elem.data("sticked",!1),this.callback.call(this,!1)},s.prototype._addPlaceholder=function(){var t=!1,i=this.elem.css("position");("static"===i||"relative"===i)&&(t=!0),"block"!==this.elem.css("display")&&(t=!1),t&&(this._placeholder=n('<div style="visibility:hidden;margin:0;padding:0;"></div>'),this._placeholder.width(this.elem.outerWidth(!0)).height(this.elem.outerHeight(!0)).css("float",this.elem.css("float")).insertAfter(this.elem))},s.prototype._removePlaceholder=function(){this._placeholder&&this._placeholder.remove()},s.prototype.destory=function(){this._restore(),this.elem.data("bind-sticked",!1),n(window).off("scroll."+this._stickyId)},e.exports=o,o.stick=o,o.fix=function(t){return new s({element:t,marginTop:Number.MAX_VALUE}).render()},o.isPositionStickySupported=u,o.isPositionFixedSupported=y});
;define("common:widget/oui/arale/tip/1.1.4/tip",["require","exports","module","common:widget/oui/arale/popup/1.1.2/popup"],function(t,e,i){var o=t("common:widget/oui/arale/popup/1.1.2/popup"),n=o.extend({attrs:{content:null,direction:"up",distance:8,arrowShift:22,pointPos:"50%"},_setAlign:function(){var t={},e=this.get("arrowShift"),i=this.get("distance"),o=this.get("pointPos"),n=this.get("direction");0>e&&(e="100%"+e),"up"===n?(t.baseXY=[o,0],t.selfXY=[e,"100%+"+i]):"down"===n?(t.baseXY=[o,"100%+"+i],t.selfXY=[e,0]):"left"===n?(t.baseXY=[0,o],t.selfXY=["100%+"+i,e]):"right"===n&&(t.baseXY=["100%+"+i,o],t.selfXY=[0,e]),this.set("align",t)},setup:function(){n.superclass.setup.call(this),this._setAlign()},_onRenderContent:function(t){var e=this.$('[data-role="content"]');"string"!=typeof t&&(t=t.call(this)),e&&e.html(t)}});i.exports=n});
;define("common:widget/oui/arale/tip/1.1.4/atip",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/tip/1.1.4/tip"],function(i,t,o){var e=i("common:widget/oui/lib/jquery/1.9.1/jquery"),s=i("common:widget/oui/arale/tip/1.1.4/tip"),n=s.extend({attrs:{template:'<div class="ui-poptip"><div class="ui-poptip-shadow"><div class="ui-poptip-container"><div class="ui-poptip-arrow"><em></em><span></span></div><div class="ui-poptip-content" data-role="content"></div></div></div></div>',content:"这是一个提示框",arrowPosition:7,theme:"yellow",inViewport:!1,width:"auto",height:"auto"},setup:function(){this._originArrowPosition=this.get("arrowPosition"),n.superclass.setup.call(this)},show:function(){n.superclass.show.call(this),this._makesureInViewport()},_makesureInViewport:function(){if(this.get("inViewport")){var i=this._originArrowPosition,t=e(window).scrollTop(),o=e(window).outerHeight(),s=this.element.height()+this.get("distance"),n=e(this.get("trigger")).offset().top,r={1:"5",5:"1",7:"11",11:"7"};(11===i||1===i)&&n>t+o-s?this.set("arrowPosition",r[i]):(7===i||5===i)&&t+s>n?this.set("arrowPosition",r[i]):this.set("arrowPosition",this._originArrowPosition)}},_onRenderArrowPosition:function(i,t){i=parseInt(i,10);var o=this.$(".ui-poptip-arrow");o.removeClass("ui-poptip-arrow-"+t).addClass("ui-poptip-arrow-"+i);var e="",s=0;10===i?(e="right",s=20):11===i?(e="down",s=22):1===i?(e="down",s=-22):2===i?(e="left",s=20):5===i?(e="up",s=-22):7===i&&(e="up",s=22),this.set("direction",e),this.set("arrowShift",s),this._setAlign()},_onRenderWidth:function(i){this.$('[data-role="content"]').css("width",i)},_onRenderHeight:function(i){this.$('[data-role="content"]').css("height",i)},_onRenderTheme:function(i,t){this.element.removeClass("ui-poptip-"+t),this.element.addClass("ui-poptip-"+i)}});o.exports=n});
;define("common:widget/oui/protocol",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/utils/utils"],function(e,t,a){var n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),r=e("common:widget/ui/utils/utils"),s={REQ:"req",OPT:"opt",COND:"cond"},o={getNews:{url:"/about/about!json.action?flag=news",type:"GET",dataType:"json",_list:"news"},getNotices:{url:"/about/about!json.action?flag=notices",type:"GET",dataType:"json",_list:"notices"},getNewbeeLoans:{url:"/lend/loanList!newComerLoanJson.action",type:"GET",dataType:"json",_list:"loans"},getIndexNewbeeLoans:{url:"/lend/loanList!newComerLoanJson.action",type:"GET",dataType:"json",_list:"newComerLoans"},getLoans:{url:"/lend/loanList!json.action",type:"GET",dataType:"json",_list:"loans"},getLoansTransfer:{url:"/transfer/transferList!json.action",type:"GET",dataType:"json",_list:"transferList"},getLoanInvestmentRecords:{url:"/lend/getborrowerandlenderinfo.action",type:"GET",dataType:"json",params:{loanId:s.REQ},_params:{id:"lenderRecords"},_list:"lenderRecords"},getLoanLenderRecords:{url:"/lend/getborrowerandlenderinfo.action",type:"GET",dataType:"json",params:{loanId:s.REQ},_params:{id:"lenderInfo"},_list:"lenders"},getLoanTransferRecords:{url:"/transfer/transactionList.action",type:"GET",dataType:"json",params:{loanId:s.REQ},_list:"loanTransferLogList"},getLoanRepaymentRecords:{url:"/lend/getborrowerandlenderinfo.action",type:"GET",dataType:"json",params:{loanId:s.REQ},_params:{id:"repayDetail"},_list:"phases"},getLoanCollectionRecords:{url:"/lend/dunDetail.action",type:"GET",dataType:"json",params:{loanId:s.REQ},_list:"dunInfoList"},getCreditInfo:null,getCommentsOnLoan:{url:"/lend/loanCommentList.action",type:"GET",dataType:"json",params:{loanId:s.REQ,pageIndex:s.OPT}},postCommentOnLoan:{url:"/lend/commentLoan.action",type:"POST",dataType:"json",params:{id:s.REQ,threadId:s.REQ,comment:s.REQ}},getPlans:{url:"/financeplan/listPlan!listPlanJson.action",type:"GET",dataType:"json",params:{category:s.REQ},_list:"plans"},getAutoinvestPlans:{url:"/autoinvestplan/listPlan!listPlanJson.action",type:"GET",dataType:"json",_list:"plans"},getPlanReserveRecords:{url:"/financeplan/getFinancePlanLenders!reserveRecord.action",type:"GET",dataType:"json",params:{financePlanStr:s.REQ},_list:"rsvList"},getAutoinvestPlanBidLoans:{url:"/account/invest!autoInvestPlanBidLoanJson.action",type:"GET",dataType:"json",params:{financeId:s.REQ,subPointId:s.REQ,pageIndex:s.OPT},_list:"subPointLoanLenderVoList"},getPlanJoinedRecords:{url:"/financeplan/getFinancePlanLenders.action",type:"GET",dataType:"json",params:{financePlanStr:s.REQ},_list:"jsonList"},getPlanPerformance:{url:"/financeplan/listPlan!planResults.action",type:"GET",dataType:"json",params:{financePlanId:s.REQ}},getAutoinvestJoinedRecords:{url:"/autoinvestplan/listPlan!getAutoInvestPlanBuyerRecords.action",type:"GET",dataType:"json",params:{autoInvestPlanId:s.REQ},_list:"jsonList"},getUnreadMsgCount:{url:"/getUnreadMailsCount.action",type:"GET",dataType:"json"},getUnreadNewTask:{url:"/event/newTask!isDisplayNewTaskMark.action",type:"GET",dataType:"json"},getHomePageUserInfoHttp:{url:"/getHomePageUserInfo.action",type:"GET",dataType:"json"},getHomePageUserInfoHttps:{url:"/account/getHomePageUserInfo.action",type:"GET",dataType:"json"},getUserBankInfo:null,getFundList:{url:"/fund/fundInfoAction!fundlist.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"resultList"},getFundBreakEven:{url:"/fund/fundInfoAction!topList.action",type:"GET",dataType:"json",_list:"resultList"},getFundRankList:{url:"/fund/fundRankAction!rankList.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"resultList"},getFundtopList:{url:"/fund/fundInfoAction!fundlist.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"resultList"},getUserFundTransactions:{url:"/fund/userFundAction!tradeLog.action",type:"GET",dataType:"json",params:{range:s.REQ,opType:s.COND},_list:"pointLogs"},getUserTransactions:{url:"/account/capital!transactionJson.action",type:"GET",dataType:"json",params:{type:s.REQ,year:s.COND,startMonth:s.COND,endMonth:s.COND,time:s.COND},_list:"pointLogs"},getUserRepayingRecords:{url:"/account/borrow!listInProgress.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"data"},getUserRepaidRecords:{url:"/account/borrow!listDoneLoans.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"data"},getUserLoanRepaymentRecords:{url:"/account/borrow!listRecord.action",type:"GET",dataType:"json",params:{loanId:s.REQ}},getUserLoanApplicationRecords:{url:"/account/borrow!listAll.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"data"},getUserLoansRepaying:{url:"/account/invest!loanJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{loanType:"REPAYING_LOAN"},_list:"loanList"},getUserLoansRepaid:{url:"/account/invest!loanJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{loanType:"FINISH_LOAN"},_list:"loanList"},getUserLoansInProgress:{url:"/account/invest!loanJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{loanType:"BID_LOAN"},_list:"loanList"},getUserLoansReturnRecords:{url:"/account/invest!backAccountJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT,backStatus:s.OPT,backStartTime:s.OPT,backEndTime:s.OPT},_list:"backAccountVo"},getUserTransferringLoans:{url:"/account/invest!transferJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{transferType:"OF_TRANSFERRED"},_list:"transferList"},getUserTransferableLoans:{url:"/account/invest!transferJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{transferType:"PRE_TRANSFERRED"},_list:"transferList"},getUserTransferredInLoans:{url:"/account/invest!transferJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{transferType:"INTO_TRANSFERRED"},_list:"transferList"},getUserTransferredOutLoans:{url:"/account/invest!transferJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{transferType:"OUT_TRANSFERRED"},_list:"transferList"},getUserTransferredOutRecords:{url:"/account/invest!getTranfsferLogJson.action",type:"GET",dataType:"json",params:{tranfsferId:s.REQ,pageIndex:s.OPT},_list:"transferLogList"},getUserTransferredInRecords:{url:"/account/invest!getTranfsferInLogJson.action",type:"GET",dataType:"json",params:{tranfsferId:s.REQ,pageIndex:s.OPT},_list:"transferLogList"},getUserTransferredLogJsonRecords:{url:"/account/invest!getTranfsferLogJson.action",type:"GET",dataType:"json",params:{tranfsferId:s.REQ,pageIndex:s.OPT},_list:"transferLogList"},getUserHoldingPlans:{url:"/account/invest!planJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{planType:"HOLD_PLAN"},_list:"financePlanList"},getUserExitingPlans:{url:"/account/invest!planJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{planType:"EXITING_PLAN"},_list:"financePlanList"},getUserExitedPlans:{url:"/account/invest!planJson.action",type:"GET",dataType:"json",params:{planType:s.OPT},_params:{planType:"EXIT_PLAN"},_list:"financePlanList"},getUserReservePlans:{url:"/account/invest!planJson.action",type:"GET",dataType:"json",params:{planType:s.OPT},_params:{planType:"RESERVE_PLAN"},_list:"financePlanList"},getUserPlanRecords:{url:"/account/invest!planInfoJson.action",type:"GET",dataType:"json",params:{financeId:s.REQ,subPointId:s.REQ,pageIndex:s.OPT},_list:"financePlanList"},getUserInfo:{url:"/account/myInfo!userDetailLoanList.action",type:"GET",params:{userId:s.REQ},dataType:"json",_list:"loanList"},getExpectedAmountsForPlanExiting:{url:"/account/invest!planInfoForExitingJson.action",type:"GET",dataType:"json",params:{subPointId:s.REQ}},getUserReversPlanPay:{url:"/account/invest!detailPlanRsv.action",type:"GET",dataType:"json",params:{financeId:s.REQ}},getUnuseCoupon:{url:"/account/coupon!couponJson.action",type:"GET",dataType:"json",_params:{couponType:"HOLD_UNUSE"},_list:"couponList"},getUsedCoupon:{url:"/account/coupon!couponJson.action",type:"GET",dataType:"json",_params:{couponType:"HOLD_USED"},_list:"couponList"},getExpiredCoupon:{url:"/account/coupon!couponJson.action",type:"GET",dataType:"json",_params:{couponType:"HOLD_EXPIRE"},_list:"couponList"},getUserFundRecords:{url:"/fund/userFundAction!tradeLog.action",type:"GET",dataType:"json",_params:{range:s.REQ,opType:s.COND},_list:"pointLogs"},getUserHoldingFund:{url:"/fund/userFundAction!myFundList.action",type:"GET",dataType:"json",_params:{viewType:"0"},_list:"resultList"},getUserFundSubscribing:{url:"/fund/userFundAction!myFundList.action",type:"GET",dataType:"json",_params:{viewType:"1",status:"1"},_list:"resultList"},getUserFundRedeeming:{url:"/fund/userFundAction!myFundList.action",type:"GET",dataType:"json",_params:{viewType:"1",status:"2"},_list:"resultList"},getUserFundCallOption:{url:"/fund/userFundAction!myFundList.action",type:"GET",dataType:"json",_params:{viewType:"1",status:"4"},_list:"resultList"},getUserLoansRetired:{url:"/fund/userFundAction!myFundList.action",type:"GET",dataType:"json",_params:{viewType:"2"},_list:"resultList"}},u=function(e){n.extend(this,{CREDITINFO_MAPPING:[{key:"credit",name:"信用报告"},{key:"identificationScanning",name:"身份认证"},{key:"graduation",name:"学历认证"},{key:"work",name:"工作认证"},{key:"titles",name:"职称认证"},{key:"incomeDuty",name:"收入认证"},{key:"house",name:"房产认证"},{key:"car",name:"车产认证"},{key:"marriage",name:"婚姻认证"},{key:"residence",name:"居住地证明"},{key:"fieldAudit",name:"实地认证"},{key:"organization",name:"机构担保"},{key:"video",name:"视频认证"},{key:"mobileReceipt",name:"手机认证"},{key:"kaixin",name:"微博认证"},{key:"other",name:"其他认证"}],URL:{userHome:"/account/myInfo.action?userId=",planDetails:"/financeplan/",loanDetails:"/loan/",loanApplication:"/borrow/borrow.action",loanTransferDetails:"/transfer/",userPlan:"/account/invest!planInfo.action?financeId=",helpForBorrower:"/help/borrow/borrow!borrowProduct.action#",autoinvestDeatils:"/autoinvestplan/"},protocol:e})};n.extend(u.prototype,{_getDatehour:function(e,t){var a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/i;if(isNaN(Date.parse(e))||a.test(e))return"date"==t&&e?e.substring(11,16):"";var n=new Date(e),r=n.getHours(),s=n.getMinutes();return r=10>r?"0"+r:r,s=10>s?"0"+s:s,r+":"+s},_getDatemonth:function(e,t){var a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/i;if(isNaN(Date.parse(e))||a.test(e)){if("date"==t){if(e){var n=Number(e.substring(5,7)),r=Number(e.substring(8,10));return r=10>r?"0"+r:r,n=10>n?"0"+n:n,n+"."+r}return""}return""}var s=new Date(e),n=s.getMonth()+1,r=s.getDate();return r=10>r?"0"+r:r,n=10>n?"0"+n:n,n+"."+r},_getDateyear:function(e,t){var a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/i;if(isNaN(Date.parse(e))||a.test(e)){if("date"==t){var n=Number(e.substring(5,7)),r=e.substring(0,4);return n=10>n?"0"+n:n,r+"年"+n+"月"}return""}var s=new Date(e),n=s.getMonth()+1,r=s.getFullYear();return r+"年"+n+"月"},_getDateTime:function(e,t){var a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/i;if(isNaN(Date.parse(e))||a.test(e))return"date"==t?e?e.substring(0,10):"":e?e.substring(0,16).replace("T"," "):"";var n=new Date(e),r=n.getFullYear(),s=n.getDate(),o=n.getMonth()+1;if(s=10>s?"0"+s:s,o=10>o?"0"+o:o,"date"==t)return r+"-"+o+"-"+s;var i=n.getHours(),u=n.getMinutes();return i=10>i?"0"+i:i,u=10>u?"0"+u:u,r+"-"+o+"-"+s+" "+i+":"+u},_getDate4Long:function(e){"string"==typeof e&&(e=Number(e));var t=new Date(e),a=t.getFullYear(),n=t.getDate(),r=t.getMonth()+1;return n=10>n?"0"+n:n,r=10>r?"0"+r:r,a+"-"+r+"-"+n},_bankersRound:function(e,t){"string"==typeof e&&(e=parseFloat(e));var a=1e-8,n=0!==e?Math.floor(e/Math.abs(e)):1;return t=null===t||void 0===t?2:t,e=Math.abs(e)*Math.pow(10,t),i=Math.floor(e),f=e-i,e=Math.abs(f-.5)<a?1==(1&i)?i+1:i:Math.round(e),(n*e/Math.pow(10,t)).toFixed(2)},_fixedFloat2:function(e){return"string"==typeof e&&(e=parseFloat(e,10)),parseFloat(Math.round(100*e)/100,10).toFixed(2)},_commaInteger:function(e){return e=parseInt(e,10),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},_commaFloat:function(e){return this._fixedFloat2(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},_loanRepaidStatus:function(e){return"string"!=typeof e&&(e=parseInt(e,10)),5==e||"BAD_DEBT"==e?"垫付结清":6==e||"CLOSED"==e?"正常结清":""},_loanStatus:function(e){return"string"!=typeof e&&(e=parseInt(e,10)),0===e||"OPEN"==e?"招标中":1==e||"READY"==e?"已满标":2==e||"FAILED"==e?"已流标":3==e||"IN_PROGRESS"==e?"还款中":4==e||"OVER_DUE"==e?"逾期":5==e||"BAD_DEBT"==e?"坏账":6==e||"CLOSED"==e?"已还清":7==e||"FIRST_APPLY"==e?"申请中":8==e||"FIRST_READY"==e?"已满标":9==e||"PRE_SALES"==e?"预售中":11==e||"FANGBIAO_PROCESSING"==e?"放款中":12==e||"LIUBIAO_PROCESSING"==e?"流标中":""},_fundStatus:function(e,t){return"string"!=typeof e&&(e=parseInt(e,10)),0==e&&1==t?"申购中":0==e&&2==t?"赎回中":0==e&&4==t?"认购中":1==e&&1==t?"申购中":1==e&&4==t?"认购中":2==e?"赎回中":3==e&&1==t?"申购成功":4==e&&1==t?"申购失败":3==e&&2==t?"赎回成功":4==e&&2==t?"赎回失败":3==e&&4==t?"认购成功":4==e&&4==t?"认购失败":""},_planStatus:function(e,t,a,n,r){return e&&"true"==e?"申请期":"OLD"!=t?"true"==r?"收益中（"+n+"天）":"收益中（"+n+"天）":"REDEMPTION_PERIOD"==a?"开放期":"REDEMPTION_PERIOD"==a?"已结束":"收益中（"+n+"天）"},_returnStatus:function(e){return 0===e||"REPAID"==e?"已收":1==e||"UNREPAID"==e?"待收":2==e||"OVER_DUE"==e?"逾期":""},_loanType:function(e){return"XYRZ"==e?"信用认证标":"SDRZ"==e?"实地认证标":"JGDB"==e?"机构担保标":"ZNLC"==e?"智能理财标":""},_jobType:function(e){return"工薪阶层"==e?{name:"工薪阶层",anchor:"prod-work"}:"私营企业主"==e?{name:"私营企业主",anchor:"prod-biz"}:"网商"==e||"网络商家"==e?{name:"网商",anchor:"prod-ecomm"}:null},news:function(e){return{title:e.title,content:e.description,date:this._getDateTime(e.time,"date"),noticeId:e.noticeId}},notices:function(e){return{title:e.title,content:e.description,date:this._getDateTime(e.time,"date"),noticeId:e.noticeId}},loan:function(e,t){var a=parseInt(100*this._bankersRound(e.finishedRatio/100),10);100==a&&e.finishedRatio<100&&e.finishedRatio>99&&(a=99);var n={title:e.title,loanType:e.displayLoanType,loanTypeText:this._loanType(e.displayLoanType),creditLevel:e.borrowerLevel,investor:e.nickName,interest:this._fixedFloat2(e.interest),amount:this._commaFloat(e.amount),term:e.months,progress:a,link:this.URL.loanDetails+e.loanId,status:e.status,itemStyle:t%2===0?"":"dark"};return"OPEN"==n.status&&(n.buttonLink=this.URL.loanDetails+e.loanId),n},loansTransfer:function(e,t){return{title:e.title,loanType:e.displayLoanType,loanTypeText:this._loanType(e.displayLoanType),creditLevel:e.borrowerLevel,interest:this._fixedFloat2(e.interest),link:this.URL.loanTransferDetails+e.id,hasTransfered:"true"==e.hasTransfered?!0:!1,term:e.leftPhaseCount,cost:this._fixedFloat2(1!=e.minInvestShares?e.minInvestShares*e.pricePerShare:e.pricePerShare),share:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,discount:e.discountRatio<=1?100*e.discountRatio:e.discountRatio,price:this._fixedFloat2(1!=e.minInvestShares?e.resultPice*e.minInvestShares:e.resultPice),itemStyle:t%2===0?"":"dark"}},loanInvestmentRecord:function(e,t){return{id:t+1,investorShort:e.userNickName.length<=6?e.userNickName:e.userNickName.substring(0,6)+"...",investor:e.userNickName,mobileUsed:"MOBILE"===e.tradeMethod,isPlan:"FINANCEPLAN_BID"==e.lenderType,isAutoInvest:"AUTOINVESTPLAN_BID"==e.lenderType,autoInvestId:e.financePlanId,financeold:"OLD"==e.financeCategory,financeU:"OLD"!=e.financeCategory,financeCategoryStr:e.financeCategory,isAuto:"AUTO_BID"==e.lenderType,planId:e.financePlanId,userId:e.userId,planLink:this.URL.planDetails+e.financePlanId,amount:this._fixedFloat2(e.amount),time:this._getDateTime(e.lendTime),itemStyle:t%2===0?"":"dark"}},loanLenderRecord:function(e,t){return{id:t+1,investorShort:e.nickName.length<=6?e.nickName:e.nickName.substring(0,6)+"...",investor:e.nickName,userId:e.userId,isPlan:null!==e.financePlanId&&"0"==e.autoInvestPlanId,financeold:"OLD"==e.financePlanCategory,financeU:"OLD"!=e.financePlanCategory,isAutoInvest:"0"!=e.autoInvestPlanId,autoInvestId:e.financePlanId,financeCategoryStr:e.financePlanCategory,planId:e.financePlanId,planLink:this.URL.planDetails+e.financePlanId,amount:this._fixedFloat2(e.leftAmount),shares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,itemStyle:t%2===0?"":"dark"}},loanTransferRecord:function(e,t){return{buyerShort:e.toUserId.length<=4?e.toUserId:e.toUserId.substring(0,4)+"...",buyer:e.toUserId,buyerId:e.toNickName,toPlanId:e.financePlanId,toisPlan:null!=e.financePlanId&&"AUTO_INVEST_PLAN"!=e.toFinanceCategory,fromisPlan:null!=e.fromFinancePlanId&&"AUTO_INVEST_PLAN"!=e.fromFinanceCategory,toPlanLink:this.URL.planDetails+e.financePlanId,sellerShort:e.fromUserId.length<=4?e.fromUserId:e.fromUserId.substring(0,4)+"...",seller:e.fromUserId,sellerId:e.fromNickName,fromPlanId:e.fromFinancePlanId,fromPlanLink:this.URL.planDetails+e.fromFinancePlanId,amount:e.price,shares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,fromfinanceold:"OLD"==e.fromFinanceCategory,fromfinanceU:"OLD"!=e.fromFinanceCategory,fromfinanceCategoryStr:e.fromFinanceCategory,fromautoInvest:"AUTO_INVEST_PLAN"==e.fromFinanceCategory,tofinanceold:"OLD"==e.toFinanceCategory,tofinanceU:"OLD"!=e.toFinanceCategory,tofinanceCategoryStr:e.toFinanceCategory,toautoInvest:"AUTO_INVEST_PLAN"==e.toFinanceCategory,time:this._getDateTime(e.createTime),itemStyle:t%2===0?"":"dark"}},loanRepaymentRecord:function(e,t){return{repaidAmount:this._fixedFloat2(e.repaidAmount),unrepaidAmount:this._fixedFloat2(e.unRepaidAmount),repaidFee:this._fixedFloat2(e.repaidFee),unrepaidFee:this._fixedFloat2(e.unRepaidFee),allFee:this._fixedFloat2(e.repaidFee+e.unRepaidFee),status:e.repayType,date:""===e.repayTime?"--":this._getDateTime(e.repayTime,"date"),actualRepaydate:this._getDateTime(e.actualRepayTime,"date"),itemStyle:t%2===0?"":"dark"}},loanCollectionRecord:function(e,t){return{contact:e.contact,contactShort:e.contact.length<=6?e.contact:e.contact.substring(0,6)+"...",description:e.description,date:this._getDateTime(e.createTime,"date"),itemStyle:t%2===0?"":"dark"}},loanComment:function(e){var t=[],a=this;return e.repliedComments&&e.repliedComments.length&&n.each(e.repliedComments,function(e,n){n.commentTime&&(n.commentTime=a._getDateTime(n.commentTime)),n.avatar=null===n.avatar||""===n.avatar?n.gender&&1===n.gender?"/static/img/account/default-avatar-girl-56.png":"/static/img/account/default-avatar-56.png":n.avatar,t.push(n)}),{id:e.commentId,userName:e.displayName,userLink:this.URL.userHome+e.byUserId,postTime:this._getDateTime(e.commentTime),content:e.content,avatar:null===e.avatar||""===e.avatar?e.gender&&1===e.gender?"/static/img/account/default-avatar-girl-56.png":"/static/img/account/default-avatar-56.png":e.avatar,byUserId:e.byUserId,commentId:e.commentId,repliedComments:t}},plan:function(e,t){var a=this.URL.planDetails+e.id,n="",r=0,s=0;switch(e.status){case"0":n="等待预定",r=1,s=1;break;case"1":n="预定",r=1;break;case"2":n="预定满额";break;case"3":n="等待加入",s=1,r=1;break;case"4":n="立即加入",r=1;break;case"5":n="已满额";break;case"6":n="<span class='color-orange-text'>收益中</span>";break;case"7":n="开放期";break;case"8":n="已退出";break;case"-1":n="状态错误"}return{name:e.name,amount:this._commaInteger(e.amount),headCount:e.subPointCount,averageBidCount:e.averageBidCount,fundsUseRate:this._fixedFloat2(e.fundsUseRate),averageBidInterest:this._fixedFloat2(e.averageBidInterest),earnInterest:this._commaFloat(this._fixedFloat2(e.earnInterest<0?0:e.earnInterest)),createDate:e.createTime,expectedYearRate:e.expectedYearRate,itemStyle:t%2===0?"":"dark",statusinfo:n,status:e.status,alink:r,blink:s,link:a}},autoinvestPlan:function(e,t){var a=this.URL.autoinvestDeatils+e.id,n="";switch(e.status){case"0":n="等待加入";break;case"1":n="<a class='button button-list ui-button-orange' href='"+a+"'>立即加入</a>";break;case"2":n="<span class='color-orange-text'>收益中</span>";break;case"3":n="已退出";break;case"4":n="已退出";break;case"-1":n="状态错误"}return{name:e.name,amount:this._commaInteger(e.amount),subpointCountActual:e.subpointCountActual,expectedYearRate:this._commaFloat(e.expectedYearRate),earnInterest:this._commaFloat(e.earnInterest),itemStyle:t%2===0?"":"dark",statusinfo:n,link:a}},planReserveRecord:function(e,t){null!==e.ucodeId&&e.nickName.length>8&&(e.nickName=e.nickName.substr(0,8)+"...");var a=t%2===0?"":"dark",n=!1,r=!1,s=!1;return e.ucodeId?(a+=" buy-from-ucode",n=!0):"MOBILE"===e.tradeMethod?(a+=" buy-from-mobile",r=!0):"PC"===e.tradeMethod&&(a+=" buy-from-pc",s=!0),{id:t+1,userId:e.userId,investor:e.nickName,ucodeUsed:n,mobileUsed:r,webUsed:s,planAmount:this._commaInteger(e.planAmount),planAmountNotComma:e.planAmount,reserveAmount:e.reserveAmount,date:this._getDateTime(e.createTime),status:e.reserveType,itemStyle:a}},planJoinedRecord:function(e,t){var a=t%2===0?"":"dark",n=!1,r=!1,s=!1;return e.ucodeId?(a+=" buy-from-ucode",n=!0):"MOBILE"===e.tradeMethod?(a+=" buy-from-mobile",r=!0):"PC"===e.tradeMethod&&(a+=" buy-from-pc",s=!0),{id:t+1,userId:e.userId,investor:e.nickName,ucodeUsed:n,mobileUsed:r,webUsed:s,amount:this._commaInteger(e.amount),date:this._getDateTime(e.createTime),itemStyle:a}},autoinvestJoinedRecord:function(e,t){return{id:t+1,userId:e.userId,investor:e.nickName,MobileOrPC:"PC"===e.tradeMethod?"PC":"PHONE",mobileUsed:"PC"===e.tradeMethod?!1:!0,webUsed:"PC"===e.tradeMethod?!0:!1,amount:this._commaInteger(e.amount),finalAmount:this._commaInteger(e.finalAmount),date:this._getDateTime(e.createTime),itemStyle:t%2===0?"":"dark"}},autoinvestPlanBidLoan:function(e,t){return ret={loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),name:e.title,amount:this._fixedFloat2(e.lendAmount),shares:e.lendShare,interest:this._fixedFloat2(e.interest),status:this._loanStatus(e.statusOrdinal),hasContract:!0,date:this._getDateTime(e.lendTime,"date"),itemStyle:t%2===0?"":"dark"},("招标中"==ret.status||"已满标"==ret.status||"已流标"==ret.status)&&(ret.hasContract=!1),e.lendShare>0&&e.transferShare>0?(ret.status="转让中",ret.transferring=!0):0===e.lendShare&&(ret.status="转让完成",ret.transferring=!0),ret},userTransaction:function(e,t){var a=e.income?this._fixedFloat2(e.income):void 0,n=e.pay?this._fixedFloat2(e.pay):void 0;return"服务费"==e.operation&&void 0===n&&(n="0.00"),{date:this._getDateTime(e.time,"date"),time:this._getDatehour(e.time,"date"),type:e.operation,credit:a,debit:n,balance:this._fixedFloat2(e.banlance),note:e.notes,loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,itemStyle:t%2===0?"":"dark"}},fundList:function(e){return{rateGrowth:e.rateGrowth?e.rateGrowth+"%":" --",rateMonth:e.rateMonth?e.rateMonth+"%":" --",rateSeason:e.rateSeason?e.rateSeason+"%":" --",rateHalfYear:e.rateHalfYear?e.rateHalfYear+"%":" --",rateYear:e.rateYear?e.rateYear+"%":" --",thisYear:e.thisYear?e.thisYear+"%":" --",remark:e.remark,fundCode:e.fundCode,abbrev:e.abbrev,fundType:e.fundType,fee:e.fee?e.fee:"--",rate7day:e.rate7day?e.rate7day:"--",profit10k:e.profit10k?e.profit10k:"--",minSubscript:e.minSubscript?e.minSubscript:"--",nav:e.nav?e.nav:"--",navColor:e.nav>0?"plus-color":"mius-color",profit10kColor:e.profit10k>0?"plus-color":"mius-color",is_safe:1==e.is_safe?!0:!1,sbPeriod06:0==e.fundStatus||6==e.fundStatus?!0:!1,sbPeriod1:1==e.fundStatus?!0:!1,sbPeriod458:4==e.fundStatus||5==e.fundStatus||8==e.fundStatus?!0:!1,sbPeriod9:9==e.fundStatus?!0:!1}},fundBreakEven:function(e){return{last:e.last>0?"剩余"+e.last+"天":"",isExpected:null!=e.expected?!0:!1,isNoteExpected:null!=e.expected?!1:!0,expected:e.expected,safeMoneyMonth:e.safeMoneyYear?12*e.safeMoneyYear:"--",endBuyDate:this._getDate4Long(e.endBuy),isSafe:5==e.fundType?!0:!1,isTop:1==e.isTop?!0:!1,fundType:e.fundType,fundCode:e.fundCode,abbrev:e.abbrev,notSbPeriod4:4==e.fundStatus?!1:!0,sbPeriod06:0==e.fundStatus||6==e.fundStatus?!0:!1,sbPeriod1:1==e.fundStatus?!0:!1,sbPeriod458:4==e.fundStatus||5==e.fundStatus||8==e.fundStatus?!0:!1,sbPeriod9:9==e.fundStatus?!0:!1,rateGrowth:e.rateGrowth?e.rateGrowth+"%":"--",rateMonth:e.rateMonth?e.rateMonth+"%":"--",rateSeason:e.rateSeason?e.rateSeason+"%":"--",rateHalfYear:e.rateHalfYear?e.rateHalfYear+"%":"--",rateYear:e.rateYear?e.rateYear+"%":"--",thisYear:e.thisYear?e.thisYear+"%":"--",remark:e.remark,fee:e.fee?e.fee:"--",rate7day:e.rate7day?e.rate7day:"--",profit10k:e.profit10k?e.profit10k:"--",minSubscript:e.minSubscript?e.minSubscript:"--",nav:e.nav?e.nav:"--",navColor:e.nav>0?"plus-color":"mius-color",profit10kColor:e.profit10k>0?"plus-color":"mius-color"}},fundRankList:function(e,t){return{rateGrowth:e.rateGrowth,rateMonth:e.rateMonth,rateSeason:e.rateSeason,rateHalfYear:e.rateHalfYear,rateYear:e.rateYear,thisYear:e.thisYear,remark:e.remark,fundCode:e.fundCode,abbrev:e.abbrev,fundType:e.fundType,fee:e.fee,rate7day:e.rate7day,profit10k:e.profit10k,minSubscript:e.minSubscript,nav:e.nav,navColor:e.nav>0?"plus-color":"mius-color",rateHalfYearColor:e.rateHalfYear>0?"plus-color":"mius-color",rateYearColor:e.rateYear>0?"plus-color":"mius-color",profit10kColor:e.profit10k>0?"plus-color":"mius-color",index:t+1,discount:e.discount,fundTypeName:r.getFundTypeString?r.getFundTypeString(e.fundType).typeString:"",islast:2==t?!0:!1}},fundtopList:function(e,t){var a=t>2?void 0:!0,n=3==t?!0:void 0;return{top:a,more:n,rateGrowth:e.rateGrowth,rateMonth:e.rateMonth,rateSeason:e.rateSeason,rateHalfYear:e.rateHalfYear,rateYear:e.rateYear,thisYear:e.thisYear,remark:e.remark,fundCode:e.fundCode,abbrev:e.abbrev,fundType:e.fundType,fee:e.fee,rate7day:e.rate7day,profit10k:e.profit10k,minSubscript:e.minSubscript,nav:e.nav,navColor:e.nav>0?"plus-color":"mius-color",profit10kColor:e.profit10k>0?"plus-color":"mius-color"}},userFundTransaction:function(e,t){var a=2===Number(e.opType)?"shuhui":void 0,n=2==Number(e.opType)&&0==Number(e.status)||2==Number(e.status)?"reding":void 0,r=2==Number(e.opType)&&3==Number(e.status)?"redsuccess":void 0,s=2==Number(e.opType)&&4==Number(e.status)?"redfailure":void 0;return{issub:a,reding:n,redsuccess:r,redfailure:s,date:this._getDateTime(e.ctime,"date"),time:this._getDatehour(e.ctime,"date"),type:e.opType,name:e.fundName,status:e.status,reckonArriveTime:this._getDateTime(e.reckonArriveTime,"date"),fundstatus:this._fundStatus(e.status,e.opType),subamount:this._fixedFloat2(e.sum),redeamount:Number(e.shares),itemStyle:t%2===0?"":"dark",fundChannel:e.fundChannel?"YM"==e.fundChannel?"珠海盈米财富管理有限公司":"北京钱景财富投资管理有限公司":"--"}},userRepayingRecord:function(e,t){return ret={loanId:e.id,loanLink:this.URL.loanDetails+e.id,title:e.name,amount:this._fixedFloat2(e.amount),interest:this._fixedFloat2(e.interest_year),termsLeft:e.left,termsInTotal:e.months,nextDueDate:e.nextDate,toRepayAmount:this._fixedFloat2(e.repaid),status:e.status,notOutsourceClose:"已结标"!=e.status,itemStyle:t%2===0?"":"dark",toRepayPrincipal:this._fixedFloat2(e.principal),interestForTerm:this._fixedFloat2(e.interest),mgmtFee:this._fixedFloat2(e.mgmtFee),overdueFee:this._fixedFloat2(e.overDueAmount),ratio:e.ratio,toRepayInTotal:this._fixedFloat2(e.total),feeName:e.feeRateName,feeValue:this._fixedFloat2(e.feeRateValue)},ret.repayAllDisabled="",("逾期"==ret.status||"坏账"==ret.status)&&(ret.repayAllDisabled="disabled"),ret},userRepaidRecord:function(e,t){return{loanId:e.id,loanLink:this.URL.loanDetails+e.id,title:e.name,amount:this._fixedFloat2(e.amount),interest:this._fixedFloat2(e.interest),termsInTotal:e.months,repaidInTotal:this._fixedFloat2(e.total),endDate:e.enddate,itemStyle:t%2===0?"":"dark"}},userLoanRepaymentRecord:function(e,t){var a="";return a="REPAID"==e.status?"IN_REPAY"==e.repaidType?"提前还款":"COMMON_REPAY"==e.repaidType?"正常还款":"OVER_DUE_REPAY"==e.repaidType?"逾期还款":"BAD_REPAY"==e.repaidType?"坏账还款":"":"UNREPAID"==e.status?"待还":"逾期",{loanId:e.id,repaymentDate:e.date,toRepayAmount:this._fixedFloat2(e.repayAmount),toRepayPrincipal:this._fixedFloat2(e.principal),toRepayInterest:this._fixedFloat2(e.interest),mgmtFee:this._fixedFloat2(e.mgmt),overdueFee:this._fixedFloat2(e.fee?e.fee:0),status:a,shouldRepay:"REPAID"!=e.status,termId:t+1,itemStyle:t%2===0?"":"dark"}},userLoanApplicationRecord:function(e,t){return ret={loanId:e.id,loanLink:this.URL.loanDetails+e.id,title:e.name,amount:this._fixedFloat2(e.amount),interest:this._fixedFloat2(e.interest),termsInTotal:e.months,status:e.status,itemStyle:t%2===0?"":"dark"},("首次申请"==ret.status||"草稿"==ret.status)&&(ret.status="申请中",ret.loanLink=this.URL.loanApplication),ret},userTransferringLoan:function(e,t){return e.loanTranfsferVo=e.loanTranfsferVo||{},{transferId:e.id,transferLink:this.URL.loanTransferDetails+e.id,loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),amount:this._fixedFloat2(e.amount),termsLeft:e.leftPhaseCount,termsInTotal:e.months,interest:this._fixedFloat2(e.interest),value:this._fixedFloat2(1!=e.minInvestShares?e.totalPricePershare*e.minInvestShares:e.totalPricePershare),price:this._fixedFloat2(1!=e.minInvestShares?e.resultPice*e.minInvestShares:e.resultPice),discount:this._fixedFloat2(e.discountRatio<=1?100*e.discountRatio:e.discountRatio),shares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,sharesInTotal:1!=e.minInvestShares?e.initialShare/e.minInvestShares:e.initialShare,investShares:e.initialShare,fee:this._fixedFloat2(e.loanTranfsferVo.fee||0),income:this._fixedFloat2(e.loanTranfsferVo.income||0),itemStyle:t%2===0?"":"dark"}},userTransferableLoan:function(e,t){return{loanId:e.id,loanLink:this.URL.loanDetails+e.id,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),nextDueDate:this._getDateTime(e.nextRepayDay,"date"),amount:this._fixedFloat2(e.amount),investShares:1!=e.minInvestShares?e.initialShare/e.minInvestShares:e.initialShare,termsLeft:e.leftPhaseCount,termsInTotal:e.months,interest:this._fixedFloat2(e.interest),repayments:this._fixedFloat2(e.interestAndCorpus*e.share),value:this._fixedFloat2(1!=e.minInvestShares?e.resultPice*e.share*e.minInvestShares:e.resultPice*e.share),shares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,lenderId:e.loanVo.lenderId,interestGained:this._fixedFloat2(e.loanVo.recoveryAmount),valuePerShare:this._fixedFloat2(1!=e.minInvestShares?e.resultPice*e.minInvestShares:e.resultPice),repaymentsPerShare:this._fixedFloat2(1!=e.minInvestShares?e.interestAndCorpus*e.minInvestShares:e.interestAndCorpus),interestPerShare:this._fixedFloat2(1!=e.minInvestShares?e.loanVo.pricePerShare*e.minInvestShares:e.loanVo.pricePerShare),principalPerShare:this._fixedFloat2(e.loanVo.principalPerShareNow),fee:e.fee,itemStyle:t%2===0?"":"dark"}},userTransferredInLoan:function(e,t){return{loanId:e.id,loanLink:this.URL.loanDetails+e.id,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),termsLeft:e.leftPhaseCount,termsInTotal:"",interest:this._fixedFloat2(e.interest),principal:this._fixedFloat2(e.inCorpus),value:this._fixedFloat2(1!=e.minInvestShares?e.inPrice*e.minInvestShares:e.inPrice),shares:1!=e.minInvestShares?e.inShare/e.minInvestShares:e.inShare,amount:this._fixedFloat2(1!=e.minInvestShares?e.income*e.minInvestShares:e.income),pnl:this._fixedFloat2(1!=e.minInvestShares?e.profit*e.minInvestShares:e.profit),date:this._getDateTime(e.createTime,"date"),itemStyle:t%2===0?"":"dark",loantransferlogId:e.loantransferlogId}},userTransferredOutLoan:function(e,t){return{loanId:e.id,loanLink:this.URL.loanDetails+e.id,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),transferId:e.tranfsferId,shares:1!=e.minInvestShares?e.outShare/e.minInvestShares:e.outShare,value:this._fixedFloat2(1!=e.minInvestShares?e.outSumPrice*e.minInvestShares:e.outSumPrice),price:this._fixedFloat2(1!=e.minInvestShares?e.outPrice*e.minInvestShares:e.outPrice),fee:this._fixedFloat2(e.fee),income:this._fixedFloat2(e.income),pnl:this._fixedFloat2(e.profit),itemStyle:t%2===0?"":"dark"}},userTransferredOutRecord:function(e,t){return{user:e.toNickName.length>6?e.toNickName.substr(0,6)+"...":e.toNickName,userfullname:e.toNickName,isPlan:"FINANCEPLAN_BID"==e.lenderType,isAutoinvest:"AUTOINVESTPLAN_BID"==e.lenderType,financeold:"OLD"==e.toFinanceCategory,financeU:"OLD"!=e.toFinanceCategory,financeCategoryStr:e.toFinanceCategory,planId:e.financePlanId,loanTypeName:this._loanType(e.displayLoanType),transferId:e.logId,planLink:this.URL.planDetails+e.financePlanId,userLink:this.URL.userHome+e.buyerId,value:this._fixedFloat2(e.pricePerShare),price:this._fixedFloat2(e.price),shares:e.share,fee:this._fixedFloat2(e.fee),income:this._fixedFloat2(e.income),pnl:this._fixedFloat2(e.profit),date:this._getDateTime(e.tranfsferDate,"date"),itemStyle:t%2===0?"":"dark"}
},userTransferredInRecord:function(e,t){return{leftPhaseCount:e.leftPhaseCount,planId:e.logId,value:this._fixedFloat2(e.pricePerShare),shares:e.share,fee:this._fixedFloat2(e.fee),income:this._fixedFloat2(e.income),amount:this._fixedFloat2(e.pricePerShare*e.share),pnl:this._fixedFloat2(e.profit),date:this._getDateTime(e.tranfsferDate,"date"),itemStyle:t%2===0?"":"dark"}},userTransferredLogJsonRecord:function(e,t){return{user:e.toNickName.length>10?e.toNickName.substr(0,10)+"...":e.toNickName,userfullname:e.toNickName,isPlan:"FINANCEPLAN_BID"==e.lenderType,isAutoinvest:"AUTOINVESTPLAN_BID"==e.lenderType,financeold:"OLD"==e.toFinanceCategory,financeU:"OLD"!=e.toFinanceCategory,financeCategoryStr:e.toFinanceCategory,planId:e.financePlanId,loanTypeName:this._loanType(e.displayLoanType),transferId:e.logId,planLink:this.URL.planDetails+e.financePlanId,userLink:this.URL.userHome+e.buyerId,value:this._fixedFloat2(e.pricePerShare),price:this._fixedFloat2(e.price),shares:e.share,fee:this._fixedFloat2(e.fee),income:this._fixedFloat2(e.income),pnl:this._fixedFloat2(e.profit),date:this._getDateTime(e.tranfsferDate,"date"),itemStyle:t%2===0?"":"dark"}},userHoldingPlan:function(e,t){return ret={name:e.name,link:this.URL.userPlan+e.id+"&subPointId="+e.financeSubPointId,subPointId:e.financeSubPointId,amount:this._fixedFloat2(e.finalAmount),formatAmount:this._commaFloat(this._fixedFloat2(e.finalAmount)),profit:this._commaFloat(this._fixedFloat2(e.earnAmount)),interest:this._fixedFloat2(e.aveLoanRate),loans:e.loanBidCount,available:this._fixedFloat2(e.availablePrice),fee:this._fixedFloat2(e.serviceFee),joinFee:this._fixedFloat2(e.joinFee),status:this._planStatus(e.isPurcharge,e.category,e.status,e.endLockingTime,e.canRollOver),itemStyle:t%2===0?"":"dark"},"PURCHASE_END"==e.status&&(ret.leftLockingDays=e.endLockingTime),"REDEMPTION_PERIOD"==e.status&&(ret.hasQuitButton=!0),"true"==e.canRollOver&&(ret.hasRollOverButton=!0),"true"==e.rollOverAlready&&(ret.rollOverAlready=!0),"REDEMPTION_PERIOD"!=e.status&&"true"!=e.canRollOver&&"true"!=e.rollOverAlready&&(ret.forbidRollOverButton=!0),ret},userExitingPlan:function(e,t){return ret={name:e.name,link:this.URL.userPlan+e.id+"&subPointId="+e.financeSubPointId,amount:this._commaFloat(e.finalAmount),withdrawnInterest:this._commaFloat(e.totalCashDrawInterest),transferredAmount:this._commaFloat(e.redProgress),availableAmount:this._commaFloat(e.availablePrice),remainedValue:this._fixedFloat2(e.remainingAmount),transferringCount:parseInt(e.transferringLoanCount,10),disabledCount:parseInt(e.disabledLoanCount,10),quitBeforeAmount:this._commaFloat(this._fixedFloat2((100*this._fixedFloat2(e.redProgress)+100*this._fixedFloat2(e.availablePrice))/100)),toBeTransferredAmount:this._commaFloat((100*this._fixedFloat2(e.remainingAmount)+100*parseInt(e.disabledLoanCount,10))/100),itemStyle:t%2===0?"":"dark"}},userExitedPlan:function(e,t){return ret={name:e.name,link:this.URL.userPlan+e.id+"&subPointId="+e.financeSubPointId,amount:this._commaFloat(e.finalAmount),profit:this._commaFloat(e.earnAmount),interest:this._fixedFloat2(e.aveLoanRate),loans:e.loanBidCount,fee:this._fixedFloat2(e.serviceFee),joinFee:this._fixedFloat2(e.joinFee),quitFee:this._fixedFloat2(e.quitFee),exitWay:e.exitWay,actualIncome:this._fixedFloat2(parseFloat(e.redProgress)+parseFloat(e.totalCashDrawInterest)),finishedDate:this._getDateTime(e.redFinishTime,"date"),itemStyle:t%2===0?"":"dark"},ret.interest=this._fixedFloat2(100*(this._fixedFloat2(e.earnAmount)/this._fixedFloat2(e.finalAmount))),ret},userReservePlan:function(e,t){return ret={planId:e.id,name:e.name,amount:this._commaFloat(e.planAmount),depositAmount:this._commaFloat(e.depositAmount),unRepayAmount:this._commaFloat(e.unRepayAmount),endPayMentTime:this._getDateTime(e.endPayMentTime),rsvStatus:"UNPAID"==e.rsvStatus?"等待支付":"支付超时",isNotOverDue:"OVERDUE"==e.rsvStatus?!1:!0,itemStyle:t%2===0?"":"dark"}},userPlanRecord:function(e,t){return ret={loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),name:e.title,amount:this._fixedFloat2(e.lendAmount),shares:e.lendShare,interest:this._fixedFloat2(e.interest),status:this._loanStatus(e.statusOrdinal),hasContract:!0,date:this._getDateTime(e.lendTime,"date"),itemStyle:t%2===0?"":"dark"},("招标中"==ret.status||"已满标"==ret.status||"已流标"==ret.status)&&(ret.hasContract=!1),e.lendShare>0&&e.transferShare>0?(ret.status="转让中",ret.transferring=!0):0===e.lendShare&&(ret.status="转让完成",ret.transferring=!0),ret},userLoansRepaying:function(e,t){return ret={loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),amount:this._fixedFloat2(e.share*e.amountPershare),shares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,termsLeft:e.leftPhases,termsInTotal:e.mouths,interest:this._fixedFloat2(e.interest),toRepay:this._fixedFloat2(e.recoveryAmount),monthlyRepay:this._fixedFloat2(e.monthlyRepay),status:this._loanStatus(e.status),repaidInterest:this._fixedFloat2(e.earnInterest),nextDueDate:e.nextRepayDate?this._getDateTime(e.nextRepayDate,"date"):"-",toRepayPrincipal:this._fixedFloat2(e.recoveryPrincipal),toRepayInterest:this._fixedFloat2(e.recoveryInterest),holdAmount:e.share,lenderId:e.loanLenderId,availableShares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,interestGained:this._fixedFloat2(e.recoveryAmount),valuePerShare:this._fixedFloat2(1!=e.minInvestShares?e.currentValuePerShare*e.minInvestShares:e.currentValuePerShare),repaymentsPerShare:this._fixedFloat2(1!=e.minInvestShares?e.recoveryAmountPerShare*e.minInvestShares:e.recoveryAmountPerShare),interestPerShare:this._fixedFloat2(1!=e.minInvestShares?e.loanVo.pricePerShare*e.minInvestShares:e.loanVo.pricePerShare),principalPerShare:this._fixedFloat2(e.loanVo.principalPerShareNow),pricePerShare:e.loanVo.pricePerShare?e.loanVo.pricePerShare+"元/份":"",fee:e.fee||.01,indirect:e.indirect,showlender:"OVER_DUE"===e.status||"BAD_DEBT"===e.status?!0:!1,itemStyle:t%2===0?"":"dark"},ret.status=e.transferShare>0?"转让中":ret.status,ret.operationType="TRANSFER_DISABLED","0"==e.isTransferable&&(ret.operationType="TRANSFER"),"逾期"==ret.status&&(ret.statusStyle="rrdcolor-red-text"),ret.overdue="逾期"==ret.status?!0:!1,ret.isCheckbox="0"==e.isTransferable?!0:!1,ret.indirect&&!ret.showlender&&(ret.onlyIndirect=!0),!ret.indirect&&ret.showlender&&(ret.onlyShowlender=!0),ret.indirect&&ret.showlender&&(ret.indirectShowlender=!0),ret.indirect||ret.showlender||(ret.noShowlender=!0),ret},userLoansRepaid:function(e,t){var a;return a="transfer"==e.finishType?"债权转让":"in_repay"==e.finishType?"提前结清 ":this._loanRepaidStatus(e.finishType),{loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),amount:this._fixedFloat2(e.amount),interest:this._fixedFloat2(e.interest),repaid:e.repayMoney,profit:e.earnMoney,clearDate:this._getDateTime(e.finishDate,"date"),clearType:a,isTransfer:"transfer"==e.finishType?!0:!1,itemStyle:t%2===0?"":"dark"}},userLoansInProgress:function(e,t){var a=parseInt(100*this._bankersRound(e.finishedRatio/100),10);return{loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),amount:this._fixedFloat2(e.amount),shares:parseInt(e.nowShare,10),interest:this._fixedFloat2(e.interest),terms:e.months,creditLevel:e.creditLevel,timeLeft:100==a?"--":e.remainderTime,progress:a,itemStyle:t%2===0?"":"dark"}},userLoansReturnRecord:function(e,t){return{loanId:e.loanId,loanType:e.type,loanLink:this.URL.loanDetails+e.loanId,date:"null"==e.date?"--":this._getDatemonth(e.date,"date"),note:e.note,isFirst:e.first,month:"null"==e.date?"--":this._getDateyear(e.date,"date"),itemStyle:t%2===0?"":"dark"}},userInfo:function(e){return{amount:this._commaInteger(e.amount),interest:this._fixedFloat2(e.interest),loanId:e.loanId,months:e.months,date:"null"==e.openTime?"--":this._getDateTime(e.openTime,"date"),overDued:e.overDued===!1?"未发生过逾期":"曾有过逾期记录",title:e.title,name:e.productAliasName,type:this._getProductTypeByName(e.productAliasName),status:e.status}},unuseCoupon:function(e,t){ret="UCODE"==e.couponTypeEng?{ucode:"true",className:"ucode-coupon",couponId:e.couponId,minInvestAmount:parseInt(e.minInvestAmount,10),usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),usedurl:function(){return"/account/coupon!useUcodeReserve.action?fromMyCoupons=fromCoupon&couponId="+e.couponId},itemStyle:t%4===3?"last":"",expireRemind:""==e.expireRemind?"":e.expireRemind,bookmarkClass:""==e.expireRemind?"fn-hide":""}:"VOUCHER"==e.couponTypeEng?{cash:"true",className:"cash-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),minInvestAmount:parseInt(e.minInvestAmount,10),usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":"",expireRemind:""==e.expireRemind?"":e.expireRemind,bookmarkClass:""==e.expireRemind?"fn-hide":""}:"DISCOUNT"==e.couponTypeEng?{redPacket:"true",className:"redPacket-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),discountRate:e.discountRate,usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":"",expireRemind:""==e.expireRemind?"":e.expireRemind,bookmarkClass:""==e.expireRemind?"fn-hide":""}:{free:"true",className:"free-coupon",couponId:e.couponId,validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":"",expireRemind:""==e.expireRemind?"":e.expireRemind,bookmarkClass:""==e.expireRemind?"fn-hide":""};var a=Math.ceil(e.__listLength/4),n=Math.ceil((t+1)/4);return n===a&&(ret.className+=" coupon-row-last"),ret},usedCoupon:function(e,t){ret="UCODE"==e.couponTypeEng?{ucode:"true",className:"ucode-coupon",couponId:e.couponId,investAmount:e.investAmount,consumeMemo:e.consumeMemo,consumeTime:this._getDateTime(e.consumeTime,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""}:"VOUCHER"==e.couponTypeEng?{cash:"true",className:"cash-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),investAmount:e.investAmount,consumeMemo:e.consumeMemo,consumeTime:this._getDateTime(e.consumeTime,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""}:"DISCOUNT"==e.couponTypeEng?{redPacket:"true",className:"redPacket-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),investAmount:e.investAmount,consumeMemo:e.consumeMemo,consumeTime:this._getDateTime(e.consumeTime,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""}:{free:"true",className:"free-coupon",couponId:e.couponId,investAmount:e.investAmount,consumeTime:this._getDateTime(e.consumeTime,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""};var a=Math.ceil(e.__listLength/4),n=Math.ceil((t+1)/4);return n===a&&(ret.className+=" coupon-row-last"),ret},expiredCoupon:function(e,t){ret="UCODE"==e.couponTypeEng?{ucode:"true",className:"ucode-coupon",couponId:e.couponId,minInvestAmount:parseInt(e.minInvestAmount,10),usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""}:"VOUCHER"==e.couponTypeEng?{cash:"true",className:"cash-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),minInvestAmount:parseInt(e.minInvestAmount,10),usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""}:"DISCOUNT"==e.couponTypeEng?{redPacket:"true",className:"redPacket-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),discountRate:e.discountRate,usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":"",expireRemind:""==e.expireRemind?"":e.expireRemind,bookmarkClass:""==e.expireRemind?"fn-hide":""}:{free:"true",className:"free-coupon",couponId:e.couponId,validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""};var a=Math.ceil(e.__listLength/4),n=Math.ceil((t+1)/4);return n===a&&(ret.className+=" coupon-row-last"),ret},userHoldingFund:function(e){return ret={profitYesterday:e.profit_yesterday,profit:e.profit,profit_date:e.profit_date?e.profit_date.substring(5,11):"",fundabbrev:e.fundabbrev,assets:e.assets,shares:e.shares,fundcode:e.fundcode,nav:e.nav,isSafe:"5"==e.fundType?!0:!1,isFundMoney:e.profit_10k?!0:!1,profit_10k:e.profit_10k?e.profit_10k:0,forbidSH:function(){return"QJ"==e.fundChannel?!1:0==e.fundStatus||5==e.fundStatus?!1:!0}(),forbidZJ:function(){return"QJ"==e.fundChannel?!0:0==e.fundStatus||1==e.fundStatus||6==e.fundStatus?!1:!0}(),fundChannel:e.fundChannel}},userFundSubscribing:function(e,t){return ret={fundName:e.fundName.length>8?e.fundName.substring(0,8).concat("..."):e.fundName,sum:e.sum+"元",nav:4==e.fundType?"--":e.nav+"元",fundcode:e.fundcode,utime:e.utime,rate:4==e.fundType?e.rate7day+"%":"--",reckonConfirmTime:"0"==e.reckonConfirmTime?"--":e.reckonConfirmTime,isShowTips:"0"==e.reckonConfirmTime?!1:!0,fundcode:e.fundcode,itemStyle:t%2===0?"":"dark",oarnge:4==e.fundType?"":"color-orange-text",fundChannel:e.fundChannel,forbidZJ:function(){return"QJ"==e.fundChannel?!0:0==e.fundStatus||1==e.fundStatus||6==e.fundStatus?!1:!0}()}},userFundRedeeming:function(e,t){return ret={fundName:e.fundName.length>8?e.fundName.substring(0,8).concat("..."):e.fundName,shares:e.shares,ctime:"0"==e.ctime?"--":this._getDateTime(e.ctime),fundcode:e.fundcode,card:e.card.slice(-4),reckonArriveTime:"0"==e.reckonArriveTime?"--":e.reckonArriveTime,itemStyle:t%2===0?"":"dark",fundChannel:e.fundChannel,forbidZJ:function(){return"QJ"==e.fundChannel?!0:0==e.fundStatus||1==e.fundStatus||6==e.fundStatus?!1:!0}()}},userFundCallOption:function(e,t){return ret={fundName:e.fundName.length>8?e.fundName.substring(0,8).concat("..."):e.fundName,sum:e.sum+"元",nav:4==e.fundType?"--":e.nav+"元",fundcode:e.fundcode,utime:e.utime,reckonConfirmTime:"0"==e.reckonConfirmTime?"--":e.reckonConfirmTime,fundcode:e.fundcode,itemStyle:t%2===0?"":"dark",isGray:1==e.fundStatus||4==e.fundStatus?!1:!0,oarnge:4==e.fundType?"":"color-orange-text",fundChannel:e.fundChannel,forbidZJ:function(){return"QJ"==e.fundChannel?1==e.fundStatus||4==e.fundStatus?!1:!0:1==e.fundStatus?!1:!0}()}},userLoansRetired:function(e,t){return ret={fundName:e.fundName.length>8?e.fundName.substring(0,8).concat("..."):e.fundName,shares:e.shares,assets:e.assets,nav:e.nav,sum:e.sum,fundcode:e.fundcode,utime:"0"==e.utime?"--":this._getDateTime(e.utime),reckonArriveTime:"0"==e.reckonArriveTime?"--":e.reckonArriveTime,itemStyle:t%2===0?"":"dark",fundChannel:e.fundChannel}},_getProductTypeByName:function(e){var t;switch(e){case"信用认证标":t="XYRZ";break;case"机构担保标":t="JGDB";break;case"实地认证标":t="SDRZ";break;case"智能理财标":t="ZNLC"}return t},_itemName:function(e){var t=e.substring(3);return t=t.charAt(0).toLowerCase()+t.substring(1),t.match(/Plans$|plans$|Loans$|loans$|Records$|records$|Transactions$|transactions$|Comments$|comments$/)&&(t=t.substring(0,t.length-1)),t},_listName:function(e){var t=o[e];return t&&t._list?t._list:void 0},_list:function(e,t,a,r){var s=[],o=t[a];if(r=r||this._itemName(e),o)for(var i=o.length,u=0;u<o.length;u++){o[u].__listLength=i;var d=this[r](o[u],u);d.itemLast=u==o.length-1?"last":"",s.push(d)}var l=n.extend({},t);return l[a]=s,l.pageCount=l.totalPage,l},translate:function(e,t){var a,r=this,s=this.protocol,o=this._listName(e);if(o)return this._list(e,t,o);if(e==s.API.getCreditInfo){var i,u=t.creditInfo,d=t.creditPassedTime,l=t.loan,c=[];if(n.each(this.CREDITINFO_MAPPING,function(e,a){if(void 0!==u[a.key]&&"INVALID"!=u[a.key]&&"fieldAudit"!=a.key){var n="checked";"VALID"!=u[a.key]&&(n=null);var s=null;a.key in d&&(s=r._getDateTime(d[a.key],"date")),i={key:a.key,name:a.name,status:n,date:s,itemStyle:null},"ENTERPRISE"==t.borrowerCategory&&"身份认证"==i.name&&(i.name="公司认证");var o=r._jobType(l.jobType);"work"==a.key&&null!==o&&(i.note=o.name,i.itemStyle="two-line"),c.push(i)}}),"debx-zaxy"==l.utmSource&&c.push({key:l.utmSource,name:"机构担保",note:'<a href="/event/zaccn/index.jsp" target="_blank" title="深圳市中安信业创业投资有限公司">中安信业</a>',itemStyle:"two-line",status:"checked",date:null}),"debx-zdsd"==l.utmSource&&c.push({key:l.utmSource,name:"机构担保",note:'<a href="/event/zdsd/index.jsp" target="_blank" title="深圳市证大速贷小额贷款股份有限公司">证大速贷</a>',itemStyle:"two-line",status:"checked",date:null}),"debx-as"==l.utmSource&&c.push({key:l.utmSource,name:"机构担保",note:'<a href="/event/as/index.jsp" target="_blank" title="深圳安盛互联网金融服务有限公司">安盛</a>',itemStyle:"two-line",status:"checked",date:null}),"debx-yx"==l.utmSource&&c.push({key:l.utmSource,name:"实地认证",note:'<a href="/event/youxin/index.jsp" target="_blank" title="友众信业商务顾问（北京）有限公司">友众信业</a>',itemStyle:"two-line",status:"checked",date:null}),"debx-cf"==l.utmSource&&c.push({key:l.utmSource,name:"机构担保",note:'<a href="/event/cf/cf_intro.jsp" target="_blank" title="创富">创富</a>',itemStyle:"two-line",status:"checked",date:null}),"debx-projectx"==l.utmSource&&c.push({key:l.utmSource,name:"机构担保",note:'<a href="/event/as/index.jsp" target="_blank" title="深圳安盛互联网金融服务有限公司">安盛</a>',itemStyle:"two-line",status:"checked",date:null}),c.length>0){var m=c[c.length-1].itemStyle;m?m+=" last":m="last",c[c.length-1].itemStyle=m}return n.each(c,function(e,t){e%2===0&&(t.itemStyle2="dark")}),{creditInfo:c}}if(e==s.API.getCommentsOnLoan)return a=this._list(e,t,"loanComments","loanComment"),a.loanComments.length>0&&(a.loanComments[a.loanComments.length-1].last="last"),a;if(e==s.API.postCommentOnLoan)return{comment:this.loanComment(t.comment)};if(e==s.API.getPlanPerformance)return{performance:t.financePlanVos[0]};if(e==s.API.getUnreadMsgCount)return{count:parseInt(t.totalCount,10)};if(e==s.API.getUnreadNewTask)return{count:parseInt(t.hasNewTask,10)};if(e==s.API.getUserBankInfo)return{accounts:t.userBankVoList};if(e==s.API.getUserLoanRepaymentRecords){a=this._list(e,t,"data","userLoanRepaymentRecord");for(var p=!1,f=0;f<a.data.length;f++)p&&"待还"==a.data[f].status&&(a.data[f].shouldRepay=!1),p||"待还"!=a.data[f].status||(p=!0);return a}if(e==s.API.getExpectedAmountsForPlanExiting){var h=t.planInfoForExiting;return{expectedExitAmount:this._fixedFloat2(h.expectedExitAmount),expectedTotalIncome:this._fixedFloat2(h.expectedTotalIncome),subPointId:h.subPointId,planId:h.planId}}return t},userFundRecord:function(e,t){var a=2===Number(e.opType)?"shuhui":void 0,n=2==Number(e.opType)&&0==Number(e.status)||2==Number(e.status)?"reding":void 0,r=2==Number(e.opType)&&3==Number(e.status)?"redsuccess":void 0,s=2==Number(e.opType)&&4==Number(e.status)?"redfailure":void 0,o=t%2===0?"":"dark",i={issub:a,reding:n,redsuccess:r,redfailure:s,name:e.fundName,code:e.fundcode,type:e.opType,reckonArriveTime:this._getDateTime(e.reckonArriveTime,"date"),money:this._commaFloat(e.sum),fundChannel:"QJ"==e.fundChannel?"北京钱景财富投资管理有限公司":"珠海盈米财富管理有限公司"},u=this._getDateTime(e.utime),d=e.status+"";switch(d){case"3":o+=" fund-success";break;case"4":o+=" fund-fail";break;case"0":case"1":case"2":o+=" fund-process"}return i.statusStr=this._fundStatus(e.status,e.opType),i.itemStyle=o,i.timeStr=u,i.redeamount=Number(e.shares),i}}),u.prototype.newbeeLoan=u.prototype.loan,u.prototype.indexNewbeeLoan=u.prototype.loan;var d=function(){n.extend(this,{API:{},CONF:o,status:{XHR_ERROR:-1,OLD_RSP:-2},translator:new u(this)});var e=this;n.each(o,function(t){e.API[t]=t})};n.extend(d.prototype,{_request:function(e,t,a){var r,s,o=this,i=this.CONF[e],u=["timeout"];if(!i)throw"Protocol._request: API is not ready";r=n.extend({},i._params,t),s={url:i.url,data:r,type:i.type,cache:!1,dataType:i.dataType,error:function(e,t,n){a&&a(o.status.XHR_ERROR,t,n)},success:function(t){if(a){var n=void 0===t.status?o.OLD_RSP:t.status,r=void 0===t.message?"":t.message,s=void 0===t.data?t:t.data;(n==o.OLD_RSP||0===n)&&(s=o.translator.translate(e,s)),a(n,r,s)}}},t&&n.each(u,function(e,a){t[a]&&(t[a]=t[a])}),n.ajax(s)}}),n.each(o,function(e){void 0===d.prototype[e]&&(d.prototype[e]=function(t,a){this._request(e,t,a)})});var l=new d;a.exports=l});
;define("common:widget/oui/common",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/protocol","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(t,e,i){var o=t("common:widget/oui/lib/jquery/1.9.1/jquery"),n=t("common:widget/oui/arale/dialog/1.3.3/dialog"),a=t("common:widget/oui/protocol"),s=t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),r={QUIT_PLAN_DISABLED:!1},c=function(){o.extend(this,{constant:r})};o.extend(c.prototype,{isIE6:function(){var t=(window.navigator.userAgent||"").toLowerCase();return-1!==t.indexOf("msie 6")},loadJSON:function(t,e){"string"==typeof t&&(t=o(t));var i=o.trim(t.html()),n=o.parseJSON(i);return e||t.remove(),n},fillTemplate:function(t){var e=t.data,i=t.template,n=t.container||null,r=t.api,c=t.isResponse||!1;if(e||(e={}),e instanceof o){if(e=o.trim(e.html()),!e)throw"Common: cannot fill empty data.";e=o.parseJSON(e)}c&&(e=e.data),e=r?a.translator.translate(r,e):e;var l=i.html(),u=s.compile(l),m=u(e);return n&&n.append(m),m},showMessage:function(t,e,i){var a,s=o("#dialog-message");s.length<1||(t="string"==typeof t?{message:t}:t,a=l.fillTemplate({template:s,data:t}),this.isIE6()?(o(".pg-container-content").prepend(a),o(".ui-message-close-button").click(function(){o(".ui-message-content").remove()})):new n({content:a}).after("hide",function(){this.destroy(),e&&o.isFunction(e)&&e.call(this)}).after("show",function(){var t=this;o(".ui-message-close-button").click(function(){t.hide()}),i&&o.isFunction(i)&&i.call(this)}).show())},showMessage2:function(t,e,i){var a,s=o("#dialog2-message");s.length<1||(t="string"==typeof t?{message:t}:t,a=l.fillTemplate({template:s,data:t}),this.isIE6()?(o(".pg-container-content").prepend(a),o(".ui-message-close-button").click(function(){o(".ui-message-content").remove()})):new n({content:a}).after("hide",function(){this.destroy(),e&&o.isFunction(e)&&e.call(this)}).after("show",function(){var t=this;o(".ui-message-close-button").click(function(){t.hide()}),i&&o.isFunction(i)&&i.call(this)}).show())},initPoptips:function(t){var e=null;e=t?t.find('[data-ui-name="ui-poptip-trigger"]'):o('[data-ui-name="ui-poptip-trigger"]'),e.hover(function(){var t=o(this).data("ui-poptip-ancestor"),e=t?o(this).closest(t):o(this);e.find('[data-ui-name="ui-poptip"]').show()},function(){var t=o(this).data("ui-poptip-ancestor"),e=t?o(this).closest(t):o(this);e.find('[data-ui-name="ui-poptip"]').hide()})}});var l=new c;i.exports=l});
;define("common:widget/oui/components/calculator",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol"],function(t,e,o){var a=t("common:widget/oui/lib/jquery/1.9.1/jquery"),r=t("common:widget/oui/protocol"),l=function(t){return t&&a.isPlainObject(t)?new l.calculator(t):void 0};l.calculator=function(t){this.type=t.type,this.borrowAmount=t.borrowAmount,this.repayDate=t.repayDate,this.monthlyComprehensiveFeeRate=t.monthlyComprehensiveFeeRate,this.yearRate=t.yearRate,this.mounthRate=t.yearRate/12,this.repayType=t.repayType,this.isShowTable=t.isShowTable,this.mgmtAmount=t.mgmtAmount,this.model=50,this.isShowTable||(this.isShowTable=!1),this.init()},l.comma=function(t,e){var o=t;return(!e||1>e)&&(e=3),o=String(o).split("."),o[0]=o[0].replace(new RegExp("(\\d)(?=(\\d{"+e+"})+$)","ig"),"$1,"),o.join(".")},l.arrToObj=function(t){for(var e={},o=0,a=t.length;a>o;o++)e[t[o].name]=t[o].value;return e},l.format=function(t){return r.translator._bankersRound(t)},l.add=function(t,e){var o,a,r;try{o=t.toString().split(".")[1].length}catch(l){o=0}try{a=e.toString().split(".")[1].length}catch(l){a=0}return r=Math.pow(10,Math.max(o,a)),(t*r+e*r)/r},l.sub=function(t,e){var o,a,r;try{o=t.toString().split(".")[1].length}catch(l){o=0}try{a=e.toString().split(".")[1].length}catch(l){a=0}return r=Math.pow(10,Math.max(o,a)),(t*r-e*r)/r},l.mul=function(t,e){var o=0,a=t.toString(),r=e.toString();try{o+=a.split(".")[1].length}catch(l){}try{o+=r.split(".")[1].length}catch(l){}return Number(a.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,o)},l.div=function(t,e){var o,a,r=0,l=0;try{r=t.toString().split(".")[1].length}catch(n){}try{l=e.toString().split(".")[1].length}catch(n){}return o=Number(t.toString().replace(".","")),a=Number(e.toString().replace(".","")),o/a*Math.pow(10,l-r)},Number.prototype.sub=function(t){return l.sub(this,t)},Number.prototype.add=function(t){return l.add(this,t)},Number.prototype.mul=function(t){return l.mul(this,t)},Number.prototype.div=function(t){return l.div(this,t)},l.monthlyDEBXRepay=function(t,e,o,a,r,n,i,m,b){var u=l.equalRepay(t,e,o,a,r,n,i),h=(i/e+i*m).toFixed(2);alert(h);var w=i*b;alert(w),u.monthlyRepay=h,u.serviceFee=w,u.totalRepayFee=u.monthlyRepay*e,u.monthlyComprehensiveFeeRate=m;for(var y=1;e>=y;y++){var s=u.table["row"+y];s.mtotal=h,s.mgmtfee=h-s.mbenxi,u.table["row"+y].shengyu=(tmpTotal-u.table["row"+j].mbenxi).toFixed(2),tmpTotal=u.table["row"+j].shengyu}return u},l.equalRepay=function(t,e,o,a,r,n,i){var m={},b=t.mul(o).mul(Math.pow(l.add(1,o),e)),u=l.sub(Math.pow(l.add(1,o),e),1),h=l.format(t.mul(a/100));m.monthlyRepay=l.format(b.div(u)),m.mounthRate=o.mul(100),m.repayDate=e,m.total=0,m.totaladdglf=0,m.table={};for(var w=1;e>=w;w++)m.table["row"+w]={},m.table["row"+w].mounth=w,m.table["row"+w].mgmtfee=h,m.table["row"+w].qichu=1==w?t:m.table["row"+(w-1)].qimo,m.table["row"+w].mbenxi=e>w?m.monthlyRepay:l.format(l.mul(m.table["row"+w].qichu,l.add(1,o))),m.total+=parseFloat(m.table["row"+w].mbenxi),m.table["row"+w].mlixi=l.format(m.table["row"+w].qichu.mul(m.mounthRate).mul(.01)),m.table["row"+w].mbenjin=l.sub(m.table["row"+w].mbenxi,m.table["row"+w].mlixi),m.table["row"+w].qimo=l.sub(m.table["row"+w].qichu,m.table["row"+w].mbenjin),m.table["row"+w].itemStyle=w%2===0?"color-time-tr1":"color-time-tr2";m.total=m.total.toFixed(2);for(var y=m.total,s=1;e>=s;s++)m.table["row"+s].shengyu=(y-m.table["row"+s].mbenxi).toFixed(2),y=m.table["row"+s].shengyu;m.monthlyRepay=l.mul(m.monthlyRepay,n),m.total=l.mul(m.total,n),m.total=m.total.toFixed(2),m.isShowTable=r;for(var p=1;e>=p;p++)m.table["row"+p].qichu=l.mul(m.table["row"+p].qichu,n),m.table["row"+p].mbenxi=l.mul(m.table["row"+p].mbenxi,n),m.table["row"+p].mlixi=l.mul(m.table["row"+p].mlixi,n),m.table["row"+p].mbenjin=l.mul(m.table["row"+p].mbenjin,n),m.table["row"+p].qimo=l.mul(m.table["row"+p].qimo,n),m.table["row"+p].shengyu=l.mul(m.table["row"+p].shengyu,n),m.table["row"+p].mgmtfee=l.mul(m.table["row"+p].mgmtfee,n),m.table["row"+p].yuehuankuane=l.add(m.table["row"+p].mbenxi,m.table["row"+p].mgmtfee),m.table["row"+p].qichu=m.table["row"+p].qichu.toFixed(2),m.table["row"+p].mbenxi=m.table["row"+p].mbenxi.toFixed(2),m.table["row"+p].mlixi=m.table["row"+p].mlixi.toFixed(2),m.table["row"+p].mbenjin=m.table["row"+p].mbenjin.toFixed(2),m.table["row"+p].qimo=m.table["row"+p].qimo.toFixed(2),m.table["row"+p].shengyu=m.table["row"+p].shengyu.toFixed(2),m.table["row"+p].yuehuankuane=m.table["row"+p].yuehuankuane.toFixed(2),1==p?(m.table["row"+p].shengyubenjin=i-m.table["row"+p].mbenjin,m.table["row"+p].shengyubenjin=m.table["row"+p].shengyubenjin.toFixed(2)):(m.table["row"+p].shengyubenjin=m.table["row"+(p-1)].shengyubenjin-m.table["row"+p].mbenjin,m.table["row"+p].shengyubenjin=m.table["row"+p].shengyubenjin.toFixed(2)),m.totaladdglf+=parseFloat(m.table["row"+p].yuehuankuane),m.table["row"+p].mgmtfee=m.table["row"+p].mgmtfee.toFixed(2),m.table["row"+p].itemStyle=p%2===0?"color-time-tr1":"color-time-tr2";return m.totaladdglf=m.totaladdglf.toFixed(2),m},l.mouthRepay=function(t,e,o,a,r){var n=l.format(t*a/100),i={};i.mounthRate=l.format(o.mul(100)),i.repayDate=e,i.monthlyRepay=l.format(t*o),i.table={},i.total=0,i.isShowTable=r;for(var m=1;e>=m;m++)i.table["row"+m]={},i.table["row"+m].mounth=m,i.table["row"+m].mgmtfee=n,e>m?(i.table["row"+m].mbenxi=i.monthlyRepay,i.table["row"+m].mbenjin=0..toFixed(2)):(i.table["row"+m].mbenxi=parseInt(t,10)+parseFloat(i.monthlyRepay),i.table["row"+m].mbenjin=parseInt(t,10).toFixed(2)),i.total+=parseFloat(i.table["row"+m].mbenxi),i.table["row"+m].mlixi=i.monthlyRepay,i.table["row"+m].itemStyle=m%2===0?"color-time-tr1":"color-time-tr2";i.total=i.total.toFixed(2);for(var b=i.total,u=1;e>=u;u++)i.table["row"+u].shengyu=(b-i.table["row"+u].mbenxi).toFixed(2),b=i.table["row"+u].shengyu;return i},l.calculator.prototype={init:function(){},reset:function(){},calc:function(){this.reset();var t=this.model,e=this.borrowAmount,o=this.repayDate,a=.01*this.mounthRate,r=this.isShowTable,n=this.mgmtAmount,i=this.borrowAmount/this.model;return"DEBX"==this.repayType?l.equalRepay(t,o,a,n,r,i,e):"FXHB"==this.repayType?l.mouthRepay(e,o,a,n,r):void 0}},o.exports=l});
;define("common:widget/oui/widgets/captcha",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e,i,t){var n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),s=function(e){n.extend(this,{name:e.name,message:e.message||"验证码输入错误，请重新输入"}),this._ui={img:n("#"+this.name+"-img"),input:n("#"+this.name+"-input"),message:n("#"+this.name+"-message")}};n.extend(s.prototype,{init:function(){var e=this,i=this._ui;return i.img.click(function(){var t=(new Date).getTime();i.img.attr("src","/image.jsp?ts="+t),i.input.val(""),e.clean()}),i.input.focusin(function(){e.clean()}),this},clean:function(){this._ui.message.text()==this.message&&this._ui.message.text("")}}),t.exports=s});
;define("lib/counter/0.0.1/jquery.counter",["require","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t){var e=t("common:widget/oui/lib/jquery/1.9.1/jquery"),n=function(t){var n=0,a=0;return e.each(t.parts,function(t,e){n+=n*e.limit+e.stop,a+=a*e.limit+e.value}),t.down?n>=a:a>=n},a=function(){for(var t=e(this),a=t.data("counter"),i=a.parts.length-1;i>=0;){var l=a.parts[i];if(l.value+=a.down?-1:1,a.down&&l.value<0)l.value=l.limit;else{if(a.down||!(l.value>l.limit))break;l.value=0}i--}r(t,i),n(a)&&(clearInterval(a.intervalId),t.trigger("counterStop"))},r=function(t,n){for(var a=t.data("counter"),r=a.parts.length-1,o=function(e,n){i(t,r,e,n)};r>=n;){for(var s=a.parts[r],u=s.value+"";u.length<s.padding;)u="0"+u;e.each(l(u,""),o),r--}},i=function(t,n,a,r){var i=e(e(t.children("span.part").get(n)).find("span.digit").get(a));i.attr("class","digit digit"+r+" digit"+i.text()+r).text(r)},l=function(t){var e,n=String.prototype.split,a=/()??/.exec("")[1]===t;return e=function(e,r,i){if("[object RegExp]"!==Object.prototype.toString.call(r))return n.call(e,r,i);var l,o,s,u,p=[],d=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),c=0,r=new RegExp(r.source,d+"g");for(e+="",a||(l=new RegExp("^"+r.source+"$(?!\\s)",d)),i=i===t?-1>>>0:i>>>0;(o=r.exec(e))&&(s=o.index+o[0].length,!(s>c&&(p.push(e.slice(c,o.index)),!a&&o.length>1&&o[0].replace(l,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(o[e]=t)}),o.length>1&&o.index<e.length&&Array.prototype.push.apply(p,o.slice(1)),u=o[0].length,c=s,p.length>=i)));)r.lastIndex===o.index&&r.lastIndex++;return c===e.length?(u||!r.test(""))&&p.push(""):p.push(e.slice(c)),p.length>i?p.slice(0,i):p}}(),o={init:function(t){return t=t||{},this.each(function(){var r=e(this),i=r.data("counter")||{};i.interval=parseInt(t.interval||r.attr("data-interval")||"1000",10),i.down="down"==(t.direction||r.attr("data-direction")||"down"),i.parts=[];var o=l(t.initial||r.text(),/([^0-9]+)/),s=l(t.format||r.attr("data-format")||"23:59:59",/([^0-9]+)/),u=t.stop||r.attr("data-stop");return u&&(u=l(u,/([^0-9]+)/)),r.html(""),e.each(s,function(t,n){if(/^\d+$/.test(n)){var a={};a.index=t,a.padding=(n+"").length,a.limit=parseInt(n,10),a.value=parseInt(o[o.length-s.length+t]||0,10),a.value=a.value>a.limit?a.limit:a.value,a.reset=a.value,a.stop=parseInt(u?u[u.length-s.length+t]:i.down?0:a.limit,10),a.stop=a.stop>a.limit?a.limit:a.stop,a.stop=a.stop<0?0:a.stop;for(var p=e("<span>").addClass("part").addClass("part"+t),d=a.value+"";d.length<a.padding;)d="0"+d;e.each(l(d,""),function(t,n){p.append(e("<span>").addClass("digit digit"+n).text(n))}),r.append(p),i.parts.push(a)}else r.append(e("<span>").addClass("separator").addClass("separator"+t).text(n))}),n(i)?r.trigger("counterStop"):i.intervalId=setInterval(e.proxy(a,this),i.interval),r.data("counter",i),this})},play:function(){return this.each(function(){var t=e(this),n=t.data("counter");n.intervalId||(n.intervalId=setInterval(e.proxy(a,this),n.interval))})},reset:function(){return this.each(function(){var t=e(this),n=t.data("counter");e.each(n.parts,function(t,e){e.value=e.reset}),r(e(this),0),n.intervalId&&(clearInterval(n.intervalId),n.intervalId=setInterval(e.proxy(a,this),n.interval))})},stop:function(){return this.each(function(){var t=e(this),n=t.data("counter");clearInterval(n.intervalId),n.intervalId=0,t.trigger("counterStop")})}};e.fn.counter=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.counter"):o.init.apply(this,arguments)}});
;define("common:widget/oui/widgets/counter",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","lib/counter/0.0.1/jquery.counter"],function(e,t,n){var s=e("common:widget/oui/lib/jquery/1.9.1/jquery");e("lib/counter/0.0.1/jquery.counter");var a=function(e){s.extend(this,{container:e.container,delta:e.delta,start:e.start,end:e.end,minDays:e.minDays||1,daysStyle:e.daysStyle||"small",secondsStyle:e.secondsStyle||"small",changed:e.changed||function(){},stopped:e.stopped||function(){}})};s.extend(a.prototype,{_getDelta:function(){var e=null;if(this.delta||this.start&&this.end)if(this.delta)e=this.delta;else{var t=this.start.split("-"),n=this.end.split("-");sd=new Date(t[0],parseInt(t[1],10)-1,t[2],t[3],t[4],t[5]),ed=new Date(n[0],parseInt(n[1],10)-1,n[2],n[3],n[4],n[5]),e=ed.getTime()-sd.getTime()}else e=0;e/=1e3;var s=Math.floor(e/86400),a=Math.floor(e/3600),o=Math.floor((e-3600*a)/60),i=Math.floor(e-3600*a-60*o);return{days:s,hours:a,minutes:o,seconds:i,delta:e}},_setStyle:function(e,t){e.removeClass("counter-analog counter-analog2"),e.removeClass("ui-counter-days ui-counter-seconds"),e.parent().removeClass("days seconds"),e.addClass("small"==this[t+"Style"]?"counter-analog":"counter-analog2"),e.addClass("ui-counter-"+t),e.parent().addClass(t)},_renderSeconds:function(e,t){var n=24*(t.days+1)-1;if(n>999)throw"Min days is too large to display";this._setStyle(e,"seconds"),e.counter({format:n+":59:59",direction:"down",interval:"1000",initial:t.hours+":"+t.minutes+":"+t.seconds,stop:(n>=100?"000":"00")+":00:00"})},init:function(){var e=null;e="string"==typeof this.container?s(this.container):this.container;var t=this._getDelta(),n=0,a=null,o=this;if(t.days<this.minDays)this._renderSeconds(e,t),a=setInterval(function(){n+=1,t.delta-n===0&&(o.stopped(),clearInterval(a))},1e3);else{if(t.days>999)throw"Delta days is too large to display";this._setStyle(e,"days"),e.counter({format:t.days>=100?"999":"99",direction:"down",interval:"86400000",initial:t.days,stop:t.days>=100?"000":"00"}),a=setInterval(function(){n+=1,t.delta-n<86400*o.minDays&&(e.empty(),o.changed(),o.delta=1e3*(t.delta-n),o._renderSeconds(e,o._getDelta())),t.delta-n===0&&(o.stopped(),clearInterval(a))},1e3)}}}),n.exports=a});
;define("lib/validation/1.11.1/jquery.validate",["require","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t){var e=t("common:widget/oui/lib/jquery/1.9.1/jquery");!function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function s(){var s;return i.settings.submitHandler?(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e=e&&i.element(this)}),e},removeAttrs:function(e){var i={},s=this;return t.each(e.split(/\s/),function(t,e){i[e]=s.attr(e),s.removeAttr(e)}),i},rules:function(e,i){var s=this[0];if(e){var r=t.data(s.form,"validator").settings,n=r.rules,a=t.validator.staticRules(s);switch(e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,n[s.name]=a,i.messages&&(r.messages[s.name]=t.extend(r.messages[s.name],i.messages));break;case"remove":if(!i)return delete n[s.name],a;var u={};return t.each(i.split(/\s/),function(t,e){u[e]=a[e],delete a[e]}),u}}var o=t.validator.normalizeRules(t.extend({},t.validator.classRules(s),t.validator.attributeRules(s),t.validator.dataRules(s),t.validator.staticRules(s)),s);if(o.required){var l=o.required;delete o.required,o=t.extend({required:l},o)}return o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),s="on"+e.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,s){"string"==typeof s&&(s=s.split(/\s/)),t.each(s,function(t,s){i[s]=e})});var s=this.settings.rules;t.each(s,function(e,i){s[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e)!==!1;return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i=t(e).attr("type"),s=t(e).val();return"radio"===i||"checkbox"===i?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof s?s.replace(/\r/g,""):s},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s=t(e).rules(),r=!1,n=this.elementValue(e);for(var a in s){var u={method:a,parameters:s[a]};try{if(i=t.validator.methods[a].call(this,n,e,u.parameters),"dependency-mismatch"===i){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+u.method+"' method.",o),o}}return r?void 0:(this.objectLength(s)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg-"+i.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+i.toLowerCase())},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var s=this.defaultMessage(e,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:e}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var i=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s=this.errorsFor(e);s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},s=t(e),r=s[0].getAttribute("type");for(var n in t.validator.methods){var a;"required"===n?(a=s.get(0).getAttribute(n),""===a&&(a=!0),a=!!a):a=s.attr(n),/min|max/.test(n)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?i[n]=a:r===n&&"range"!==r&&(i[n]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var i,s,r={},n=t(e);for(i in t.validator.methods)s=n.data("rule-"+i.toLowerCase()),void 0!==s&&(r[i]=s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(r===!1)return void delete e[s];if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0!==r.param?r.param:!0:delete e[s]}}),t.each(e,function(s,r){e[s]=t.isFunction(r)?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i=0,s=0,r=!1;t=t.replace(/\D/g,"");for(var n=t.length-1;n>=0;n--){var a=t.charAt(n);s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),i+=s,r=!r}return i%10===0},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=r},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s[0]&&r<=s[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var r=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,s="string"==typeof s&&{url:s}||s,r.old===e)return r.valid;r.old=e;var n=this;this.startRequest(i);var a={};return a[i.name]=e,t.ajax(t.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(s){n.settings.messages[i.name].remote=r.originalMessage;var a=s===!0||"true"===s;if(a){var u=n.formSubmitted;n.prepareElement(i),n.formSubmitted=u,n.successList.push(i),delete n.invalid[i.name],n.showErrors()}else{var o={},l=s||n.defaultMessage(i,"remote");o[i.name]=r.message=t.isFunction(l)?l(e):l,n.invalid[i.name]=!0,n.showErrors(o)}r.valid=a,n.stopRequest(i,a)}},s)),"pending"}}}),t.format=t.validator.format}(e),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,s){var r=t.port;"abort"===t.mode&&(e[r]&&e[r].abort(),e[r]=s)});else{var i=t.ajax;t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(e[n]&&e[n].abort(),e[n]=i.apply(this,arguments),e[n]):i.apply(this,arguments)}}}(e),function(t){t.extend(t.fn,{validateDelegate:function(e,i,s){return this.bind(i,function(i){var r=t(i.target);return r.is(e)?s.apply(r,arguments):void 0})}})}(e)});
;define("common:widget/oui/widgets/form",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","lib/validation/1.11.1/jquery.validate"],function(e,r,i){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery");e("lib/validation/1.11.1/jquery.validate");var a=t,n={};n.err={required:"不能为空",remoteCode:"验证码输入错误",isEmail:"请输入有效的邮箱地址",equalPsw:"两次密码输入不一致",length:"字数超过限制",minPswLength:"长度应为6-16个字符",maxPswLength:"长度应为6-16个字符",isMobile:"请输入正确手机号",isMobileOrEmail:"请输入正确的邮箱地址或手机号码",isNickName:"昵称只能由中文、英文字母、数字、下划线组成",isRealName:"包含非法字符",isHasUnderlineFrontEnd:"不能以下划线开头或结尾",isNickNameLength:"长度为4-16个字符之间",isHasYX:"前缀请不要使用“YX_”,且后缀请不要使用“_yx”",nickNameRemote:"昵称已存在",userNameRemote:"手机号已经存在",isPassWord:"包含非法字符",isPassNotAllNum:"密码不能全为数字",isPassNotRepeat:"密码不能为同一个字符",equalTo:"两次密码输入不一致",agree:"请同意我们的条款",contractPay:"支付前请阅读并同意协议",maxLoanTitle:"借款标题不能超过14字",isOneDecimal:"利率最大保留小数点后1位",isRateOver:"您输入的借款年利率超出范围，请重新输入！",minLoanDescription:"借款描述应限制在20-500字之间",maxLoanDescription:"借款描述应限制在20-500字之间",minRealNameLength:"姓名长度在2-32字之间",maxRealNameLength:"姓名长度在2-32字之间",isPostCode:"邮政编码须为6位数字",isIDNum:"请正确输入您的二代身份证号码",isPhone:"请正确输电话号码",isUrl:"请输入正确的网址",isAmount:"请输入正确的金额",minAmount:"单笔充值金额应大于1元且小于或等于50万元",maxAmount:"单笔充值金额应大于1元且小于或等于50万元",bankRequired:"请选择充值方式",userBankId:"请选择提现银行卡",isEnough:"您的账户余额不足",equalToBank:"您输入的银行卡号不一致",bankCardLength:"银行卡号须为12-19位数字",isBankCard:"银行卡号输入错误",isCardDeposit:"开户行只能由中文、英文字母、数字、小括号组成",maxCashPasswordLength:"密码长度不超过16位",depositLength:"开户行的名称限制在64字以内",isEducationCode:"学历在线验证码须为12位数字",isIntNum:"请输入正整数",codeLength:"请输入4位验证码",minCachLength:"提现金额不能小于1元",maxNumberLength:"提现金额小于15位数字",intention:"请选择角色",phoneCodeMsg:"手机验证码不能为空",phoneCodeMsgLength:"验证码为4位",qianjinMsgLength:"验证码为6位",loanProductType:"请选择您要申请的借款产品"},n.tip={},n.checkCode=function(e){e.ele.rules("add",{remote:{url:e.url||"/account/checkCode.action",data:e.data,dataFilter:function(r){var i=a.parseJSON(r);if("true"==i.result)return e.success&&"function"==typeof e.success&&e.success.call(this,r),!0;var n=t("#code-label"),s='<label class="isMaxCodeNum error">'+i.message+"</label>";return null!=i.message?(n.parent(".fn-hide").length||n.wrap('<div class="fn-hide">'),t(".isMaxCodeNum").length?t(".isMaxCodeNum").show():n.parent("div").after(s)):(n.parent(".fn-hide").length&&n.unwrap('<div class="fn-hide">'),t(".isMaxCodeNum").hide()),e.failed&&"function"==typeof e.failed&&e.failed.call(this,r),!1}},messages:{remote:n.err.remoteCode}})},n.validateData={errorPlacement:function(e,r){e.appendTo(r.parent())},rules:{register:{nickName:{required:!0,isNickName:!0,isHasUnderlineFrontEnd:!0,isNickNameLength:!0,isHasYX:!0,remote:"/checkUserNickname!checkNickname.action"},username:{required:!0,isMobile:!0,remote:"/checkEmail.action"},password:{required:!0,minlength:6,maxlength:16,isPassWord:!0,isPassNotAllNum:!0,isPassNotRepeat:!0},confirm_password:{required:!0,equalTo:"#password"},randCode:{required:!0,minlength:4,maxlength:4},agree:{required:!0},intention:{required:!0}},mobileCodeForReg:{mobileCode:{required:!0,minlength:4,maxlength:4}},login:{j_username:{required:!0,isMobileOrEmail:!0},username:{required:!0,isMobileOrEmail:!0},j_password:{required:!0},password:{required:!0},j_code:{required:!0}},loaninfo:{borrowTitle:{required:!0,maxlength:14},borrowAmount:{required:!0,isBorrowAmount:!0},apr:{required:!0,isOneDecimal:!0,isRateOver:!0},repayTime:{required:!0},endDate:{required:!0},borrowDesc:{required:!0,minlength:20,maxlength:500},agree_contract:{required:!0},loanProductType:{required:!0}},borrowerinfo:{realName:{required:!0,minlength:2,maxlength:32},idNo:{required:!0,isIDNum:!0},graduation:{required:!0},university:{maxlength:20},homeProvince:{required:!0},homeCity:{required:!0},liveProvince:{required:!0},liveCity:{required:!0},address:{required:!0,maxlength:30},postCode:{required:!0,isPostCode:!0},phone:{isPhone:!0},marriage:{required:!0},hasChild:{required:!0},urgentContact:{required:!0,maxlength:32},urgentRelation:{required:!0,maxlength:10},urgentMobile:{required:!0,isMobile:!0},urgentContact2:{required:!0,maxlength:32},urgentRelation2:{required:!0,maxlength:10},urgentMobile2:{required:!0,isMobile:!0},office:{required:!0,maxlength:32},jobType:{required:!0},position:{required:!0,maxlength:10},province:{required:!0},city:{required:!0},officeType:{required:!0},officeDomain:{required:!0},officeScale:{required:!0},workYears:{required:!0},salary:{required:!0},workPhone:{required:!0,isPhone:!0},workEmail:{required:!0,isEmail:!0},officeAddress:{required:!0,maxlength:32},hasHouse:{required:!0},hasLoan:{required:!0},hasCar:{required:!0},carLoan:{required:!0},carBrand:{maxlength:15},carNumber:{maxlength:8}},userbasic:{graduation:{required:!0},university:{maxlength:20},marriage:{required:!0},address:{required:!0,maxlength:30},officeDomain:{required:!0},officeScale:{required:!0},position:{required:!0,maxlength:10},salary:{required:!0}},recharge:{bank:{required:!0},free:{required:!1},amount:{required:!0,isAmount:!0,min:1,max:5e5}},withdraw:{amount:{required:!0,isAmount:!0,maxlength:15,min:1,isEnough:!0},cashPassword:{required:!0,maxlength:16,isPassWord:!0},userBankId:{required:!0}},addcard:{bankDataId:{required:!0},address:{required:!0},deposit:{required:!0,maxlength:64,isCardDeposit:!0},cardId:{required:!0,minlength:12,maxlength:19,isBankCard:!0},reBankCard:{required:!0,equalTo:"#cardId",isBankCard:!0},validateCode:{required:!0,minlength:4,maxlength:4}},openaccount:{paymentType:{required:!0},paymentNo:{required:!0,minlength:12,maxlength:19,isBankCard:!0},mobile:{required:!0,minlength:11,maxlength:11},reBankCard:{required:!0,equalTo:"#cardId",isBankCard:!0},verifyCode:{required:!0,minlength:6,maxlength:6},agree:{required:!0}},modpsw:{oldPassword:{required:!0,minlength:6,maxlength:16},newPassword:{required:!0,isPassWord:!0,isPassNotAllNum:!0,isPassNotRepeat:!0,minlength:6,maxlength:16},newPassword2:{required:!0,minlength:6,maxlength:16,equalTo:"#newPassword"}},modCashPsw:{cashPassword:{required:!0,minlength:6,maxlength:16},newCashPwd:{required:!0,isPassWord:!0,minlength:6,maxlength:16},newCashPwd2:{required:!0,minlength:6,maxlength:16,equalTo:"#newCashPwd"}},findCashPswStepOne:{validateCode:{required:!0}},findCashPswStepTwo:{newCashPwd:{required:!0,isPassWord:!0,minlength:6,maxlength:16},newCashPwd2:{required:!0,minlength:6,maxlength:16,equalTo:"#newCashPwd"}},modMobileByPhoneStepOne:{validateCode:{required:!0},cashPassword:{required:!0}},modMobileByPhoneStepTwo:{phone:{required:!0,isMobile:!0},validateCode:{required:!0}},modMobileByIdStepOne:{idNo:{required:!0,isIDNum:!0},cashPassword:{required:!0}},modMobileByIdStepTwo:{phone:{required:!0,isMobile:!0},validateCode:{required:!0}},emailUpdateByOldStepOne:{code:{required:!0,remote:{url:"/account/checkCode.action",dataFilter:function(e){var r=a.parseJSON(e);return"true"==r.result?!0:!1}}}},emailUpdateByOldStepTwo:{email:{required:!0,isEmail:!0}},emailUpdateByMobileStepOne:{code:{required:!0},idCard:{required:!0,isIDNum:!0}},setId:{realName:{required:!0,isRealName:!0},idNo:{required:!0,isIDNum:!0}},setEmail:{email:{required:!0,isEmail:!0}},setMobile:{mobile:{required:!0,isMobile:!0},validCode:{required:!0}},setCashPwd:{cashPwd:{required:!0,isPassWord:!0,minlength:6,maxlength:16},cashPwd2:{required:!0,equalTo:"#cashPwd",minlength:6,maxlength:16}},setNickName:{nickName:{required:!0,isNickName:!0,isHasUnderlineFrontEnd:!0,isNickNameLength:!0,isHasYX:!0,remote:"/checkUserNickname!checkNickname.action"}},creditWeibo:{credit_web:{required:!0}},creditVideo:{usemail:{required:!0}},creditGraduation:{validCode:{required:!0,isEducationCode:!0}},notLoginFindPsw:{mobileOrEmail:{required:!0,isMobileOrEmail:!0},code:{required:!0,minlength:4,maxlength:4,remote:{url:"/account/checkCode.action",dataFilter:function(e){var r=a.parseJSON(e);return"true"==r.result?!0:!1}}}},notLoginFindPswByEmail:{email:{required:!0,isEmail:!0},code:{required:!0,minlength:4,maxlength:4,remote:{url:"/account/checkCode.action",dataFilter:function(e){var r=a.parseJSON(e);return"true"==r.result?!0:!1}}}},notLoginFindPswByMobile:{mobile:{required:!0,isMobile:!0},code:{required:!0,minlength:4,maxlength:4,remote:{url:"/account/checkCode.action",dataFilter:function(e){var r=a.parseJSON(e);return"true"==r.result?!0:!1}}}},notLoginFindPswByEmailCode:{validCode:{required:!0}},notLoginFindPswByMobileCode:{validCode:{required:!0}},notLoginFindPswResetPsw:{password:{required:!0,isPassWord:!0,isPassNotAllNum:!0,isPassNotRepeat:!0,minlength:6,maxlength:16},password2:{required:!0,equalTo:"#password"}},calculator:{borrowAmount:{required:!0,isBorrowAmount:!0},yearRate:{required:!0,isOneDecimal:!0,isRateOver:!0}},ucode:{ucodeSerial:{required:!0}},couponCode:{couponCode:{required:!0}},accontRsvConfirm:{contract:{required:!0}},confirmReserve:{randCode:{required:!0},joinContract:{required:!0},reserveContract:{required:!0}}},messages:{register:{nickName:{required:n.err.required,isNickName:n.err.isNickName,isHasUnderlineFrontEnd:n.err.isHasUnderlineFrontEnd,isNickNameLength:n.err.isNickNameLength,isHasYX:n.err.isHasYX,remote:n.err.nickNameRemote},username:{required:n.err.required,isMobile:n.err.isMobile,remote:n.err.userNameRemote},password:{required:n.err.required,isPassWord:n.err.isPassWord,isPassNotAllNum:n.err.isPassNotAllNum,isPassNotRepeat:n.err.isPassNotRepeat,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},confirm_password:{required:n.err.required,equalTo:n.err.equalTo},randCode:{required:n.err.required,minlength:n.err.codeLength,maxlength:n.err.codeLength},agree:{required:n.err.agree},intention:{required:n.err.intention}},mobileCodeForReg:{mobileCode:{required:n.err.required,minlength:n.err.codeLength,maxlength:n.err.codeLength}},login:{j_password:{required:n.err.required},password:{required:n.err.required},j_username:{required:n.err.required,isMobileOrEmail:n.err.isMobileOrEmail},username:{required:n.err.required,isMobileOrEmail:n.err.isMobileOrEmail},j_code:{required:n.err.required}},loaninfo:{borrowTitle:{required:n.err.required,maxlength:n.err.maxLoanTitle},borrowAmount:{required:n.err.required},apr:{required:n.err.required,isOneDecimal:n.err.isOneDecimal,isRateOver:n.err.isRateOver},repayTime:{required:n.err.required},endDate:{required:n.err.required},borrowDesc:{required:n.err.required,minlength:n.err.minLoanDescription,maxlength:n.err.maxLoanDescription},agree_contract:{required:n.err.agree},loanProductType:{required:n.err.loanProductType}},borrowerinfo:{realName:{required:n.err.required,minlength:n.err.minRealNameLength,maxlength:n.err.maxRealNameLength},idNo:{required:n.err.required,isIDNum:n.err.isIDNum},graduation:{required:n.err.required},university:{maxlength:n.err.length},homeProvince:{required:n.err.required},homeCity:{required:n.err.required},liveProvince:{required:n.err.required},liveCity:{required:n.err.required},address:{required:n.err.required,maxlength:n.err.length},postCode:{required:n.err.required,isPostCode:n.err.isPostCode},phone:{isPhone:n.err.isPhone},marriage:{required:n.err.required},hasChild:{required:n.err.required},urgentContact:{required:n.err.required},urgentRelation:{required:n.err.required,maxlength:n.err.length},urgentMobile:{required:n.err.required,isMobile:n.err.isMobile},urgentContact2:{required:n.err.required,maxlength:n.err.length},urgentRelation2:{required:n.err.required,maxlength:n.err.length},urgentMobile2:{required:n.err.required,isMobile:n.err.isMobile},office:{required:n.err.required,maxlength:n.err.length},jobType:{required:n.err.required},position:{required:n.err.required,maxlength:n.err.length},province:{required:n.err.required},city:{required:n.err.required},officeType:{required:n.err.required},officeDomain:{required:n.err.required},officeScale:{required:n.err.required},workYears:{required:n.err.required},salary:{required:n.err.required},workPhone:{required:n.err.required,isPhone:n.err.isPhone},workEmail:{required:n.err.required,isEmail:n.err.isEmail},officeAddress:{required:n.err.required,maxlength:n.err.length},hasHouse:{required:n.err.required},hasLoan:{required:n.err.required},hasCar:{required:n.err.required},carLoan:{required:n.err.required},carBrand:{maxlength:n.err.length},carNumber:{maxlength:n.err.length}},userbasic:{graduation:{required:n.err.required},university:{maxlength:n.err.length},marriage:{required:n.err.required},address:{required:n.err.required,maxlength:n.err.length},officeDomain:{required:n.err.required},officeScale:{required:n.err.required},position:{required:n.err.required,maxlength:n.err.length},salary:{required:n.err.required}},recharge:{bank:{required:n.err.bankRequired},amount:{required:n.err.required,isAmount:n.err.isAmount,min:n.err.minAmount,max:n.err.maxAmount}},withdraw:{amount:{required:n.err.required,isAmount:n.err.isAmount,min:n.err.minCachLength,maxlength:n.err.maxNumberLength,isEnough:n.err.isEnough},cashPassword:{required:n.err.required,maxlength:n.err.maxCashPasswordLength,isPassWord:n.err.isPassWord},userBankId:{required:n.err.userBankId}},addcard:{bankDataId:{required:n.err.required},address:{required:n.err.required},deposit:{required:n.err.required,maxlength:n.err.depositLength,isCardDeposit:n.err.isCardDeposit},card:{required:n.err.required,minlength:n.err.bankCardLength,maxlength:n.err.bankCardLength,isBankCard:n.err.isBankCard},reBankCard:{required:n.err.required,equalTo:n.err.equalToBank,isBankCard:n.err.isBankCard},validateCode:{required:n.err.phoneCodeMsg,minlength:n.err.phoneCodeMsgLength,maxlength:n.err.phoneCodeMsgLength}},openaccount:{paymentType:{required:n.err.required},mobile:{required:n.err.required,minlength:n.err.isPhone,maxlength:n.err.isPhone},paymentNo:{required:n.err.required,minlength:n.err.bankCardLength,maxlength:n.err.bankCardLength,isBankCard:n.err.isBankCard},reBankCard:{required:n.err.required,equalTo:n.err.equalToBank,isBankCard:n.err.isBankCard},verifyCode:{required:n.err.phoneCodeMsg,minlength:n.err.qianjinMsgLength,maxlength:n.err.qianjinMsgLength},agree:{required:n.err.agree}},modpsw:{oldPassword:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},newPassword:{required:n.err.required,isPassWord:n.err.isPassWord,isPassNotAllNum:n.err.isPassNotAllNum,isPassNotRepeat:n.err.isPassNotRepeat,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},newPassword2:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength,equalTo:n.err.equalTo}},modCashPsw:{cashPassword:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},newCashPwd:{required:n.err.required,isPassWord:n.err.isPassWord,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},newCashPwd2:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength,equalTo:n.err.equalTo}},findCashPswStepOne:{validateCode:{required:n.err.required}},findCashPswStepTwo:{newCashPwd:{required:n.err.required,isPassWord:n.err.isPassWord,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},newCashPwd2:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength,equalTo:n.err.equalTo}},modMobileByPhoneStepOne:{validateCode:{required:n.err.required},cashPassword:{required:n.err.required}},modMobileByPhoneStepTwo:{phone:{required:n.err.required,isMobile:n.err.isMobile},validateCode:{required:n.err.required}},modMobileByIdStepOne:{idNo:{required:n.err.required,isIDNum:n.err.isIDNum},cashPassword:{required:n.err.required}},modMobileByIdStepTwo:{phone:{required:n.err.required,isMobile:n.err.isMobile},validateCode:{required:n.err.required}},emailUpdateByOldStepOne:{code:{required:n.err.required,remote:n.err.remoteCode}},emailUpdateByOldStepTwo:{email:{required:n.err.required,isEmail:n.err.isEmail}},emailUpdateByMobileStepOne:{code:{required:n.err.required},idCard:{required:n.err.required,isIDNum:n.err.isIDNum}},setId:{realName:{required:n.err.required,isRealName:n.err.isRealName},idNo:{required:n.err.required,isIDNum:n.err.isIDNum}},setEmail:{email:{required:n.err.required,isEmail:n.err.isEmail}},setMobile:{mobile:{required:n.err.required,isMobile:n.err.isMobile},validCode:{required:n.err.required}},setCashPwd:{cashPwd:{required:n.err.required,isPassWord:n.err.isPassWord,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},cashPwd2:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength,equalTo:n.err.equalTo}},setNickName:{nickName:{required:n.err.required,isNickName:n.err.isNickName,isHasUnderlineFrontEnd:n.err.isHasUnderlineFrontEnd,isNickNameLength:n.err.isNickNameLength,isHasYX:n.err.isHasYX,remote:n.err.nickNameRemote}},creditWeibo:{credit_web:{required:n.err.required}},creditVideo:{usemail:{required:n.err.required}},creditGraduation:{validCode:{required:n.err.required,isEducationCode:n.err.isEducationCode}},notLoginFindPsw:{mobileOrEmail:{required:n.err.required,isMobileOrEmail:n.err.isMobileOrEmail},code:{required:n.err.required,minlength:n.err.codeLength,maxlength:n.err.codeLength,remote:n.err.remoteCode}},notLoginFindPswByEmail:{email:{required:n.err.required,isEmail:n.err.isEmail},code:{required:n.err.required,minlength:n.err.codeLength,maxlength:n.err.codeLength,remote:n.err.remoteCode}},notLoginFindPswByMobile:{mobile:{required:n.err.required,isMobile:n.err.isMobile},code:{required:n.err.required,minlength:n.err.codeLength,maxlength:n.err.codeLength,remote:n.err.remoteCode}},notLoginFindPswByEmailCode:{validCode:{required:n.err.required}},notLoginFindPswByMobileCode:{validCode:{required:n.err.required}},notLoginFindPswResetPsw:{password:{required:n.err.required,isPassWord:n.err.isPassWord,isPassNotAllNum:n.err.isPassNotAllNum,isPassNotRepeat:n.err.isPassNotRepeat,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},password2:{required:n.err.required,equalTo:n.err.equalTo}},calculator:{borrowAmount:{required:n.err.required,isBorrowAmount:n.err.isBorrowAmount},yearRate:{required:n.err.required,isOneDecimal:n.err.isOneDecimal,isRateOver:n.err.isRateOver}},ucode:{ucodeSerial:{required:n.err.required}},couponCode:{couponCode:{required:n.err.required}},accontRsvConfirm:{contract:{required:n.err.contractPay}},confirmReserve:{randCode:{required:n.err.required},joinContract:{required:n.err.contractPay},reserveContract:{required:n.err.contractPay}}}},n.log=function(){window.console&&window.console.log},n.msg=function(e,r,i){if(void 0!==e){if($msgafter=t(e),!$msgafter.length)return void n.log("'msgafter' element can't find!");void 0===i&&(i="log");var a=$msgafter.parent().find(".form-msg");if(a.length)return void a.html("<span class='"+i+"'>"+r+"</span>");a=t("<span class='form-msg'></span>").insertAfter($msgafter).slideUp().html("<span class='"+i+"'>"+r+"</span>").slideDown(),a.delay(3e3).slideUp(function(){t(this).remove()})}else n.log(r)},n.ajaxSubmit=function(e,r){function i(){function i(e){var r=null;try{e.contentWindow&&(r=e.contentWindow.document)}catch(i){}if(r)return r;try{r=e.contentDocument?e.contentDocument:e.document}catch(i){r=e.document}return r}function n(){function r(){try{var e=i(c).readyState;e&&"uninitialized"==e.toLowerCase()&&setTimeout(r,50)}catch(t){s(v),p&&clearTimeout(p),p=void 0}}var n=e.attr2("target"),d=e.attr2("action");f.setAttribute("target",u),a||f.setAttribute("method","POST"),d!=o.url&&f.setAttribute("action",o.url),o.skipEncodingOverride||a&&!/post/i.test(a)||e.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),o.timeout&&(p=setTimeout(function(){q=!0,s(x)},o.timeout));var m=[];try{if(o.extraData)for(var h in o.extraData)o.extraData.hasOwnProperty(h)&&m.push(t.isPlainObject(o.extraData[h])&&o.extraData[h].hasOwnProperty("name")&&o.extraData[h].hasOwnProperty("value")?t('<input type="hidden" name="'+o.extraData[h].name+'">').val(o.extraData[h].value).appendTo(f)[0]:t('<input type="hidden" name="'+h+'">').val(o.extraData[h]).appendTo(f)[0]);o.iframeTarget||(l.appendTo("body"),c.attachEvent?c.attachEvent("onload",s):c.addEventListener("load",s,!1)),setTimeout(r,15);try{f.submit()}catch(g){var F=document.createElement("form").submit;F.apply(f)}}finally{f.setAttribute("action",d),n?f.setAttribute("target",n):e.removeAttr("target"),t(m).remove()}}function s(e){if(!m.aborted&&!P){if(y=i(c),y||(e=v),e===x&&m)return m.abort("timeout"),void F.reject(m,"timeout");if(e==v&&m)return m.abort("server abort"),void F.reject(m,"error","server abort");if(y&&y.location.href!=o.iframeSrc||q){c.detachEvent?c.detachEvent("onload",s):c.removeEventListener("load",s,!1);var r,a="success";try{if(q)throw"timeout";var n="xml"==o.dataType||y.XMLDocument||t.isXMLDoc(y);if(!n&&window.opera&&(null===y.body||!y.body.innerHTML)&&--D)return void setTimeout(s,250);var u=y.body?y.body:y.documentElement;m.responseText=u?u.innerHTML:null,m.responseXML=y.XMLDocument?y.XMLDocument:y,n&&(o.dataType="xml"),m.getResponseHeader=function(e){var r={"content-type":o.dataType};return r[e]},u&&(m.status=Number(u.getAttribute("status"))||m.status,m.statusText=u.getAttribute("statusText")||m.statusText);var h=(o.dataType||"").toLowerCase(),g=/(json|script|text)/.test(h);if(g||o.textarea){var f=y.getElementsByTagName("textarea")[0];if(f)m.responseText=f.value,m.status=Number(f.getAttribute("status"))||m.status,m.statusText=f.getAttribute("statusText")||m.statusText;else if(g){var w=y.getElementsByTagName("pre")[0],b=y.getElementsByTagName("body")[0];w?m.responseText=w.textContent?w.textContent:w.innerText:b&&(m.responseText=b.textContent?b.textContent:b.innerText)}}else"xml"==h&&!m.responseXML&&m.responseText&&(m.responseXML=N(m.responseText));try{C=L(m,h,o)}catch(k){a="parsererror",m.error=r=k||a}}catch(k){a="error",m.error=r=k||a}m.aborted&&(a=null),m.status&&(a=m.status>=200&&m.status<300||304===m.status?"success":"error"),"success"===a?(o.success&&o.success.call(o.context,C,"success",m),F.resolve(m.responseText,"success",m),d&&t.event.trigger("ajaxSuccess",[m,o])):a&&(void 0===r&&(r=m.statusText),o.error&&o.error.call(o.context,m,a,r),F.reject(m,"error",r),d&&t.event.trigger("ajaxError",[m,o,r])),d&&t.event.trigger("ajaxComplete",[m,o]),d&&!--t.active&&t.event.trigger("ajaxStop"),o.complete&&o.complete.call(o.context,m,a),P=!0,o.timeout&&clearTimeout(p),setTimeout(function(){o.iframeTarget||l.remove(),m.responseXML=null},100)}}}var o,d,u,l,c,m,h,g,q,p,f=e[0],F=t.Deferred();if(o=t.extend(!0,{},t.ajaxSettings,r),o.context=o.context||o,u="jqFormIO"+(new Date).getTime(),o.iframeTarget?(l=t(o.iframeTarget),g=l.attr2("name"),g?u=g:l.attr2("name",u)):(l=t('<iframe name="'+u+'" src="'+o.iframeSrc+'" />'),l.css({position:"absolute",top:"-1000px",left:"-1000px"})),c=l[0],m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var r="timeout"===e?"timeout":"aborted";this.aborted=1;try{c.contentWindow.document.execCommand&&c.contentWindow.document.execCommand("Stop")}catch(i){}l.attr("src",o.iframeSrc),m.error=r,o.error&&o.error.call(o.context,m,r,e),d&&t.event.trigger("ajaxError",[m,o,r]),o.complete&&o.complete.call(o.context,m,r)}},d=o.global,d&&0===t.active++&&t.event.trigger("ajaxStart"),d&&t.event.trigger("ajaxSend",[m,o]),o.beforeSend&&o.beforeSend.call(o.context,m,o)===!1)return o.global&&t.active--,F.reject(),F;if(m.aborted)return F.reject(),F;h=f.clk,h&&(g=h.name,g&&!h.disabled&&(o.extraData=o.extraData||{},o.extraData[g]=h.value,"image"==h.type&&(o.extraData[g+".x"]=f.clk_x,o.extraData[g+".y"]=f.clk_y)));var x=1,v=2,w=t("meta[name=csrf-token]").attr("content"),b=t("meta[name=csrf-param]").attr("content");b&&w&&(o.extraData=o.extraData||{},o.extraData[b]=w),o.forceSync?n():setTimeout(n,10);var C,y,P,D=50,N=t.parseXML||function(e,r){return window.ActiveXObject?(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(e)):r=(new DOMParser).parseFromString(e,"text/xml"),r&&r.documentElement&&"parsererror"!=r.documentElement.nodeName?r:null},k=t.parseJSON||function(e){return window.eval("("+e+")")},L=function(e,r,i){var a=e.getResponseHeader("content-type")||"",n="xml"===r||!r&&a.indexOf("xml")>=0,s=n?e.responseXML:e.responseText;return n&&"parsererror"===s.documentElement.nodeName&&t.error&&t.error("parsererror"),i&&i.dataFilter&&(s=i.dataFilter(s,r)),"string"==typeof s&&("json"===r||!r&&a.indexOf("json")>=0?s=k(s):("script"===r||!r&&a.indexOf("javascript")>=0)&&t.globalEval(s)),s};return F}if(e.length&&(!r||"object"==t.type(r))){var a,s,o,d,u;"function"==typeof r?r={success:r}:void 0===r&&(r={}),r.msg=function(e,i){n.msg(r.msgafter,e,i)},a=r.type||e.attr("method"),s=r.url||e.attr("action"),o="string"==typeof s?t.trim(s):"",o&&(o=(o.match(/^([^#]+)/)||[])[1]),r.extraData&&(t.isPlainObject(r.extraData)||"array"==t.type(r.extraData))&&(u=t.param(r.extraData)),d=r.data?r.data:e.serialize(),d=u?d+"&"+u:d,r.debug&&n.log(d),r=t.extend(!0,{url:o,success:t.ajaxSettings.success,type:a||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r);var l=!!t.fn.prop;t.fn.attr2=function(){if(!l)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)};var c=e.find("input[type=file]"),m=c.length>0;r=t.extend({url:o,data:d,beforeSend:function(){this.msg("Loading...")},success:function(){this.msg("提交成功！")},error:function(){this.msg("服务器链接出错！","warn")},type:a||"GET"},r),m?i():t.ajax(r)}},n.is={isDate:function(e,r,i){if(isNaN(e)||isNaN(r)||isNaN(i))return!1;if(r>12||1>r)return!1;if(1>i||i>31)return!1;if((4==r||6==r||9==r||11==r)&&i>30)return!1;if(2==r){if(i>29)return!1;if((e%100===0&&e%400!==0||e%4!==0)&&i>28)return!1}return!0},isIDNum:function(e){var r;if(18!=e.length)return!1;if(r=/^\d{17}(\d|x|X)$/,!r.exec(e))return!1;if(!n.is.isDate(e.substring(6,10),e.substring(10,12),e.substring(12,14)))return!1;for(var i=["1","0","X","9","8","7","6","5","4","3","2"],t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],a=0,s=0;s<e.length-1;s++)a+=e.substring(s,s+1)*t[s];return a%=11,e.substring(e.length-1,e.length).toUpperCase()!=i[a]?!1:!0},isUserName:function(e){var r=/^\w+(@)\w+(\.\w+)(\.\w+|)$/,i=/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/;return r.test(e)||i.test(e)},isRealName:function(e){return/^[\u4E00-\u9FA5]+$/.test(e)},isNickName:function(e){return/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(e)},isHasUnderlineFrontEnd:function(e){return/^(?!_)(?!.*?_$).*$/.test(e)},isHasYX:function(e){return!/^(YX_|yx_|yX_|Yx_).*|(.*(_YX|_yx|_yX|_Yx)$)/.test(e)},isNickNameLength:function(e){function r(e){for(var r=e.length,i=0,t=0;r>t;t++)e.charCodeAt(t)<27||e.charCodeAt(t)>126?i+=2:i++;return i}return r(t.trim(e))<=16&&r(t.trim(e))>=4},isPassWord:function(e){return/^[\@A-Za-z0-9\!\#\$\%\^\&\*\.\~]{1,}$/.test(e)},isPassNotAllNum:function(e){return!/^\d{1,}$/.test(e)},isPassNotRepeat:function(e){return!new RegExp(/^(.)\1+$/).test(e)},isMobile:function(e){return/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(e)},isPhone:function(e){return/^0\d{2,3}[-]?\d{8}$|^0\d{3}[-]?\d{7,8}$/.test(e)},isEmail:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},isMobileOrEmail:function(e){return this.isMobile(e)||this.isEmail(e)},isUrl:function(e){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},isAmount:function(e){return/^[0-9]*(\.[0-9]{1,2})?$/.test(e)},isPostCode:function(e){return/^\d{6}$/.test(e)},isBankCard:function(e){return/^\d{12,19}$/.test(e)},isCardDeposit:function(e){return/^[a-zA-Z0-9\(\)\（\）\u4e00-\u9fa5]+$/.test(e)},isEducationCode:function(e){return/^\d{12}$/.test(e)},isIntNum:function(e){return/^\d+$/.test(e)},isOneDecimal:function(e){return/^(([1-9]{1}\d*)|([0]{1}))(\.(\d){1})?$/.test(e)},isLuhn:function(e){if(/[^0-9-\s]+/.test(e))return!1;var r=0,i=0,t=!1;e=e.replace(/\D/g,"");for(var a=e.length-1;a>=0;a--){var n=e.charAt(a);i=parseInt(n,10),t&&(i*=2)>9&&(i-=9),r+=i,t=!t}return r%10===0}},n.isEmptyObj=function(e){var r=!0;if("[object Array]"===Object.prototype.toString.call(e))r=!e.length;else{e=new Object(e);for(var i in e)return!1}return r},n.comma=function(e,r){var i=e;return(!r||1>r)&&(r=3),i=String(i).split("."),i[0]=i[0].replace(new RegExp("(\\d)(?=(\\d{"+r+"})+$)","ig"),"$1,"),i.join(".")},t.extend({uniqueArray:function(e,r){var i,t,a=e.length,n=e.slice(0);for("function"!=typeof r&&(r=function(e,r){return e===r});--a>0;)for(t=n[a],i=a;i--;)if(r(t,n[i])){n.splice(a,1);break}return n}}),n.addValidateMethod=function(e){"array"==t.type(e)&&t.each(e,function(e,r){a.validator.addMethod(r,function(e,i){return this.optional(i)||n.is[r](e)})})},n.placeholder=function(){t(".ui-form").on("click",".placeholder",function(){t(this).hide().parent().children("input").trigger("focus")}).on("focus","input",function(){t(this).parent().children(".placeholder").hide()}).on("blur","input",function(){this.value||t(this).parent().children(".placeholder").show()}).find("input").trigger("focus")},n.randImage=function(e){{var r=t("undefined"==typeof e?"#randImage":e);t("#randCode")}r.length>0&&(r.click(function(){t(this).attr("src","/image.jsp?"+Math.random())}),t("#refreshCode").click(function(){t("#randImage").trigger("click")}))},n.tipfocus=function(e,r){var i=e[0].offsetWidth+e.parent().children(".ui-label").width()+10,a=2;return $poptip=e.parent().children(".ui-poptip"),/code/.test(e[0].className)&&(i+=e.nextAll("button")[0].offsetWidth),$poptip.length?void $poptip.show():void t('<div class="ui-poptip ui-poptip-orange ui-poptip-new" style="z-index: 99; position: absolute; left: '+i+"px; top:"+a+'px;"><div class="ui-poptip-container"><div class="ui-poptip-arrow ui-poptip-arrow-10"><em></em><span></span></div><div data-role="content" class="ui-poptip-content" style="width: auto; height: auto;"></div></div></div>').appendTo(e.parent("div")).find(".ui-poptip-content").html(r)},n.tipblur=function(e){e.parent().children(".ui-poptip").hide()},n.setPhone=function(e,r,i){function a(){var e=n.val(),r=s.val();e&&r?o.val(e+"-"+r).keyup():o.val("").keyup()}var n=t("#"+e),s=t("#"+r),o=t("#"+i),d=t("#"+i).val();d&&/-/.test(d)?(n.val(d.split("-")[0]),s.val(d.split("-")[1])):s.val(o.val()),n.add(s).bind("keyup",function(){a()
}),n.add(s).bind("blur",function(){a(),o.trigger("blur")}),o.css({height:"0px",width:"0px",border:"1px dashed #fff"}).show().keyup()},n.sendPhoneCode=function(e,r,i,a){function s(){if(!m.hasClass("ui-button-disabled")){var e=c.length?c.val():"";if(c.length&&!n.is.isMobile(c.val()))return void n.msg("#"+r,"请输入正确手机号","warn");if(p&&!p.valid())return void n.msg("#"+r,"请输入正确的图片验证码","warn");m.addClass("ui-button-disabled"),d=setInterval(function(){0>=l?(m.removeClass("ui-button-disabled").html(h),clearInterval(d),l=u,a&&a.onClear&&t.isFunction(a.onClear)&&a.onClear()):(m.html(l+"秒后重新获取"),l--)},1e3);var i={};p&&1===p.length&&(i.randomCode=p.val()),t.ajax({url:g+e,data:i,type:"POST",success:function(e){a&&a.onSuccess&&t.isFunction(a.onSuccess)&&a.onSuccess(),e.result?n.msg("#"+r,e.result,"warn"):e.message&&n.msg("#"+r,e.message,"warn")}})}}function o(){clearInterval(d),l=u}var d,u=30,l=u,c=t("undefined"==typeof e?"#phone":"#"+e);r="undefined"==typeof r?"getMobileCode":r;var m=t("#"+r),h=m.html(),g="undefined"==typeof i?"/sendPhoneCode.action?phone=":i,q=a.randcodeValidate,p=null;return q&&(p=t(q)),a.unDisabled?m.bind("click",function(){"disabled"!=t(this).attr("disabled")&&(a&&a.onStart&&t.isFunction(a.onStart)&&a.onStart(),s())}):m.removeAttr("disabled").html(h).unbind("click").bind("click",function(e){e.preventDefault(),a&&a.onStart&&t.isFunction(a.onStart)&&a.onStart(),s()}),{send:s,clear:o}},n.notRequired=function(e){e.find(":text,[type='password'],[type='checkbox'],[type='radio'],[type='file'],select,textarea").each(function(){t(this).data("required","false")})},n.removeRequired=function(e){e.find(":text,[type='password'],[type='checkbox'],[type='radio'],[type='file'],select,textarea").each(function(){t(this).removeData("required")})},n.init=function(){},t.validator.prototype.checkForm=function(){this.prepareForm();for(var e=0,r=this.currentElements=this.elements();r[e];e++)if(this.findByName(r[e].name).length&&this.findByName(r[e].name).length>1)for(var i=0;i<this.findByName(r[e].name).length;i++)this.check(this.findByName(r[e].name)[i]);else this.check(r[e]);return this.valid()},function(e){if(document.all&&!document.querySelector&&e.fn.validate){var r=e.fn.validate,i=Array.prototype.slice;e.fn.validate=function(){var e=i.call(arguments,0),t=this.attr;return this.attr=function(){var e=i.call(arguments,0);return e.length>1&&"novalidate"===e[0]?this:t.apply(this,e)},r.apply(this,e)}}}(a);var s={success:function(e){e.addClass("valid")},highlight:function(e){t(e).removeClass("input-bg-gray").addClass("input-bg-red").addClass("error");var r=t(e).siblings(".icon"),i=r.attr("class");if(i&&/gray/.test(i)){var a=i.match(/input-icon-(.*)-gray/);r.removeClass(a[0]).addClass("input-icon-"+a[1]+"-red")}},unhighlight:function(e){t(e).removeClass("input-bg-red error").addClass("input-bg-gray");var r=t(e).siblings(".icon"),i=r.attr("class");if(i&&/red/.test(i)){var a=i.match(/input-icon-(.*)-red/);r.removeClass(a[0]).addClass("input-icon-"+a[1]+"-gray")}}},o={showErrors:function(){var e,r;for(e=0;this.errorList[e];e++){var i=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);break}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,r=this.validElements();r[e];e++)this.settings.unhighlight.call(this,r[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()}};n.ui={init:function(){t("input[type='checkbox']").each(function(){var e=t(this),r=e.prop("checked");$wrap=t("<span class='ui-select j-checkbox'></span>").on("click",function(r){"SPAN"==r.target.nodeName&&(e.prop("checked")?t(this).removeClass("j-checked"):t(this).addClass("j-checked"),e.trigger("click"))}),r&&$wrap.addClass("j-checked"),e.wrap($wrap)})},partInit:function(e){t("input[type='checkbox']",e).each(function(){var e=t(this),r=e.prop("checked");$wrap=t("<span class='ui-select j-checkbox'></span>").on("click",function(r){"SPAN"==r.target.nodeName&&(e.prop("checked")?t(this).removeClass("j-checked"):t(this).addClass("j-checked"),e.trigger("click"))}),r&&$wrap.addClass("j-checked"),e.wrap($wrap)})}},n.validate=function(e){var r,i,a,d={};i={name:null,target:"form",fieldArr:[],validateMethodArr:[],validateData:{},tip:{},showTip:!1,inputTheme:!1,before:function(){}};var u=function(e,r,i){var t={},a=0,n=r.length;for(a;n>a;a++)for(var s in e)if(r[a].name==s){t[s]=i&&"function"==typeof i?i.apply(this,[s,e[s],r[a],e]):e[s],delete e[s];break}return t};if(i=t.extend(i,e),r=t(i.target),i.tip=t.extend(n.tip,i.tip),i.name=i.name||r.data("name"),!i.name)throw"name is empty";if("array"==t.type(i.fieldArr)&&r.find("input[type='text'],input[type='password'],input[type='checkbox'],input[type='radio'],input[type='file'],select,textarea").each(function(){var e=t(this),r=e.data("is"),a=e.attr("name"),s={};if(r&&(r=t.trim(r).split(/\s+/)),r&&r.length)for(var o=0,d=r.length;d>o;o++)i.validateMethodArr.push(r[o]);a&&(s.name=a,"false"==e.data("required")?s.required=!1:"true"==e.data("required")&&(s.required=!0),s.label=e.parent().children(".ui-label").text().replace("*",""),i.fieldArr.push(s)),i.showTip&&t.each(i.tip,function(r,i){return i&&a==r?(e.focus(function(){n.tipfocus(e,i)}).blur(function(){n.tipblur(e)}),!1):void 0})}),a=i.fieldArr.length,!a)throw"fieldArr is empty";return i.validateData=t.extend(n.validateData,i.validateData),t.each(i.validateData,function(e,r){d[e]="rules"==e?u(r[i.name],i.fieldArr,function(e,r,i){return(i.required||i.required===!1)&&(r.required=!!i.required),r}):"messages"==e?u(r[i.name],i.fieldArr,function(e,r,i){return r.required==n.err.required&&(r.required=i.label+n.err.required),r}):r}),n.addValidateMethod(i.validateMethodArr),t(".placeholder").length&&n.placeholder(),i.before.call(this,n,r),i.inputTheme&&(d=t.extend(s,d)),i.showSingleError&&(d=t.extend(o,d)),r.validate(d)},i.exports=n});
;define("common:widget/oui/lib/simplePagination/1.5.0/simplePagination",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e){var a=e("common:widget/oui/lib/jquery/1.9.1/jquery"),t={init:function(e){var i=a.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:1,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"上一页",nextText:"下一页",ellipseText:"&hellip;",cssStyle:"light-theme",selectOnClick:!0,onPageClick:function(){},onInit:function(){}},e||{}),n=this;return i.pages=i.pages?i.pages:Math.ceil(i.items/i.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage=i.currentPage-1,i.halfDisplayed=i.displayedPages/2,this.each(function(){n.addClass(i.cssStyle+" simple-pagination").data("pagination",i),t._draw.call(n)}),i.onInit(),this},selectPage:function(e){return t._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data("pagination");return e.currentPage>0&&t._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data("pagination");return e.currentPage<e.pages-1&&t._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},redraw:function(){return t._draw.call(this),this},disable:function(){var e=this.data("pagination");return e.disabled=!0,this.data("pagination",e),t._draw.call(this),this},enable:function(){var e=this.data("pagination");return e.disabled=!1,this.data("pagination",e),t._draw.call(this),this},_draw:function(){var e,i=this.data("pagination"),n=t._getInterval(i);t.destroy.call(this);var s="UL"===this.prop("tagName")?this:a("<ul></ul>").appendTo(this);if(i.prevText&&t._appendItem.call(this,i.currentPage-1,{text:i.prevText,classes:"prev"}),n.start>0&&i.edges>0){var l=Math.min(i.edges,n.start);for(e=0;l>e;e++)t._appendItem.call(this,e);i.edges<n.start&&n.start-i.edges!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):n.start-i.edges==1&&t._appendItem.call(this,i.edges)}for(e=n.start;e<n.end;e++)t._appendItem.call(this,e);if(n.end<i.pages&&i.edges>0){i.pages-i.edges>n.end&&i.pages-i.edges-n.end!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):i.pages-i.edges-n.end==1&&t._appendItem.call(this,n.end++);var r=Math.max(i.pages-i.edges,n.end);for(e=r;e<i.pages;e++)t._appendItem.call(this,e)}i.nextText&&t._appendItem.call(this,i.currentPage+1,{text:i.nextText,classes:"next"})},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(e,i){var n,s,l=this,r=l.data("pagination"),p=a("<li></li>"),d=l.find("ul");e=0>e?0:e<r.pages?e:r.pages-1,n=a.extend({text:e+1,classes:""},i||{}),e==r.currentPage||r.disabled?(p.addClass(r.disabled?"disabled":"active"),s=a('<span class="current">'+n.text+"</span>")):(s=a('<a href="'+r.hrefTextPrefix+(e+1)+r.hrefTextSuffix+'" class="page-link">'+n.text+"</a>"),s.click(function(a){return t._selectPage.call(l,e,a)})),n.classes&&s.addClass(n.classes),p.append(s),d.length?d.append(p):l.append(p)},_selectPage:function(e,a){var i=this.data("pagination");return i.currentPage=e,i.selectOnClick&&t._draw.call(this),i.onPageClick(e+1,a)}};a.fn.pagination=function(e){return t[e]&&"_"!=e.charAt(0)?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void a.error("Method "+e+" does not exist on jQuery.pagination"):t.init.apply(this,arguments)}});
;define("common:widget/oui/widgets/list",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/lib/simplePagination/1.5.0/simplePagination"],function(t,e,i){var a=t("common:widget/oui/lib/jquery/1.9.1/jquery"),n=t("common:widget/oui/common"),s=t("common:widget/oui/protocol");t("common:widget/oui/lib/simplePagination/1.5.0/simplePagination"),DEFAULT_DELAY=750;var r=function(t,e){a.extend(this,{conf:t,activeClass:t.activeClass,delay:t.delay||DEFAULT_DELAY,container:t.container,checkboxTrigger:t.checkboxTrigger,isMultiterm:t.isMultiterm||!1,categoryTag:t.categoryTag||".category-tag",changed:t.changed,switcher:".ui-filter-switcher",status:null,list:e,timer:null})};a.extend(r.prototype,{init:function(){return this.initTags(),this.initSwitcher(),this.loadStatus(),this},getParams:function(){var t=this,e=arguments.callee.getRowValue;void 0===e&&(e=function(t,e){var i=[];return 0===t.length?"boolean"==e?"false":"":(t.each(function(t,e){var a=e.value;"all"==a&&(a=""),i.push(a)}),"boolean"==e?"true":i.join(","))});for(var i,n=function(){var e=[],i=t.container.find("ul.category");return i.each(function(){e.push(a(this).data("category"))}),e}(),s=0,r={};s<n.length;s++)i=e(a("input[name="+n[s]+"][checked=checked]")),""!==i&&(r[n[s]]=i);return r},loadStatus:function(){var t=this.getParams(),e=a.param(t);null!==this.status&&this.status!==e&&this.changed(this.list,t),this.status=e},initSwitcher:function(){var t=this;a(t.switcher).click(function(){t.isMultiterm?(a(this).removeClass("active"),t.isMultiterm=!1,t.container.find("li.all").click()):(a(this).addClass("active"),t.isMultiterm=!0)})},activate:function(t){t.addClass("active"),t.children("input").attr("checked","checked")},deactivate:function(t){t.removeClass("active"),t.children("input").removeAttr("checked")},initTags:function(){var t=this;a(t.categoryTag).click(function(){var e=a(this),i=e.siblings("li.all");t.isMultiterm&&!e.hasClass("all")?e.hasClass("active")?(0===e.siblings(".active").length&&t.activate(i),t.deactivate(e)):(i.hasClass("active")&&t.deactivate(i),t.activate(e)):(t.deactivate(e.siblings()),t.activate(e)),t.timer&&window.clearTimeout(t.timer),t.timer=window.setTimeout(function(){t.loadStatus()},t.delay)})}});var o=function(t,e){a.extend(this,{list:e,id:t.id,clicked:t.clicked||function(){},delay:t.delay||DEFAULT_DELAY,_timer:null,_status:{sortable:{},filterable:{}},_ui:{}})};a.extend(o.prototype,{init:function(){return this.update(),this},_clicked:function(){var t=this;t._timer&&window.clearTimeout(t._timer),t._timer=window.setTimeout(function(){t.clicked(t.list)},t.delay)},render2:function(){var t=this,e=this._ui;a.each(e.sortable,function(e,i){var n=a(i),s=n.attr("name");t._status.sortable.orderBy==s&&(n.addClass(t._status.sortable.order),n.hasClass("asc")||n.hasClass("desc"))}),a.each(e.filterable,function(e,i){var n=a(i),s=n.data("name");t._status.filterable[s]&&n.addClass(t._status.filterable[s])})},update:function(){var t=this,e=this._ui,i=a(this.id);e.sortable=i.children(".ui-list-title-sortable"),e.sortable.length<1&&(e.sortable=i.find(".ui-list-title-sortable")),e.filterable=i.children(".ui-list-title-filterable"),this.render2(),e.sortable.unbind("click").bind("click",function(e){e.stopPropagation();var i=a(this),n=i.attr("name"),s=i.attr("next");if(-1==s)return!1;var r=t._status.sortable;if(i.siblings(".ui-list-title-sortable").removeClass("asc").removeClass("desc"),r.orderBy=n,"REFRESH"!=n){if(i.hasClass("desc")||i.hasClass("asc")){var o="asc"==s?"desc":"asc";i.hasClass(s)?(i.removeClass(s),i.addClass(o),r.order=o):(i.removeClass(o),i.addClass(s),r.order=s)}else i.addClass(s),r.order=s;i.hasClass("asc")||i.hasClass("desc")}else i.removeClass("asc").removeClass("desc"),r.order="";t._clicked()}),e.filterable.click(function(){var e=a(this),i=e.data("name"),n=t._status.filterable;e.hasClass("checked")?(e.removeClass("checked"),n[i]=""):(e.addClass("checked"),n[i]="checked"),t._clicked()})},getParams:function(){var t,e,i,n={},s=this._ui.sortable;for(t=0;t<s.length;t++)e=a(s[t]),i=e.attr("name"),e.hasClass("asc")?(n.orderBy=i,n.order="ASC"):e.hasClass("desc")&&(n.orderBy=i,n.order="DESC");var r=this._ui.filterable;for(t=0;t<r.length;t++)e=a(r[t]),i=e.data("name"),e.hasClass("checked")&&(n[i]=!0);return n}});var l=function(t,e){a.extend(this,{list:e,container:t.container,clicked:t.clicked||function(){},_count:null,_index:null})};a.extend(l.prototype,{init:function(t,e){return this.update(t,e),this},update:function(t,e){if(e!=this._count||t!=this._index){if(this.container.empty(),this._count=e,this._index=t,1>=e)return;var i=this;this.container.pagination({cssStyle:"ui-pagination",pages:e,currentPage:t,onPageClick:function(t){i.clicked(i.list,t)}})}}});var c=function(t){a.extend(this,{name:t.name,api:t.api,hasFilter:t.filter,hasHeader:t.header,hasMore:t.more,hasPagination:t.pagination,rendered:t.rendered||function(){},delay:t.delay||DEFAULT_DELAY,container:t.container||a("#"+t.name),template:t.template||a("#"+t.name+"-template"),templateForItem:t.templateForItem||a("#"+t.name+"-item-template"),renderMode:t.renderMode,_params:t.params||{},_filter:null,_header:null,_isLoading:!1,isNeedLoading:t.isNeedLoading?!1:!0})};a.extend(c.prototype,{init:function(t){if(this.isNeedLoading&&this.startLoading(),this.hasFilter&&this._initFilter(),t){var e=0,i=0;t.data&&(t.data=s.translator.translate(this.api,t.data),e=t.data.pageIndex,i=t.data.pageCount),this.render(t),this.hasHeader&&this._initHeader(),this.hasPagination&&this._initPagination(e,i)}return this.stopLoading(),this},_initFilter:function(){var t=this.hasFilter;"boolean"==typeof this.hasFilter&&(t={container:a("#"+this.name+"-filter"),changed:function(t,e){var i=t.getParams(!0);a.extend(i,e),t._update(i)}}),this._filter=new r(t,this).init()},_initHeader:function(){var t=this.hasHeader;"boolean"==typeof t&&(t={id:"#"+this.name+"-header",clicked:function(t){t._update(t.getParams())}}),this._header=new o(t,this).init()},_initPagination:function(t,e){var i=this.hasPagination;"boolean"==typeof i&&(i={container:a("#"+this.name+"-pagination"),clicked:function(t,e){var i=t.getParams();i.pageIndex=e,t._update(i)}}),this._pagination=new l(i,this).init(t,e)},_update:function(t,e){if(this.api){var i=this;i.isNeedLoading&&i.startLoading(),s[this.api](t,function(t,a,n){i.render({status:t,message:a,data:n}),i.stopLoading(),e&&e(t,a,n)})}},getParams:function(t,e){var i=jQuery.extend(!0,{},this._params);return this.hasFilter&&!t&&a.extend(i,this._filter.getParams()),this.hasHeader&&!e&&a.extend(i,this._header.getParams()),i},render:function(t){var e=t.data;e._hasHeader=this.hasHeader,e._hasMore=this.hasMore,0!==t.status&&(e._message=t.message);var i=n.fillTemplate({data:e,template:this.template});this.container.html(i),this.hasHeader&&(this._header?this._header.update():this._initHeader()),this.hasPagination&&(this._pagination?this._pagination.update(e.pageIndex,e.pageCount):this._initPagination(e.pageIndex,e.pageCount)),this.rendered(t)},add:function(t,e,i){var a=i||this.templateForItem,s=n.fillTemplate({data:t,template:a});if(e){var r=this.container.children(".ui-list-header");r.length>0?r.after(s):this.container.prepend(s)}else{var o=this.container.children(".ui-list-more");o.length>0?o.before(s):this.container.append(s)}var l=this.container.children(".ui-list-status");l.length>0&&l.remove()},startLoading:function(){this._isLoading=!0,0===this.container.children("li.ui-list-loading").length&&this.container.append('<li class="ui-list-loading" style="display: none;"></li>'),this.container.children("li.ui-list-loading").show()},stopLoading:function(){this._isLoading=!1,this.container.children("li.ui-list-loading").hide()}}),i.exports=c});
;define("common:widget/oui/widgets/tab",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t,i,e){var n=t("common:widget/oui/lib/jquery/1.9.1/jquery"),a=function(t){n.extend(this,{name:t.name,tabs:t.tabsContainer||n("#"+t.name+"-tab"),contents:t.contentsContainer||n("#"+t.name+"-tab-content"),switched:t.switched||function(){},clicked:t.clicked||function(){},_current:null}),this.tabItems=this.tabs.find(".ui-tab-item"),this.contentItems=this.contents.find(".ui-tab-content"),this.ui={};var i=this;n.each(this.tabItems,function(t,e){var a=n(e);name=a.data("name"),i.ui[name]||(i.ui[name]={}),i.ui[name].tab=a,i.ui[name].initialized=!1}),n.each(this.contentItems,function(t,e){var a=n(e);name=a.data("name"),i.ui[name].content=a})};n.extend(a.prototype,{init:function(){this._current=this.getName(this.tabs.find(".ui-tab-item-current")),this.ui[this._current].initialized=!0;var t=this;this.tabItems.click(function(){var i=t._current,e=t.getName(n(this));if(t._current=e,t.clicked(e,t.ui[e].initialized),i!=e){t.ui[i].tab.removeClass("ui-tab-item-current"),t.ui[i].content.removeClass("ui-tab-content-current"),t.ui[e].tab.addClass("ui-tab-item-current"),t.ui[e].content.addClass("ui-tab-content-current");var a=t.switched(i,e,t.ui[e].initialized);t.ui[e].initialized=a}})},getName:function(t){return t.data("name")}}),e.exports=a});
;define("common:widget/oui/widgets/slider",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e,a,n){var s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=function(e){function a(){u.each(function(e){var a=e+1,n=u.eq(e).data("background");n=n.replace(/url\(/,"").replace(/\) no-repeat 50\% 50\%/,""),s('<li><a href="#">'+a+"</a></li>").appendTo(g),f.push(n)}),u.eq(c).show(),e.target.parent().css("background","none"),g.find("li").eq(c).addClass(e.curClass)}function n(){s(e.target).find("li").hover(function(){clearInterval(o)},l),g.find("li").on("click",function(a){c=s(this).index(),t(c),s(this).addClass(e.curClass).siblings().removeClass(e.curClass),u.eq(c).fadeIn("slow").siblings().fadeOut("slow"),a.preventDefault(),clearInterval(o),i(c),l()})}function i(a){t(a),e.targetNav.find("li").eq(a).addClass(e.curClass).siblings().removeClass(e.curClass),u.eq(a).fadeIn("slow").siblings().fadeOut("slow")}function l(){o=setInterval(function(){i(c),c++,c>=g.find("li").length&&(c=0),t(c),u.eq(c).fadeIn().siblings().fadeOut(),g.find("li").eq(c).addClass(e.curClass).siblings().removeClass(e.curClass)},e.delay)}function t(e){var a=u.eq(e);a.data("isLoadImg")||a.data("isLoadImg",!0).css("background","url("+f[e]+") no-repeat 50% 50%")}function r(e){if(e++,e!=u.length+1){var a=new Image;a.src=f[e-1],a.onload=function(){r(e)}}}function d(){a(),n(),i(c),r(0),t(c),l()}e=s.extend({target:s("#slides"),targetNav:s("#slider_nav"),curIndex:0,delay:5e3,curClass:"active"},e);var o,u=e.target.find("li"),c=(u.length,e.curIndex),f=[],g=s("<ul>").addClass("slider-nav-pointer").appendTo(e.targetNav);d()};n.exports=i});
;define("common:widget/oui/widgets/goTop",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(o,e,i){var n=o("common:widget/oui/lib/jquery/1.9.1/jquery");i.exports=function(o){function e(){var o=(n(window).width()-960)/2;o>0&&i.css("left",960+o+20+"px")}o=n.extend({elem:".ui-goTop"},{},o);var i=n(o.elem);i.on("click",function(){return n("body,html").animate({scrollTop:0},800),!1}).hide(),n(window).scroll(function(){n(this).scrollTop()>200?i.fadeIn():i.fadeOut()}).resize(function(){e()}),e()}});
;define("common:widget/oui/widgets/pswLevel",function(e,t,n){var g=function(e){var t,n=e.match(/\d/g),g=e.match(/[a-z]/g),h=e.match(/[A-Z]/g),c=e.match(/[!%#$\^*~.&]/g),l=e.length,a=n?n.length:0,o=g?g.length:0,i=h?h.length:0,m=c?c.length:0,r=!1,d=!1,s=!1,u=!1,v=0,f={};return 6>=l&&l>=8?v+=10:l>8&&(v+=25),o>0&&i>0?(d=!0,r=!0,v+=20):(o||i)&&(r=!0,v+=10),a>=1&&2>=a?(s=!0,v+=10):a>=3&&(s=!0,v+=20),1==m?(u=!0,v+=10):m>1&&(u=!0,v+=25),d&&s&&u?v+=10:r&&s&&u?v+=5:r&&s&&(v+=2),t=v>80?"强":v>=50&&80>=v?"中":"弱",f.score=v,f.level=t,f};n.exports=g});
;define("common:widget/oui/widgets/widgets",["require","exports","module","common:widget/oui/widgets/captcha","common:widget/oui/widgets/counter","common:widget/oui/widgets/form","common:widget/oui/widgets/list","common:widget/oui/widgets/tab","common:widget/oui/widgets/slider","common:widget/oui/widgets/goTop","common:widget/oui/widgets/pswLevel"],function(o,i,e){var t={};t.Captcha=o("common:widget/oui/widgets/captcha"),t.Counter=o("common:widget/oui/widgets/counter"),t.Form=o("common:widget/oui/widgets/form"),t.List=o("common:widget/oui/widgets/list"),t.Tab=o("common:widget/oui/widgets/tab"),t.Slider=o("common:widget/oui/widgets/slider"),t.GoTop=o("common:widget/oui/widgets/goTop"),t.pswLevel=o("common:widget/oui/widgets/pswLevel"),e.exports=t});
;define("common:widget/oui/components/latest-financial-plan",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets"],function(s,e,t){var n=s("common:widget/oui/lib/jquery/1.9.1/jquery"),i=s("common:widget/oui/widgets/widgets"),o=function(){};n.extend(o.prototype,{init:function(){var s=n("#counter");s.length>0&&s.is(":visible")&&(new i.Counter({container:s,start:s.data("now"),end:s.data("end"),daysStyle:"big",minDays:3,stopped:function(){n("#plan-status-presale").hide(),n("#plan-status-in-progress").show(),n("#plan-status-in-progress .plan-progress").hide(),n("#plan-status-in-progress .ui-progressbar-circle").show()}}).init(),n(".plan-status").hasClass("seconds")&&n(".ui-counter-text .suffix").text("开始预定")),n(".ui-plan-latest").hover(function(){n("#plan-status-in-progress .plan-progress").hide(),n("#plan-status-in-progress .ui-progressbar-circle").show()},function(){n("#plan-status-in-progress .ui-progressbar-circle").hide(),n("#plan-status-in-progress .plan-progress").show()})}}),t.exports=o});
;define("common:widget/oui/lib/highcharts/3.0.5/highcharts",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t,e,i){var s=(t("common:widget/oui/lib/jquery/1.9.1/jquery"),{});!function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e=arguments.length,i={},s=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"number"!=typeof i.nodeType?s(t[n]||{},i):e[n]);return t};for(t=0;e>t;t++)i=s(i,arguments[t]);return i}function i(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function o(t){return"object"==typeof t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"number"==typeof t}function h(t){return ue.log(t)/ue.LN10}function l(t){return ue.pow(10,t)}function c(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function d(t){return t!==j&&null!==t}function p(t,e,i){var s,r;if(n(e))d(i)?t.setAttribute(e,i):t&&t.getAttribute&&(r=t.getAttribute(e));else if(d(e)&&o(e))for(s in e)t.setAttribute(s,e[s]);return r}function u(t){return r(t)?t:[t]}function g(){var t,e,i=arguments,s=i.length;for(t=0;s>t;t++)if(e=i[t],"undefined"!=typeof e&&null!==e)return e}function f(e,i){Pe&&i&&i.opacity!==j&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function m(e,i,s,n,o){return e=de.createElement(e),i&&t(e,i),o&&f(e,{padding:0,border:Ge,margin:0}),s&&f(e,s),n&&n.appendChild(e),e}function x(e,i){var s=function(){};return s.prototype=new e,t(s.prototype,i),s}function y(t,e,s,n){var o=Z.lang,t=+t||0,r=-1===e?(t.toString().split(".")[1]||"").length:isNaN(e=ve(e))?2:e,e=void 0===s?o.decimalPoint:s,n=void 0===n?o.thousandsSep:n,o=0>t?"-":"",s=String(i(t=ve(t).toFixed(r))),a=s.length>3?s.length%3:0;return o+(a?s.substr(0,a)+n:"")+s.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n)+(r?e+ve(t-s).toFixed(r).slice(2):"")}function v(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function b(t,e,i){var s=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(s),i.apply(this,t)}}function k(t,e){for(var i,s,n,o,r,a="{",h=!1,l=[];-1!==(a=t.indexOf(a));){if(i=t.slice(0,a),h){for(s=i.split(":"),n=s.shift().split("."),r=n.length,i=e,o=0;r>o;o++)i=i[n[o]];s.length&&(s=s.join(":"),n=/\.([0-9])/,o=Z.lang,r=void 0,/f$/.test(s)?(r=(r=s.match(n))?r[1]:-1,i=y(i,r,o.decimalPoint,s.indexOf(",")>-1?o.thousandsSep:"")):i=K(s,i))}l.push(i),t=t.slice(a+1),a=(h=!h)?"}":"{"}return l.push(t),l.join("")}function w(t){return ue.pow(10,fe(ue.log(t)/ue.LN10))}function T(t,e,i,s){var n,i=g(i,1);for(n=t/i,e||(e=[1,2,2.5,5,10],s&&s.allowDecimals===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),s=0;s<e.length&&(t=e[s],!(n<=(e[s]+(e[s+1]||e[s]))/2));s++);return t*=i}function L(t,e){var i,s=e||[[Fe,[1,2,5,10,20,25,50,100,200,500]],[Ve,[1,2,5,10,15,30]],[je,[1,2,5,10,15,30]],[_e,[1,2,3,4,6,8,12]],[Ue,[1,2]],[Ze,[1,2]],[Ke,[1,2,3,4,6]],[qe,null]],n=s[s.length-1],o=J[n[0]],r=n[1];for(i=0;i<s.length&&(n=s[i],o=J[n[0]],r=n[1],!(s[i+1]&&t<=(o*r[r.length-1]+J[s[i+1][0]])/2));i++);return o===J[qe]&&5*o>t&&(r=[1,2,5]),o===J[qe]&&5*o>t&&(r=[1,2,5]),s=T(t/o,r,n[0]===qe?w(t/o):1),{unitRange:o,count:s,unitName:n[0]}}function S(e,i,s,n){var o,r=[],a={},h=Z.global.useUTC,l=new Date(i),c=e.unitRange,p=e.count;if(d(i)){c>=J[Ve]&&(l.setMilliseconds(0),l.setSeconds(c>=J[je]?0:p*fe(l.getSeconds()/p))),c>=J[je]&&l[re](c>=J[_e]?0:p*fe(l[te]()/p)),c>=J[_e]&&l[ae](c>=J[Ue]?0:p*fe(l[ee]()/p)),c>=J[Ue]&&l[he](c>=J[Ke]?1:p*fe(l[se]()/p)),c>=J[Ke]&&(l[le](c>=J[qe]?0:p*fe(l[ne]()/p)),o=l[oe]()),c>=J[qe]&&(o-=o%p,l[ce](o)),c===J[Ze]&&l[he](l[se]()-l[ie]()+g(n,1)),i=1,o=l[oe]();for(var n=l.getTime(),u=l[ne](),f=l[se](),m=h?0:(864e5+6e4*l.getTimezoneOffset())%864e5;s>n;)r.push(n),c===J[qe]?n=Q(o+i*p,0):c===J[Ke]?n=Q(o,u+i*p):h||c!==J[Ue]&&c!==J[Ze]?n+=c*p:n=Q(o,u,f+i*p*(c===J[Ue]?1:7)),i++;r.push(n),ni(oi(r,function(t){return c<=J[_e]&&t%J[Ue]===m}),function(t){a[t]=Ue})}return r.info=t(e,{higherRanks:a,totalRange:c*p}),r}function P(){this.symbol=this.color=0}function M(t,e){var i,s,n=t.length;for(s=0;n>s;s++)t[s].ss_i=s;for(t.sort(function(t,s){return i=e(t,s),0===i?t.ss_i-s.ss_i:i}),s=0;n>s;s++)delete t[s].ss_i}function A(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function C(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function D(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function I(t){U||(U=m(Ye)),t&&U.appendChild(t),U.innerHTML=""}function B(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;pe.console&&console.log(i)}function z(t){return parseFloat(t.toPrecision(14))}function O(t,e){q=g(t,e.animation)}function R(){var t=Z.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";Q=t?Date.UTC:function(t,e,i,s,n,o){return new Date(t,e,g(i,1),g(s,0),g(n,0),g(o,0)).getTime()},te=e+"Minutes",ee=e+"Hours",ie=e+"Day",se=e+"Date",ne=e+"Month",oe=e+"FullYear",re=i+"Minutes",ae=i+"Hours",he=i+"Date",le=i+"Month",ce=i+"FullYear"}function H(){}function X(t,e,i,s){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!s&&this.addLabel()}function W(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}function E(t,e,i,s,n,o){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=s,this.total=null,this.points={},this.stack=n,this.percent="percent"===o,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:g(e.y,r?4:i?14:-6),x:g(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")}function Y(){this.init.apply(this,arguments)}function G(){this.init.apply(this,arguments)}function N(t,e){this.init(t,e)}function F(t,e){this.init(t,e)}function V(){this.init.apply(this,arguments)}var j,_,U,Z,K,q,$,J,Q,te,ee,ie,se,ne,oe,re,ae,he,le,ce,de=document,pe=window,ue=Math,ge=ue.round,fe=ue.floor,me=ue.ceil,xe=ue.max,ye=ue.min,ve=ue.abs,be=ue.cos,ke=ue.sin,we=ue.PI,Te=2*we/360,Le=navigator.userAgent,Se=pe.opera,Pe=/msie/i.test(Le)&&!Se,Me=8===de.documentMode,Ae=/AppleWebKit/.test(Le),Ce=/Firefox/.test(Le),De=/(Mobile|Android|Windows Phone)/.test(Le),Ie="http://www.w3.org/2000/svg",Be=!!de.createElementNS&&!!de.createElementNS(Ie,"svg").createSVGRect,ze=Ce&&parseInt(Le.split("Firefox/")[1],10)<4,Oe=!Be&&!Pe&&!!de.createElement("canvas").getContext,Re=de.documentElement.ontouchstart!==j,He={},Xe=0,We=function(){},Ee=[],Ye="div",Ge="none",Ne="rgba(192,192,192,"+(Be?1e-4:.002)+")",Fe="millisecond",Ve="second",je="minute",_e="hour",Ue="day",Ze="week",Ke="month",qe="year",$e="stroke-width",Je={};pe.Highcharts=pe.Highcharts?B(16,!0):{},K=function(e,i,n){if(!d(i)||isNaN(i))return"Invalid date";var o,e=g(e,"%Y-%m-%d %H:%M:%S"),r=new Date(i),a=r[ee](),h=r[ie](),l=r[se](),c=r[ne](),p=r[oe](),u=Z.lang,f=u.weekdays,r=t({a:f[h].substr(0,3),A:f[h],d:v(l),e:l,b:u.shortMonths[c],B:u.months[c],m:v(c+1),y:p.toString().substr(2,2),Y:p,H:v(a),I:v(a%12||12),l:a%12||12,M:v(r[te]()),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:v(r.getSeconds()),L:v(ge(i%1e3),3)},s.dateFormats);for(o in r)for(;-1!==e.indexOf("%"+o);)e=e.replace("%"+o,"function"==typeof r[o]?r[o](i):r[o]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},P.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},J=function(){for(var t=0,e=arguments,i=e.length,s={};i>t;t++)s[e[t++]]=e[t];return s}(Fe,1,Ve,1e3,je,6e4,_e,36e5,Ue,864e5,Ze,6048e5,Ke,26784e5,qe,31556952e3),$={init:function(t,e,i){var s,n,o,e=e||"",r=t.shift,a=e.indexOf("C")>-1,h=a?7:3,e=e.split(" "),i=[].concat(i),l=function(t){for(s=t.length;s--;)"M"===t[s]&&t.splice(s+1,0,t[s+1],t[s+2],t[s+1],t[s+2])};if(a&&(l(e),l(i)),t.isArea&&(n=e.splice(e.length-6,6),o=i.splice(i.length-6,6)),r<=i.length/h)for(;r--;)i=[].concat(i).splice(0,h).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)r=[].concat(e).splice(e.length-h,h),a&&(r[h-6]=r[h-2],r[h-5]=r[h-1]),e=e.concat(r);return n&&(e=e.concat(n),i=i.concat(o)),[e,i]},step:function(t,e,i,s){var n=[],o=t.length;if(1===i)n=s;else if(o===e.length&&1>i)for(;o--;)s=parseFloat(t[o]),n[o]=isNaN(s)?t[o]:i*parseFloat(e[o]-s)+s;else n=e;return n}},function(e){pe.HighchartsAdapter=pe.HighchartsAdapter||e&&{init:function(t){var i,o=e.fx,r=o.step,a=e.Tween,h=a&&a.propHooks;i=e.cssHooks.opacity,e.extend(e.easing,{easeOutQuad:function(t,e,i,s,n){return-s*(e/=n)*(e-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,e){var i,s,n=r;"cur"===e?n=o.prototype:"_default"===e&&a&&(n=h[e],e="set"),(i=n[e])&&(n[e]=function(n){return n=t?n:this,s=n.elem,s.attr?s.attr(n.prop,"cur"===e?j:n.now):i.apply(this,arguments)})}),b(i,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),i=function(e){var i,s=e.elem;e.started||(i=t.init(s,s.d,s.toD),e.start=i[0],e.end=i[1],e.started=!0),s.attr("d",t.step(e.start,e.end,e.pos,s.toD))},a?h.d={set:i}:r.d=i,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,s=t.length;s>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i},e.fn.highcharts=function(){var t,e,i="Chart",o=arguments;return n(o[0])&&(i=o[0],o=Array.prototype.slice.call(o,1)),t=o[0],t!==j&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new s[i](t,o[1]),e=this),t===j&&(e=Ee[p(this[0],"data-highcharts-chart")]),e}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],s=0,n=t.length;n>s;s++)i[s]=e.call(t[s],t[s],s,t);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,s){e(t).bind(i,s)},removeEvent:function(t,i,s){var n=de.removeEventListener?"removeEventListener":"detachEvent";de[n]&&t&&!t[n]&&(t[n]=function(){}),e(t).unbind(i,s)},fireEvent:function(i,s,n,o){var r,a=e.Event(s),h="detached"+s;!Pe&&n&&(delete n.layerX,delete n.layerY),t(a,n),i[s]&&(i[h]=i[s],i[s]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=a[e];a[e]=function(){try{i.call(a)}catch(t){"preventDefault"===e&&(r=!0)}}}),e(i).trigger(a),i[h]&&(i[s]=i[h],i[h]=null),o&&!a.isDefaultPrevented()&&!r&&o(a)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===j&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,s){var n=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),n.stop(),i.opacity!==j&&t.attr&&(i.opacity+="px"),n.animate(i,s)},stop:function(t){e(t).stop()}}}(pe.jQuery);var Qe=pe.HighchartsAdapter,ti=Qe||{};Qe&&Qe.init.call(Qe,$);var ei=ti.adapterRun,ii=ti.getScript,si=ti.inArray,ni=ti.each,oi=ti.grep,ri=ti.offset,ai=ti.map,hi=ti.addEvent,li=ti.removeEvent,ci=ti.fireEvent,di=ti.washMouseEvent,pi=ti.animate,ui=ti.stop,ti={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};Z={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.5/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(ti,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":y(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Be,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:De?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var gi=Z.plotOptions,Qe=gi.line;R();var fi=function(t){var s,n,o=[];return function(t){t&&t.stops?n=ai(t.stops,function(t){return fi(t[1])}):(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t))?o=[i(s[1]),i(s[2]),i(s[3]),parseFloat(s[4],10)]:(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?o=[i(s[1],16),i(s[2],16),i(s[3],16),1]:(s=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))&&(o=[i(s[1]),i(s[2]),i(s[3]),1])}(t),{get:function(i){var s;return n?(s=e(t),s.stops=[].concat(s.stops),ni(n,function(t,e){s.stops[e]=[s.stops[e][0],t.get(i)]})):s=o&&!isNaN(o[0])?"rgb"===i?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===i?o[3]:"rgba("+o.join(",")+")":t,s},brighten:function(t){if(n)ni(n,function(e){e.brighten(t)});else if(a(t)&&0!==t){var e;for(e=0;3>e;e++)o[e]+=i(255*t),o[e]<0&&(o[e]=0),o[e]>255&&(o[e]=255)}return this},rgba:o,setOpacity:function(t){return o[3]=t,this}}};H.prototype={init:function(t,e){this.element="span"===e?m(e):de.createElementNS(Ie,e),this.renderer=t,this.attrSetters={}},opacity:1,animate:function(t,i,s){i=g(i,q,!0),ui(this),i?(i=e(i),s&&(i.complete=s),pi(this,t,i)):(this.attr(t),s&&s())},attr:function(t,e){var s,o,r,a,h,l,c,u=this.element,f=u.nodeName.toLowerCase(),m=this.renderer,x=this.attrSetters,y=this.shadows,v=this;if(n(t)&&d(e)&&(s=t,t={},t[s]=e),n(t))s=t,"circle"===f?s={x:"cx",y:"cy"}[s]||s:"strokeWidth"===s&&(s="stroke-width"),v=p(u,s)||this[s]||0,"d"!==s&&"visibility"!==s&&(v=parseFloat(v));else{for(s in t)if(h=!1,o=t[s],r=x[s]&&x[s].call(this,o,s),r!==!1){if(r!==j&&(o=r),"d"===s)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===s&&"text"===f)for(r=0;r<u.childNodes.length;r++)a=u.childNodes[r],p(a,"x")===p(u,"x")&&p(a,"x",o);else if(!this.rotation||"x"!==s&&"y"!==s)if("fill"===s)o=m.color(o,u,s);else if("circle"!==f||"x"!==s&&"y"!==s)if("rect"===f&&"r"===s)p(u,{rx:o,ry:o}),h=!0;else if("translateX"===s||"translateY"===s||"rotation"===s||"verticalAlign"===s||"scaleX"===s||"scaleY"===s)h=c=!0;else if("stroke"===s)o=m.color(o,u,s);else if("dashstyle"===s){if(s="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=Ge;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),r=o.length;r--;)o[r]=i(o[r])*g(t["stroke-width"],this["stroke-width"]);o=o.join(",")}}else"width"===s?o=i(o):"align"===s?(s="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===s&&(r=u.getElementsByTagName("title")[0],r||(r=de.createElementNS(Ie,"title"),u.appendChild(r)),r.textContent=o);else s={x:"cx",y:"cy"}[s]||s;else c=!0;if("strokeWidth"===s&&(s="stroke-width"),("stroke-width"===s||"stroke"===s)&&(this[s]=o,this.stroke&&this["stroke-width"]?(p(u,"stroke",this.stroke),p(u,"stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===s&&0===o&&this.hasStroke&&(u.removeAttribute("stroke"),this.hasStroke=!1),h=!0),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s)&&(l||(this.symbolAttr(t),l=!0),h=!0),y&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(s))for(r=y.length;r--;)p(y[r],s,"height"===s?xe(o-(y[r].cutHeight||0),0):o);("width"===s||"height"===s)&&"rect"===f&&0>o&&(o=0),this[s]=o,"text"===s?(o!==this.textStr&&delete this.bBox,this.textStr=o,this.added&&m.buildText(this)):h||p(u,s,o)}c&&this.updateTransform()}return v},addClass:function(t){var e=this.element,i=p(e,"class")||"";return-1===i.indexOf(t)&&p(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;ni("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=g(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Ge)},crisp:function(t,e,i,s,n){var o,r,a={},h={},t=t||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;r=ge(t)%2/2,h.x=fe(e||this.x||0)+r,h.y=fe(i||this.y||0)+r,h.width=fe((s||this.width||0)-2*r),h.height=fe((n||this.height||0)-2*r),h.strokeWidth=t;for(o in h)this[o]!==h[o]&&(this[o]=a[o]=h[o]);return a},css:function(e){var i,s=this.element,n=e&&e.width&&"text"===s.nodeName.toLowerCase(),o="",r=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),this.styles=e=t(this.styles,e),Oe&&n&&delete e.width,Pe&&!Be)n&&delete e.width,f(this.element,e);else{for(i in e)o+=i.replace(/([A-Z])/g,r)+":"+e[i]+";";p(s,"style",o)}return n&&this.added&&this.renderer.buildText(this),this},on:function(t,e){var i=this.element;return Re&&"click"===t&&(i.ontouchstart=function(t){t.preventDefault(),e.call(i,t)}),i["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(e){var i=this.element;return(i=e&&"SPAN"===i.tagName&&e.width)&&(delete e.width,this.textWidth=i,this.updateTransform()),this.styles=t(this.styles,e),f(this.element,e),this},htmlGetBBox:function(){var t=this.element,e=this.bBox;return e||("text"===t.nodeName&&(t.style.position="absolute"),e=this.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),e},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,s=this.translateX||0,n=this.translateY||0,o=this.x||0,r=this.y||0,a=this.textAlign||"left",h={left:0,center:.5,right:1}[a],l=a&&"left"!==a,c=this.shadows;if(f(e,{marginLeft:s,marginTop:n}),c&&ni(c,function(t){f(t,{marginLeft:s+1,marginTop:n+1})}),this.inverted&&ni(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var p,u,m,c=this.rotation;p=0;var x,y=1,v=0;m=i(this.textWidth);var b=this.xCorr||0,k=this.yCorr||0,w=[c,a,e.innerHTML,this.textWidth].join(",");w!==this.cTT&&(d(c)&&(p=c*Te,y=be(p),v=ke(p),this.setSpanRotation(c,v,y)),p=g(this.elemWidth,e.offsetWidth),u=g(this.elemHeight,e.offsetHeight),p>m&&/[ \-]/.test(e.textContent||e.innerText)&&(f(e,{width:m+"px",display:"block",whiteSpace:"normal"}),p=m),m=t.fontMetrics(e.style.fontSize).b,b=0>y&&-p,k=0>v&&-u,x=0>y*v,b+=v*m*(x?1-h:h),k-=y*m*(c?x?h:1-h:1),l&&(b-=p*h*(0>y?-1:1),c&&(k-=u*h*(0>v?-1:1)),f(e,{textAlign:a})),this.xCorr=b,this.yCorr=k),f(e,{left:o+b+"px",top:r+k+"px"}),Ae&&(u=e.offsetHeight),this.cTT=w}}else this.alignOnAdd=!0},setSpanRotation:function(t){var e={};e[Pe?"-ms-transform":Ae?"-webkit-transform":Ce?"MozTransform":Se?"-o-transform":""]=e.transform="rotate("+t+"deg)",f(this.element,e)},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,s=this.scaleY,n=this.inverted,o=this.rotation;n&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],n?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(this.x||0)+" "+(this.y||0)+")"),(d(i)||d(s))&&t.push("scale("+g(i,1)+" "+g(s,1)+")"),t.length&&p(this.element,"transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var s,o,r,a,h={};return o=this.renderer,r=o.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||n(i))&&(this.alignTo=s=i||"renderer",c(r,this),r.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),i=g(i,o[s],o),s=t.align,o=t.verticalAlign,r=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),("right"===s||"center"===s)&&(r+=(i.width-(t.width||0))/{right:1,center:2}[s]),h[e?"translateX":"x"]=ge(r),("bottom"===o||"middle"===o)&&(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),h[e?"translateY":"y"]=ge(a),this[this.placed?"animate":"attr"](h),this.placed=!0,this.alignAttr=h,this},getBBox:function(){var e,i=this.bBox,s=this.renderer,n=this.rotation;e=this.element;var o=this.styles,r=n*Te;if(!i){if(e.namespaceURI===Ie||s.forExport){try{i=e.getBBox?t({},e.getBBox()):{width:e.offsetWidth,height:e.offsetHeight}}catch(a){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();s.isSVG&&(s=i.width,e=i.height,Pe&&o&&"11px"===o.fontSize&&"22.7"===e.toPrecision(3)&&(i.height=e=14),n&&(i.width=ve(e*ke(r))+ve(s*be(r)),i.height=ve(e*be(r))+ve(s*ke(r)))),this.bBox=i}return i},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,s=this.renderer,n=t||s,o=n.element||s.box,r=o.childNodes,a=this.element,h=p(a,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&s.buildText(this),h&&(n.handleZ=!0,h=i(h)),n.handleZ)for(n=0;n<r.length;n++)if(t=r[n],s=p(t,"zIndex"),t!==a&&(i(s)>h||!d(h)&&d(s))){o.insertBefore(a,t),e=!0;break}return e||o.appendChild(a),this.added=!0,ci(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,s=i.element||{},n=i.shadows,o=i.renderer.isSVG&&"SPAN"===s.nodeName&&s.parentNode;if(s.onclick=s.onmouseout=s.onmouseover=s.onmousemove=s.point=null,ui(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(s),n&&ni(n,function(t){i.safeRemoveChild(t)});o&&0===o.childNodes.length;)s=o.parentNode,i.safeRemoveChild(o),o=s;i.alignTo&&c(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var s,n,o,r,a,h,l=[],c=this.element;if(t){for(r=g(t.width,3),a=(t.opacity||.15)/r,h=this.parentInverted?"(-1,-1)":"("+g(t.offsetX,1)+", "+g(t.offsetY,1)+")",s=1;r>=s;s++)n=c.cloneNode(0),o=2*r+1-2*s,p(n,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*s,"stroke-width":o,transform:"translate"+h,fill:Ge}),i&&(p(n,"height",xe(p(n,"height")-o,0)),n.cutHeight=o),e?e.element.appendChild(n):c.parentNode.insertBefore(n,c),l.push(n);this.shadows=l}return this}};var mi=function(){this.init.apply(this,arguments)};mi.prototype={Element:H,init:function(t,e,i,s){var n,o,r=location;n=this.createElement("svg").attr({version:"1.1"}),o=n.element,t.appendChild(o),-1===t.innerHTML.indexOf("xmlns")&&p(o,"xmlns",Ie),this.isSVG=!0,this.box=o,this.boxWrapper=n,this.alignedObjects=[],this.url=(Ce||Ae)&&de.getElementsByTagName("base").length?r.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(de.createTextNode("Created with Highcharts 3.0.5")),this.defs=this.createElement("defs").add(),this.forExport=s,this.gradients={},this.setSize(e,i,!1);var a;Ce&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){f(t,{left:0,top:0}),a=t.getBoundingClientRect(),f(t,{left:me(a.left)-a.left+"px",top:me(a.top)-a.top+"px"})},e(),hi(pe,"resize",e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),D(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&li(pe,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,s=this,n=s.forExport,o=g(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),r=e.childNodes,a=/style="([^"]+)"/,h=/href="(http[^"]+)"/,l=p(e,"x"),c=t.styles,d=c&&c.width&&i(c.width),u=c&&c.lineHeight,m=r.length;m--;)e.removeChild(r[m]);d&&!t.added&&this.box.appendChild(e),""===o[o.length-1]&&o.pop(),ni(o,function(i,o){var r,g=0,i=i.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");r=i.split("|||"),ni(r,function(i){if(""!==i||1===r.length){var m,x={},y=de.createElementNS(Ie,"tspan");if(a.test(i)&&(m=i.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),p(y,"style",m)),h.test(i)&&!n&&(p(y,"onclick",'location.href="'+i.match(h)[1]+'"'),f(y,{cursor:"pointer"})),i=(i.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==i&&(y.appendChild(de.createTextNode(i)),g?x.dx=0:x.x=l,p(y,x),!g&&o&&(!Be&&n&&f(y,{display:"block"}),p(y,"dy",u||s.fontMetrics(/px$/.test(y.style.fontSize)?y.style.fontSize:c.fontSize).h,Ae&&y.offsetHeight)),e.appendChild(y),g++,d))for(var v,i=i.replace(/([^\^])-/g,"$1- ").split(" "),b=[];i.length||b.length;)delete t.bBox,v=t.getBBox().width,x=v>d,x&&1!==i.length?(y.removeChild(y.firstChild),b.unshift(i.pop())):(i=b,b=[],i.length&&(y=de.createElementNS(Ie,"tspan"),p(y,{dy:u||16,x:l}),m&&p(y,"style",m),e.appendChild(y),v>d&&(d=v))),i.length&&y.appendChild(de.createTextNode(i.join(" ").replace(/- /g,"-")))}})})},button:function(i,s,n,o,r,a,h,l){var c,d,p,u,g,f,m=this.label(i,s,n,null,null,null,null,null,"button"),x=0,i={x1:0,y1:0,x2:0,y2:1},r=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:i,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r);return p=r.style,delete r.style,a=e(r,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),u=a.style,delete a.style,h=e(r,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#9BD"],[1,"#CDF"]]}},h),g=h.style,delete h.style,l=e(r,{style:{color:"#CCC"}},l),f=l.style,delete l.style,hi(m.element,Pe?"mouseover":"mouseenter",function(){3!==x&&m.attr(a).css(u)}),hi(m.element,Pe?"mouseout":"mouseleave",function(){3!==x&&(c=[r,a,h][x],d=[p,u,g][x],m.attr(c).css(d))}),m.setState=function(t){(m.state=x=t)?2===t?m.attr(h).css(g):3===t&&m.attr(l).css(f):m.attr(r).css(p)},m.on("click",function(){3!==x&&o.call(m)}).attr(r).css(t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ge(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ge(t[2])+e%2/2),t},path:function(e){var i={fill:Ge};return r(e)?i.d=e:o(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){return t=o(t)?t:{x:t,y:e,r:i},this.createElement("circle").attr(t)},arc:function(t,e,i,s,n,r){return o(t)&&(e=t.y,i=t.r,s=t.innerR,n=t.start,r=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:s||0,start:n||0,end:r||0}),t.r=i,t},rect:function(t,e,i,s,n,r){return n=o(t)?t.r:n,n=this.createElement("rect").attr({rx:n,ry:n,fill:Ge}),n.attr(o(t)?t:n.crisp(r,t,e,xe(i,0),xe(s,0)))},setSize:function(t,e,i){var s=this.alignedObjects,n=s.length;for(this.width=t,this.height=e,this.boxWrapper[g(i,!0)?"animate":"attr"]({width:t,height:e});n--;)s[n].align()},g:function(t){var e=this.createElement("g");return d(t)?e.attr({"class":"highcharts-"+t}):e},image:function(e,i,s,n,o){var r={preserveAspectRatio:Ge};return arguments.length>1&&t(r,{x:i,y:s,width:n,height:o}),r=this.createElement("image").attr(r),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):r.element.setAttribute("hc-svg-href",e),r},symbol:function(e,i,s,n,o,r){var a,h,l,c=this.symbols[e],c=c&&c(ge(i),ge(s),n,o,r),d=/^url\((.*?)\)$/;return c?(a=this.path(c),t(a,{symbolName:e,x:i,y:s,width:n,height:o}),r&&t(a,r)):d.test(e)&&(l=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ge((n-e[0])/2),ge((o-e[1])/2)))},h=e.match(d)[1],e=He[h],a=this.image(h).attr({x:i,y:s}),a.isImg=!0,e?l(a,e):(a.attr({width:0,height:0}),m("img",{onload:function(){l(a,He[h]=[this.width,this.height])},src:h}))),a},symbols:{circle:function(t,e,i,s){var n=.166*i;return["M",t+i/2,e,"C",t+i+n,e,t+i+n,e+s,t+i/2,e+s,"C",t-n,e+s,t-n,e,t+i/2,e,"Z"]},square:function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i,e+s,t,e+s,"Z"]},triangle:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s,t,e+s,"Z"]},"triangle-down":function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i/2,e+s,"Z"]},diamond:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s/2,t+i/2,e+s,t,e+s/2,"Z"]},arc:function(t,e,i,s,n){var o=n.start,i=n.r||i||s,r=n.end-.001,s=n.innerR,a=n.open,h=be(o),l=ke(o),c=be(r),r=ke(r),n=n.end-o<we?0:1;return["M",t+i*h,e+i*l,"A",i,i,0,n,1,t+i*c,e+i*r,a?"M":"L",t+s*c,e+s*r,"A",s,s,0,n,0,t+s*h,e+s*l,a?"":"Z"]}},clipRect:function(t,e,i,s){var n="highcharts-"+Xe++,o=this.createElement("clipPath").attr({id:n}).add(this.defs),t=this.rect(t,e,i,s,0).add(o);return t.id=n,t.clipPath=o,t},color:function(t,i,s){var n,o,a,h,l,c,u,g,f=this,m=/^rgba/,x=[];if(t&&t.linearGradient?o="linearGradient":t&&t.radialGradient&&(o="radialGradient"),o){s=t[o],a=f.gradients,l=t.stops,i=i.radialReference,r(s)&&(t[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&i&&!d(s.gradientUnits)&&(s=e(s,{cx:i[0]-i[2]/2+s.cx*i[2],cy:i[1]-i[2]/2+s.cy*i[2],r:s.r*i[2],gradientUnits:"userSpaceOnUse"}));for(g in s)"id"!==g&&x.push(g,s[g]);for(g in l)x.push(l[g]);return x=x.join(","),a[x]?t=a[x].id:(s.id=t="highcharts-"+Xe++,a[x]=h=f.createElement(o).attr(s).add(f.defs),h.stops=[],ni(l,function(t){m.test(t[1])?(n=fi(t[1]),c=n.get("rgb"),u=n.get("a")):(c=t[1],u=1),t=f.createElement("stop").attr({offset:t[0],"stop-color":c,"stop-opacity":u}).add(h),h.stops.push(t)})),"url("+f.url+"#"+t+")"}return m.test(t)?(n=fi(t),p(i,s+"-opacity",n.get("a")),n.get("rgb")):(i.removeAttribute(s+"-opacity"),t)},text:function(t,e,i,s){var n=Z.chart.style,o=Oe||!Be&&this.forExport;return s&&!this.forExport?this.html(t,e,i):(e=ge(g(e,0)),i=ge(g(i,0)),t=this.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:n.fontFamily,fontSize:n.fontSize}),o&&t.css({position:"absolute"}),t.x=e,t.y=i,t)},html:function(e,i,s){var n=Z.chart.style,o=this.createElement("span"),r=o.attrSetters,a=o.element,h=o.renderer;return r.text=function(t){return t!==a.innerHTML&&delete this.bBox,a.innerHTML=t,!1},r.x=r.y=r.align=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1
},o.attr({text:e,x:ge(i),y:ge(s)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:n.fontFamily,fontSize:n.fontSize}),o.css=o.htmlCss,h.isSVG&&(o.add=function(e){var i,s=h.box.parentNode,n=[];if(e){if(i=e.div,!i){for(;e;)n.push(e),e=e.parentGroup;ni(n.reverse(),function(e){var n;i=e.div=e.div||m(Ye,{className:p(e.element,"class")},{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},i||s),n=i.style,t(e.attrSetters,{translateX:function(t){n.left=t+"px"},translateY:function(t){n.top=t+"px"},visibility:function(t,e){n[e]=t}})})}}else i=s;return i.appendChild(a),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(t){var t=i(t||11),t=24>t?t+4:ge(1.2*t),e=ge(.8*t);return{h:t,b:e}},label:function(i,s,n,o,r,a,h,l,c){function p(){var t,i;t=P.element.style,x=(void 0===y||void 0===v||S.styles.textAlign)&&P.getBBox(),S.width=(y||x.width||0)+2*A+C,S.height=(v||x.height||0)+2*A,w=A+L.fontMetrics(t&&t.fontSize).b,T&&(m||(t=ge(-M*A),i=l?-w:0,S.box=m=o?L.symbol(o,t,i,S.width,S.height):L.rect(t,i,S.width,S.height,0,I[$e]),m.add(S)),m.isImg||m.attr(e({width:S.width,height:S.height},I)),I=null)}function u(){var t,e=S.styles,e=e&&e.textAlign,i=C+A*(1-M);t=l?0:w,!d(y)||"center"!==e&&"right"!==e||(i+={center:.5,right:1}[e]*(y-x.width)),(i!==P.x||t!==P.y)&&P.attr({x:i,y:t}),P.x=i,P.y=t}function g(t,e){m?m.attr(t,e):I[t]=e}function f(){P.add(S),S.attr({text:i,x:s,y:n}),m&&d(r)&&S.attr({anchorX:r,anchorY:a})}var m,x,y,v,b,k,w,T,L=this,S=L.g(c),P=L.text("",0,0,h).attr({zIndex:1}),M=0,A=3,C=0,D=0,I={},h=S.attrSetters;hi(S,"add",f),h.width=function(t){return y=t,!1},h.height=function(t){return v=t,!1},h.padding=function(t){return d(t)&&t!==A&&(A=t,u()),!1},h.paddingLeft=function(t){return d(t)&&t!==C&&(C=t,u()),!1},h.align=function(t){return M={left:0,center:.5,right:1}[t],!1},h.text=function(t,e){return P.attr(e,t),p(),u(),!1},h[$e]=function(t,e){return T=!0,D=t%2/2,g(e,t),!1},h.stroke=h.fill=h.r=function(t,e){return"fill"===e&&(T=!0),g(e,t),!1},h.anchorX=function(t,e){return r=t,g(e,t+D-b),!1},h.anchorY=function(t,e){return a=t,g(e,t-k),!1},h.x=function(t){return S.x=t,t-=M*((y||x.width)+A),b=ge(t),S.attr("translateX",b),!1},h.y=function(t){return k=S.y=ge(t),S.attr("translateY",k),!1};var B=S.css;return t(S,{css:function(t){if(t){var i={},t=e(t);ni("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(e){t[e]!==j&&(i[e]=t[e],delete t[e])}),P.css(i)}return B.call(S,t)},getBBox:function(){return{width:x.width+2*A,height:x.height+2*A,x:x.x-A,y:x.y-A}},shadow:function(t){return m&&m.shadow(t),S},destroy:function(){li(S,"add",f),li(S.element,"mouseenter"),li(S.element,"mouseleave"),P&&(P=P.destroy()),m&&(m=m.destroy()),H.prototype.destroy.call(S),S=L=p=u=g=f=null}})}},_=mi;var xi;if(!Be&&!Oe){s.VMLElement=xi={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],s=["position: ","absolute",";"],n=e===Ye;("shape"===e||n)&&s.push("left:0;top:0;width:1px;height:1px;"),s.push("visibility: ",n?"hidden":"visible"),i.push(' style="',s.join(""),'"/>'),e&&(i=n||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=m(i)),this.renderer=t,this.attrSetters={}},add:function(t){var e=this.renderer,i=this.element,s=e.box,s=t?t.element||t:s;return t&&t.inverted&&e.invertChild(i,s),s.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),ci(this,"add"),this},updateTransform:H.prototype.htmlUpdateTransform,setSpanRotation:function(t,e,i){f(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",i,", M12=",-e,", M21=",e,", M22=",i,", sizingMethod='auto expand')"].join(""):Ge})},pathToVML:function(t){for(var e,i=t.length,s=[];i--;)a(t[i])?s[i]=ge(10*t[i])-5:"Z"===t[i]?s[i]="x":(s[i]=t[i],!t.isArc||"wa"!==t[i]&&"at"!==t[i]||(e="wa"===t[i]?1:-1,s[i+5]===s[i+7]&&(s[i+7]-=e),s[i+6]===s[i+8]&&(s[i+8]-=e)));return s.join(" ")||"x"},attr:function(t,e){var i,s,o,r,h,l=this.element||{},c=l.style,u=l.nodeName,g=this.renderer,f=this.symbolName,x=this.shadows,y=this.attrSetters,v=this;if(n(t)&&d(e)&&(i=t,t={},t[i]=e),n(t))i=t,v="strokeWidth"===i||"stroke-width"===i?this.strokeweight:this[i];else for(i in t)if(s=t[i],h=!1,o=y[i]&&y[i].call(this,s,i),o!==!1&&null!==s){if(o!==j&&(s=o),f&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))r||(this.symbolAttr(t),r=!0),h=!0;else if("d"===i){if(s=s||[],this.d=s.join(" "),l.path=s=this.pathToVML(s),x)for(o=x.length;o--;)x[o].path=x[o].cutOff?this.cutOffPath(s,x[o].cutOff):s;h=!0}else if("visibility"===i){if(x)for(o=x.length;o--;)x[o].style[i]=s;"DIV"===u&&(s="hidden"===s?"-999em":0,Me||(c[i]=s?"visible":"hidden"),i="top"),c[i]=s,h=!0}else"zIndex"===i?(s&&(c[i]=s),h=!0):-1!==si(i,["x","y","width","height"])?(this[i]=s,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:s=xe(0,s),this.updateClipping?(this[i]=s,this.updateClipping()):c[i]=s,h=!0):"class"===i&&"DIV"===u?l.className=s:"stroke"===i?(s=g.color(s,l,i),i="strokecolor"):"stroke-width"===i||"strokeWidth"===i?(l.stroked=s?!0:!1,i="strokeweight",this[i]=s,a(s)&&(s+="px")):"dashstyle"===i?((l.getElementsByTagName("stroke")[0]||m(g.prepVML(["<stroke/>"]),null,null,l))[i]=s||"solid",this.dashstyle=s,h=!0):"fill"===i?"SPAN"===u?c.color=s:"IMG"!==u&&(l.filled=s!==Ge?!0:!1,s=g.color(s,l,i,this),i="fillcolor"):"opacity"===i?h=!0:"shape"===u&&"rotation"===i?(this[i]=l.style[i]=s,l.style.left=-ge(ke(s*Te)+1)+"px",l.style.top=ge(be(s*Te))+"px"):"translateX"===i||"translateY"===i||"rotation"===i?(this[i]=s,this.updateTransform(),h=!0):"text"===i&&(this.bBox=null,l.innerHTML=s,h=!0);h||(Me?l[i]=s:p(l,i,s))}return v},clip:function(t){var e,i=this;return t?(e=t.members,c(e,i),e.push(i),i.destroyClip=function(){c(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:Me?"inherit":"rect(auto)"}),i.css(t)},css:H.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&I(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),H.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=pe.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var s,t=t.split(/[ ,]/);return s=t.length,(9===s||11===s)&&(t[s-4]=t[s-2]=i(t[s-2])-10*e),t.join(" ")},shadow:function(t,e,s){var n,o,r,a,h,l,c,d=[],p=this.element,u=this.renderer,f=p.style,x=p.path;if(x&&"string"!=typeof x.value&&(x="x"),h=x,t){for(l=g(t.width,3),c=(t.opacity||.15)/l,n=1;3>=n;n++)a=2*l+1-2*n,s&&(h=this.cutOffPath(x.value,a+.5)),r=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',h,'" coordsize="10 10" style="',p.style.cssText,'" />'],o=m(u.prepVML(r),null,{left:i(f.left)+g(t.offsetX,1),top:i(f.top)+g(t.offsetY,1)}),s&&(o.cutOff=a+1),r=['<stroke color="',t.color||"black",'" opacity="',c*n,'"/>'],m(u.prepVML(r),null,null,o),e?e.element.appendChild(o):p.parentNode.insertBefore(o,p),d.push(o);this.shadows=d}return this}},xi=x(H,xi);var yi={Element:xi,isIE8:Le.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var s,n;this.alignedObjects=[],s=this.createElement(Ye),n=s.element,n.style.position="relative",t.appendChild(s.element),this.isVML=!0,this.box=n,this.boxWrapper=s,this.setSize(e,i,!1),de.namespaces.hcv||(de.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),de.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,s,n){var r=this.createElement(),a=o(e);return t(r,{members:[],left:(a?e.x:e)+1,top:(a?e.y:i)+1,width:(a?e.width:s)-1,height:(a?e.height:n)-1,getCSS:function(e){var i=e.element,s=i.nodeName,e=e.inverted,n=this.top-("shape"===s?i.offsetTop:0),o=this.left,i=o+this.width,r=n+this.height,n={clip:"rect("+ge(e?o:n)+"px,"+ge(e?r:i)+"px,"+ge(e?i:r)+"px,"+ge(e?n:o)+"px)"};return!e&&Me&&"DIV"===s&&t(n,{width:i+"px",height:r+"px"}),n},updateClipping:function(){ni(r.members,function(t){t.css(r.getCSS(t))})}})},color:function(t,e,i,s){var n,o,r,a=this,h=/^rgba/,l=Ge;if(t&&t.linearGradient?r="gradient":t&&t.radialGradient&&(r="pattern"),r){var c,d,p,u,g,f,x,y,v=t.linearGradient||t.radialGradient,b="",t=t.stops,k=[],w=function(){o=['<fill colors="'+k.join(",")+'" opacity="',g,'" o:opacity2="',u,'" type="',r,'" ',b,'focus="100%" method="any" />'],m(a.prepVML(o),null,null,e)};if(p=t[0],y=t[t.length-1],p[0]>0&&t.unshift([0,p[1]]),y[0]<1&&t.push([1,y[1]]),ni(t,function(t,e){h.test(t[1])?(n=fi(t[1]),c=n.get("rgb"),d=n.get("a")):(c=t[1],d=1),k.push(100*t[0]+"% "+c),e?(g=d,f=c):(u=d,x=c)}),"fill"===i)if("gradient"===r)i=v.x1||v[0]||0,t=v.y1||v[1]||0,p=v.x2||v[2]||0,v=v.y2||v[3]||0,b='angle="'+(90-180*ue.atan((v-t)/(p-i))/we)+'"',w();else{var T,l=v.r,L=2*l,S=2*l,P=v.cx,M=v.cy,A=e.radialReference,l=function(){A&&(T=s.getBBox(),P+=(A[0]-T.x)/T.width-.5,M+=(A[1]-T.y)/T.height-.5,L*=A[2]/T.width,S*=A[2]/T.height),b='src="'+Z.global.VMLRadialGradientURL+'" size="'+L+","+S+'" origin="0.5,0.5" position="'+P+","+M+'" color2="'+x+'" ',w()};s.added?l():hi(s,"add",l),l=f}else l=c}else h.test(t)&&"IMG"!==e.tagName?(n=fi(t),o=["<",i,' opacity="',n.get("a"),'"/>'],m(this.prepVML(o),null,null,e),l=n.get("rgb")):(l=e.getElementsByTagName(i),l.length&&(l[0].opacity=1,l[0].type="solid"),l=t);return l},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:mi.prototype.html,path:function(e){var i={coordsize:"10 10"};return r(e)?i.d=e:o(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){var s=this.symbol("circle");return o(t)&&(i=t.r,e=t.y,t=t.x),s.isCircle=!0,s.attr({x:t,y:e,width:2*i,height:2*i})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Ye).attr(e)},image:function(t,e,i,s,n){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:s,height:n}),o},rect:function(t,e,i,s,n,r){var a=this.symbol("rect");return a.r=o(t)?t.r:n,a.attr(o(t)?t:a.crisp(r,t,e,xe(i,0),xe(s,0)))},invertChild:function(t,e){var s=e.style;f(t,{flip:"x",left:i(s.width)-1,top:i(s.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,s,n){var o=n.start,r=n.end,a=n.r||i||s,i=n.innerR,s=be(o),h=ke(o),l=be(r),c=ke(r);return r-o===0?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*s,e+a*h,t+a*l,e+a*c],n.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*l,e+i*c,t+i*s,e+i*h,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,s,n){return n&&n.isCircle&&(t-=i/2,e-=s/2),["wa",t,e,t+i,e+s,t+i,e+s/2,t+i,e+s/2,"e"]},rect:function(t,e,i,s,n){var o,r=t+i,a=e+s;return d(n)&&n.r?(o=ye(n.r,i,s),r=["M",t+o,e,"L",r-o,e,"wa",r-2*o,e,r,e+2*o,r-o,e,r,e+o,"L",r,a-o,"wa",r-2*o,a-2*o,r,a,r,a-o,r-o,a,"L",t+o,a,"wa",t,a-2*o,t+2*o,a,t+o,a,t,a-o,"L",t,e+o,"wa",t,e,t+2*o,e+2*o,t,e+o,t+o,e,"x","e"]):r=mi.prototype.symbols.square.apply(0,arguments),r}}};s.VMLRenderer=xi=function(){this.init.apply(this,arguments)},xi.prototype=e(mi.prototype,yi),_=xi}var vi;Oe&&(s.CanVGRenderer=xi=function(){Ie="http://www.w3.org/1999/xhtml"},xi.prototype.symbols={},vi=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,s){0===e.length&&ii(s,t),e.push(i)}}}(),_=xi),X.prototype={addLabel:function(){var e,i=this.axis,s=i.options,n=i.chart,o=i.horiz,r=i.categories,h=i.series[0]&&i.series[0].names,c=this.pos,p=s.labels,u=i.tickPositions,o=o&&r&&!p.step&&!p.staggerLines&&!p.rotation&&n.plotWidth/u.length||!o&&(n.optionsMarginLeft||.33*n.chartWidth),f=c===u[0],m=c===u[u.length-1],h=r?g(r[c],h&&h[c],c):c,r=this.label,u=u.info;i.isDatetimeAxis&&u&&(e=s.dateTimeLabelFormats[u.higherRanks[c]||u.unitName]),this.isFirst=f,this.isLast=m,s=i.labelFormatter.call({axis:i,chart:n,isFirst:f,isLast:m,dateTimeLabelFormat:e,value:i.isLog?z(l(h)):h}),c=o&&{width:xe(1,ge(o-2*(p.padding||10)))+"px"},c=t(c,p.style),d(r)?r&&r.attr({text:s}).css(c):(o={align:i.labelAlign},a(p.rotation)&&(o.rotation=p.rotation),this.label=d(s)&&p.enabled?n.renderer.text(s,0,0,p.useHTML).attr(o).css(c).add(i.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.axis,e=this.labelBBox.width,t=e*{left:0,center:.5,right:1}[t.labelAlign]-t.options.labels.x;return[-t,e-t]},handleOverflow:function(t,e){var i=!0,s=this.axis,n=s.chart,o=this.isFirst,r=this.isLast,a=e.x,h=s.reversed,l=s.tickPositions;if(o||r){var c=this.getLabelSides(),d=c[0],c=c[1],n=n.plotLeft,p=n+s.len,l=(s=s.ticks[l[t+(o?1:-1)]])&&s.label.xy&&s.label.xy.x+s.getLabelSides()[o?0:1];o&&!h||r&&h?n>a+d&&(a=n-d,s&&a+c>l&&(i=!1)):a+c>p&&(a=p-c,s&&l>a+d&&(i=!1)),e.x=a}return i},getPosition:function(t,e,i,s){var n=this.axis,o=n.chart,r=s&&o.oldChartHeight||o.chartHeight;return{x:t?n.translate(e+i,null,null,s)+n.transB:n.left+n.offset+(n.opposite?(s&&o.oldChartWidth||o.chartWidth)-n.right-n.left:0),y:t?r-n.bottom+n.offset-(n.opposite?n.height:0):r-n.translate(e+i,null,null,s)-n.transB}},getLabelPosition:function(t,e,i,s,n,o,r,a){var h=this.axis,l=h.transA,c=h.reversed,p=h.staggerLines,u=h.chart.renderer.fontMetrics(n.style.fontSize).b,g=n.rotation,t=t+n.x-(o&&s?o*l*(c?-1:1):0),e=e+n.y-(o&&!s?o*l*(c?1:-1):0);return g&&2===h.side&&(e-=u-u*be(g*Te)),!d(n.y)&&!g&&(e+=u-i.getBBox().height/2),p&&(e+=r/(a||1)%p*(h.labelOffset/p)),{x:t,y:e}},getMarkPath:function(t,e,i,s,n,o){return o.crispLine(["M",t,e,"L",t+(n?0:-i),e+(n?i:0)],s)},render:function(t,e,i){var s=this.axis,n=s.options,o=s.chart.renderer,r=s.horiz,a=this.type,h=this.label,l=this.pos,c=n.labels,d=this.gridLine,p=a?a+"Grid":"grid",u=a?a+"Tick":"tick",f=n[p+"LineWidth"],m=n[p+"LineColor"],x=n[p+"LineDashStyle"],y=n[u+"Length"],p=n[u+"Width"]||0,v=n[u+"Color"],b=n[u+"Position"],u=this.mark,k=c.step,w=!0,T=s.tickmarkOffset,L=this.getPosition(r,l,T,e),S=L.x,L=L.y,P=r&&S===s.pos+s.len||!r&&L===s.pos?-1:1,M=s.staggerLines;this.isActive=!0,f&&(l=s.getPlotLinePath(l+T,f*P,e,!0),d===j&&(d={stroke:m,"stroke-width":f},x&&(d.dashstyle=x),a||(d.zIndex=1),e&&(d.opacity=0),this.gridLine=d=f?o.path(l).attr(d).add(s.gridGroup):null),!e&&d&&l&&d[this.isNew?"attr":"animate"]({d:l,opacity:i})),p&&y&&("inside"===b&&(y=-y),s.opposite&&(y=-y),e=this.getMarkPath(S,L,y,p*P,r,o),u?u.animate({d:e,opacity:i}):this.mark=o.path(e).attr({stroke:v,"stroke-width":p,opacity:i}).add(s.axisGroup)),h&&!isNaN(S)&&(h.xy=L=this.getLabelPosition(S,L,h,r,c,T,t,k),this.isFirst&&!this.isLast&&!g(n.showFirstLabel,1)||this.isLast&&!this.isFirst&&!g(n.showLastLabel,1)?w=!1:!M&&r&&"justify"===c.overflow&&!this.handleOverflow(t,L)&&(w=!1),k&&t%k&&(w=!1),w&&!isNaN(L.y)?(L.opacity=i,h[this.isNew?"attr":"animate"](L),this.isNew=!1):h.attr("y",-9999))},destroy:function(){D(this,this.axis)}},W.prototype={render:function(){var t,i=this,s=i.axis,n=s.horiz,o=(s.pointRange||0)/2,r=i.options,a=r.label,l=i.label,c=r.width,p=r.to,u=r.from,f=d(u)&&d(p),m=r.value,x=r.dashStyle,y=i.svgElem,v=[],b=r.color,k=r.zIndex,w=r.events,T=s.chart.renderer;if(s.isLog&&(u=h(u),p=h(p),m=h(m)),c)v=s.getPlotLinePath(m,c),o={stroke:b,"stroke-width":c},x&&(o.dashstyle=x);else{if(!f)return;u=xe(u,s.min-o),p=ye(p,s.max+o),v=s.getPlotBandPath(u,p,r),o={fill:b},r.borderWidth&&(o.stroke=r.borderColor,o["stroke-width"]=r.borderWidth)}if(d(k)&&(o.zIndex=k),y)v?y.animate({d:v},null,y.onGetPath):(y.hide(),y.onGetPath=function(){y.show()});else if(v&&v.length&&(i.svgElem=y=T.path(v).attr(o).add(),w))for(t in r=function(t){y.on(t,function(e){w[t].apply(i,[e])})},w)r(t);return a&&d(a.text)&&v&&v.length&&s.width>0&&s.height>0?(a=e({align:n&&f&&"center",x:n?!f&&4:10,verticalAlign:!n&&f&&"middle",y:n?f?16:10:f?6:-4,rotation:n&&!f&&90},a),l||(i.label=l=T.text(a.text,0,0,a.useHTML).attr({align:a.textAlign||a.align,rotation:a.rotation,zIndex:k}).css(a.style).add()),s=[v[1],v[4],g(v[6],v[1])],v=[v[2],v[5],g(v[7],v[2])],n=A(s),f=A(v),l.align(a,!1,{x:n,y:f,width:C(s)-n,height:C(v)-f}),l.show()):l&&l.hide(),i},destroy:function(){c(this.axis.plotLinesAndBands,this),delete this.axis,D(this)}},E.prototype={destroy:function(){D(this,this.axis)},setTotal:function(t){this.cum=this.total=t},addValue:function(t){this.setTotal(z(this.total+t))},render:function(t){var e=this.options,i=e.format,i=i?k(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},cacheExtremes:function(t,e){this.points[t.index]=e},setOffset:function(t,e){var i=this.axis,s=i.chart,n=s.inverted,o=this.isNegative,r=i.translate(this.percent?100:this.total,0,0,0,1),i=i.translate(0),i=ve(r-i),a=s.xAxis[0].translate(this.x)+t,h=s.plotHeight,o={x:n?o?r:r-i:a,y:n?h-a-e:o?h-r-i:h-r,width:n?i:e,height:n?e:i};(n=this.label)&&(n.align(this.alignOptions,null,o),o=n.alignAttr,n.attr({visibility:this.options.crop===!1||s.isInsidePlot(o.x,o.y)?Be?"inherit":"visible":"hidden"}))}},Y.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:ti,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return y(this.total,-1)},style:ti.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX;this.horiz=t.inverted?!i:i,this.xOrY=(this.isXAxis=i)?"x":"y",this.opposite=e.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(e);var s=this.options,n=s.type;this.labelFormatter=s.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=s.reversed,this.zoomEnabled=s.zoomEnabled!==!1,this.categories=s.categories||"category"===n,this.isLog="logarithmic"===n,this.isDatetimeAxis="datetime"===n,this.isLinked=d(s.linkedTo),this.tickmarkOffset=this.categories&&"between"===s.tickmarkPlacement?.5:0,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=s.minRange||s.maxZoom,this.range=s.range,this.offset=s.offset||0,this.stacks={},this.oldStacks={},this.stackExtremes={},this.min=this.max=null;var o,s=this.options.events;-1===si(this,t.axes)&&(t.axes.push(this),t[i?"xAxis":"yAxis"].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===j&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in s)hi(this,o,s[o]);this.isLog&&(this.val2lin=h,this.lin2val=l)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(Z[this.isXAxis?"xAxis":"yAxis"],t))},update:function(i,s){var n=this.chart,i=n.options[this.xOrY+"Axis"][this.options.index]=e(this.userOptions,i);this.destroy(!0),this._addedPlotLB=!1,this.init(n,t(i,{events:j})),n.isDirtyBox=!0,g(s,!0)&&n.redraw()},remove:function(t){var e=this.chart,i=this.xOrY+"Axis";ni(this.series,function(t){t.remove(!1)}),c(e.axes,this),c(e[i],this),e.options[i].splice(this.options.index,1),ni(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,g(t,!0)&&e.redraw()},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,s=e.categories,n=this.dateTimeLabelFormat,o=Z.lang.numericSymbols,r=o&&o.length,a=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(a)t=k(a,this);else if(s)t=i;else if(n)t=K(n,i);else if(r&&e>=1e3)for(;r--&&t===j;)s=Math.pow(1e3,r+1),e>=s&&null!==o[r]&&(t=y(i/s,-1)+o[r]);return t===j&&(t=i>=1e3?y(i,0):y(i,-1)),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.stackExtremes={},t.buildStacks(),ni(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var s,n=i.options;s=n.threshold,t.hasVisibleSeries=!0,t.isLog&&0>=s&&(s=null),t.isXAxis?(s=i.xData,s.length&&(t.dataMin=ye(g(t.dataMin,s[0]),A(s)),t.dataMax=xe(g(t.dataMax,s[0]),C(s)))):(n=n.stacking,t.usePercentage="percent"===n,t.usePercentage&&(t.dataMin=0,t.dataMax=99),i.getExtremes(),n=i.dataMax,i=i.dataMin,!t.usePercentage&&d(i)&&d(n)&&(t.dataMin=ye(g(t.dataMin,i),i),t.dataMax=xe(g(t.dataMax,n),n)),d(s)&&(t.dataMin>=s?(t.dataMin=s,t.ignoreMinPadding=!0):t.dataMax<s&&(t.dataMax=s,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,s,n,o){var r=this.len,h=1,l=0,c=s?this.oldTransA:this.transA,s=s?this.oldMin:this.min,d=this.minPixelPadding,n=(this.options.ordinal||this.isLog&&n)&&this.lin2val;return c||(c=this.transA),i&&(h*=-1,l=r),this.reversed&&(h*=-1,l-=h*r),e?(t=t*h+l,t-=d,t=t/c+s,n&&(t=this.lin2val(t))):(n&&(t=this.val2lin(t)),"between"===o&&(o=.5),t=h*(t-s)*c+l+h*d+(a(o)?c*o*this.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,s){var n,o,r,a,h=this.chart,l=this.left,c=this.top,t=this.translate(t,null,null,i),d=i&&h.oldChartHeight||h.chartHeight,p=i&&h.oldChartWidth||h.chartWidth;return n=this.transB,i=o=ge(t+n),n=r=ge(d-t-n),isNaN(t)?a=!0:this.horiz?(n=c,r=d-this.bottom,(l>i||i>l+this.width)&&(a=!0)):(i=l,o=p-this.right,(c>n||n>c+this.height)&&(a=!0)),a&&!s?null:h.renderer.crispLine(["M",i,n,"L",o,r],e||0)},getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),s=this.getPlotLinePath(t);return s&&i?s.push(i[4],i[5],i[1],i[2]):s=null,s},getLinearTickPositions:function(t,e,i){for(var s,e=z(fe(e/t)*t),i=z(me(i/t)*t),n=[];i>=e&&(n.push(e),e=z(e+t),e!==s);)s=e;return n},getLogTickPositions:function(t,e,i,s){var n=this.options,o=this.len,r=[];if(s||(this._minorAutoInterval=null),t>=.5)t=ge(t),r=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var a,c,d,p,u,o=fe(e),n=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];i+1>o&&!u;o++)for(c=n.length,a=0;c>a&&!u;a++)d=h(l(o)*n[a]),d>e&&(!s||i>=p)&&r.push(p),p>i&&(u=!0),p=d;else e=l(e),i=l(i),t=n[s?"minorTickInterval":"tickInterval"],t=g("auto"===t?null:t,this._minorAutoInterval,(i-e)*(n.tickPixelInterval/(s?5:1))/((s?o/this.tickPositions.length:o)||1)),t=T(t,null,w(t)),r=ai(this.getLinearTickPositions(t,e,i),h),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),r},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,s=this.minorTickInterval,n=[];if(this.isLog)for(t=i.length,e=1;t>e;e++)n=n.concat(this.getLogTickPositions(s,i[e-1],i[e],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)n=n.concat(S(L(s),this.min,this.max,e.startOfWeek)),n[0]<this.min&&n.shift();else for(i=this.min+(i[0]-this.min)%s;i<=this.max;i+=s)n.push(i);return n},adjustForMinRange:function(){var t,e,i,s,n,o,r=this.options,a=this.min,h=this.max,l=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===j&&!this.isLog&&(d(r.min)||d(r.max)?this.minRange=null:(ni(this.series,function(t){for(n=t.xData,i=o=t.xIncrement?1:n.length-1;i>0;i--)s=n[i]-n[i-1],(e===j||e>s)&&(e=s)}),this.minRange=ye(5*e,this.dataMax-this.dataMin))),h-a<this.minRange){var c=this.minRange;t=(c-h+a)/2,t=[a-t,g(r.min,a-t)],l&&(t[2]=this.dataMin),a=C(t),h=[a+c,g(r.max,a+c)],l&&(h[2]=this.dataMax),h=A(h),c>h-a&&(t[0]=h-c,t[1]=g(r.min,h-c),a=C(t))}this.min=a,this.max=h},setAxisTranslation:function(t){var e,i=this.max-this.min,s=0,o=0,r=0,a=this.linkedParent,h=this.transA;this.isXAxis&&(a?(o=a.minPointOffset,r=a.pointRangePadding):ni(this.series,function(t){var a=t.pointRange,h=t.options.pointPlacement,l=t.closestPointRange;a>i&&(a=0),s=xe(s,a),o=xe(o,n(h)?0:a/2),r=xe(r,"on"===h?0:a),!t.noSharedTooltip&&d(l)&&(e=d(e)?ye(e,l):l)}),a=this.ordinalSlope&&e?this.ordinalSlope/e:1,this.minPointOffset=o*=a,this.pointRangePadding=r*=a,this.pointRange=ye(s,i),this.closestPointRange=e),t&&(this.oldTransA=h),this.translationSlope=this.transA=h=this.len/(i+r||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=h*o},setTickPositions:function(t){var e=this,i=e.chart,s=e.options,n=e.isLog,o=e.isDatetimeAxis,r=e.isXAxis,a=e.isLinked,l=e.options.tickPositioner,c=s.maxPadding,p=s.minPadding,u=s.tickInterval,f=s.minTickInterval,m=s.tickPixelInterval,x=e.categories;a?(e.linkedParent=i[r?"xAxis":"yAxis"][s.linkedTo],i=e.linkedParent.getExtremes(),e.min=g(i.min,i.dataMin),e.max=g(i.max,i.dataMax),s.type!==e.linkedParent.options.type&&B(11,1)):(e.min=g(e.userMin,s.min,e.dataMin),e.max=g(e.userMax,s.max,e.dataMax)),n&&(!t&&ye(e.min,g(e.dataMin,e.min))<=0&&B(10,1),e.min=z(h(e.min)),e.max=z(h(e.max))),e.range&&(e.userMin=e.min=xe(e.min,e.max-e.range),e.userMax=e.max,t)&&(e.range=null),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),!x&&!e.usePercentage&&!a&&d(e.min)&&d(e.max)&&(i=e.max-e.min)&&(d(s.min)||d(e.userMin)||!p||!(e.dataMin<0)&&e.ignoreMinPadding||(e.min-=i*p),d(s.max)||d(e.userMax)||!c||!(e.dataMax>0)&&e.ignoreMaxPadding||(e.max+=i*c)),e.tickInterval=e.min===e.max||void 0===e.min||void 0===e.max?1:a&&!u&&m===e.linkedParent.options.tickPixelInterval?e.linkedParent.tickInterval:g(u,x?1:(e.max-e.min)*m/(e.len||1)),r&&!t&&ni(e.series,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)}),e.setAxisTranslation(!0),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.postProcessTickInterval&&(e.tickInterval=e.postProcessTickInterval(e.tickInterval)),e.pointRange&&(e.tickInterval=xe(e.pointRange,e.tickInterval)),!u&&e.tickInterval<f&&(e.tickInterval=f),o||n||u||(e.tickInterval=T(e.tickInterval,null,w(e.tickInterval),s)),e.minorTickInterval="auto"===s.minorTickInterval&&e.tickInterval?e.tickInterval/5:s.minorTickInterval,e.tickPositions=t=s.tickPositions?[].concat(s.tickPositions):l&&l.apply(e,[e.min,e.max]),t||((e.max-e.min)/e.tickInterval>2*e.len&&B(19,!0),t=o?(e.getNonLinearTimeTicks||S)(L(e.tickInterval,s.units),e.min,e.max,s.startOfWeek,e.ordinalPositions,e.closestPointRange,!0):n?e.getLogTickPositions(e.tickInterval,e.min,e.max):e.getLinearTickPositions(e.tickInterval,e.min,e.max),e.tickPositions=t),a||(n=t[0],o=t[t.length-1],a=e.minPointOffset||0,s.startOnTick?e.min=n:e.min-a>n&&t.shift(),s.endOnTick?e.max=o:e.max+a<o&&t.pop(),1===t.length&&(e.min-=.001,e.max+=.001))},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,s=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[s]||0)&&this.options.alignTicks!==!1&&(e[s]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this._maxTicksKey,e=this.tickPositions,i=this.chart.maxTicks;if(i&&i[t]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var s=this.tickAmount,n=e.length;if(this.tickAmount=t=i[t],t>n){for(;e.length<t;)e.push(z(e[e.length-1]+this.tickInterval));this.transA*=(n-1)/(t-1),this.max=e[e.length-1]}d(s)&&t!==s&&(this.isDirty=!0)}},setScale:function(){var t,e,i,s,n=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),s=this.len!==this.oldAxisLength,ni(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),s||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in n)for(e in n[t])n[t][e].total=null;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=s||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(n=this.stacks=this.oldStacks);for(t in n)for(e in n[t])n[t][e].cum=n[t][e].total}this.setMaxTicks()},setExtremes:function(e,i,s,n,o){var r=this,a=r.chart,s=g(s,!0),o=t(o,{min:e,max:i});ci(r,"setExtremes",o,function(){r.userMin=e,r.userMax=i,r.isDirtyExtremes=!0,s&&a.redraw(n)})},zoom:function(t,e){return this.allowZoomOutside||(d(this.dataMin)&&t<=this.dataMin&&(t=j),d(this.dataMax)&&e>=this.dataMax&&(e=j)),this.displayBtn=t!==j||e!==j,this.setExtremes(t,e,!1,j,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,i=this.chart,s=this.options,n=s.offsetLeft||0,o=s.offsetRight||0,r=this.horiz;this.left=e=g(s.left,i.plotLeft+n),this.top=t=g(s.top,i.plotTop),this.width=n=g(s.width,i.plotWidth-n+o),this.height=s=g(s.height,i.plotHeight),this.bottom=i.chartHeight-s-t,this.right=i.chartWidth-n-e,this.len=xe(r?n:s,0),this.pos=r?e:t},getExtremes:function(){var t=this.isLog;return{min:t?z(l(this.min)):this.min,max:t?z(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?l(this.min):this.min,e=e?l(this.max):this.max;return i>t||null===t?t=i:t>e&&(t=e),this.translate(t,0,1,0,1)},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new W(this,t).render(),s=this.userOptions;return e&&(s[e]=s[e]||[],s[e].push(t)),this.plotLinesAndBands.push(i),i},autoLabelAlign:function(t){return t=(g(t,0)-90*this.side+720)%360,t>15&&165>t?"right":t>195&&345>t?"left":"center"},getOffset:function(){var t,e,i,s,n,o,r,a=this,h=a.chart,l=h.renderer,c=a.options,p=a.tickPositions,u=a.ticks,f=a.horiz,m=a.side,x=h.inverted?[1,0,3,2][m]:m,y=0,v=0,b=c.title,k=c.labels,w=0,T=h.axisOffset,L=h.clipOffset,S=[-1,1,1,-1][m],P=1,M=g(k.maxStaggerLines,5);if(a.hasData=t=a.hasVisibleSeries||d(a.min)&&d(a.max)&&!!p,a.showAxis=h=t||g(c.showEmpty,!0),a.staggerLines=a.horiz&&k.staggerLines,a.axisGroup||(a.gridGroup=l.g("grid").attr({zIndex:c.gridZIndex||1}).add(),a.axisGroup=l.g("axis").attr({zIndex:c.zIndex||2}).add(),a.labelGroup=l.g("axis-labels").attr({zIndex:k.zIndex||7}).add()),t||a.isLinked){if(a.labelAlign=g(k.align||a.autoLabelAlign(k.rotation)),ni(p,function(t){u[t]?u[t].addLabel():u[t]=new X(a,t)}),a.horiz&&!a.staggerLines&&M&&!k.rotation){for(i=a.reversed?[].concat(p).reverse():p;M>P;){for(t=[],s=!1,k=0;k<i.length;k++)n=i[k],o=(o=u[n].label&&u[n].label.bBox)?o.width:0,r=k%P,o&&(n=a.translate(n),t[r]!==j&&n<t[r]&&(s=!0),t[r]=n+o);if(!s)break;P++}P>1&&(a.staggerLines=P)}ni(p,function(t){(0===m||2===m||{1:"left",3:"right"}[m]===a.labelAlign)&&(w=xe(u[t].getLabelSize(),w))}),a.staggerLines&&(w*=a.staggerLines,a.labelOffset=w)}else for(i in u)u[i].destroy(),delete u[i];b&&b.text&&b.enabled!==!1&&(a.axisTitle||(a.axisTitle=l.text(b.text,0,0,b.useHTML).attr({zIndex:7,rotation:b.rotation||0,align:b.textAlign||{low:"left",middle:"center",high:"right"}[b.align]}).css(b.style).add(a.axisGroup),a.axisTitle.isNew=!0),h&&(y=a.axisTitle.getBBox()[f?"height":"width"],v=g(b.margin,f?5:10),e=b.offset),a.axisTitle[h?"show":"hide"]()),a.offset=S*g(c.offset,T[m]),a.axisTitleMargin=g(e,w+v+(2!==m&&w&&S*c.labels[f?"y":"x"])),T[m]=xe(T[m],a.axisTitleMargin+y+S*a.offset),L[x]=xe(L[x],2*fe(c.lineWidth/2))},getLinePath:function(t){var e=this.chart,i=this.opposite,s=this.offset,n=this.horiz,o=this.left+(i?this.width:0)+s;return this.lineTop=s=e.chartHeight-this.bottom-(i?this.height:0)+s,i&&(t*=-1),e.renderer.crispLine(["M",n?this.left:o,n?s:this.top,"L",n?e.chartWidth-this.right:o,n?s:e.chartHeight-this.bottom],t)
},getTitlePosition:function(){var t=this.horiz,e=this.left,s=this.top,n=this.len,o=this.options.title,r=t?e:s,a=this.opposite,h=this.offset,l=i(o.style.fontSize||12),n={low:r+(t?0:n),middle:r+n/2,high:r+(t?n:0)}[o.align],e=(t?s+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:t?n:e+(a?this.width:0)+h+(o.x||0),y:t?e-(a?this.height:0)+h:n+(o.y||0)}},render:function(){var t,e=this,i=e.chart,s=i.renderer,n=e.options,o=e.isLog,r=e.isLinked,a=e.tickPositions,h=e.axisTitle,c=e.stacks,p=e.ticks,u=e.minorTicks,g=e.alternateBands,f=n.stackLabels,m=n.alternateGridColor,x=e.tickmarkOffset,y=n.lineWidth,v=i.hasRendered&&d(e.oldMin)&&!isNaN(e.oldMin);t=e.hasData;var b,k,w=e.showAxis;if(ni([p,u,g],function(t){for(var e in t)t[e].isActive=!1}),(t||r)&&(e.minorTickInterval&&!e.categories&&ni(e.getMinorTickPositions(),function(t){u[t]||(u[t]=new X(e,t,"minor")),v&&u[t].isNew&&u[t].render(null,!0),u[t].render(null,!1,1)}),a.length&&(ni(a.slice(1).concat([a[0]]),function(t,i){i=i===a.length-1?0:i+1,(!r||t>=e.min&&t<=e.max)&&(p[t]||(p[t]=new X(e,t)),v&&p[t].isNew&&p[t].render(i,!0),p[t].render(i,!1,1))}),x&&0===e.min&&(p[-1]||(p[-1]=new X(e,-1,null,!0)),p[-1].render(-1))),m&&ni(a,function(t,i){i%2===0&&t<e.max&&(g[t]||(g[t]=new W(e)),b=t+x,k=a[i+1]!==j?a[i+1]+x:e.max,g[t].options={from:o?l(b):b,to:o?l(k):k,color:m},g[t].render(),g[t].isActive=!0)}),e._addedPlotLB||(ni((n.plotLines||[]).concat(n.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0)),ni([p,u,g],function(t){var e,s,n=[],o=q?q.duration||500:0,r=function(){for(s=n.length;s--;)t[n[s]]&&!t[n[s]].isActive&&(t[n[s]].destroy(),delete t[n[s]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==g&&i.hasRendered&&o?o&&setTimeout(r,o):r()}),y&&(t=e.getLinePath(y),e.axisLine?e.axisLine.animate({d:t}):e.axisLine=s.path(t).attr({stroke:n.lineColor,"stroke-width":y,zIndex:7}).add(e.axisGroup),e.axisLine[w?"show":"hide"]()),h&&w&&(h[h.isNew?"attr":"animate"](e.getTitlePosition()),h.isNew=!1),f&&f.enabled){var T,L,n=e.stackTotalGroup;n||(e.stackTotalGroup=n=s.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),n.translate(i.plotLeft,i.plotTop);for(T in c)for(L in s=c[T])s[L].render(n)}e.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,s=this.userOptions,n=e.length;n--;)e[n].id===t&&e[n].destroy();ni([i.plotLines||[],s.plotLines||[],i.plotBands||[],s.plotBands||[]],function(e){for(n=e.length;n--;)e[n].id===t&&c(e,e[n])})},setTitle:function(t,e){this.update({title:t},e)},redraw:function(){var t=this.chart.pointer;t.reset&&t.reset(!0),this.render(),ni(this.plotLinesAndBands,function(t){t.render()}),ni(this.series,function(t){t.isDirty=!0})},buildStacks:function(){this.isXAxis||ni(this.series,function(t){t.setStackedPoints()})},setCategories:function(t,e){this.update({categories:t},e)},destroy:function(t){var e,i=this,s=i.stacks,n=i.plotLinesAndBands;t||li(i);for(e in s)D(s[e]),s[e]=null;for(ni([i.ticks,i.minorTicks,i.alternateBands],function(t){D(t)}),t=n.length;t--;)n[t].destroy();ni("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(t){i[t]&&(i[t]=i[t].destroy())})}},G.prototype={init:function(t,e){var s=e.borderWidth,n=e.style,o=i(n.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":s,r:e.borderRadius,zIndex:8}).css(n).css({padding:0}).hide().add(),Oe||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){ni(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,s,n){var o=this,r=o.now,a=o.options.animation!==!1&&!o.isHidden;t(r,{x:a?(2*r.x+e)/3:e,y:a?(r.y+i)/2:i,anchorX:a?(2*r.anchorX+s)/3:s,anchorY:a?(r.anchorY+n)/2:n}),o.label.attr(r),a&&(ve(e-r.x)>1||ve(i-r.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,i,s,n)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},g(this.options.hideDelay,500)),t&&ni(t,function(t){t.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){ni(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var i,s,n=this.chart,o=n.inverted,r=n.plotTop,a=0,h=0,t=u(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===j&&(e=n.pointer.normalize(e)),i=[e.chartX-n.plotLeft,e.chartY-r]),i||(ni(t,function(t){s=t.series.yAxis,a+=t.plotX,h+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&s?s.top-r:0)}),a/=t.length,h/=t.length,i=[o?n.plotWidth-h:a,this.shared&&!o&&t.length>1&&e?e.chartY-r:o?n.plotHeight-a:h]),ai(i,ge)},getPosition:function(t,e,i){var s,n=this.chart,o=n.plotLeft,r=n.plotTop,a=n.plotWidth,h=n.plotHeight,l=g(this.options.distance,12),c=i.plotX,i=i.plotY,n=c+o+(n.inverted?l:-t-l),d=i-e+r+15;return 7>n&&(n=o+xe(c,0)+l),n+t>o+a&&(n-=n+t-(o+a),d=i-e+r-l,s=!0),r+5>d&&(d=r+5,s&&i>=d&&d+e>=i&&(d=i+r+l)),d+e>r+h&&(d=xe(r,r+h-e-l)),{x:n,y:d}},defaultFormatter:function(t){var e,i=this.points||u(this),s=i[0].series;return e=[s.tooltipHeaderFormatter(i[0])],ni(i,function(t){s=t.series,e.push(s.tooltipFormatter&&s.tooltipFormatter(t)||t.point.tooltipFormatter(s.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,s,n,o=this.chart,r=this.label,a=this.options,l={},c=[];n=a.formatter||this.defaultFormatter;var d,l=o.hoverPoints,p=a.crosshairs,f=this.shared;if(clearTimeout(this.hideTimer),this.followPointer=u(t)[0].series.tooltipOptions.followPointer,s=this.getAnchor(t,e),i=s[0],s=s[1],!f||t.series&&t.series.noSharedTooltip?l=t.getLabelConfig():(o.hoverPoints=t,l&&ni(l,function(t){t.setState()}),ni(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),l={x:t[0].category,y:t[0].y},l.points=c,t=t[0]),n=n.call(l,this),l=t.series,n===!1?this.hide():(this.isHidden&&(ui(r),r.attr("opacity",1).show()),r.attr({text:n}),d=a.borderColor||t.color||l.color||"#606060",r.attr({stroke:d}),this.updatePosition({plotX:i,plotY:s}),this.isHidden=!1),p)for(p=u(p),r=p.length;r--;)f=t.series,a=f[r?"yAxis":"xAxis"],p[r]&&a&&(l=r?g(t.stackY,t.y):t.x,a.isLog&&(l=h(l)),f.modifyValue&&(l=f.modifyValue(l)),a=a.getPlotLinePath(l,1),this.crosshairs[r]?this.crosshairs[r].attr({d:a,visibility:"visible"}):(l={"stroke-width":p[r].width||1,stroke:p[r].color||"#C0C0C0",zIndex:p[r].zIndex||2},p[r].dashStyle&&(l.dashstyle=p[r].dashStyle),this.crosshairs[r]=o.renderer.path(a).attr(l).add()));ci(o,"tooltipRefresh",{text:n,x:i+o.plotLeft,y:s+o.plotTop,borderColor:d})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(ge(i.x),ge(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)}},N.prototype={init:function(t,e){var i,s=Oe?"":e.chart.zoomType,n=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(s),this.zoomY=s=/y/.test(s),this.zoomHor=i&&!n||s&&n,this.zoomVert=s&&!n||i&&n,this.pinchDown=[],this.lastValidTouch={},e.tooltip.enabled&&(t.tooltip=new G(t,e.tooltip)),this.setDOMEvents()},normalize:function(e){var i,s,n,e=e||pe.event;return e.target||(e.target=e.srcElement),e=di(e),n=e.touches?e.touches.item(0):e,this.chartPosition=i=ri(this.chart.container),n.pageX===j?(s=xe(e.x,e.clientX-i.left),i=e.y):(s=n.pageX-i.left,i=n.pageY-i.top),t(e,{chartX:ge(s),chartY:ge(i)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return ni(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,i,s,n=this.chart,o=n.series,r=n.tooltip,a=n.hoverPoint,h=n.hoverSeries,l=n.chartWidth,c=this.getIndex(t);if(r&&this.options.tooltip.shared&&(!h||!h.noSharedTooltip)){for(e=[],i=o.length,s=0;i>s;s++)o[s].visible&&o[s].options.enableMouseTracking!==!1&&!o[s].noSharedTooltip&&o[s].tooltipPoints.length&&(n=o[s].tooltipPoints[c],n.series)&&(n._dist=ve(c-n.clientX),l=ye(l,n._dist),e.push(n));for(i=e.length;i--;)e[i]._dist>l&&e.splice(i,1);e.length&&e[0].clientX!==this.hoverX&&(r.refresh(e,t),this.hoverX=e[0].clientX)}h&&h.tracker?(n=h.tooltipPoints[c])&&n!==a&&n.onMouseOver(t):r&&r.followPointer&&!r.isHidden&&(t=r.getAnchor([{}],t),r.updatePosition({plotX:t[0],plotY:t[1]}))},reset:function(t){var e=this.chart,i=e.hoverSeries,s=e.hoverPoint,n=e.tooltip,e=n&&n.shared?e.hoverPoints:s;(t=t&&n&&e)&&u(e)[0].plotX===j&&(t=!1),t?n.refresh(e):(s&&s.onMouseOut(),i&&i.onMouseOut(),n&&(n.hide(),n.hideCrosshairs()),this.hoverX=null)},scaleGroups:function(t,e){var i,s=this.chart;ni(s.series,function(n){i=t||n.getPlotBox(),n.xAxis&&n.xAxis.zoomEnabled&&(n.group.attr(i),n.markerGroup&&(n.markerGroup.attr(i),n.markerGroup.clip(e?s.clipRect:null)),n.dataLabelsGroup&&n.dataLabelsGroup.attr(i))}),s.clipRect.attr(e||s.clipBox)},pinchTranslateDirection:function(t,e,i,s,n,o,r){var a,h,l,c=this.chart,d=t?"x":"y",p=t?"X":"Y",u="chart"+p,g=t?"width":"height",f=c["plot"+(t?"Left":"Top")],m=1,x=c.inverted,y=c.bounds[t?"h":"v"],v=1===e.length,b=e[0][u],k=i[0][u],w=!v&&e[1][u],T=!v&&i[1][u],i=function(){!v&&ve(b-w)>20&&(m=ve(k-T)/ve(b-w)),h=(f-k)/m+b,a=c["plot"+(t?"Width":"Height")]/m};i(),e=h,e<y.min?(e=y.min,l=!0):e+a>y.max&&(e=y.max-a,l=!0),l?(k-=.8*(k-r[d][0]),v||(T-=.8*(T-r[d][1])),i()):r[d]=[k,T],x||(o[d]=h-f,o[g]=a),o=x?1/m:m,n[g]=a,n[d]=e,s[x?t?"scaleY":"scaleX":"scale"+p]=m,s["translate"+p]=o*f+(k-o*b)},pinch:function(e){var i=this,s=i.chart,n=i.pinchDown,o=s.tooltip&&s.tooltip.options.followTouchMove,r=e.touches,a=r.length,h=i.lastValidTouch,l=i.zoomHor||i.pinchHor,c=i.zoomVert||i.pinchVert,d=l||c,p=i.selectionMarker,u={},g={};(o||d)&&e.preventDefault(),ai(r,function(t){return i.normalize(t)}),"touchstart"===e.type?(ni(r,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),h.x=[n[0].chartX,n[1]&&n[1].chartX],h.y=[n[0].chartY,n[1]&&n[1].chartY],ni(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(t.dataMin),o=t.toPixels(t.dataMax),r=ye(n,o),n=xe(n,o);e.min=ye(t.pos,r-i),e.max=xe(t.pos+t.len,n+i)}})):n.length&&(p||(i.selectionMarker=p=t({destroy:We},s.plotBox)),l&&i.pinchTranslateDirection(!0,n,r,u,p,g,h),c&&i.pinchTranslateDirection(!1,n,r,u,p,g,h),i.hasPinched=d,i.scaleGroups(u,g),!d&&o&&1===a&&this.runPointActions(i.normalize(e)))},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,s=i.options.chart,n=t.chartX,o=t.chartY,r=this.zoomHor,a=this.zoomVert,h=i.plotLeft,l=i.plotTop,c=i.plotWidth,d=i.plotHeight,p=this.mouseDownX,u=this.mouseDownY;h>n?n=h:n>h+c&&(n=h+c),l>o?o=l:o>l+d&&(o=l+d),this.hasDragged=Math.sqrt(Math.pow(p-n,2)+Math.pow(u-o,2)),this.hasDragged>10&&(e=i.isInsidePlot(p-h,u-l),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(h,l,r?1:c,a?1:d,0).attr({fill:s.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&r&&(n-=p,this.selectionMarker.attr({width:ve(n),x:(n>0?0:n)+p})),this.selectionMarker&&a&&(n=o-u,this.selectionMarker.attr({height:ve(n),y:(n>0?0:n)+u})),e&&!this.selectionMarker&&s.panning&&i.pan(t,s.panning))},drop:function(e){var i=this.chart,s=this.hasPinched;if(this.selectionMarker){var n,o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},r=this.selectionMarker,a=r.x,h=r.y;(this.hasDragged||s)&&(ni(i.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.toValue(e?a:h),e=t.toValue(e?a+r.width:h+r.height);!isNaN(i)&&!isNaN(e)&&(o[t.xOrY+"Axis"].push({axis:t,min:ye(i,e),max:xe(i,e)}),n=!0)}}),n&&ci(i,"selection",o,function(e){i.zoom(t(e,s?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),s&&this.scaleGroups()}i&&(f(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){this.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,s=e.hoverSeries,t=di(t);i&&s&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.pageX-i.left-e.plotLeft,t.pageY-i.top-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart,t=this.normalize(t);t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=p(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;!e||e.options.stickyTracking||this.inClass(t.toElement||t.relatedTarget,"highcharts-tooltip")||e.onMouseOut()},onContainerClick:function(e){var i,s,n,o=this.chart,r=o.hoverPoint,a=o.plotLeft,h=o.plotTop,l=o.inverted,e=this.normalize(e);e.cancelBubble=!0,o.cancelClick||(r&&this.inClass(e.target,"highcharts-tracker")?(i=this.chartPosition,s=r.plotX,n=r.plotY,t(r,{pageX:i.left+a+(l?o.plotWidth-n:s),pageY:i.top+h+(l?o.plotHeight-s:n)}),ci(r.series,"click",t(e,{point:r})),o.hoverPoint&&r.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),o.isInsidePlot(e.chartX-a,e.chartY-h)&&ci(o,"click",e)))},onContainerTouchStart:function(t){var e=this.chart;1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){this.drop(t)},setDOMEvents:function(){var t,e=this,i=e.chart.container;this._events=t=[[i,"onmousedown","onContainerMouseDown"],[i,"onmousemove","onContainerMouseMove"],[i,"onclick","onContainerClick"],[i,"mouseleave","onContainerMouseLeave"],[de,"mousemove","onDocumentMouseMove"],[de,"mouseup","onDocumentMouseUp"]],Re&&t.push([i,"ontouchstart","onContainerTouchStart"],[i,"ontouchmove","onContainerTouchMove"],[de,"touchend","onDocumentTouchEnd"]),ni(t,function(t){e["_"+t[2]]=function(i){e[t[2]](i)},0===t[1].indexOf("on")?t[0][t[1]]=e["_"+t[2]]:hi(t[0],t[1],e["_"+t[2]])})},destroy:function(){var t=this;ni(t._events,function(e){0===e[1].indexOf("on")?e[0][e[1]]=null:li(e[0],e[1],t["_"+e[2]])}),delete t._events,clearInterval(t.tooltipTimeout)}},F.prototype={init:function(t,s){var n=this,o=s.itemStyle,r=g(s.padding,8),a=s.itemMarginTop||0;this.options=s,s.enabled&&(n.baseline=i(o.fontSize)+3+a,n.itemStyle=o,n.itemHiddenStyle=e(o,s.itemHiddenStyle),n.itemMarginTop=a,n.padding=r,n.initialItemX=r,n.initialItemY=r-5,n.maxItemWidth=0,n.chart=t,n.itemHeight=0,n.lastLineHeight=0,n.render(),hi(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(t,e){var i,s=this.options,n=t.legendItem,o=t.legendLine,r=t.legendSymbol,a=this.itemHiddenStyle.color,s=e?s.itemStyle.color:a,h=e?t.color:a,a=t.options&&t.options.marker,l={stroke:h,fill:h};if(n&&n.css({fill:s,color:s}),o&&o.attr({stroke:h}),r){if(a&&r.isMarker)for(i in a=t.convertAttribs(a))n=a[i],n!==j&&(l[i]=n);r.attr(l)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,s=t._legendItemPos,n=s[0],s=s[1],o=t.checkbox;t.legendGroup&&t.legendGroup.translate(e?n:this.legendWidth-n-2*i-4,s),o&&(o.x=n,o.y=s)},destroyItem:function(t){var e=t.checkbox;ni(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&I(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,s=this.clipHeight||this.legendHeight;i&&(e=i.translateY,ni(this.allItems,function(n){var o,r=n.checkbox;r&&(o=e+r.y+(t||0)+3,f(r,{left:i.translateX+n.legendItemWidth+r.x-20+"px",top:o+"px",display:o>e-6&&e+s-6>o?"":Ge}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},renderItem:function(t){var i,s=this,n=s.chart,o=n.renderer,r=s.options,a="horizontal"===r.layout,h=r.symbolWidth,l=r.symbolPadding,c=s.itemStyle,d=s.itemHiddenStyle,p=s.padding,u=a?g(r.itemDistance,8):0,f=!r.rtl,x=r.width,y=r.itemMarginBottom||0,v=s.itemMarginTop,b=s.initialItemX,w=t.legendItem,T=t.series||t,L=T.options,S=L.showCheckbox,P=r.useHTML;!w&&(t.legendGroup=o.g("legend-item").attr({zIndex:1}).add(s.scrollGroup),T.drawLegendSymbol(s,t),t.legendItem=w=o.text(r.labelFormat?k(r.labelFormat,t):r.labelFormatter.call(t),f?h+l:-l,s.baseline,P).css(e(t.visible?c:d)).attr({align:f?"left":"right",zIndex:2}).add(t.legendGroup),(P?w:t.legendGroup).on("mouseover",function(){t.setState("hover"),w.css(s.options.itemHoverStyle)}).on("mouseout",function(){w.css(t.visible?c:d),t.setState()}).on("click",function(e){var i=function(){t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):ci(t,"legendItemClick",e,i)}),s.colorizeItem(t,t.visible),L&&S)&&(t.checkbox=m("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},r.itemCheckboxStyle,n.container),hi(t.checkbox,"click",function(e){ci(t,"checkboxClick",{checked:e.target.checked},function(){t.select()})})),o=w.getBBox(),i=t.legendItemWidth=r.itemWidth||h+l+o.width+u+(S?20:0),r=i,s.itemHeight=h=o.height,a&&s.itemX-b+r>(x||n.chartWidth-2*p-b)&&(s.itemX=b,s.itemY+=v+s.lastLineHeight+y,s.lastLineHeight=0),s.maxItemWidth=xe(s.maxItemWidth,r),s.lastItemY=v+s.itemY+y,s.lastLineHeight=xe(h,s.lastLineHeight),t._legendItemPos=[s.itemX,s.itemY],a?s.itemX+=r:(s.itemY+=v+h+y,s.lastLineHeight=h),s.offsetWidth=x||xe((a?s.itemX-b-u:r)+p,s.offsetWidth)},render:function(){var e,i,s,n,o=this,r=o.chart,a=r.renderer,h=o.group,l=o.box,c=o.options,p=o.padding,u=c.borderWidth,g=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,h||(o.group=h=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(h),o.scrollGroup=a.g().add(o.contentGroup)),o.renderTitle(),e=[],ni(r.series,function(t){var i=t.options;i.showInLegend&&!d(i.linkedTo)&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),M(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&e.reverse(),o.allItems=e,o.display=i=!!e.length,ni(e,function(t){o.renderItem(t)}),s=c.width||o.offsetWidth,n=o.lastItemY+o.lastLineHeight+o.titleHeight,n=o.handleOverflow(n),(u||g)&&(s+=p,n+=p,l?s>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp(null,null,null,s,n)),l.isNew=!1):(o.box=l=a.rect(0,0,s,n,c.borderRadius,u||0).attr({stroke:c.borderColor,"stroke-width":u||0,fill:g||Ge}).add(h).shadow(c.shadow),l.isNew=!0),l[i?"show":"hide"]()),o.legendWidth=s,o.legendHeight=n,ni(e,function(t){o.positionItem(t)}),i&&h.align(t({width:s,height:n},c),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e=this,i=this.chart,s=i.renderer,n=this.options,o=n.y,o=i.spacingBox.height+("top"===n.verticalAlign?-o:o)-this.padding,r=n.maxHeight,a=this.clipRect,h=n.navigation,l=g(h.animation,!0),c=h.arrowSize||12,d=this.nav;return"horizontal"===n.layout&&(o/=2),r&&(o=ye(o,r)),t>o&&!n.useHTML?(this.clipHeight=i=o-20-this.titleHeight,this.pageCount=me(t/i),this.currentPage=g(this.currentPage,1),this.fullHeight=t,a||(a=e.clipRect=s.clipRect(0,0,9999,0),e.contentGroup.clip(a)),a.attr({height:i}),d||(this.nav=d=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,c,c).on("click",function(){e.scroll(-1,l)}).add(d),this.pager=s.text("",15,10).css(h.style).add(d),this.down=s.symbol("triangle-down",0,0,c,c).on("click",function(){e.scroll(1,l)}).add(d)),e.scroll(0),t=o):d&&(a.attr({height:i.chartHeight}),d.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pageCount,s=this.currentPage+t,n=this.clipHeight,o=this.options.navigation,r=o.activeColor,a=o.inactiveColor,o=this.pager,h=this.padding;s>i&&(s=i),s>0&&(e!==j&&O(e,this.chart),this.nav.attr({translateX:h,translateY:n+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===s?a:r}).css({cursor:1===s?"default":"pointer"}),o.attr({text:s+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===i?a:r}).css({cursor:s===i?"default":"pointer"}),n=-ye(n*(s-1),this.fullHeight-n+h)+1,this.scrollGroup.animate({translateY:n}),o.attr({text:s+"/"+i}),this.currentPage=s,this.positionCheckboxes(n))}},V.prototype={init:function(t,i){var s,n=t.series;t.series=null,s=e(Z,t),s.series=t.series=n;var n=s.chart,r=n.margin,r=o(r)?r:[r,r,r,r];this.optionsMarginTop=g(n.marginTop,r[0]),this.optionsMarginRight=g(n.marginRight,r[1]),this.optionsMarginBottom=g(n.marginBottom,r[2]),this.optionsMarginLeft=g(n.marginLeft,r[3]),r=n.events,this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=s,this.axes=[],this.series=[],this.hasCartesianSeries=n.showAxes;var a,h=this;if(h.index=Ee.length,Ee.push(h),n.reflow!==!1&&hi(h,"load",function(){h.initReflow()}),r)for(a in r)hi(h,a,r[a]);h.xAxis=[],h.yAxis=[],h.animation=Oe?!1:g(n.animation,!0),h.pointCount=0,h.counters=new P,h.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=Je[t.type||e.type||e.defaultSeriesType])||B(17,!0),e=new e,e.init(this,t),e},addSeries:function(t,e,i){var s,n=this;return t&&(e=g(e,!0),ci(n,"addSeries",{options:t},function(){s=n.initSeries(t),n.isDirtyLegend=!0,n.linkSeries(),e&&n.redraw(i)})),s},addAxis:function(t,i,s,n){var o=i?"xAxis":"yAxis",r=this.options;new Y(this,e(t,{index:this[o].length,isX:i})),r[o]=u(r[o]||{}),r[o].push(t),g(s,!0)&&this.redraw(n)},isInsidePlot:function(t,e,i){var s=i?e:t,t=i?t:e;return s>=0&&s<=this.plotWidth&&t>=0&&t<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&ni(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var e,i,s=this.axes,n=this.series,o=this.pointer,r=this.legend,a=this.isDirtyLegend,h=this.isDirtyBox,l=n.length,c=l,d=this.renderer,p=d.isHidden(),u=[];for(O(t,this),p&&this.cloneRenderTo(),this.layOutTitles();c--;)if(t=n[c],t.options.stacking&&(e=!0,t.isDirty)){i=!0;break}if(i)for(c=l;c--;)t=n[c],t.options.stacking&&(t.isDirty=!0);ni(n,function(t){t.isDirty&&"point"===t.options.legendType&&(a=!0)}),a&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),e&&this.getStacks(),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,ni(s,function(t){t.setScale()})),this.adjustTickAmounts(),this.getMargins(),ni(s,function(t){t.isDirty&&(h=!0)}),ni(s,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,u.push(function(){ci(t,"afterSetExtremes",t.getExtremes())})),(h||e)&&t.redraw()})),h&&this.drawChartBox(),ni(n,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),o&&o.reset&&o.reset(!0),d.draw(),ci(this,"redraw"),p&&this.cloneRenderTo(!0),ni(u,function(t){t.call()})},showLoading:function(e){var i=this.options,s=this.loadingDiv,n=i.loading;s||(this.loadingDiv=s=m(Ye,{className:"highcharts-loading"},t(n.style,{zIndex:10,display:Ge}),this.container),this.loadingSpan=m("span",null,n.labelStyle,s)),this.loadingSpan.innerHTML=e||i.lang.loading,this.loadingShown||(f(s,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),pi(s,{opacity:n.style.opacity},{duration:n.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&pi(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(e,{display:Ge})}}),this.loadingShown=!1},get:function(t){var e,i,s=this.axes,n=this.series;for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<n.length;e++)for(i=n[e].points||[],s=0;s<i.length;s++)if(i[s].id===t)return i[s];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=u(e.xAxis||{}),e=e.yAxis=u(e.yAxis||{});ni(i,function(t,e){t.index=e,t.isX=!0}),ni(e,function(t,e){t.index=e}),i=i.concat(e),ni(i,function(e){new Y(t,e)}),t.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return ni(this.series,function(e){t=t.concat(oi(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return oi(this.series,function(t){return t.selected})},getStacks:function(){var t=this;ni(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),ni(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+g(e.options.stack,""))})},showResetZoom:function(){var t=this,e=Z.lang,i=t.options.chart.resetZoomButton,s=i.theme,n=s.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},s,n&&n.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this;ci(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,s=this.pointer,n=!1;!t||t.resetSelection?ni(this.axes,function(t){e=t.zoom()}):ni(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,o=i.isXAxis;(s[o?"zoomX":"zoomY"]||s[o?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(n=!0))}),i=this.resetZoomButton,n&&!i?this.showResetZoom():!n&&o(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(g(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,s=this,n=s.hoverPoints;n&&ni(n,function(t){t.setState()}),ni("xy"===e?[1,0]:[1],function(e){var n=t[e?"chartX":"chartY"],o=s[e?"xAxis":"yAxis"][0],r=s[e?"mouseDownX":"mouseDownY"],a=(o.pointRange||0)/2,h=o.getExtremes(),l=o.toValue(r-n,!0)+a,r=o.toValue(r+s[e?"plotWidth":"plotHeight"]-n,!0)-a;o.series.length&&l>ye(h.dataMin,h.min)&&r<xe(h.dataMax,h.max)&&(o.setExtremes(l,r,!1,!1,{trigger:"pan"}),i=!0),s[e?"mouseDownX":"mouseDownY"]=n}),i&&s.redraw(!1),f(s.container,{cursor:"move"})},setTitle:function(t,i){var s,n,o=this,r=o.options;n=r.title=e(r.title,t),s=r.subtitle=e(r.subtitle,i),r=s,ni([["title",t,n],["subtitle",i,r]],function(t){var e=t[0],i=o[e],s=t[1],t=t[2];i&&s&&(o[e]=i=i.destroy()),t&&t.text&&!i&&(o[e]=o.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),o.layOutTitles()},layOutTitles:function(){var e=0,i=this.title,s=this.subtitle,n=this.options,o=n.title,n=n.subtitle,r=this.spacingBox.width-44;!i||(i.css({width:(o.width||r)+"px"}).align(t({y:15},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(e=i.getBBox().height,e>=18&&25>=e&&(e=15)),s&&(s.css({width:(n.width||r)+"px"}).align(t({y:e+o.margin},n),!1,"spacingBox"),!n.floating&&!n.verticalAlign&&(e=me(e+s.getBBox().height))),this.titleOffset=e},getChartSize:function(){var t=this.options.chart,e=this.renderToClone||this.renderTo;this.containerWidth=ei(e,"width"),this.containerHeight=ei(e,"height"),this.chartWidth=xe(0,t.width||this.containerWidth||600),this.chartHeight=xe(0,g(t.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),I(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),f(e,{position:"absolute",top:"-9999px",display:"block"}),de.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,s,o,r,a=this.options.chart;this.renderTo=e=a.renderTo,r="highcharts-"+Xe++,n(e)&&(this.renderTo=e=de.getElementById(e)),e||B(13,!0),s=i(p(e,"data-highcharts-chart")),!isNaN(s)&&Ee[s]&&Ee[s].destroy(),p(e,"data-highcharts-chart",this.index),e.innerHTML="",e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),s=this.chartWidth,o=this.chartHeight,this.container=e=m(Ye,{className:"highcharts-container"+(a.className?" "+a.className:""),id:r},t({position:"relative",overflow:"hidden",width:s+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=a.forExport?new mi(e,s,o,!0):new _(e,s,o),Oe&&this.renderer.create(this,e,s,o)},getMargins:function(){var t,e=this.options.chart,i=e.spacingTop,s=e.spacingRight,n=e.spacingBottom,e=e.spacingLeft,o=this.legend,r=this.optionsMarginTop,a=this.optionsMarginLeft,h=this.optionsMarginRight,l=this.optionsMarginBottom,c=this.options.legend,p=g(c.margin,10),u=c.x,f=c.y,m=c.align,x=c.verticalAlign,y=this.titleOffset;this.resetMargins(),t=this.axisOffset,y&&!d(r)&&(this.plotTop=xe(this.plotTop,y+this.options.title.margin+i)),o.display&&!c.floating&&("right"===m?d(h)||(this.marginRight=xe(this.marginRight,o.legendWidth-u+p+s)):"left"===m?d(a)||(this.plotLeft=xe(this.plotLeft,o.legendWidth+u+p+e)):"top"===x?d(r)||(this.plotTop=xe(this.plotTop,o.legendHeight+f+p+i)):"bottom"!==x||d(l)||(this.marginBottom=xe(this.marginBottom,o.legendHeight-f+p+n))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&ni(this.axes,function(t){t.getOffset()}),d(a)||(this.plotLeft+=t[3]),d(r)||(this.plotTop+=t[0]),d(l)||(this.marginBottom+=t[2]),d(h)||(this.marginRight+=t[1]),this.setChartSize()},initReflow:function(){function t(t){var o=s.width||ei(n,"width"),r=s.height||ei(n,"height"),t=t?t.target:pe;i.hasUserSize||!o||!r||t!==pe&&t!==de||((o!==i.containerWidth||r!==i.containerHeight)&&(clearTimeout(e),i.reflowTimeout=e=setTimeout(function(){i.container&&(i.setSize(o,r,!1),i.hasUserSize=null)},100)),i.containerWidth=o,i.containerHeight=r)}var e,i=this,s=i.options.chart,n=i.renderTo;hi(pe,"resize",t),hi(i,"destroy",function(){li(pe,"resize",t)})},setSize:function(t,e,i){var s,n,o,r=this;r.isResizing+=1,o=function(){r&&ci(r,"endResize",null,function(){r.isResizing-=1})},O(i,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,d(t)&&(r.chartWidth=s=xe(0,ge(t)),r.hasUserSize=!!s),d(e)&&(r.chartHeight=n=xe(0,ge(e))),f(r.container,{width:s+"px",height:n+"px"}),r.setChartSize(!0),r.renderer.setSize(s,n,i),r.maxTicks=null,ni(r.axes,function(t){t.isDirty=!0,t.setScale()}),ni(r.series,function(t){t.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.getMargins(),r.redraw(i),r.oldChartHeight=null,ci(r,"resize"),q===!1?o():setTimeout(o,q&&q.duration||500)},setChartSize:function(t){var e,i,s,n,o=this.inverted,r=this.renderer,a=this.chartWidth,h=this.chartHeight,l=this.options.chart,c=l.spacingTop,d=l.spacingRight,p=l.spacingBottom,u=l.spacingLeft,g=this.clipOffset;this.plotLeft=e=ge(this.plotLeft),this.plotTop=i=ge(this.plotTop),this.plotWidth=s=xe(0,ge(a-e-this.marginRight)),this.plotHeight=n=xe(0,ge(h-i-this.marginBottom)),this.plotSizeX=o?n:s,this.plotSizeY=o?s:n,this.plotBorderWidth=l.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:u,y:c,width:a-u-d,height:h-c-p},this.plotBox=r.plotBox={x:e,y:i,width:s,height:n},a=2*fe(this.plotBorderWidth/2),o=me(xe(a,g[3])/2),r=me(xe(a,g[0])/2),this.clipBox={x:o,y:r,width:fe(this.plotSizeX-xe(a,g[1])/2-o),height:fe(this.plotSizeY-xe(a,g[2])/2-r)},t||ni(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this.options.chart,e=t.spacingRight,i=t.spacingBottom,s=t.spacingLeft;
this.plotTop=g(this.optionsMarginTop,t.spacingTop),this.marginRight=g(this.optionsMarginRight,e),this.marginBottom=g(this.optionsMarginBottom,i),this.plotLeft=g(this.optionsMarginLeft,s),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,s=this.chartWidth,n=this.chartHeight,o=this.chartBackground,r=this.plotBackground,a=this.plotBorder,h=this.plotBGImage,l=e.borderWidth||0,c=e.backgroundColor,d=e.plotBackgroundColor,p=e.plotBackgroundImage,u=e.plotBorderWidth||0,g=this.plotLeft,f=this.plotTop,m=this.plotWidth,x=this.plotHeight,y=this.plotBox,v=this.clipRect,b=this.clipBox;t=l+(e.shadow?8:0),(l||c)&&(o?o.animate(o.crisp(null,null,null,s-t,n-t)):(o={fill:c||Ge},l&&(o.stroke=e.borderColor,o["stroke-width"]=l),this.chartBackground=i.rect(t/2,t/2,s-t,n-t,e.borderRadius,l).attr(o).add().shadow(e.shadow))),d&&(r?r.animate(y):this.plotBackground=i.rect(g,f,m,x,0).attr({fill:d}).add().shadow(e.plotShadow)),p&&(h?h.animate(y):this.plotBGImage=i.image(p,g,f,m,x).add()),v?v.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),u&&(a?a.animate(a.crisp(null,g,f,m,x)):this.plotBorder=i.rect(g,f,m,x,0,-u).attr({stroke:e.plotBorderColor,"stroke-width":u,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,s=this,n=s.options.chart,o=s.options.series;ni(["inverted","angular","polar"],function(r){for(t=Je[n.type||n.defaultSeriesType],i=s[r]||n[r]||t&&t.prototype[r],e=o&&o.length;!i&&e--;)(t=Je[o[e].type])&&t.prototype[r]&&(i=!0);s[r]=i})},linkSeries:function(){var t=this,e=t.series;ni(e,function(t){t.linkedSeries.length=0}),ni(e,function(e){var i=e.options.linkedTo;n(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i)})},render:function(){var e,s=this,n=s.axes,o=s.renderer,r=s.options,a=r.labels,h=r.credits;s.setTitle(),s.legend=new F(s,r.legend),s.getStacks(),ni(n,function(t){t.setScale()}),s.getMargins(),s.maxTicks=null,ni(n,function(t){t.setTickPositions(!0),t.setMaxTicks()}),s.adjustTickAmounts(),s.getMargins(),s.drawChartBox(),s.hasCartesianSeries&&ni(n,function(t){t.render()}),s.seriesGroup||(s.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),ni(s.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),a.items&&ni(a.items,function(e){var n=t(a.style,e.style),r=i(n.left)+s.plotLeft,h=i(n.top)+s.plotTop+12;delete n.left,delete n.top,o.text(e.html,r,h).attr({zIndex:2}).css(n).add()}),h.enabled&&!s.credits&&(e=h.href,s.credits=o.text(h.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:h.position.align,zIndex:8}).css(h.style).add().align(h.position)),s.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,s=e.series,n=e.container,o=n&&n.parentNode;for(ci(e,"destroy"),Ee[e.index]=j,e.renderTo.removeAttribute("data-highcharts-chart"),li(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=s.length;t--;)s[t]=s[t].destroy();ni("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),n&&(n.innerHTML="",li(n),o&&I(n));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!Be&&pe==pe.top&&"complete"!==de.readyState||Oe&&!pe.canvg?(Oe?vi.push(function(){t.firstRender()},t.options.global.canvasToolsURL):de.attachEvent("onreadystatechange",function(){de.detachEvent("onreadystatechange",t.firstRender),"complete"===de.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),ci(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),ni(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),ci(t,"beforeRender"),t.pointer=new N(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),ni(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),ci(t,"load"))}},V.prototype.callbacks=[];var bi=function(){};bi.prototype={init:function(t,e,i){return this.series=t,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(e,i){var s=this.series,n=s.pointValKey,e=bi.prototype.optionsToObject.call(this,e);return t(this,e),this.options=this.options?t(this.options,e):e,n&&(this.y=this[n]),this.x===j&&s&&(this.x=i===j?s.autoIncrement():i),this},optionsToObject:function(t){var e,i=this.series,s=i.pointArrayMap||["y"],n=s.length,o=0,a=0;if("number"==typeof t||null===t)e={y:t};else if(r(t))for(e={},t.length>n&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),o++);n>a;)e[s[a++]]=t[o++];else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),c(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(li(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(t,e){var i=this,s=i.series,n=s.chart,t=g(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,s.options.data[si(i,s.data)]=i.options,i.setState(t&&"select"),e||ni(n.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,s.options.data[si(t,s.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series,i=e.chart,s=i.tooltip,n=i.hoverPoint;n&&n!==this&&n.onMouseOut(),this.firePointEvent("mouseOver"),s&&(!s.shared||e.noSharedTooltip)&&s.refresh(this,t),this.setState("hover"),i.hoverPoint=this},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==si(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,s=g(i.valueDecimals,""),n=i.valuePrefix||"",o=i.valueSuffix||"";return ni(e.pointArrayMap||["y"],function(e){e="{point."+e,(n||o)&&(t=t.replace(e+"}",n+e+"}"+o)),t=t.replace(e+"}",e+":,."+s+"f}")}),k(t,{point:this,series:this.series})},update:function(t,e,i){var s,n=this,r=n.series,a=n.graphic,h=r.data,l=r.chart,c=r.options,e=g(e,!0);n.firePointEvent("update",{options:t},function(){n.applyOptions(t),o(t)&&(r.getAttribs(),a)&&(t.marker&&t.marker.symbol?n.graphic=a.destroy():a.attr(n.pointAttr[r.state])),s=si(n,h),r.xData[s]=n.x,r.yData[s]=r.toYData?r.toYData(n):n.y,r.zData[s]=n.z,c.data[s]=n.options,r.isDirty=r.isDirtyData=l.isDirtyBox=!0,"point"===c.legendType&&l.legend.destroyItem(n),e&&l.redraw(i)})},remove:function(t,e){var i,s=this,n=s.series,o=n.chart,r=n.data;O(e,o),t=g(t,!0),s.firePointEvent("remove",null,function(){i=si(s,r),r.splice(i,1),n.options.data.splice(i,1),n.xData.splice(i,1),n.yData.splice(i,1),n.zData.splice(i,1),s.destroy(),n.isDirty=!0,n.isDirtyData=!0,t&&o.redraw()})},firePointEvent:function(t,e,i){var s=this,n=this.series.options;(n.point.events[t]||s.options&&s.options.events&&s.options.events[t])&&this.importEvents(),"click"===t&&n.allowPointSelect&&(i=function(t){s.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),ci(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,i=e(this.series.options.point,this.options).events;this.events=i;for(t in i)hi(this,t,i[t]);this.hasImportedEvents=!0}},setState:function(t){var i=this.plotX,s=this.plotY,n=this.series,o=n.options.states,r=gi[n.type].marker&&n.options.marker,a=r&&!r.enabled,h=r&&r.states[t],l=h&&h.enabled===!1,c=n.stateMarkerGraphic,d=this.marker||{},p=n.chart,u=this.pointAttr,t=t||"";t===this.state||this.selected&&"select"!==t||o[t]&&o[t].enabled===!1||t&&(l||a&&!h.enabled)||(this.graphic?(o=r&&this.graphic.symbolName&&u[t].r,this.graphic.attr(e(u[t],o?{x:i-o,y:s-o,width:2*o,height:2*o}:{}))):(t&&h&&(o=h.radius,d=d.symbol||n.symbol,c&&c.currentSymbol!==d&&(c=c.destroy()),c?c.attr({x:i-o,y:s-o}):(n.stateMarkerGraphic=c=p.renderer.symbol(d,i-o,s-o,2*o,2*o).attr(u[t]).add(n.markerGroup),c.currentSymbol=d)),c&&c[t&&p.isInsidePlot(i,s)?"show":"hide"]()),this.state=t)}};var ki=function(){};ki.prototype={isCartesian:!0,type:"line",pointClass:bi,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(e,i){var s,n,o=e.series;this.chart=e,this.options=i=this.setOptions(i),this.linkedSeries=[],this.bindAxes(),t(this,{name:i.name,state:"",pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),Oe&&(i.animation=!1),n=i.events;for(s in n)hi(this,s,n[s]);(n&&n.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(i.data,!1),this.isCartesian&&(e.hasCartesianSeries=!0),o.push(this),this._i=o.length-1,M(o,function(t,e){return g(t.options.index,t._i)-g(e.options.index,t._i)}),ni(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,s=e.chart;e.isCartesian&&ni(["xAxis","yAxis"],function(n){ni(s[n],function(s){t=s.options,(i[n]===t.index||i[n]!==j&&i[n]===t.id||i[n]===j&&0===t.index)&&(s.series.push(e),e[n]=s,s.isDirty=!0)}),e[n]||B(18,!0)})},autoIncrement:function(){var t=this.options,e=this.xIncrement,e=g(e,t.pointStart,0);return this.pointInterval=g(this.pointInterval,t.pointInterval,1),this.xIncrement=e+this.pointInterval,e},getSegments:function(){var t,e=-1,i=[],s=this.points,n=s.length;if(n)if(this.options.connectNulls){for(t=n;t--;)null===s[t].y&&s.splice(t,1);s.length&&(i=[s])}else ni(s,function(t,o){null===t.y?(o>e+1&&i.push(s.slice(e+1,o)),e=o):o===n-1&&i.push(s.slice(e+1,o+1))});this.segments=i},setOptions:function(t){var i=this.chart.options,s=i.plotOptions,n=s[this.type];return this.userOptions=t,t=e(n,s.series,t),this.tooltipOptions=e(i.tooltip,t.tooltip),null===n.marker&&delete t.marker,t},getColor:function(){var t,e=this.options,i=this.userOptions,s=this.chart.options.colors,n=this.chart.counters;t=e.color||gi[this.type].color,t||e.colorByPoint||(d(i._colorIndex)?e=i._colorIndex:(i._colorIndex=n.color,e=n.color++),t=s[e]),this.color=t,n.wrapColor(s.length)},getSymbol:function(){var t=this.userOptions,e=this.options.marker,i=this.chart,s=i.options.symbols,i=i.counters;this.symbol=e.symbol,this.symbol||(d(t._symbolIndex)?t=t._symbolIndex:(t._symbolIndex=i.symbol,t=i.symbol++),this.symbol=s[t]),/^url/.test(this.symbol)&&(e.radius=0),i.wrapSymbol(s.length)},drawLegendSymbol:function(t){var e,i=this.options,s=i.marker,n=t.options;e=n.symbolWidth;var o=this.chart.renderer,r=this.legendGroup,t=t.baseline-ge(.3*o.fontMetrics(n.itemStyle.fontSize).b);i.lineWidth&&(n={"stroke-width":i.lineWidth},i.dashStyle&&(n.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,t,"L",e,t]).attr(n).add(r)),s&&s.enabled&&(i=s.radius,this.legendSymbol=e=o.symbol(this.symbol,e/2-i,t-i,2*i,2*i).add(r),e.isMarker=!0)},addPoint:function(t,e,i,s){var n=this.options,o=this.data,r=this.graph,a=this.area,h=this.chart,l=this.xData,c=this.yData,d=this.zData,p=this.names,u=r&&r.shift||0,f=n.data;O(s,h),i&&ni([r,a,this.graphNeg,this.areaNeg],function(t){t&&(t.shift=u+1)}),a&&(a.isArea=!0),e=g(e,!0),s={series:this},this.pointClass.prototype.applyOptions.apply(s,[t]),l.push(s.x),c.push(this.toYData?this.toYData(s):s.y),d.push(s.z),p&&(p[s.x]=s.name),f.push(t),"point"===n.legendType&&this.generatePoints(),i&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),l.shift(),c.shift(),d.shift(),f.shift())),this.isDirtyData=this.isDirty=!0,e&&(this.getAttribs(),h.redraw())},setData:function(t,e){var i,s=this.points,o=this.options,h=this.chart,l=null,c=this.xAxis,d=c&&c.categories&&!c.categories.length?[]:null;this.xIncrement=null,this.pointRange=c&&c.categories?1:o.pointRange,this.colorCounter=0;var p=[],u=[],f=[],m=t?t.length:[];i=g(o.turboThreshold,1e3);var x=this.pointArrayMap,x=x&&x.length,y=!!this.toYData;if(i&&m>i){for(i=0;null===l&&m>i;)l=t[i],i++;if(a(l)){for(l=g(o.pointStart,0),o=g(o.pointInterval,1),i=0;m>i;i++)p[i]=l,u[i]=t[i],l+=o;this.xIncrement=l}else if(r(l))if(x)for(i=0;m>i;i++)o=t[i],p[i]=o[0],u[i]=o.slice(1,x+1);else for(i=0;m>i;i++)o=t[i],p[i]=o[0],u[i]=o[1];else B(12)}else for(i=0;m>i;i++)t[i]!==j&&(o={series:this},this.pointClass.prototype.applyOptions.apply(o,[t[i]]),p[i]=o.x,u[i]=y?this.toYData(o):o.y,f[i]=o.z,d&&o.name)&&(d[o.x]=o.name);for(n(u[0])&&B(14,!0),this.data=[],this.options.data=t,this.xData=p,this.yData=u,this.zData=f,this.names=d,i=s&&s.length||0;i--;)s[i]&&s[i].destroy&&s[i].destroy();c&&(c.minRange=c.userMinRange),this.isDirty=this.isDirtyData=h.isDirtyBox=!0,g(e,!0)&&h.redraw(!1)},remove:function(t,e){var i=this,s=i.chart,t=g(t,!0);i.isRemoving||(i.isRemoving=!0,ci(i,"remove",null,function(){i.destroy(),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(),t&&s.redraw(e)})),i.isRemoving=!1},processData:function(t){var e,i=this.xData,s=this.yData,n=i.length;e=0;var o,r,a=this.xAxis,h=this.options,l=h.cropThreshold,c=this.isCartesian;if(c&&!this.isDirty&&!a.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(c&&this.sorted&&(!l||n>l||this.forceCrop)&&(t=a.min,a=a.max,i[n-1]<t||i[0]>a?(i=[],s=[]):(i[0]<t||i[n-1]>a)&&(e=this.cropData(this.xData,this.yData,t,a),i=e.xData,s=e.yData,e=e.start,o=!0)),a=i.length-1;a>=0;a--)n=i[a]-i[a-1],n>0&&(r===j||r>n)?r=n:0>n&&this.requireSorting&&B(15);this.cropped=o,this.cropStart=e,this.processedXData=i,this.processedYData=s,null===h.pointRange&&(this.pointRange=r||1),this.closestPointRange=r},cropData:function(t,e,i,s){var n,o=t.length,r=0,a=o;for(n=0;o>n;n++)if(t[n]>=i){r=xe(0,n-1);break}for(;o>n;n++)if(t[n]>s){a=n+1;break}return{xData:t.slice(r,a),yData:e.slice(r,a),start:r,end:a}},generatePoints:function(){var t,e,i,s,n=this.options.data,o=this.data,r=this.processedXData,a=this.processedYData,h=this.pointClass,l=r.length,c=this.cropStart||0,d=this.hasGroupedData,p=[];for(o||d||(o=[],o.length=n.length,o=this.data=o),s=0;l>s;s++)e=c+s,d?p[s]=(new h).init(this,[r[s]].concat(u(a[s]))):(o[e]?i=o[e]:n[e]!==j&&(o[e]=i=(new h).init(this,n[e],r[s])),p[s]=i);if(o&&(l!==(t=o.length)||d))for(s=0;t>s;s++)s===c&&!d&&(s+=l),o[s]&&(o[s].destroyElements(),o[s].plotX=j);this.data=o,this.points=p},setStackedPoints:function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,s,n,o=this.processedXData,r=this.processedYData,a=r.length,h=this.options,l=h.threshold,c=h.stack,h=h.stacking,d=this.stackKey,p="-"+d,u=this.yAxis,g=u.stacks,f=u.oldStacks,m=u.stackExtremes;for(i=0;a>i;i++)s=o[i],n=r[i],e=(t=this.negStacks&&l>n)?p:d,"number"==typeof n&&!m[d]&&(m[d]={dataMin:n,dataMax:n}),g[e]||(g[e]={}),g[e][s]||(f[e]&&f[e][s]?(g[e][s]=f[e][s],g[e][s].total=null):g[e][s]=new E(u,u.options.stackLabels,t,s,c,h)),e=g[e][s],t=e.total,e.addValue(n||0),e.cacheExtremes(this,[t,t+(n||0)]),"number"==typeof n&&(m[d].dataMin=ye(m[d].dataMin,e.total,n),m[d].dataMax=xe(m[d].dataMax,e.total,n));u.oldStacks={}}},getExtremes:function(){var t,e,i,s=this.yAxis,n=this.stackKey,o=this.options,r=s.isLog?null:o.threshold,a=this.processedXData,h=this.processedYData,l=h.length,c=[],p=0,u=this.xAxis.getExtremes(),f=u.min,u=u.max;if(o.stacking&&(t=s.stackExtremes[n],e=t.dataMin,t=t.dataMax,e=ye(e,g(r,e)),t=xe(t,g(r,t))),!d(e)||!d(t)){for(n=0;l>n;n++)if(i=a[n],r=h[n],o=null!==r&&r!==j&&(!s.isLog||r.length||r>0),i=this.getExtremesFromAll||this.cropped||(a[n+1]||i)>=f&&(a[n-1]||i)<=u,o&&i)if(o=r.length)for(;o--;)null!==r[o]&&(c[p++]=r[o]);else c[p++]=r;e=g(e,A(c)),t=g(t,C(c))}this.dataMin=e,this.dataMax=t},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t=this.options,e=t.stacking,i=this.xAxis,s=i.categories,n=this.yAxis,o=this.points,r=o.length,h=!!this.modifyValue,l=t.pointPlacement,c="between"===l||a(l),p=t.threshold,t=0;r>t;t++){var u,f=o[t],m=f.x,x=f.y,y=f.low,v=n.stacks[(this.negStacks&&p>x?"-":"")+this.stackKey];n.isLog&&0>=x&&(f.y=x=null),f.plotX=i.translate(m,0,0,0,1,l),e&&this.visible&&v&&v[m]&&(v=v[m],u=v.total,v.cum=y=v.cum-x,x=y+x,0===v.cum&&(y=g(p,n.min)),n.isLog&&0>=y&&(y=null),"percent"===e&&(y=u?100*y/u:0,x=u?100*x/u:0),f.percentage=u?100*f.y/u:0,f.total=f.stackTotal=u,f.stackY=x,v.setOffset(this.pointXOffset||0,this.barW||0)),f.yBottom=d(y)?n.translate(y,0,1,0,1):null,h&&(x=this.modifyValue(x,f)),f.plotY="number"==typeof x&&1/0!==x?n.translate(x,0,1,0,1):j,f.clientX=c?i.translate(m,0,0,0,1):f.plotX,f.negative=f.y<(p||0),f.category=s&&s[f.x]!==j?s[f.x]:f.x}this.getSegments()},setTooltipPoints:function(t){var e,i,s,n,o,r=[],a=(e=this.xAxis)?e.tooltipLen||e.len:this.chart.plotSizeX,h=[];if(this.options.enableMouseTracking!==!1){for(t&&(this.tooltipPoints=null),ni(this.segments||this.points,function(t){r=r.concat(t)}),e&&e.reversed&&(r=r.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(r),t=r.length,o=0;t>o;o++)for(s=r[o],n=r[o+1],e=r[o-1]?i+1:0,i=r[o+1]?ye(xe(0,fe((s.clientX+(n?n.wrappedClientX||n.clientX:a))/2)),a):a;e>=0&&i>=e;)h[e++]=s;this.tooltipPoints=h}},tooltipHeaderFormatter:function(t){var e,i=this.tooltipOptions,s=i.xDateFormat,n=i.dateTimeLabelFormats,o=this.xAxis,r=o&&"datetime"===o.options.type,i=i.headerFormat,o=o&&o.closestPointRange;if(r&&!s)if(o){for(e in J)if(J[e]>=o){s=n[e];break}}else s=n.day;return r&&s&&a(t.key)&&(i=i.replace("{point.key}","{point.key:"+s+"}")),k(i,{point:t,series:this})},onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&ci(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;s&&s.onMouseOut(),this&&t.events.mouseOut&&ci(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState(),e.hoverSeries=null},animate:function(e){var i,s=this,n=s.chart,r=n.renderer;i=s.options.animation;var a,h=n.clipBox,l=n.inverted;i&&!o(i)&&(i=gi[s.type].animation),a="_sharedClip"+i.duration+i.easing,e?(e=n[a],i=n[a+"m"],e||(n[a]=e=r.clipRect(t(h,{width:0})),n[a+"m"]=i=r.clipRect(-99,l?-n.plotLeft:-n.plotTop,99,l?n.chartWidth:n.chartHeight)),s.group.clip(e),s.markerGroup.clip(i),s.sharedClipKey=a):((e=n[a])&&(e.animate({width:n.plotSizeX},i),n[a+"m"].animate({width:n.plotSizeX+99},i)),s.animate=null,s.animationTimeout=setTimeout(function(){s.afterAnimate()},i.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,s,n,o,r,a,h,l,c,d=this.points,p=this.chart,u=this.options.marker,f=this.markerGroup;if(u.enabled||this._hasPointMarkers)for(n=d.length;n--;)o=d[n],i=fe(o.plotX),s=o.plotY,l=o.graphic,a=o.marker||{},e=u.enabled&&a.enabled===j||a.enabled,c=p.isInsidePlot(ge(i),s,p.inverted),e&&s!==j&&!isNaN(s)&&null!==o.y?(e=o.pointAttr[o.selected?"select":""],r=e.r,a=g(a.symbol,this.symbol),h=0===a.indexOf("url"),l?l.attr({visibility:c?Be?"inherit":"visible":"hidden"}).animate(t({x:i-r,y:s-r},l.symbolName?{width:2*r,height:2*r}:{})):c&&(r>0||h)&&(o.graphic=p.renderer.symbol(a,i-r,s-r,2*r,2*r).attr(e).add(f))):l&&(o.graphic=l.destroy())},convertAttribs:function(t,e,i,s){var n,o,r=this.pointAttrToOptions,a={},t=t||{},e=e||{},i=i||{},s=s||{};for(n in r)o=r[n],a[n]=g(t[o],e[n],i[n],s[n]);return a},getAttribs:function(){var e,i,s,n=this,o=n.options,r=gi[n.type].marker?o.marker:o,a=r.states,h=a.hover,l=n.color,c={stroke:l,fill:l},p=n.points||[],u=[],g=n.pointAttrToOptions,f=o.negativeColor;for(o.marker?(h.radius=h.radius||r.radius+2,h.lineWidth=h.lineWidth||r.lineWidth+1):h.color=h.color||fi(h.color||l).brighten(h.brightness).get(),u[""]=n.convertAttribs(r,c),ni(["hover","select"],function(t){u[t]=n.convertAttribs(a[t],u[""])}),n.pointAttr=u,l=p.length;l--;){if(c=p[l],(r=c.options&&c.options.marker||c.options)&&r.enabled===!1&&(r.radius=0),c.negative&&f&&(c.color=c.fillColor=f),e=o.colorByPoint||c.color,c.options)for(s in g)d(r[g[s]])&&(e=!0);e?(r=r||{},i=[],a=r.states||{},e=a.hover=a.hover||{},o.marker||(e.color=fi(e.color||c.color).brighten(e.brightness||h.brightness).get()),i[""]=n.convertAttribs(t({color:c.color},r),u[""]),i.hover=n.convertAttribs(a.hover,u.hover,i[""]),i.select=n.convertAttribs(a.select,u.select,i[""]),c.negative&&o.marker&&f&&(i[""].fill=i.hover.fill=i.select.fill=n.convertAttribs({fillColor:f}).fill)):i=u,c.pointAttr=i}},update:function(i,s){var n=this.chart,o=this.type,i=e(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i);this.remove(!1),t(this,Je[i.type||o].prototype),this.init(n,i),g(s,!0)&&n.redraw(!1)},destroy:function(){var t,e,i,s,n,o=this,r=o.chart,a=/AppleWebKit\/533/.test(Le),h=o.data||[];for(ci(o,"destroy"),li(o),ni(["xAxis","yAxis"],function(t){(n=o[t])&&(c(n.series,o),n.isDirty=n.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=h.length;e--;)(i=h[e])&&i.destroy&&i.destroy();o.points=null,clearTimeout(o.animationTimeout),ni("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(e){o[e]&&(t=a&&"group"===e?"hide":"destroy",o[e][t]())}),r.hoverSeries===o&&(r.hoverSeries=null),c(r.series,o);for(s in o)delete o[s]},drawDataLabels:function(){var t,i,s,n,o=this,r=o.options.dataLabels,a=o.points;(r.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(r),n=o.plotGroup("dataLabelsGroup","data-labels",o.visible?"visible":"hidden",r.zIndex||6),i=r,ni(a,function(a){var h,l,c,p=a.dataLabel,u=a.connector,f=!0;if(t=a.options&&a.options.dataLabels,h=i.enabled||t&&t.enabled,p&&!h)a.dataLabel=p.destroy();else if(h){if(r=e(i,t),h=r.rotation,l=a.getLabelConfig(),s=r.format?k(r.format,l):r.formatter.call(l,r),r.style.color=g(r.color,r.style.color,o.color,"black"),p)d(s)?(p.attr({text:s}),f=!1):(a.dataLabel=p=p.destroy(),u&&(a.connector=u.destroy()));else if(d(s)){p={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:h,padding:r.padding,zIndex:1};for(c in p)p[c]===j&&delete p[c];p=a.dataLabel=o.chart.renderer[h?"text":"label"](s,0,-999,null,null,null,r.useHTML).attr(p).css(r.style).add(n).shadow(r.shadow)}p&&o.alignDataLabel(a,p,r,null,f)}}))},alignDataLabel:function(e,i,s,n,o){var r=this.chart,a=r.inverted,h=g(e.plotX,-999),l=g(e.plotY,-999),e=i.getBBox(),n=t({x:a?r.plotWidth-l:h,y:ge(a?r.plotHeight-h:l),width:0,height:0},n);t(s,{width:e.width,height:e.height}),s.rotation?(n={align:s.align,x:n.x+s.x+n.width/2,y:n.y+s.y+n.height/2},i[o?"attr":"animate"](n)):(i.align(s,null,n),n=i.alignAttr),i.attr({visibility:s.crop===!1||r.isInsidePlot(n.x,n.y)&&r.isInsidePlot(n.x+e.width,n.y+e.height)?r.renderer.isSVG?"inherit":"visible":"hidden"})},getSegmentPath:function(t){var e=this,i=[],s=e.options.step;return ni(t,function(n,o){var r,a=n.plotX,h=n.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,n,o)):(i.push(o?"L":"M"),s&&o&&(r=t[o-1],"right"===s?i.push(r.plotX,h):"center"===s?i.push((r.plotX+a)/2,r.plotY,(r.plotX+a)/2,h):i.push(a,r.plotY)),i.push(n.plotX,n.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],s=[];return ni(e.segments,function(n){t=e.getSegmentPath(n),n.length>1?i=i.concat(t):s.push(n[0])}),e.singlePoints=s,e.graphPath=i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],s=e.lineWidth,n=e.dashStyle,o=this.getGraphPath(),r=e.negativeColor;r&&i.push(["graphNeg",r]),ni(i,function(i,r){var a=i[0],h=t[a];h?(ui(h),h.animate({d:o})):s&&o.length&&(h={stroke:i[1],"stroke-width":s,zIndex:1},n&&(h.dashstyle=n),t[a]=t.chart.renderer.path(o).attr(h).add(t.group).shadow(!r&&e.shadow))})},clipNeg:function(){var t,e=this.options,i=this.chart,s=i.renderer,n=e.negativeColor||e.negativeFillColor,o=this.graph,r=this.area,a=this.posClip,h=this.negClip;t=i.chartWidth;var l=i.chartHeight,c=xe(t,l),d=this.yAxis;n&&(o||r)&&(n=ge(d.toPixels(e.threshold||0,!0)),e={x:0,y:0,width:c,height:n},c={x:0,y:n,width:c,height:c},i.inverted&&(e.height=c.y=i.plotWidth-n,s.isVML&&(e={x:i.plotWidth-n-i.plotLeft,y:0,width:t,height:l},c={x:n+i.plotLeft-t,y:0,width:i.plotLeft+n,height:t})),d.reversed?(i=c,t=e):(i=e,t=c),a?(a.animate(i),h.animate(t)):(this.posClip=a=s.clipRect(i),this.negClip=h=s.clipRect(t),o&&this.graphNeg&&(o.clip(a),this.graphNeg.clip(h)),r&&(r.clip(a),this.areaNeg.clip(h))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};ni(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(hi(i,"resize",t),hi(e,"destroy",function(){li(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,s,n){var o=this[t],r=!o;return r&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:i,zIndex:s||.1}).add(n)),o[r?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this.chart,i=this.options,s=i.animation&&!!this.animate&&e.renderer.isSVG,n=this.visible?"visible":"hidden",o=i.zIndex,r=this.hasRendered,a=e.seriesGroup;t=this.plotGroup("group","series",n,o,a),this.markerGroup=this.plotGroup("markerGroup","markers",n,o,a),s&&this.animate(!0),this.getAttribs(),t.inverted=this.isCartesian?e.inverted:!1,this.drawGraph&&(this.drawGraph(),this.clipNeg()),this.drawDataLabels(),this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),e.inverted&&this.invertGroups(),i.clip!==!1&&!this.sharedClipKey&&!r&&t.clip(e.clipRect),s?this.animate():r||this.afterAnimate(),this.isDirty=this.isDirtyData=!1,this.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.group,s=this.xAxis,n=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:g(s&&s.left,t.plotLeft),translateY:g(n&&n.top,t.plotTop)})),this.translate(),this.setTooltipPoints(!0),this.render(),e&&ci(this,"updatedData")},setState:function(t){var e=this.options,i=this.graph,s=this.graphNeg,n=e.states,e=e.lineWidth,t=t||"";this.state!==t&&(this.state=t,n[t]&&n[t].enabled===!1||(t&&(e=n[t].lineWidth||e+1),i&&!i.dashstyle&&(t={"stroke-width":e},i.attr(t),s&&s.attr(t))))},setVisible:function(t,e){var i,s=this,n=s.chart,o=s.legendItem,r=n.options.chart.ignoreHiddenSeries,a=s.visible;i=(s.visible=t=s.userOptions.visible=t===j?!a:t)?"show":"hide",ni(["group","dataLabelsGroup","markerGroup","tracker"],function(t){s[t]&&s[t][i]()}),n.hoverSeries===s&&s.onMouseOut(),o&&n.legend.colorizeItem(s,t),s.isDirty=!0,s.options.stacking&&ni(n.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),ni(s.linkedSeries,function(e){e.setVisible(t,!1)}),r&&(n.isDirtyBox=!0),e!==!1&&n.redraw(),ci(s,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===j?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),ci(this,t?"select":"unselect")},drawTracker:function(){var t,e=this,i=e.options,s=i.trackByArea,n=[].concat(s?e.areaPath:e.graphPath),o=n.length,r=e.chart,a=r.pointer,h=r.renderer,l=r.options.tooltip.snap,c=e.tracker,d=i.cursor,p=d&&{cursor:d},d=e.singlePoints,u=function(){r.hoverSeries!==e&&e.onMouseOver()};if(o&&!s)for(t=o+1;t--;)"M"===n[t]&&n.splice(t+1,0,n[t+1]-l,n[t+2],"L"),(t&&"M"===n[t]||t===o)&&n.splice(t,0,"L",n[t-2]+l,n[t-1]);for(t=0;t<d.length;t++)o=d[t],n.push("M",o.plotX-l,o.plotY,"L",o.plotX+l,o.plotY);c?c.attr({d:n}):(e.tracker=h.path(n).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:Ne,fill:s?Ne:Ge,"stroke-width":i.lineWidth+(s?0:2*l),zIndex:2}).add(e.group),ni([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",u).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(p),Re&&t.on("touchstart",u)}))}},ti=x(ki),Je.line=ti,gi.area=e(Qe,{threshold:0}),ti=x(ki,{type:"area",getSegments:function(){var t,e,i,s,n,o=[],r=[],a=[],h=this.xAxis,l=this.yAxis,c=l.stacks[this.stackKey],d={},p=this.points;if(this.options.stacking&&!this.cropped){for(s=0;s<p.length;s++)d[p[s].x]=p[s];for(n in c)a.push(+n);a.sort(function(t,e){return t-e}),ni(a,function(s){d[s]?r.push(d[s]):(t=h.translate(s),i=c[s].percent?c[s].total?100*c[s].cum/c[s].total:0:c[s].cum,e=l.toPixels(i,!0),r.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:We}))}),r.length&&o.push(r)}else ki.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,i=ki.prototype.getSegmentPath.call(this,t),s=[].concat(i),n=this.options;if(3===i.length&&s.push("L",i[1],i[2]),n.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)e<t.length-1&&n.step&&s.push(t[e+1].plotX,t[e].yBottom),s.push(t[e].plotX,t[e].yBottom);else this.closeSegment(s,t);return this.areaPath=this.areaPath.concat(s),i},closeSegment:function(t,e){var i=this.yAxis.getThreshold(this.options.threshold);t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[],ki.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,s=i.negativeColor,n=i.negativeFillColor,o=[["area",this.color,i.fillColor]];(s||n)&&o.push(["areaNeg",s,n]),ni(o,function(s){var n=s[0],o=t[n];o?o.animate({d:e}):t[n]=t.chart.renderer.path(e).attr({fill:g(s[2],fi(s[1]).setOpacity(g(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}}),Je.area=ti,gi.spline=e(Qe),xi=x(ki,{type:"spline",getPointSpline:function(t,e,i){var s,n,o,r,a=e.plotX,h=e.plotY,l=t[i-1],c=t[i+1];if(l&&c){t=l.plotY,o=c.plotX;var d,c=c.plotY;s=(1.5*a+l.plotX)/2.5,n=(1.5*h+t)/2.5,o=(1.5*a+o)/2.5,r=(1.5*h+c)/2.5,d=(r-n)*(o-a)/(o-s)+h-r,n+=d,r+=d,n>t&&n>h?(n=xe(t,h),r=2*h-n):t>n&&h>n&&(n=ye(t,h),r=2*h-n),r>c&&r>h?(r=xe(c,h),n=2*h-r):c>r&&h>r&&(r=ye(c,h),n=2*h-r),e.rightContX=o,e.rightContY=r}return i?(e=["C",l.rightContX||l.plotX,l.rightContY||l.plotY,s||a,n||h,a,h],l.rightContX=l.rightContY=null):e=["M",a,h],e}}),Je.spline=xi,gi.areaspline=e(gi.area),yi=ti.prototype,xi=x(xi,{type:"areaspline",closedStacks:!0,getSegmentPath:yi.getSegmentPath,closeSegment:yi.closeSegment,drawGraph:yi.drawGraph,drawLegendSymbol:yi.drawLegendSymbol}),Je.areaspline=xi,gi.column=e(Qe,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0}),xi=x(ki,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){ki.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&ni(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,s=i.options,n=i.xAxis,o=i.yAxis,r=n.reversed,a={},h=0;s.grouping===!1?h=1:ni(i.chart.series,function(s){var n=s.options,r=s.yAxis;s.type===i.type&&s.visible&&o.len===r.len&&o.pos===r.pos&&(n.stacking?(t=s.stackKey,a[t]===j&&(a[t]=h++),e=a[t]):n.grouping!==!1&&(e=h++),s.columnIndex=e)});var n=ye(ve(n.transA)*(n.ordinalSlope||s.pointRange||n.closestPointRange||1),n.len),l=n*s.groupPadding,c=(n-2*l)/h,p=s.pointWidth,s=d(p)?(c-p)/2:c*s.pointPadding,p=g(p,c-2*s);
return i.columnMetrics={width:p,offset:s+(l+((r?h-(i.columnIndex||0):i.columnIndex)||0)*c-n/2)*(r?-1:1)}},translate:function(){var t=this.chart,e=this.options,i=e.borderWidth,s=this.yAxis,n=this.translatedThreshold=s.getThreshold(e.threshold),o=g(e.minPointLength,5),e=this.getColumnMetrics(),r=e.width,a=this.barW=me(xe(r,1+2*i)),h=this.pointXOffset=e.offset,l=-(i%2?.5:0),c=i%2?.5:1;t.renderer.isVML&&t.inverted&&(c+=1),ki.prototype.translate.apply(this),ni(this.points,function(t){var e,i=ye(xe(-999,t.plotY),s.len+999),d=g(t.yBottom,n),p=t.plotX+h,u=a,f=ye(i,d),i=xe(i,d)-f;ve(i)<o&&o&&(i=o,f=ge(ve(f-n)>o?d-o:n-(s.translate(t.y,0,1,0,1)<=n?o:0))),t.barX=p,t.pointWidth=r,d=ve(p)<.5,u=ge(p+u)+l,p=ge(p)+l,u-=p,e=ve(f)<.5,i=ge(f+i)+c,f=ge(f)+c,i-=f,d&&(p+=1,u-=1),e&&(f-=1,i+=1),t.shapeType="rect",t.shapeArgs={x:p,y:f,width:u,height:i}})},getSymbol:We,drawLegendSymbol:ti.prototype.drawLegendSymbol,drawGraph:We,drawPoints:function(){var t,i=this,s=i.options,n=i.chart.renderer;ni(i.points,function(o){var r=o.plotY,a=o.graphic;r===j||isNaN(r)||null===o.y?a&&(o.graphic=a.destroy()):(t=o.shapeArgs,a?(ui(a),a.animate(e(t))):o.graphic=n[o.shapeType](t).attr(o.pointAttr[o.selected?"select":""]).add(i.group).shadow(s.shadow,null,s.stacking&&!s.borderRadius))})},drawTracker:function(){var t=this,e=t.chart,i=e.pointer,s=t.options.cursor,n=s&&{cursor:s},o=function(i){var s,n=i.target;for(e.hoverSeries!==t&&t.onMouseOver();n&&!s;)s=n.point,n=n.parentNode;s!==j&&s!==e.hoverPoint&&s.onMouseOver(i)};ni(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(ni(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(n),Re)&&t[e].on("touchstart",o)}),t._hasTracking=!0)},alignDataLabel:function(t,i,s,n,o){var r=this.chart,a=r.inverted,h=t.dlBox||t.shapeArgs,l=t.below||t.plotY>g(this.translatedThreshold,r.plotSizeY),c=g(s.inside,!!this.options.stacking);h&&(n=e(h),a&&(n={x:r.plotWidth-n.y-n.height,y:r.plotHeight-n.x-n.width,width:n.height,height:n.width}),!c)&&(a?(n.x+=l?0:n.width,n.width=0):(n.y+=l?n.height:0,n.height=0)),s.align=g(s.align,!a||c?"center":l?"right":"left"),s.verticalAlign=g(s.verticalAlign,a||c?"middle":l?"top":"bottom"),ki.prototype.alignDataLabel.call(this,t,i,s,n,o)},animate:function(t){var e=this.yAxis,i=this.options,s=this.chart.inverted,n={};Be&&(t?(n.scaleY=.001,t=ye(e.pos+e.len,xe(e.pos,e.toPixels(i.threshold))),s?n.translateX=t-e.len:n.translateY=t,this.group.attr(n)):(n.scaleY=1,n[s?"translateX":"translateY"]=e.pos,this.group.animate(n,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&ni(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),ki.prototype.remove.apply(t,arguments)}}),Je.column=xi,gi.bar=e(gi.column),yi=x(xi,{type:"bar",inverted:!0}),Je.bar=yi,gi.scatter=e(Qe,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1}),yi=x(ki,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:xi.prototype.drawTracker,setTooltipPoints:We}),Je.scatter=yi,gi.pie=e(Qe,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Qe={type:"pie",isCartesian:!1,pointClass:x(bi,{init:function(){bi.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:i.visible!==!1,name:g(i.name,"Slice")}),e=function(t){i.slice("select"===t.type)},hi(i,"select",e),hi(i,"unselect",e),i},setVisible:function(t){var e,i=this,s=i.series,n=s.chart;i.visible=i.options.visible=t=t===j?!i.visible:t,s.options.data[si(i,s.data)]=i.options,e=t?"show":"hide",ni(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e]()}),i.legendItem&&n.legend.colorizeItem(i,t),!s.isDirty&&s.options.ignoreHiddenPoint&&(s.isDirty=!0,n.redraw())},slice:function(t,e,i){var s=this.series;O(i,s.chart),g(e,!0),this.sliced=this.options.sliced=t=d(t)?t:!this.sliced,s.options.data[si(this,s.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:We,animate:function(t){var e=this,i=e.points,s=e.startAngleRad;t||(ni(i,function(t){var i=t.graphic,t=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:s,end:s}),i.animate({r:t.r,start:t.start,end:t.end},e.options.animation))}),e.animate=null)},setData:function(t,e){ki.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),g(e,!0)&&this.chart.redraw()},generatePoints:function(){var t,e,i,s,n=0,o=this.options.ignoreHiddenPoint;for(ki.prototype.generatePoints.call(this),e=this.points,i=e.length,t=0;i>t;t++)s=e[t],n+=o&&!s.visible?0:s.y;for(this.total=n,t=0;i>t;t++)s=e[t],s.percentage=n>0?s.y/n*100:0,s.total=n},getCenter:function(){var t,e,s=this.options,n=this.chart,o=2*(s.slicedOffset||0),r=n.plotWidth-2*o,a=n.plotHeight-2*o,n=s.center,s=[g(n[0],"50%"),g(n[1],"50%"),s.size||"100%",s.innerSize||0],h=ye(r,a);return ai(s,function(s,n){return e=/%$/.test(s),t=2>n||2===n&&e,(e?[r,a,h,h][n]*i(s)/100:s)+(t?o:0)})},translate:function(t){this.generatePoints();var e,i,s,n,o,r=0,a=this.options,h=a.slicedOffset,l=h+a.borderWidth,c=this.startAngleRad=we/180*((a.startAngle||0)%360-90),d=this.points,p=2*we,u=a.dataLabels.distance,a=a.ignoreHiddenPoint,g=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return s=ue.asin((e-t[1])/(t[2]/2+u)),t[0]+(i?-1:1)*be(s)*(t[2]/2+u)},n=0;g>n;n++)o=d[n],e=ge(1e3*(c+r*p))/1e3,(!a||o.visible)&&(r+=o.percentage/100),i=ge(1e3*(c+r*p))/1e3,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:e,end:i},s=(i+e)/2,s>.75*p&&(s-=2*we),o.slicedTranslation={translateX:ge(be(s)*h),translateY:ge(ke(s)*h)},e=be(s)*t[2]/2,i=ke(s)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*i],o.half=p/4>s?0:1,o.angle=s,l=ye(l,u/2),o.labelPos=[t[0]+e+be(s)*u,t[1]+i+ke(s)*u,t[0]+e+be(s)*l,t[1]+i+ke(s)*l,t[0]+e,t[1]+i,0>u?"center":o.half?"right":"left",s];this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var e,i,s,n,o=this,r=o.chart.renderer,a=o.options.shadow;a&&!o.shadowGroup&&(o.shadowGroup=r.g("shadow").add(o.group)),ni(o.points,function(h){i=h.graphic,n=h.shapeArgs,s=h.shadowGroup,a&&!s&&(s=h.shadowGroup=r.g("shadow").add(o.shadowGroup)),e=h.sliced?h.slicedTranslation:{translateX:0,translateY:0},s&&s.attr(e),i?i.animate(t(n,e)):h.graphic=i=r.arc(n).setRadialReference(o.center).attr(h.pointAttr[h.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(e).add(o.group).shadow(a,s),h.visible===!1&&h.setVisible(!1)})},drawDataLabels:function(){var t,e,i,s,n,o,r,a,h,l,c,d,p=this,u=p.data,f=p.chart,m=p.options.dataLabels,x=g(m.connectorPadding,10),y=g(m.connectorWidth,1),v=f.plotWidth,f=f.plotHeight,b=g(m.softConnector,!0),k=m.distance,w=p.center,T=w[2]/2,L=w[1],S=k>0,P=[[],[]],M=[0,0,0,0],A=function(t,e){return e.y-t.y},D=function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})};if(p.visible&&(m.enabled||p._hasPointLabels)){for(ki.prototype.drawDataLabels.apply(p),ni(u,function(t){t.dataLabel&&P[t.half].push(t)}),c=0;!r&&u[c];)r=u[c]&&u[c].dataLabel&&(u[c].dataLabel.getBBox().height||21),c++;for(c=2;c--;){var I,u=[],B=[],z=P[c],O=z.length;if(D(z,c-.5),k>0){for(d=L-T-k;L+T+k>=d;d+=r)u.push(d);if(n=u.length,O>n){for(t=[].concat(z),t.sort(A),d=O;d--;)t[d].rank=d;for(d=O;d--;)z[d].rank>=n&&z.splice(d,1);O=z.length}for(d=0;O>d;d++){t=z[d],o=t.labelPos,t=9999;var R,H;for(H=0;n>H;H++)R=ve(u[H]-o[1]),t>R&&(t=R,I=H);if(d>I&&null!==u[d])I=d;else for(O-d+I>n&&null!==u[d]&&(I=n-O+d);null===u[I];)I++;B.push({i:I,y:u[I]}),u[I]=null}B.sort(A)}for(d=0;O>d;d++)t=z[d],o=t.labelPos,s=t.dataLabel,l=t.visible===!1?"hidden":"visible",t=o[1],k>0?(n=B.pop(),I=n.i,h=n.y,(t>h&&null!==u[I+1]||h>t&&null!==u[I-1])&&(h=t)):h=t,a=m.justify?w[0]+(c?-1:1)*(T+k):p.getX(0===I||I===u.length-1?t:h,c),s._attr={visibility:l,align:o[6]},s._pos={x:a+m.x+({left:x,right:-x}[o[6]]||0),y:h+m.y-10},s.connX=a,s.connY=h,null===this.options.size&&(n=s.width,x>a-n?M[3]=xe(ge(n-a+x),M[3]):a+n>v-x&&(M[1]=xe(ge(a+n-v+x),M[1])),0>h-r/2?M[0]=xe(ge(-h+r/2),M[0]):h+r/2>f&&(M[2]=xe(ge(h+r/2-f),M[2])))}(0===C(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),S&&y&&ni(this.points,function(t){e=t.connector,o=t.labelPos,(s=t.dataLabel)&&s._pos?(l=s._attr.visibility,a=s.connX,h=s.connY,i=b?["M",a+("left"===o[6]?5:-5),h,"C",a,h,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",a+("left"===o[6]?5:-5),h,"L",o[2],o[3],"L",o[4],o[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=p.chart.renderer.path(i).attr({"stroke-width":y,stroke:m.connectorColor||t.color||"#606060",visibility:l}).add(p.group)):e&&(t.connector=e.destroy())}))}},verifyDataLabelOverflow:function(t){var e,i=this.center,s=this.options,n=s.center,o=s=s.minSize||80;return null!==n[0]?o=xe(i[2]-xe(t[1],t[3]),s):(o=xe(i[2]-t[1]-t[3],s),i[0]+=(t[3]-t[1])/2),null!==n[1]?o=xe(ye(o,i[2]-xe(t[0],t[2])),s):(o=xe(ye(o,i[2]-t[0]-t[2]),s),i[1]+=(t[0]-t[2])/2),o<i[2]?(i[2]=o,this.translate(i),ni(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels()):e=!0,e},placeDataLabels:function(){ni(this.points,function(t){var e,t=t.dataLabel;t&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},alignDataLabel:We,drawTracker:xi.prototype.drawTracker,drawLegendSymbol:ti.prototype.drawLegendSymbol,getSymbol:We},Qe=x(ki,Qe),Je.pie=Qe,t(s,{Axis:Y,Chart:V,Color:fi,Legend:F,Pointer:N,Point:bi,Tick:X,Tooltip:G,Renderer:_,Series:ki,SVGElement:H,SVGRenderer:mi,arrayMin:A,arrayMax:C,charts:Ee,dateFormat:K,format:k,pathAnim:$,getOptions:function(){return Z},hasBidiBug:ze,isTouchDevice:De,numberFormat:y,seriesTypes:Je,setOptions:function(t){return Z=e(Z,t),R(),Z},addEvent:hi,removeEvent:li,createElement:m,discardElement:I,css:f,each:ni,extend:t,map:ai,merge:e,pick:g,splat:u,extendClass:x,pInt:i,wrap:b,svg:Be,canvas:Oe,vml:!Be&&!Oe,product:"Highcharts",version:"3.0.5"})}(),i.exports=s});
;define("common:widget/oui/components/plan-performance",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol","common:widget/oui/lib/highcharts/3.0.5/highcharts"],function(require,exports,module){var $=require("common:widget/oui/lib/jquery/1.9.1/jquery"),Protocol=require("common:widget/oui/protocol");require("common:widget/oui/lib/highcharts/3.0.5/highcharts");var CASH_H=40,ARROW_H=115,DIST_COUNT=5,PlanPerformance=function(e){$.extend(this,{name:e.name,container:e.container||$("#"+e.name),planId:e.planId}),this._ui={boxCashIn:this._elem("input-cash"),boxCashOut:this._elem("output-cash"),boxArrow:this._elem("arrow"),numTotalAmount:this._elem("total-amount"),numAvgInterest:this._elem("avg-interest-rate"),numTotalInterest:this._elem("total-interest"),numUsage:this._elem("usage"),numBidCount:this._elem("bid-count"),boxInvestors:this._elem("investors"),boxBorrowers:this._elem("borrowers"),numInvestorCount:this._elem("investor-count"),numBorrowerCount:this._elem("borrower-count"),boxDist:this._elem("borrowers-dist")},this._tpl={cash:'<div class="cash fn-left"></div>',investor:'<div class="ppl-solid fn-left"></div>',borrower:'<div class="ppl-trans fn-left"></div>',error:'<div class="plan-performance-error">加载失败，请稍后再试</div>'}};$.extend(PlanPerformance.prototype,{init:function(){var self=this,p={financePlanId:this.planId};return Protocol.getPlanPerformance(p,function(status,message,data){if($(".plan-performance-loading").hide(),$("#J_NEW_PRO_DIV").length>0){if($("#J_PER_FBSJ").html(data.performance.reserveDate),$("#J_PER_ZDTB").html(data.performance.bidCount),$("#J_PER_BZJKYH").html(data.performance.borrowCount),$("#J_PER_WYHZQ").html(data.performance.earnInterest),$("#J_PER_JRRS").html(data.performance.subPointCount),$("#J_PER_MEYSJW").html(""===data.performance.useTime?"&nbsp;":data.performance.useTime),null!==data.performance.provinceDist){var obj=data.performance.provinceDist,dom="",x,total=0,index=0,shengyu=0;for(x in eval(obj))total+=Number(obj[x]);for(x in eval(obj)){if(index++,index>6)break;shengyu+=Math.floor(Number(obj[x])/total*100),dom+='<p><span class="mr10">'+x+'</span><span class="mr10">'+Math.floor(Number(obj[x])/total*100)+'%</span><span class="addr-progress"><b style="width:'+Math.floor(Number(obj[x])/total*100)+'%"></b></span></p>'}shengyu=100-shengyu,index>6&&(dom+='<p><span class="mr10">其他</span><span class="mr10">'+shengyu+'%</span><span class="addr-progress"><b style="width:'+shengyu+'%"></b></span></p>'),$("#J_PER_DYFB").html(dom)}}else self.render(status,message,data)}),this},render:function(e,t,o){var r,n,a=this._ui,s=this._tpl;if(0!==e)return void this.container.parent().append(s.error);this.container.show();var i=o.performance,m=Protocol.translator;i.earnInterest<0&&(i.earnInterest=0),a.numTotalAmount.text(m._commaInteger(i.amount)),a.numAvgInterest.text(m._fixedFloat2(i.averageBidInterest)),a.numTotalInterest.text(m._commaFloat(i.earnInterest)),a.numUsage.text(m._fixedFloat2(i.fundsUseRate)),a.numBidCount.text(m._commaInteger(i.bidCount));var l=Math.ceil(i.amount/1e6,10),u=Math.ceil(i.earnInterest/1e6,10);for(r=0;l>r;r++)a.boxCashIn.append(s.cash);for(r=0;u>r;r++)a.boxCashOut.append(s.cash);var c=Math.ceil(l/5)*CASH_H,h=Math.ceil(u/5)*CASH_H,d=ARROW_H;c>ARROW_H?(a.boxArrow.css("margin-top",Math.floor((c-ARROW_H)/2)),d=c):(n=Math.floor((ARROW_H-c)/2),a.boxCashIn.css("margin-top",n).css("margin-bottom",n)),0!==h?(n=Math.floor((d-h)/2),a.boxCashOut.css("margin-top",n).css("margin-bottom",n)):a.boxCashOut.css("height",d),a.numInvestorCount.text(m._commaInteger(i.subPointCount)),a.numBorrowerCount.text(m._commaInteger(i.borrowCount));var p=i.subPointCount>i.borrowCount?i.subPointCount:i.borrowCount,f=Math.ceil(p/10),b=Math.ceil(i.subPointCount/f),_=Math.ceil(i.borrowCount/f);for(r=0;b>r;r++)a.boxInvestors.append(s.investor);for(r=0;_>r;r++)a.boxBorrowers.append(s.borrower);var g=i.provinceDist,x=[],v=[];$.each(g,function(e,t){x.push({name:e,y:t})}),x.sort(function(e,t){return t.y-e.y});var C=["#52ac4e","#67b664","#86c583","#a8d5a6","#a8d5a6","#dceedc"],w=0,I=0,P=0;for(r=0;r<x.length;r++)w+=x[r].y,DIST_COUNT>r?(x[r].color=C[P],v.push(x[r]),P+=1):I+=x[r].y;I>0&&v.push({name:"其它",y:I,color:C[P]}),w>0&&a.boxDist.highcharts({chart:{type:"pie"},title:{text:"借款人地域分布"},legend:!1,plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"位"},series:[{name:"借款人",data:v,size:"100%",innerSize:"50%",dataLabels:{color:"#fff",distance:-25}}],credits:{enabled:!1}})},_elem:function(e){return this.container.find('[data-name="'+e+'"]')}}),module.exports=PlanPerformance});
;define("common:widget/oui/rsa/rsa.config",function(_,n,A){var K="-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDMO0o8vYsqInbD/8uraIdWqP8Y\ncc7KQuLS7w0VbCWocyMRYu582LwzycBOPvbbEKt2feqpUKQ+F3peq+HQnI6gL9d6\n6l0ZG3KjflZTQJ8M847USfUNGVbAi3PJG/NiwQHddUUudmjIEAXwadelp/g+/p97\nYcBAz8caQDcEyI0AjQIDAQAB\n-----END PUBLIC KEY-----;",e="-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC/GP6dENV96jD1oSvmbYhbhHhc\n/7Ngv+DY0iuhmzteyrWDswJDddEHViuhJTZguCGotujOcauzNm71sjW+sHXEJVIX\nHD4eiBNN9SpPpxeioKepaArqujo76GX2EW6JNCBFiB8fevhZHV/e7PQik+jZw/m1\n0eAjakbsbS4TBvwUtwIDAQAB\n-----END PUBLIC KEY-----";window.___RSA_TRICK_KEYS___={onlineKey:K,testKey:e},___RSA_TRICK_KEYS___.finalKey=___RSA_TRICK_KEYS___.onlineKey,A.exports=___RSA_TRICK_KEYS___.finalKey});
;define("common:widget/oui/rsa/index",["require","exports","module","common:widget/oui/rsa/rsa.config"],function(t,r,i){function e(){function t(t){t||(t=8);for(var r=new Array(t),i=[],e=0;256>e;e++)i[e]=e;for(e=0;e<r.length;e++)r[e]=i[Math.floor(Math.random()*i.length)];return r}this.setDefaults=function(){this.params.nBits=256,this.params.salt=t(8),this.params.salt=pidCryptUtil.byteArray2String(this.params.salt),this.params.salt=pidCryptUtil.convertToHex(this.params.salt),this.params.blockSize=16,this.params.UTF8=!0,this.params.A0_PAD=!0},this.debug=!0,this.params={},this.params.dataIn="",this.params.dataOut="",this.params.decryptIn="",this.params.decryptOut="",this.params.encryptIn="",this.params.encryptOut="",this.params.key="",this.params.iv="",this.params.clear=!0,this.setDefaults(),this.errors="",this.warnings="",this.infos="",this.debugMsg="",this.setParams=function(t){t||(t={});for(var r in t)this.params[r]=t[r]},this.getParams=function(){return this.params},this.getParam=function(t){return this.params[t]||""},this.clearParams=function(){this.params={}},this.getNBits=function(){return this.params.nBits},this.getOutput=function(){return this.params.dataOut},this.setError=function(t){this.error=t},this.appendError=function(t){return this.errors+=t,""},this.getErrors=function(){return this.errors},this.isError=function(){return this.errors.length>0?!0:!1},this.appendInfo=function(t){return this.infos+=t,""},this.getInfos=function(){return this.infos},this.setDebug=function(t){this.debug=t},this.appendDebug=function(t){return this.debugMsg+=t,""},this.isDebug=function(){return this.debug},this.getAllMessages=function(t){var r={lf:"\n",clr_mes:!1,verbose:15};t||(t=r);for(var i in r)"undefined"==typeof t[i]&&(t[i]=r[i]);var e="",s="";for(var n in this.params){switch(n){case"encryptOut":s=pidCryptUtil.toByteArray(this.params[n].toString()),s=pidCryptUtil.fragment(s.join(),64,t.lf);break;case"key":case"iv":s=pidCryptUtil.formatHex(this.params[n],48);break;default:s=pidCryptUtil.fragment(this.params[n].toString(),64,t.lf)}e+="<p><b>"+n+"</b>:<pre>"+s+"</pre></p>"}return this.debug&&(e+="debug: "+this.debug+t.lf),this.errors.length>0&&1==(1&t.verbose)&&(e+="Errors:"+t.lf+this.errors+t.lf),this.warnings.length>0&&2==(2&t.verbose)&&(e+="Warnings:"+t.lf+this.warnings+t.lf),this.infos.length>0&&4==(4&t.verbose)&&(e+="Infos:"+t.lf+this.infos+t.lf),this.debug&&8==(8&t.verbose)&&(e+="Debug messages:"+t.lf+this.debugMsg+t.lf),t.clr_mes&&(this.errors=this.infos=this.warnings=this.debug=""),e},this.getRandomBytes=function(r){return t(r)}}function s(t,r){t instanceof s?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=r)}function n(t,r,i){null!=t&&("number"==typeof t?this.fromNumber(t,r,i):null==r&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,r))}function o(){return new n(null)}function h(t,r,i,e,s,n){for(;--n>=0;){var o=r*this[t++]+i[e]+s;s=Math.floor(o/67108864),i[e++]=67108863&o}return s}function a(t,r,i,e,s,n){for(var o=32767&r,h=r>>15;--n>=0;){var a=32767&this[t],u=this[t++]>>15,p=h*a+u*o;a=o*a+((32767&p)<<15)+i[e]+(1073741823&s),s=(a>>>30)+(p>>>15)+h*u+(s>>>30),i[e++]=1073741823&a}return s}function u(t,r,i,e,s,n){for(var o=16383&r,h=r>>14;--n>=0;){var a=16383&this[t],u=this[t++]>>14,p=h*a+u*o;a=o*a+((16383&p)<<14)+i[e]+s,s=(a>>28)+(p>>14)+h*u,i[e++]=268435455&a}return s}function p(t){return bi.charAt(t)}function f(t,r){var i=Ti[t.charCodeAt(r)];return null==i?-1:i}function c(t){for(var r=this.t-1;r>=0;--r)t[r]=this[r];t.t=this.t,t.s=this.s}function l(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function d(t){var r=o();return r.fromInt(t),r}function m(t,r){var i;if(16==r)i=4;else if(8==r)i=3;else if(256==r)i=8;else if(2==r)i=1;else if(32==r)i=5;else{if(4!=r)return void this.fromRadix(t,r);i=2}this.t=0,this.s=0;for(var e=t.length,s=!1,o=0;--e>=0;){var h=8==i?255&t[e]:f(t,e);0>h?"-"==t.charAt(e)&&(s=!0):(s=!1,0==o?this[this.t++]=h:o+i>this.DB?(this[this.t-1]|=(h&(1<<this.DB-o)-1)<<o,this[this.t++]=h>>this.DB-o):this[this.t-1]|=h<<o,o+=i,o>=this.DB&&(o-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&n.ZERO.subTo(this,this)}function g(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function v(t){if(this.s<0)return"-"+this.negate().toString(t);var r;if(16==t)r=4;else if(8==t)r=3;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return this.toRadix(t);r=2}var i,e=(1<<r)-1,s=!1,n="",o=this.t,h=this.DB-o*this.DB%r;if(o-->0)for(h<this.DB&&(i=this[o]>>h)>0&&(s=!0,n=p(i));o>=0;)r>h?(i=(this[o]&(1<<h)-1)<<r-h,i|=this[--o]>>(h+=this.DB-r)):(i=this[o]>>(h-=r)&e,0>=h&&(h+=this.DB,--o)),i>0&&(s=!0),s&&(n+=p(i));return s?n:"0"}function y(){var t=o();return n.ZERO.subTo(this,t),t}function b(){return this.s<0?this.negate():this}function T(t){var r=this.s-t.s;if(0!=r)return r;var i=this.t;if(r=i-t.t,0!=r)return r;for(;--i>=0;)if(0!=(r=this[i]-t[i]))return r;return 0}function S(t){var r,i=1;return 0!=(r=t>>>16)&&(t=r,i+=16),0!=(r=t>>8)&&(t=r,i+=8),0!=(r=t>>4)&&(t=r,i+=4),0!=(r=t>>2)&&(t=r,i+=2),0!=(r=t>>1)&&(t=r,i+=1),i}function A(){return this.t<=0?0:this.DB*(this.t-1)+S(this[this.t-1]^this.s&this.DM)}function D(t,r){var i;for(i=this.t-1;i>=0;--i)r[i+t]=this[i];for(i=t-1;i>=0;--i)r[i]=0;r.t=this.t+t,r.s=this.s}function C(t,r){for(var i=t;i<this.t;++i)r[i-t]=this[i];r.t=Math.max(this.t-t,0),r.s=this.s}function N(t,r){var i,e=t%this.DB,s=this.DB-e,n=(1<<s)-1,o=Math.floor(t/this.DB),h=this.s<<e&this.DM;for(i=this.t-1;i>=0;--i)r[i+o+1]=this[i]>>s|h,h=(this[i]&n)<<e;for(i=o-1;i>=0;--i)r[i]=0;r[o]=h,r.t=this.t+o+1,r.s=this.s,r.clamp()}function E(t,r){r.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)return void(r.t=0);var e=t%this.DB,s=this.DB-e,n=(1<<e)-1;r[0]=this[i]>>e;for(var o=i+1;o<this.t;++o)r[o-i-1]|=(this[o]&n)<<s,r[o-i]=this[o]>>e;e>0&&(r[this.t-i-1]|=(this.s&n)<<s),r.t=this.t-i,r.clamp()}function w(t,r){for(var i=0,e=0,s=Math.min(t.t,this.t);s>i;)e+=this[i]-t[i],r[i++]=e&this.DM,e>>=this.DB;if(t.t<this.t){for(e-=t.s;i<this.t;)e+=this[i],r[i++]=e&this.DM,e>>=this.DB;e+=this.s}else{for(e+=this.s;i<t.t;)e-=t[i],r[i++]=e&this.DM,e>>=this.DB;e-=t.s}r.s=0>e?-1:0,-1>e?r[i++]=this.DV+e:e>0&&(r[i++]=e),r.t=i,r.clamp()}function B(t,r){var i=this.abs(),e=t.abs(),s=i.t;for(r.t=s+e.t;--s>=0;)r[s]=0;for(s=0;s<e.t;++s)r[s+i.t]=i.am(0,e[s],r,s,0,i.t);r.s=0,r.clamp(),this.s!=t.s&&n.ZERO.subTo(r,r)}function x(t){for(var r=this.abs(),i=t.t=2*r.t;--i>=0;)t[i]=0;for(i=0;i<r.t-1;++i){var e=r.am(i,r[i],t,2*i,0,1);(t[i+r.t]+=r.am(i+1,2*r[i],t,2*i+1,e,r.t-i-1))>=r.DV&&(t[i+r.t]-=r.DV,t[i+r.t+1]=1)}t.t>0&&(t[t.t-1]+=r.am(i,r[i],t,2*i,0,1)),t.s=0,t.clamp()}function O(t,r,i){var e=t.abs();if(!(e.t<=0)){var s=this.abs();if(s.t<e.t)return null!=r&&r.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=o());var h=o(),a=this.s,u=t.s,p=this.DB-S(e[e.t-1]);p>0?(e.lShiftTo(p,h),s.lShiftTo(p,i)):(e.copyTo(h),s.copyTo(i));var f=h.t,c=h[f-1];if(0!=c){var l=c*(1<<this.F1)+(f>1?h[f-2]>>this.F2:0),d=this.FV/l,m=(1<<this.F1)/l,g=1<<this.F2,v=i.t,y=v-f,b=null==r?o():r;for(h.dlShiftTo(y,b),i.compareTo(b)>=0&&(i[i.t++]=1,i.subTo(b,i)),n.ONE.dlShiftTo(f,b),b.subTo(h,h);h.t<f;)h[h.t++]=0;for(;--y>=0;){var T=i[--v]==c?this.DM:Math.floor(i[v]*d+(i[v-1]+g)*m);if((i[v]+=h.am(0,T,i,y,0,f))<T)for(h.dlShiftTo(y,b),i.subTo(b,i);i[v]<--T;)i.subTo(b,i)}null!=r&&(i.drShiftTo(f,r),a!=u&&n.ZERO.subTo(r,r)),i.t=f,i.clamp(),p>0&&i.rShiftTo(p,i),0>a&&n.ZERO.subTo(i,i)}}}function M(t){var r=o();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(n.ZERO)>0&&t.subTo(r,r),r}function R(t){this.m=t}function _(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function I(t){return t}function P(t){t.divRemTo(this.m,null,t)}function U(t,r,i){t.multiplyTo(r,i),this.reduce(i)}function q(t,r){t.squareTo(r),this.reduce(r)}function L(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var r=3&t;return r=15&r*(2-(15&t)*r),r=255&r*(2-(255&t)*r),r=65535&r*(2-(65535&(65535&t)*r)),r=r*(2-t*r%this.DV)%this.DV,r>0?this.DV-r:-r}function F(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function V(t){var r=o();return t.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),t.s<0&&r.compareTo(n.ZERO)>0&&this.m.subTo(r,r),r}function k(t){var r=o();return t.copyTo(r),this.reduce(r),r}function H(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var r=0;r<this.m.t;++r){var i=32767&t[r],e=i*this.mpl+((i*this.mph+(t[r]>>15)*this.mpl&this.um)<<15)&t.DM;for(i=r+this.m.t,t[i]+=this.m.am(0,e,t,r,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Z(t,r){t.squareTo(r),this.reduce(r)}function j(t,r,i){t.multiplyTo(r,i),this.reduce(i)}function z(){return 0==(this.t>0?1&this[0]:this.s)}function G(t,r){if(t>4294967295||1>t)return n.ONE;var i=o(),e=o(),s=r.convert(this),h=S(t)-1;for(s.copyTo(i);--h>=0;)if(r.sqrTo(i,e),(t&1<<h)>0)r.mulTo(e,s,i);else{var a=i;i=e,e=a}return r.revert(i)}function K(t,r){var i;return i=256>t||r.isEven()?new R(r):new F(r),this.exp(t,i)}function Q(){var t=o();return this.copyTo(t),t}function J(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function W(){return 0==this.t?this.s:this[0]<<24>>24}function X(){return 0==this.t?this.s:this[0]<<16>>16}function Y(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function $(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function tr(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var r=this.chunkSize(t),i=Math.pow(t,r),e=d(i),s=o(),n=o(),h="";for(this.divRemTo(e,s,n);s.signum()>0;)h=(i+n.intValue()).toString(t).substr(1)+h,s.divRemTo(e,s,n);return n.intValue().toString(t)+h}function rr(t,r){this.fromInt(0),null==r&&(r=10);for(var i=this.chunkSize(r),e=Math.pow(r,i),s=!1,o=0,h=0,a=0;a<t.length;++a){var u=f(t,a);0>u?"-"==t.charAt(a)&&0==this.signum()&&(s=!0):(h=r*h+u,++o>=i&&(this.dMultiply(e),this.dAddOffset(h,0),o=0,h=0))}o>0&&(this.dMultiply(Math.pow(r,o)),this.dAddOffset(h,0)),s&&n.ZERO.subTo(this,this)}function ir(t,r,i){if("number"==typeof r)if(2>t)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),pr,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var e=new Array,s=7&t;e.length=(t>>3)+1,r.nextBytes(e),s>0?e[0]&=(1<<s)-1:e[0]=0,this.fromString(e,256)}}function er(){var t=this.t,r=new Array;r[0]=this.s;var i,e=this.DB-t*this.DB%8,s=0;if(t-->0)for(e<this.DB&&(i=this[t]>>e)!=(this.s&this.DM)>>e&&(r[s++]=i|this.s<<this.DB-e);t>=0;)8>e?(i=(this[t]&(1<<e)-1)<<8-e,i|=this[--t]>>(e+=this.DB-8)):(i=255&this[t]>>(e-=8),0>=e&&(e+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==s&&(128&this.s)!=(128&i)&&++s,(s>0||i!=this.s)&&(r[s++]=i);return r}function sr(t){return 0==this.compareTo(t)}function nr(t){return this.compareTo(t)<0?this:t}function or(t){return this.compareTo(t)>0?this:t}function hr(t,r,i){var e,s,n=Math.min(t.t,this.t);for(e=0;n>e;++e)i[e]=r(this[e],t[e]);if(t.t<this.t){for(s=t.s&this.DM,e=n;e<this.t;++e)i[e]=r(this[e],s);i.t=this.t}else{for(s=this.s&this.DM,e=n;e<t.t;++e)i[e]=r(s,t[e]);i.t=t.t}i.s=r(this.s,t.s),i.clamp()}function ar(t,r){return t&r}function ur(t){var r=o();return this.bitwiseTo(t,ar,r),r}function pr(t,r){return t|r}function fr(t){var r=o();return this.bitwiseTo(t,pr,r),r}function cr(t,r){return t^r}function lr(t){var r=o();return this.bitwiseTo(t,cr,r),r}function dr(t,r){return t&~r}function mr(t){var r=o();return this.bitwiseTo(t,dr,r),r}function gr(){for(var t=o(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t}function vr(t){var r=o();return 0>t?this.rShiftTo(-t,r):this.lShiftTo(t,r),r}function yr(t){var r=o();return 0>t?this.lShiftTo(-t,r):this.rShiftTo(t,r),r}function br(t){if(0==t)return-1;var r=0;return 0==(65535&t)&&(t>>=16,r+=16),0==(255&t)&&(t>>=8,r+=8),0==(15&t)&&(t>>=4,r+=4),0==(3&t)&&(t>>=2,r+=2),0==(1&t)&&++r,r}function Tr(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+br(this[t]);return this.s<0?this.t*this.DB:-1}function Sr(t){for(var r=0;0!=t;)t&=t-1,++r;return r}function Ar(){for(var t=0,r=this.s&this.DM,i=0;i<this.t;++i)t+=Sr(this[i]^r);return t}function Dr(t){var r=Math.floor(t/this.DB);return r>=this.t?0!=this.s:0!=(this[r]&1<<t%this.DB)}function Cr(t,r){var i=n.ONE.shiftLeft(t);return this.bitwiseTo(i,r,i),i}function Nr(t){return this.changeBit(t,pr)}function Er(t){return this.changeBit(t,dr)}function wr(t){return this.changeBit(t,cr)}function Br(t,r){for(var i=0,e=0,s=Math.min(t.t,this.t);s>i;)e+=this[i]+t[i],r[i++]=e&this.DM,e>>=this.DB;if(t.t<this.t){for(e+=t.s;i<this.t;)e+=this[i],r[i++]=e&this.DM,e>>=this.DB;e+=this.s}else{for(e+=this.s;i<t.t;)e+=t[i],r[i++]=e&this.DM,e>>=this.DB;e+=t.s}r.s=0>e?-1:0,e>0?r[i++]=e:-1>e&&(r[i++]=this.DV+e),r.t=i,r.clamp()}function xr(t){var r=o();return this.addTo(t,r),r}function Or(t){var r=o();return this.subTo(t,r),r}function Mr(t){var r=o();return this.multiplyTo(t,r),r}function Rr(t){var r=o();return this.divRemTo(t,r,null),r}function _r(t){var r=o();return this.divRemTo(t,null,r),r}function Ir(t){var r=o(),i=o();return this.divRemTo(t,r,i),new Array(r,i)}function Pr(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Ur(t,r){for(;this.t<=r;)this[this.t++]=0;for(this[r]+=t;this[r]>=this.DV;)this[r]-=this.DV,++r>=this.t&&(this[this.t++]=0),++this[r]}function qr(){}function Lr(t){return t}function Fr(t,r,i){t.multiplyTo(r,i)}function Vr(t,r){t.squareTo(r)}function kr(t){return this.exp(t,new qr)}function Hr(t,r,i){var e=Math.min(this.t+t.t,r);for(i.s=0,i.t=e;e>0;)i[--e]=0;var s;for(s=i.t-this.t;s>e;++e)i[e+this.t]=this.am(0,t[e],i,e,0,this.t);for(s=Math.min(t.t,r);s>e;++e)this.am(0,t[e],i,e,0,r-e);i.clamp()}function Zr(t,r,i){--r;var e=i.t=this.t+t.t-r;for(i.s=0;--e>=0;)i[e]=0;for(e=Math.max(r-this.t,0);e<t.t;++e)i[this.t+e-r]=this.am(r-e,t[e],i,0,0,this.t+e-r);i.clamp(),i.drShiftTo(1,i)}function jr(t){this.r2=o(),this.q3=o(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function zr(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=o();return t.copyTo(r),this.reduce(r),r}function Gr(t){return t}function Kr(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Qr(t,r){t.squareTo(r),this.reduce(r)}function Jr(t,r,i){t.multiplyTo(r,i),this.reduce(i)}function Wr(t,r){var i,e,s=t.bitLength(),n=d(1);if(0>=s)return n;i=18>s?1:48>s?3:144>s?4:768>s?5:6,e=8>s?new R(r):r.isEven()?new jr(r):new F(r);var h=new Array,a=3,u=i-1,p=(1<<i)-1;if(h[1]=e.convert(this),i>1){var f=o();for(e.sqrTo(h[1],f);p>=a;)h[a]=o(),e.mulTo(f,h[a-2],h[a]),a+=2}var c,l,m=t.t-1,g=!0,v=o();for(s=S(t[m])-1;m>=0;){for(s>=u?c=t[m]>>s-u&p:(c=(t[m]&(1<<s+1)-1)<<u-s,m>0&&(c|=t[m-1]>>this.DB+s-u)),a=i;0==(1&c);)c>>=1,--a;if((s-=a)<0&&(s+=this.DB,--m),g)h[c].copyTo(n),g=!1;else{for(;a>1;)e.sqrTo(n,v),e.sqrTo(v,n),a-=2;a>0?e.sqrTo(n,v):(l=n,n=v,v=l),e.mulTo(v,h[c],n)}for(;m>=0&&0==(t[m]&1<<s);)e.sqrTo(n,v),l=n,n=v,v=l,--s<0&&(s=this.DB-1,--m)}return e.revert(n)}function Xr(t){var r=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(r.compareTo(i)<0){var e=r;r=i,i=e}var s=r.getLowestSetBit(),n=i.getLowestSetBit();if(0>n)return r;for(n>s&&(n=s),n>0&&(r.rShiftTo(n,r),i.rShiftTo(n,i));r.signum()>0;)(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),r.compareTo(i)>=0?(r.subTo(i,r),r.rShiftTo(1,r)):(i.subTo(r,i),i.rShiftTo(1,i));return n>0&&i.lShiftTo(n,i),i}function Yr(t){if(0>=t)return 0;var r=this.DV%t,i=this.s<0?t-1:0;if(this.t>0)if(0==r)i=this[0]%t;else for(var e=this.t-1;e>=0;--e)i=(r*i+this[e])%t;return i}function $r(t){var r=t.isEven();if(this.isEven()&&r||0==t.signum())return n.ZERO;for(var i=t.clone(),e=this.clone(),s=d(1),o=d(0),h=d(0),a=d(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),r?(s.isEven()&&o.isEven()||(s.addTo(this,s),o.subTo(t,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;e.isEven();)e.rShiftTo(1,e),r?(h.isEven()&&a.isEven()||(h.addTo(this,h),a.subTo(t,a)),h.rShiftTo(1,h)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);i.compareTo(e)>=0?(i.subTo(e,i),r&&s.subTo(h,s),o.subTo(a,o)):(e.subTo(i,e),r&&h.subTo(s,h),a.subTo(o,a))}return 0!=e.compareTo(n.ONE)?n.ZERO:a.compareTo(t)>=0?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a}function ti(t){var r,i=this.abs();if(1==i.t&&i[0]<=Si[Si.length-1]){for(r=0;r<Si.length;++r)if(i[0]==Si[r])return!0;return!1}if(i.isEven())return!1;for(r=1;r<Si.length;){for(var e=Si[r],s=r+1;s<Si.length&&Ai>e;)e*=Si[s++];for(e=i.modInt(e);s>r;)if(0==e%Si[r++])return!1}return i.millerRabin(t)}function ri(t){var r=this.subtract(n.ONE),i=r.getLowestSetBit();if(0>=i)return!1;var e=r.shiftRight(i);t=t+1>>1,t>Si.length&&(t=Si.length);for(var s=o(),h=0;t>h;++h){s.fromInt(Si[h]);var a=s.modPow(e,this);if(0!=a.compareTo(n.ONE)&&0!=a.compareTo(r)){for(var u=1;u++<i&&0!=a.compareTo(r);)if(a=a.modPowInt(2,this),0==a.compareTo(n.ONE))return!1;if(0!=a.compareTo(r))return!1}}return!0}function ii(){if(this.rng_state,this.rng_pool,this.rng_pptr,this.rng_seed_int=function(t){this.rng_pool[this.rng_pptr++]^=255&t,this.rng_pool[this.rng_pptr++]^=255&t>>8,this.rng_pool[this.rng_pptr++]^=255&t>>16,this.rng_pool[this.rng_pptr++]^=255&t>>24,this.rng_pptr>=Di&&(this.rng_pptr-=Di)},this.rng_seed_time=function(){this.rng_seed_int((new Date).getTime())},null==this.rng_pool){this.rng_pool=new Array,this.rng_pptr=0;var t;if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var r=window.crypto.random(32);for(t=0;t<r.length;++t)this.rng_pool[this.rng_pptr++]=255&r.charCodeAt(t)}for(;this.rng_pptr<Di;)t=Math.floor(65536*Math.random()),this.rng_pool[this.rng_pptr++]=t>>>8,this.rng_pool[this.rng_pptr++]=255&t;this.rng_pptr=0,this.rng_seed_time()}this.rng_get_byte=function(){if(null==this.rng_state){for(this.rng_seed_time(),this.rng_state=oi(),this.rng_state.init(this.rng_pool),this.rng_pptr=0;this.rng_pptr<this.rng_pool.length;++this.rng_pptr)this.rng_pool[this.rng_pptr]=0;this.rng_pptr=0}return this.rng_state.next()},this.nextBytes=function(t){var r;for(r=0;r<t.length;++r)t[r]=this.rng_get_byte()}}function ei(){this.i=0,this.j=0,this.S=new Array}function si(t){var r,i,e;for(r=0;256>r;++r)this.S[r]=r;for(i=0,r=0;256>r;++r)i=255&i+this.S[r]+t[r%t.length],e=this.S[r],this.S[r]=this.S[i],this.S[i]=e;this.i=0,this.j=0}function ni(){var t;return this.i=255&this.i+1,this.j=255&this.j+this.S[this.i],t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[255&t+this.S[this.i]]}function oi(){return new ei}function hi(t,r){return new n(t,r)}function ai(t,r){for(var i=t.toByteArray(),e=0;e<i.length&&0==i[e];)++e;if(i.length-e!=r-1||2!=i[e])return null;for(++e;0!=i[e];)if(++e>=i.length)return null;for(var s="";++e<i.length;)s+=String.fromCharCode(i[e]);return s}function ui(t,r){if(r<t.length+11)return alert("Message too long for RSA"),null;for(var i=new Array,e=t.length-1;e>=0&&r>0;)i[--r]=t.charCodeAt(e--);i[--r]=0;for(var s=new ii,o=new Array;r>2;){for(o[0]=0;0==o[0];)s.nextBytes(o);i[--r]=o[0]}return i[--r]=2,i[--r]=0,new n(i)}function pi(t){var r=t.split("\n"),i=!1,e=!1,s="",n={};n.info="",n.salt="",n.iv,n.b64="",n.aes=!1,n.mode="",n.bits=0;for(var o=0;o<r.length;o++)switch(s=r[o].substr(0,9),1==o&&"Proc-Type"!=s&&0==s.indexOf("M")&&(e=!0),s){case"-----BEGI":i=!0;break;case"Proc-Type":i&&(n.info=r[o]);break;case"DEK-Info:":if(i){var h=r[o].split(","),a=h[0].split(": "),u=a[1].split("-");n.aes="AES"==u[0]?!0:!1,n.mode=u[2],n.bits=parseInt(u[1]),n.salt=h[1].substr(0,16),n.iv=h[1]}break;case"":i&&(e=!0);break;case"-----END ":i&&(e=!1,i=!1);break;default:i&&e&&(n.b64+=pidCryptUtil.stripLineFeeds(r[o]))}return n}function fi(t){var r,i=ci,s={};if(s=pi(i),s.b64){var n=pidCryptUtil.decodeBase64(s.b64),o=new e.RSA,h=e.ASN1.decode(pidCryptUtil.toByteArray(n)),a=h.toHexTree();return o.setPublicKeyFromASN(a),r=o.encrypt(t),pidCryptUtil.encodeBase64(pidCryptUtil.convertFromHex(r))}return"error"}var ci=t("common:widget/oui/rsa/rsa.config");pidCryptUtil={},pidCryptUtil.encodeBase64=function(t,r){t||(t="");var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r="undefined"==typeof r?!1:r;var e,s,n,o,h,a,u,p,f,c,l,d=[],m="";if(c=r?pidCryptUtil.encodeUTF8(t):t,f=c.length%3,f>0)for(;f++<3;)m+="=",c+="\x00";for(f=0;f<c.length;f+=3)e=c.charCodeAt(f),s=c.charCodeAt(f+1),n=c.charCodeAt(f+2),o=e<<16|s<<8|n,h=63&o>>18,a=63&o>>12,u=63&o>>6,p=63&o,d[f/3]=i.charAt(h)+i.charAt(a)+i.charAt(u)+i.charAt(p);return l=d.join(""),l=l.slice(0,l.length-m.length)+m},pidCryptUtil.decodeBase64=function(t,r){t||(t="");var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r="undefined"==typeof r?!1:r;var e,s,n,o,h,a,u,p,f,c,l=[];c=r?pidCryptUtil.decodeUTF8(t):t;for(var d=0;d<c.length;d+=4)o=i.indexOf(c.charAt(d)),h=i.indexOf(c.charAt(d+1)),a=i.indexOf(c.charAt(d+2)),u=i.indexOf(c.charAt(d+3)),p=o<<18|h<<12|a<<6|u,e=255&p>>>16,s=255&p>>>8,n=255&p,l[d/4]=String.fromCharCode(e,s,n),64==u&&(l[d/4]=String.fromCharCode(e,s)),64==a&&(l[d/4]=String.fromCharCode(e));return f=l.join(""),f=r?pidCryptUtil.decodeUTF8(f):f},pidCryptUtil.encodeUTF8=function(t){return t||(t=""),t=t.replace(/[\u0080-\u07ff]/g,function(t){var r=t.charCodeAt(0);return String.fromCharCode(192|r>>6,128|63&r)}),t=t.replace(/[\u0800-\uffff]/g,function(t){var r=t.charCodeAt(0);return String.fromCharCode(224|r>>12,128|63&r>>6,128|63&r)})},pidCryptUtil.decodeUTF8=function(t){return t||(t=""),t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(t){var r=(31&t.charCodeAt(0))<<6|63&t.charCodeAt(1);return String.fromCharCode(r)}),t=t.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(t){var r=(15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2);return String.fromCharCode(r)})},pidCryptUtil.convertToHex=function(t){t||(t="");for(var r="",i="",e=0;e<t.length;e++)i=t.charCodeAt(e).toString(16),r+=1==i.length?"0"+i:i;return r},pidCryptUtil.convertFromHex=function(t){t||(t="");for(var r="",i=0;i<t.length;i+=2)r+=String.fromCharCode(parseInt(t.substring(i,i+2),16));return r},pidCryptUtil.stripLineFeeds=function(t){t||(t="");var r="";return r=t.replace(/\n/g,""),r=r.replace(/\r/g,"")},pidCryptUtil.toByteArray=function(t){t||(t="");for(var r=[],i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r},pidCryptUtil.fragment=function(t,r,i){if(t||(t=""),!r||r>=t.length)return t;i||(i="\n");for(var e="",s=0;s<t.length;s+=r)e+=t.substr(s,r)+i;return e},pidCryptUtil.formatHex=function(t,r){t||(t=""),r||(r=45);for(var i="",e=t.toLowerCase(),s=0;s<e.length;s+=2)i+=e.substr(s,2)+":";return e=this.fragment(i,r)},pidCryptUtil.byteArray2String=function(t){for(var r="",i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r},s.prototype.parseStringHex=function(t,r){"undefined"==typeof r&&(r=this.enc.length);for(var i="",e=t;r>e;++e){var s=this.get(e);i+=this.hexDigits.charAt(s>>4)+this.hexDigits.charAt(15&s)}return i},s.prototype.get=function(t){if(void 0==t&&(t=this.pos++),t>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]},s.prototype.hexDigits="0123456789ABCDEF",s.prototype.hexDump=function(t,r){for(var i="",e=t;r>e;++e){var s=this.get(e);i+=this.hexDigits.charAt(s>>4)+this.hexDigits.charAt(15&s),7==(15&e)&&(i+=" "),i+=15==(15&e)?"\n":" "}return i},s.prototype.parseStringISO=function(t,r){for(var i="",e=t;r>e;++e)i+=String.fromCharCode(this.get(e));return i},s.prototype.parseStringUTF=function(t,r){for(var i="",e=0,s=t;r>s;){var e=this.get(s++);i+=String.fromCharCode(128>e?e:e>191&&224>e?(31&e)<<6|63&this.get(s++):(15&e)<<12|(63&this.get(s++))<<6|63&this.get(s++))}return i},s.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,s.prototype.parseTime=function(t,r){var i=this.parseStringISO(t,r),e=this.reTime.exec(i);return e?(i=e[1]+"-"+e[2]+"-"+e[3]+" "+e[4],e[5]&&(i+=":"+e[5],e[6]&&(i+=":"+e[6],e[7]&&(i+="."+e[7]))),e[8]&&(i+=" UTC","Z"!=e[8]&&(i+=e[8],e[9]&&(i+=":"+e[9]))),i):"Unrecognized time: "+i},s.prototype.parseInteger=function(t,r){if(r-t>4)return void 0;for(var i=0,e=t;r>e;++e)i=i<<8|this.get(e);return i},s.prototype.parseOID=function(t,r){for(var i,e=0,s=0,n=t;r>n;++n){var o=this.get(n);e=e<<7|127&o,s+=7,128&o||(void 0==i?i=parseInt(e/40)+"."+e%40:i+="."+(s>=31?"big":e),e=s=0),i+=String.fromCharCode()}return i},"undefined"!=typeof e&&(e.ASN1=function(t,r,i,e,s){this.stream=t,this.header=r,this.length=i,this.tag=e,this.sub=s},e.ASN1.prototype.toHexTree=function(){var t={};if(t.type=this.typeName(),"SEQUENCE"!=t.type&&(t.value=this.stream.parseStringHex(this.posContent(),this.posEnd())),null!=this.sub){t.sub=[];for(var r=0,i=this.sub.length;i>r;++r)t.sub[r]=this.sub[r].toHexTree()}return t},e.ASN1.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var t=this.tag>>6;1&this.tag>>5;var r=31&this.tag;switch(t){case 0:switch(r){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+r.toString(16)}case 1:return"Application_"+r.toString(16);case 2:return"["+r+"]";case 3:return"Private_"+r.toString(16)}},e.ASN1.prototype.content=function(){if(void 0==this.tag)return null;var t=this.tag>>6;if(0!=t)return null;var r=31&this.tag,i=this.posContent(),e=Math.abs(this.length);switch(r){case 1:return 0==this.stream.get(i)?"false":"true";case 2:return this.stream.parseInteger(i,i+e);case 6:return this.stream.parseOID(i,i+e);case 12:return this.stream.parseStringUTF(i,i+e);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(i,i+e);case 23:case 24:return this.stream.parseTime(i,i+e)}return null},e.ASN1.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},e.ASN1.prototype.print=function(t){if(void 0==t&&(t=""),document.writeln(t+this),null!=this.sub){t+="  ";for(var r=0,i=this.sub.length;i>r;++r)this.sub[r].print(t)}},e.ASN1.prototype.toPrettyString=function(t){void 0==t&&(t="");var r=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(r+="+"),r+=this.length,32&this.tag?r+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(r+=" (encapsulates)"),r+="\n",null!=this.sub){t+="  ";for(var i=0,e=this.sub.length;e>i;++i)r+=this.sub[i].toPrettyString(t)}return r},e.ASN1.prototype.toDOM=function(){var t=document.createElement("div");t.className="node",t.asn1=this;var r=document.createElement("div");r.className="head";var i=this.typeName();r.innerHTML=i,t.appendChild(r),this.head=r;var e=document.createElement("div");e.className="value",i="Offset: "+this.stream.pos+"<br/>",i+="Length: "+this.header+"+",i+=this.length>=0?this.length:-this.length+" (undefined)",32&this.tag?i+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(i+="<br/>(encapsulates)");var s=this.content();if(null!=s&&(i+="<br/>Value:<br/><b>"+s+"</b>","object"==typeof oids&&6==this.tag)){var n=oids[s];n&&(n.d&&(i+="<br/>"+n.d),n.c&&(i+="<br/>"+n.c),n.w&&(i+="<br/>(warning!)"))}e.innerHTML=i,t.appendChild(e);var o=document.createElement("div");if(o.className="sub",null!=this.sub)for(var h=0,a=this.sub.length;a>h;++h)o.appendChild(this.sub[h].toDOM());return t.appendChild(o),r.switchNode=t,r.onclick=function(){var t=this.switchNode;t.className="node collapsed"==t.className?"node":"node collapsed"},t},e.ASN1.prototype.posStart=function(){return this.stream.pos},e.ASN1.prototype.posContent=function(){return this.stream.pos+this.header},e.ASN1.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.ASN1.prototype.toHexDOM_sub=function(t,r,i,e,s){if(!(e>=s)){var n=document.createElement("span");n.className=r,n.appendChild(document.createTextNode(i.hexDump(e,s))),t.appendChild(n)}},e.ASN1.prototype.toHexDOM=function(){var t=document.createElement("span");if(t.className="hex",this.head.hexNode=t,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},this.toHexDOM_sub(t,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(t,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null==this.sub)t.appendChild(document.createTextNode(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var r=this.sub[0],i=this.sub[this.sub.length-1];this.toHexDOM_sub(t,"intro",this.stream,this.posContent(),r.posStart());for(var e=0,s=this.sub.length;s>e;++e)t.appendChild(this.sub[e].toHexDOM());this.toHexDOM_sub(t,"outro",this.stream,i.posEnd(),this.posEnd())}return t},e.ASN1.decodeLength=function(t){var r=t.get(),i=127&r;if(i==r)return i;if(i>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0==i)return-1;r=0;for(var e=0;i>e;++e)r=r<<8|t.get();return r},e.ASN1.hasContent=function(t,r,i){if(32&t)return!0;if(3>t||t>4)return!1;var n=new s(i);3==t&&n.get();var o=n.get();if(1&o>>6)return!1;try{var h=e.ASN1.decodeLength(n);return n.pos-i.pos+h==r}catch(a){return!1}},e.ASN1.decode=function(t){t instanceof s||(t=new s(t,0));var r=new s(t),i=t.get(),n=e.ASN1.decodeLength(t),o=t.pos-r.pos,h=null;if(e.ASN1.hasContent(i,n,t)){var a=t.pos;if(3==i&&t.get(),h=[],n>=0){for(var u=a+n;t.pos<u;)h[h.length]=e.ASN1.decode(t);if(t.pos!=u)throw"Content size is not correct for container starting at offset "+a}else try{for(;;){var p=e.ASN1.decode(t);if(0==p.tag)break;h[h.length]=p}n=a-t.pos}catch(f){throw"Exception while decoding undefined length content: "+f}}else t.pos+=n;return new e.ASN1(r,o,n,i,h)},e.ASN1.test=function(){for(var t=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],r=0,i=t.length;i>r;++r){var n=new s(t[r].value,0),o=e.ASN1.decodeLength(n);o!=t[r].expected&&document.write("In test["+r+"] expected "+t[r].expected+" got "+o+"\n")}});var li,di=0xdeadbeefcafe,mi=15715070==(16777215&di);mi&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=a,li=30):mi&&"Netscape"!=navigator.appName?(n.prototype.am=h,li=26):(n.prototype.am=u,li=28),n.prototype.DB=li,n.prototype.DM=(1<<li)-1,n.prototype.DV=1<<li;var gi=52;n.prototype.FV=Math.pow(2,gi),n.prototype.F1=gi-li,n.prototype.F2=2*li-gi;var vi,yi,bi="0123456789abcdefghijklmnopqrstuvwxyz",Ti=new Array;for(vi="0".charCodeAt(0),yi=0;9>=yi;++yi)Ti[vi++]=yi;for(vi="a".charCodeAt(0),yi=10;36>yi;++yi)Ti[vi++]=yi;for(vi="A".charCodeAt(0),yi=10;36>yi;++yi)Ti[vi++]=yi;R.prototype.convert=_,R.prototype.revert=I,R.prototype.reduce=P,R.prototype.mulTo=U,R.prototype.sqrTo=q,F.prototype.convert=V,F.prototype.revert=k,F.prototype.reduce=H,F.prototype.mulTo=j,F.prototype.sqrTo=Z,n.prototype.copyTo=c,n.prototype.fromInt=l,n.prototype.fromString=m,n.prototype.clamp=g,n.prototype.dlShiftTo=D,n.prototype.drShiftTo=C,n.prototype.lShiftTo=N,n.prototype.rShiftTo=E,n.prototype.subTo=w,n.prototype.multiplyTo=B,n.prototype.squareTo=x,n.prototype.divRemTo=O,n.prototype.invDigit=L,n.prototype.isEven=z,n.prototype.exp=G,n.prototype.toString=v,n.prototype.negate=y,n.prototype.abs=b,n.prototype.compareTo=T,n.prototype.bitLength=A,n.prototype.mod=M,n.prototype.modPowInt=K,n.ZERO=d(0),n.ONE=d(1),qr.prototype.convert=Lr,qr.prototype.revert=Lr,qr.prototype.mulTo=Fr,qr.prototype.sqrTo=Vr,jr.prototype.convert=zr,jr.prototype.revert=Gr,jr.prototype.reduce=Kr,jr.prototype.mulTo=Jr,jr.prototype.sqrTo=Qr;
var Si=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Ai=(1<<26)/Si[Si.length-1];n.prototype.chunkSize=Y,n.prototype.toRadix=tr,n.prototype.fromRadix=rr,n.prototype.fromNumber=ir,n.prototype.bitwiseTo=hr,n.prototype.changeBit=Cr,n.prototype.addTo=Br,n.prototype.dMultiply=Pr,n.prototype.dAddOffset=Ur,n.prototype.multiplyLowerTo=Hr,n.prototype.multiplyUpperTo=Zr,n.prototype.modInt=Yr,n.prototype.millerRabin=ri,n.prototype.clone=Q,n.prototype.intValue=J,n.prototype.byteValue=W,n.prototype.shortValue=X,n.prototype.signum=$,n.prototype.toByteArray=er,n.prototype.equals=sr,n.prototype.min=nr,n.prototype.max=or,n.prototype.and=ur,n.prototype.or=fr,n.prototype.xor=lr,n.prototype.andNot=mr,n.prototype.not=gr,n.prototype.shiftLeft=vr,n.prototype.shiftRight=yr,n.prototype.getLowestSetBit=Tr,n.prototype.bitCount=Ar,n.prototype.testBit=Dr,n.prototype.setBit=Nr,n.prototype.clearBit=Er,n.prototype.flipBit=wr,n.prototype.add=xr,n.prototype.subtract=Or,n.prototype.multiply=Mr,n.prototype.divide=Rr,n.prototype.remainder=_r,n.prototype.divideAndRemainder=Ir,n.prototype.modPow=Wr,n.prototype.modInverse=$r,n.prototype.pow=kr,n.prototype.gcd=Xr,n.prototype.isProbablePrime=ti,ei.prototype.init=si,ei.prototype.next=ni;var Di=256;"undefined"!=typeof e&&"undefined"!=typeof n&&"undefined"!=typeof ii&&"undefined"!=typeof ei&&(e.RSA=function(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null},e.RSA.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var r=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);r.compareTo(i)<0;)r=r.add(this.p);return r.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},e.RSA.prototype.setPublic=function(t,r,i){"undefined"==typeof i&&(i=16),null!=t&&null!=r&&t.length>0&&r.length>0?(this.n=hi(t,i),this.e=parseInt(r,i)):alert("Invalid RSA public key")},e.RSA.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},e.RSA.prototype.encryptRaw=function(t){var r=ui(t,this.n.bitLength()+7>>3);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var e=i.toString(16);return 0==(1&e.length)?e:"0"+e},e.RSA.prototype.encrypt=function(t){return t=pidCryptUtil.encodeBase64(t),this.encryptRaw(t)},e.RSA.prototype.decryptRaw=function(t){var r=hi(t,16),i=this.doPrivate(r);return null==i?null:ai(i,this.n.bitLength()+7>>3)},e.RSA.prototype.decrypt=function(t){var r=this.decryptRaw(t);return r=r?pidCryptUtil.decodeBase64(r):""},e.RSA.prototype.setPrivate=function(t,r,i,e){"undefined"==typeof e&&(e=16),null!=t&&null!=r&&t.length>0&&r.length>0?(this.n=hi(t,e),this.e=parseInt(r,e),this.d=hi(i,e)):alert("Invalid RSA private key")},e.RSA.prototype.setPrivateEx=function(t,r,i,e,s,n,o,h,a){"undefined"==typeof a&&(a=16),null!=t&&null!=r&&t.length>0&&r.length>0?(this.n=hi(t,a),this.e=parseInt(r,a),this.d=hi(i,a),this.p=hi(e,a),this.q=hi(s,a),this.dmp1=hi(n,a),this.dmq1=hi(o,a),this.coeff=hi(h,a)):alert("Invalid RSA private key")},e.RSA.prototype.generate=function(t,r){var i=new ii,e=t>>1;this.e=parseInt(r,16);for(var s=new n(r,16);;){for(;this.p=new n(t-e,1,i),0!=this.p.subtract(n.ONE).gcd(s).compareTo(n.ONE)||!this.p.isProbablePrime(10););for(;this.q=new n(e,1,i),0!=this.q.subtract(n.ONE).gcd(s).compareTo(n.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var h=this.p.subtract(n.ONE),a=this.q.subtract(n.ONE),u=h.multiply(a);if(0==u.gcd(s).compareTo(n.ONE)){this.n=this.p.multiply(this.q),this.d=s.modInverse(u),this.dmp1=this.d.mod(h),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},e.RSA.prototype.getASNData=function(t){var r=[],i=0;if(t.value&&"INTEGER"==t.type&&(r[i++]=t.value),t.sub)for(var e=0;e<t.sub.length;e++)r=r.concat(this.getASNData(t.sub[e]));return r},e.RSA.prototype.setKeyFromASN=function(t,r){var i=["N","E","D","P","Q","DP","DQ","C"],e={},s=this.getASNData(r);switch(t){case"Public":case"public":for(var n=0;n<s.length;n++)e[i[n]]=s[n].toLowerCase();this.setPublic(e.N,e.E,16);break;case"Private":case"private":for(var n=1;n<s.length;n++)e[i[n-1]]=s[n].toLowerCase();this.setPrivateEx(e.N,e.E,e.D,e.P,e.Q,e.DP,e.DQ,e.C,16)}},e.RSA.prototype.setPublicKeyFromASN=function(t){this.setKeyFromASN("public",t)},e.RSA.prototype.setPrivateKeyFromASN=function(t){this.setKeyFromASN("private",t)},e.RSA.prototype.getParameters=function(){var t={};return null!=this.n&&(t.n=this.n),t.e=this.e,null!=this.d&&(t.d=this.d),null!=this.p&&(t.p=this.p),null!=this.q&&(t.q=this.q),null!=this.dmp1&&(t.dmp1=this.dmp1),null!=this.dmq1&&(t.dmq1=this.dmq1),null!=this.coeff&&(t.c=this.coeff),t});var Ci=function(t){return t?(t+="",t.length>60?t:fi(t)):void 0};i.exports=Ci});
;define("common:widget/oui/components/plan-quit-handler",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/rsa/index","common:widget/oui/protocol","common:widget/oui/common"],function(i,t,e){var n=i("common:widget/oui/lib/jquery/1.9.1/jquery"),o=i("common:widget/oui/arale/dialog/1.3.3/dialog"),a=(i("common:widget/oui/rsa/index"),i("common:widget/oui/protocol")),l=i("common:widget/oui/common"),c="系统正在努力为您计算预计回收金额，请您耐心等待",u="系统正在为您挂出债权，请您耐心等待",m=function(i){n.extend(this,{subPointId:i.subPointId,planName:i.planName,finalAmount:i.finalAmount,exitDialog:null,confirmDialog:null,exitTemplate:n("#confirm-plan-exit-template"),confirmTemplate:n("#confirm-plan-exit-execution-template"),canceled:!1,confirmed:!1,quitType:null,_ui:{}})};n.extend(m.prototype,{init:function(){return this},start:function(i,t){var e=this,a=this._ui,c=null;i&&"exit"!=i?(c=l.fillTemplate({template:e.confirmTemplate,data:n.extend(!0,t,e.dataUI("confirm"))}),e.confirmDialog=new o({content:c,hasMask:{hideOnClick:!1}}),e.confirmDialog.after("show",function(){e.loadUI("confirm"),e.setupMobileCodeRefresh(),e.confirmed=!1;var i=this;l.initPoptips(n(".expected-exit-amount-tip")),l.initPoptips(n(".expected-total-amount-tip")),a.confirmCancel.click(function(){e.confirmed||i.hide()}),a.confirmForm.submit(function(){n("#J_error_p_txma");if(a.confirmSubmit.hasClass("ui-button-disabled"))return!1;var i=a.$mobileCodeInput.val();return i?(e.confirmed=!0,a.confirmCancel.addClass("disabled"),a.confirmSubmit.addClass("ui-button-disabled"),e.showLoading(a.confirmDialog,u),!0):(a.$mobileCodeInfo.css("display","block"),!1)})}),e.confirmDialog.after("hide",function(){this.destroy()}),e.confirmDialog.show()):(c=l.fillTemplate({template:e.exitTemplate,data:e.dataUI("exit")}),e.exitDialog=new o({content:c,hasMask:{hideOnClick:!1}}),e.exitDialog.after("show",function(){e.canceled=!1,e.loadUI("exit"),e.initUI("exit"),e.updateQuitType(),e.setupMobileCodeRefresh();var i=this;a.exitCancel.click(function(){i.hide()})}),e.exitDialog.after("hide",function(){e.canceled=!0,this.destroy()}),e.exitDialog.show())},initUI:function(){var i=a.translator.translate(a.API.getUserBankInfo,l.loadJSON("#bank-accounts-rsp",!0).data);l.fillTemplate({container:n("#account-info"),template:n("#account-info-template"),data:i});var t=this,e=this._ui;e.exitQuitType.click(function(){e.exitRRD.toggle(),e.exitRRDHint.toggle(),e.exitBank.toggle(),e.exitBankHint.toggle(),t.updateQuitType()}),e.exitSubmit.click(function(){return e.exitSubmit.hasClass("ui-button-disabled")?!1:(e.exitSubmit.addClass("ui-button-disabled"),t.showLoading(e.exitDialog,c),void a.getExpectedAmountsForPlanExiting({subPointId:t.subPointId},function(i,e,n){t.canceled||(t.exitDialog.hide(),0===i?t.start("confirm",n):l.showMessage(e))}))})},loadUI:function(i){this._elem||(this._elem=function(i){return n(".ui-confirm").find('[data-name="'+i+'"]')});var t=this._ui;"exit"==i?(t.exitRRD=this._elem("to-renrendai"),t.exitRRDHint=this._elem("to-renrendai-hint"),t.exitBank=this._elem("to-bank"),t.exitBankHint=this._elem("to-bank-hint"),t.exitBankAccount=this._elem("bank-account"),t.exitQuitType=this._elem("change-manner"),t.exitDialog=n("#confirm-plan-exit"),t.exitSubmit=n("#submit-plan-exit"),t.exitCancel=n("#cancel-plan-exit"),t.$mobileCodeInput=n("#confirm-plan-exit .mobile-code-input"),t.$mobileCodeBtn=n("#confirm-plan-exit .mobile-code-btn"),t.$mobileCodeInfo=n("#confirm-plan-exit .mobile-code-info")):(t.confirmDialog=n("#confirm-plan-exit-execution"),t.confirmSubmit=n("#submit-plan-exit-execution"),t.confirmCancel=n("#cancel-plan-exit-execution"),t.confirmForm=n("#form-quit"),t.$mobileCodeInput=n("#confirm-plan-exit-execution .mobile-code-input"),t.$mobileCodeBtn=n("#confirm-plan-exit-execution .mobile-code-btn"),t.$mobileCodeInfo=n("#confirm-plan-exit-execution .mobile-code-info"))},setupMobileCodeRefresh:function(){function i(){e--,e>0?(o.text(e+"秒后重新获取"),t=setTimeout(i,1e3)):o.text("获取验证码").removeAttr("disabled").removeClass("ui-button-disabled")}var t,e=0,o=this._ui.$mobileCodeBtn,a=this._ui.$mobileCodeInfo,l=this._ui.$mobileCodeInput;if(o&&!(o.length<1)){var c=this.subPointId;o.click(function(){if(!(e>0)){clearTimeout(t);var a="/sendPhoneCode!trade.action",l={bussinessId:c};n.post(a,l).done(function(){}).fail(function(){}),e=30,o.text(e+"秒后重新获取").attr("disabled","disabled").addClass("ui-button-disabled"),t=setTimeout(i,1e3)}}),l.focus(function(){a.css("display","none")})}},dataUI:function(i){if("exit"==i)return{name:this.planName,amount:this.finalAmount};var t=this._ui,e={name:this.planName,amount:this.finalAmount};return"RRD"==this.quitType?(e.quitType="RRD",e.quitTypeName="提取至账户"):(e.quitType="BANK",e.quitTypeName="提取至银行卡",e.quitBankId=t.exitBankAccount.val(),e.quitBankAccount=t.exitBankAccount.find('[value="'+e.quitBankId+'"]').text()),e},updateQuitType:function(){var i=this._ui;this.quitType=i.exitRRD.is(":visible")?"RRD":"BANK"},showLoading:function(i,t){i.append('<div class="ui-confirm-loading-text"></div>');var e=n(".ui-dialog-content").width(),o=n(".ui-dialog-content").height();n(".ui-confirm-loading-text").css({width:e+"px",height:o+"px"}).append('<p class="hint">'+t+'</p><p class="loading"></p>')}}),e.exports=m});
;define("common:widget/oui/components/list-factory",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(e,t,i){var n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/protocol"),r=e("common:widget/oui/widgets/widgets"),a=function(e){n.extend(this,{container:e.container}),this._ui={switcher:this._elem("details"),box:this._elem("details-box")},this.loanId=this.container.data("loan-id")};n.extend(a.prototype,{init:function(e){var t=this,i=this._ui;return i.switcher.click(function(){i.switcher.hasClass("active")?(i.switcher.removeClass("active"),i.box.hide()):("initialized"!=i.box.data("status")&&t._initDetails(e),i.switcher.addClass("active"),i.box.show())}),this},_initDetails:function(e){var t,i,a;"transferred-out"==e&&(t=o.API.getUserTransferredOutRecords,i=n("#transferred-out-details-template"),a="transferred-out-details-"+this.loanId),"repaying-list"==e&&(t=o.API.getUserTransferredInRecords,i=n("#repaying-list-details-template"),a="repaying-list-details-"+this.loanId),"repaid"==e&&(t=o.API.getUserTransferredLogJsonRecords,i=n("#repaid-list-details-template"),a="repaid-list-details-"+this.loanId),new r.List({template:i,name:a,api:t,title:!0,pagination:!0,params:{loanId:this.loanId}}).init()._update({loanId:this.loanId})},_elem:function(e){return this.container.find('[data-name="'+e+'"]')}});var s=function(){n.extend(this,{})};n.extend(s.prototype,{create:function(e,t){return"transferred-out"==e?new r.List({name:t,api:o.API.getUserTransferredOutLoans,title:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(t,i){new a({container:n(i)}).init(e)})}}):void 0}}),i.exports=new s,i.exports.TransferredOutItem=a});
;define("common:widget/oui/components/investment-terminal",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/dialog/dialog","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/ui/jselect/jselect"],function(t,a,e){var o=t("common:widget/oui/lib/jquery/1.9.1/jquery"),i=t("common:widget/ui/dialog/dialog"),n=t("common:widget/oui/common"),r=t("common:widget/oui/protocol"),s=t("common:widget/oui/widgets/widgets");Handlebars=t("common:widget/oui/lib/handlebars/1.0.0/handlebars");var u=t("common:widget/ui/jselect/jselect"),l=s.Form,c=function(t){o.extend(this,{container:t.container,template:t.template,page:t.page||"loan-invest",unit:t.unit||"amount",qualified:t.qualified,qualifiedMessage:t.qualifiedMessage,authenticated:t.authenticated,amountPerShare:t.amountPerShare||50,fee:t.fee||0,deposit:t.deposit||0,plan:t.plan||{},utmSourceTransfer:t.utmSourceTransfer||!1,max:{amount:t.maxAmount,shares:t.maxShares,account:t.maxAccount},min:{amount:t.minAmount}}),this.ui={input:this.container.find(".ui-term-input"),placeholder:this.container.find(".ui-term-placeholder"),error:this.container.find(".ui-term-error"),hint:this.container.find(".ui-term-hint"),eq:this.container.find(".ui-term-eq"),pseudoForm:this.container.find(".ui-term-form"),submitForm:this.container.find(".ui-term-form-real"),minus:this.container.find(".minus"),plus:this.container.find(".plus"),deposit:this.container.find("#deposit"),fee:this.container.find("#fee"),gainChoices:this.container.find(".ui-term-gain"),bankAccount:this.container.find(".ui-term-bank-account")},this.maxdepositamount=Number(o("#J_thisMaxDepositAmount").attr("data")),this.ui.pseudoForm.find("button").removeAttr("disabled").removeClass("ui-button-gray");var a=this;o.each(this.max,function(t,e){e instanceof o&&e.length>0&&(a.max[t]=parseFloat(e.data(t),10))});var e="amount"==this.unit?this.max.amount+"元":this.max.shares+"份",i=this.min.amount+"元",n=r.translator;this.errors={NONE:"",EXCEEDED_MAX:"您最多只能购买"+e,EXCEEDED_MIN:"您最少购买"+i,OVER_BALANCE:"账户余额不足",NOT_INT:"请输入整数"+("amount"==this.unit?"金额":"份额"),NOT_INT_SHARE:"输入金额需为"+n._commaInteger(this.amountPerShare)+"元的整数倍",NO_INPUT:"请输入有效"+("amount"==this.unit?"金额":"份额")}};o.extend(c.prototype,{init:function(t,a){var e=this,i=this.ui;"disabled"==i.input.attr("disabled")?this.inputUpdated():this.initInput(t),this.initPseudoForm(a),this.initGainChoices(),i.placeholder.click(function(){i.input.focus()}),i.minus.click(function(){{var t=Number(i.input.val());Number(o("#max-amount").attr("data-amount"))}if(!(1e3>=t)){t-=1e3;var a=e.check(t);a===e.errors.NONE&&(e.toggleErrorMessage(null),i.input.removeClass("invalid"),i.pseudoForm.find('button[type="submit"]').removeClass("disabled")),i.input.val(t);var n=parseInt(t/1e3,10);i.eq.text(n+"份")}}),i.plus.click(function(){var t=Number(i.input.val()),a=Number(o("#max-amount").attr("data-amount"));if(!(t>=a)){t+=1e3,e.check(t);var n=e.check(t);n===e.errors.NONE&&(e.toggleErrorMessage(null),i.input.removeClass("invalid"),i.pseudoForm.find('button[type="submit"]').removeClass("disabled")),i.input.val(t);var r=parseInt(t/1e3,10);i.eq.text(r+"份")}})},initInput:function(t){var a=this,e=this.ui;e.input.focusin(function(){e.placeholder.is(":visible")&&e.placeholder.hide()}).focusout(function(){""===e.input.val()&&e.placeholder.show()}).keyup(function(){a.inputUpdated()}),t?(e.input.focusin(),e.input.val(t[a.unit]),e.input.keyup()):(e.input.val(""),e.eq.text(""),"cf"==o("#loan-type").val()&&e.input.val(1e3))},inputUpdated:function(){var t=this,a=this.ui,e=a.input.val(),i=a.pseudoForm.find('button[type="submit"]');if(e.length>10&&(e=e.substring(0,10)),e=parseInt(e,10),isNaN(e))return a.input.removeClass("invalid"),i.removeClass("disabled"),a.input.val(""),a.eq.text(""),t.toggleErrorMessage(null),void("autoinvest-join"==t.page&&o(".J_totalMyInvest").text("0"));a.input.val(e);var n=t.check(e);if(n===t.errors.NONE){if(t.toggleErrorMessage(null),a.input.removeClass("invalid"),""!==e){var r;"amount"==t.unit?(r=parseInt(e/t.amountPerShare,10),a.eq.text(r+"份")):(r=Math.round(e*t.amountPerShare*100)/100,a.eq.text(r+"元")),i.removeClass("disabled")}else i.addClass("disabled"),a.eq.text("");i.hasClass("HASJOINED")&&i.addClass("disabled")}else t.toggleErrorMessage(n),i.addClass("disabled"),a.input.addClass("invalid"),a.eq.text("");if(n!==t.errors.NONE&&n!==t.errors.OVER_BALANCE||""===e)a.deposit.text("0"),a.fee.text("0");else{var s=parseInt(t.deposit*e,10);s=s>=this.maxdepositamount?this.maxdepositamount:s;var u=Number(o("#J_thisMaxDepositAmount").attr("data")),l=Number(o("#J_maxDepositAmount").attr("data"));a.deposit.text(s>u?u:s>l?l:s),a.fee.text(parseInt(t.fee*e,10))}},initPseudoForm:function(t){function a(t,a){function i(i){o(document).click(function(t){var a=t.target;o(a).parent("span").hasClass("arrow")||o(a).parent("div").hasClass("J_select_btn")||o(".J_popBox").css("display","none")}),o(".J_select_btn").click(function(t){o(".J_popBox").css("display","none");var a=o(t.currentTarget).parent().find("ul");"block"==a.css("display")?a.css("display","none"):a.css("display","block")}),o(".J_popBox").on("mouseover","li",function(t){o(t.currentTarget).attr("class","selected")}),o(".J_popBox").on("mouseleave","li",function(t){o(t.currentTarget).attr("class","")}),o(".J_popBox").on("click","li",function(t){var a=o(t.currentTarget).attr("datavalue"),n=o(t.currentTarget).find("span").text(),s=o(t.currentTarget).attr("couponType"),u=o(t.currentTarget).parent().parent(),l=parseFloat(i.unRepayAmountNotComma)-parseFloat(o(t.currentTarget).attr("couponvalue"));0>l&&(l=0),o(".J_red_packet_tips").addClass("fn-hide"),u.find(".J_txt").text(n),c.id=a,c.payable=l,o("#getUseCouponId").attr("couponType",s),o("#chooseCoupon").prop("checked")?(o("#getUseCouponId").attr("value",a),o(".J_payable").attr("data-payable",c.payable).html(r.translator._commaFloat(c.payable)),"DISCOUNT"==s&&(o("span",".J_red_packet_tips").text(o(t.currentTarget).attr("couponvalue")),o(".J_red_packet_tips").removeClass("fn-hide"))):"DISCOUNT"==s&&o("span",".J_red_packet_tips").text(o(t.currentTarget).attr("couponvalue")),e.checkYuE()}),o(".J_use_psw").on("click",function(){o(".J_use_psw_wrap").toggle(),o("input",".J_use_psw_wrap").focus()}),o(".J_use_coupon").on("click",function(){var e=o.trim(o(".ui-input",".J_use_psw_wrap").val());return""===e?(o(".J_use_coupon_tips").text("优惠券密码不能为空!").show(),void o(".J_use_coupon_tips").delay(3e3).slideUp(function(){o(this).html("")})):void o.ajax({url:"/bindUserCoupon.action?couponCode="+e+"&payAmount="+t+"&businessCategory="+a,success:function(a){if(o(".J_use_coupon_tips").text(a.message).show().delay(3e3).slideUp(function(){o(this).html("")}),0===a.status){o(".J_coupon_wrap").removeClass("no-coupon-list"),o(".J_txt",".ui-selectdrop").text(a.data.name);var e=parseFloat(i.unRepayAmountNotComma)-a.data.couponValue;0>e&&(e=0),o(".J_popBox",".ui-selectdrop").prepend('<li class="" datavalue="'+a.data.couponId+'" unrepayamout="'+t+'" couponvalue="'+a.data.couponValue+'" couponType="'+a.data.couponTypeEng+'" ><span>'+a.data.name+"</span></li>"),o(".J_use_psw_wrap").slideUp(),o("input",".J_use_psw_wrap").val(""),c.id=a.data.couponId,c.payable=e,o(".ui-select",".J_addCoupon").show(),o(".ui-selectdrop",".J_addCoupon").show(),o("#chooseCoupon").prop("checked")&&(o("#getUseCouponId").val(a.data.couponId),o(".J_payable").attr("data-payable",c.payable).html(r.translator._commaFloat(c.payable))),"DISCOUNT"==a.data.couponTypeEng?(o("span",".J_red_packet_tips").text(a.data.couponValue),o(".J_red_packet_tips").removeClass("fn-hide")):o(".J_red_packet_tips").addClass("fn-hide")}}})}),o("#chooseCoupon").on("click",function(){o(this).prop("checked")?(o("#getUseCouponId").val(c.id),o(".J_payable").attr("data-payable",c.payable).html(r.translator._commaFloat(c.payable)),"DISCOUNT"==o("#getUseCouponId").attr("coupontype")&&o(".J_red_packet_tips").removeClass("fn-hide")):(o(".J_red_packet_tips").addClass("fn-hide"),o("#getUseCouponId").val(""),o(".J_payable").attr("data-payable",t).html(r.translator._commaFloat(t))),e.checkYuE()})}o.ajax({url:"/getUsableCoupon.action?payAmount="+t+"&businessCategory="+a+"&t="+(new Date).getTime(),success:function(a){var e=a.data;a.data.couponList&&a.data.couponList[0]&&(e.initCouponValue=a.data.couponList[0]),e.unRepayAmountNotComma=t;var n=Handlebars.compile(o("#confirm-plan-join-coupon-template").html());o(".J_coupon_wrap").html(n(e)),l.ui.init(),1===a.status?(o(".J_coupon_wrap").addClass("no-coupon-list"),o(".ui-select",".J_addCoupon").hide(),o(".ui-selectdrop",".J_addCoupon").hide()):e.initCouponValue?(o(".J_coupon_wrap").removeClass("no-coupon-list"),c={id:e.initCouponValue.couponId,payable:parseFloat(e.unRepayAmountNotComma)-parseFloat(e.initCouponValue.couponValue)},c.payable<0&&(c.payable=0),o(".J_payable").attr("data-payable",c.payable).html(r.translator._commaFloat(c.payable)),"DISCOUNT"==e.initCouponValue.couponTypeEng&&o(".J_red_packet_tips").removeClass("fn-hide")):(o(".J_coupon_wrap").addClass("no-coupon-list"),o(".ui-select",".J_addCoupon").hide(),o(".ui-selectdrop",".J_addCoupon").hide()),i(e)}})}var e=this,s=this.ui,c={};s.pseudoForm.submit(function(){if(s.pseudoForm.find('button[type="submit"]').hasClass("disabled"))return!1;if(!s.input.val()||0===parseInt(s.input.val(),10))return s.hint.hide(),s.error.text(e.errors.NO_INPUT).show(),!1;if(e.check(s.input.val())==e.errors.NONE)if(e.authenticated)if(e.qualified){var t=n.fillTemplate({template:e.template,data:e.getData()});if("U-Plan"==o("#invest-type").val()){var r=o("#financePlanCategory").val(),c="UPLAN_"+r,p=e.getData().amountAndFee;a(p,c)}else if("loan"==o("#invest-type").val()){var c="LOAN",p=e.getData().amount;a(p,c)}else if("transfer"==o("#invest-type").val()){var c="TRANSFER",p=e.getData().amount;a(p,c)}else if("AUTOINVEST"==o("#invest-type").val()){var c="AUTO_INVEST_PLAN",p=e.getData().amount;if(0!=o("#hasSameDate").val())return o(".autoinvest-tip_div").show(),i.modalDialog({content:o(".autoinvest-tip_div"),cssClass:"exchange-dialog",maskConfig:{cssClass:"exchange-mask"},title:"提示"}).after("show",function(){var n=this;o("#gooninvest").on("click",function(){n.hide(),a(p,c),i.modalDialog({content:t,cssClass:"exchange-dialog",maskConfig:{cssClass:"exchange-mask"}}).after("show",function(){var t=this;o(".ui-confirm-cancel-link").click(function(){t.hide()}),e.renderConfirmation(),o("#reserveForm").length&&(o("#closeRsvDialog").click(function(){o(".ui-dialog-close").trigger("click")}),l.validate({target:"#reserveForm"}))}).after("hide",function(){this.destroy(),location.reload()}).show()})}).after("hide",function(){o(".autoinvest-tip_div").hide()}).show(),!1;a(p,c)}var d;i.modalDialog({content:t,cssClass:"exchange-dialog",maskConfig:{cssClass:"exchange-mask"}}).after("show",function(){var t=o(".j-select");t.length>0&&(d=u.make(t),d.on("change",function(t){o("#cash-type-str-input").val(t.value)}));var a=this;o(".ui-confirm-cancel-link").click(function(){a.hide()}),e.renderConfirmation(),o("#reserveForm").length&&(o("#closeRsvDialog").click(function(){o(".ui-dialog-close").trigger("click")}),l.validate({target:"#reserveForm"}))}).after("hide",function(){this.destroy(),d&&(d.destroy(),d=null),location.reload()}).show()}else n.showMessage({error:!0,message:e.qualifiedMessage});else window.location.replace("/loginPage.action");return!1}),t&&e.authenticated&&e.qualified&&s.pseudoForm.submit()},initGainChoices:function(){var t=this.ui;t.gainChoices.children(".ui-term-radio").click(function(){var a=o(this).children("input");a.prop("checked")||a.prop("checked",!0),"BANK"==a.val()&&a.prop("checked")?t.bankAccount.show():t.bankAccount.hide()})},renderConfirmation:function(){var t=this,a=parseFloat(o('[data-name="shares"]').text(),10);"number"==typeof a&&o('[data-type="multishares"]').each(function(){var e=o(this),i=parseFloat(e.text(),10);"number"==typeof i&&(i*=a,i=r.translator._fixedFloat2(i)),t.utmSourceTransfer&&(i=r.translator._fixedFloat2(20*i)),e.text(i)}),o("#captcha").length>0&&new s.Captcha({name:"captcha"}).init();var e=o('[data-name="expacted-rate"]');if(e.length>0){var i=e.data("value").toString();e.text(i.replace(/%/g,"").replace("-"," - "))}o(".ui-confirm-form").submit(function(){var t=o('input[name="agree-contract"]'),a=o("#captcha-input"),e=o(".ui-confirm-hint");if(t.length>0){var i=t.prop("checked");if(!i)return e.text("投标前请阅读并同意协议"),e.show(),!1;e.hide()}if(a.length>0){if(!a.val())return e.text("请填写验证码"),e.show(),!1;e.hide()}var n=parseInt(100*o("#max-account").attr("data-account"),10),r=parseInt(100*o(".J_payable").attr("data-payable"),10);return 0>n-r?(o(".ui-confirm-yue").html("您的余额不足  <a href='/account/capital!recharge.action'>充值</a>").show(),!1):(o(this).find(":submit").attr("disabled","disabled"),!0)})},check:function(t){var a=parseFloat(o("#deposit-rate").data("deposit-rate"),10)/100,e=parseInt(t,10);if(""===t)return this.errors.NONE;if(t!=e.toString())return this.errors.NOT_INT;e="amount"==this.unit?e:e*this.amountPerShare;var i=e*a,n=Number(o("#J_thisMaxDepositAmount").attr("data")),s=Number(o("#J_maxDepositAmount").attr("data")),u=0;u=i>n?n:i>s?s:i;var l=this.fee*e;if("autoinvest-join"==this.page&&o(".J_totalMyInvest").text("0"),e>=this.max.amount){if("cf"==o("#loan-type").val()&&(this.ui.plus.addClass("cal-grey").attr("disabled","disabled"),this.ui.minus.removeAttr("disabled").removeClass("cal-grey")),e==this.max.amount){if("autoinvest-join"==this.page){var c=parseInt(o("#lockPeriod").attr("data-lockPeriod"));o(".J_totalMyInvest").text(r.translator._commaFloat(e*c))}return this.errors.NONE}return this.errors.EXCEEDED_MAX}if("true"==this.ui.pseudoForm.attr("data-book")&&u>this.max.account)return this.errors.OVER_BALANCE;if(e+l>this.max.account&&"rsv"!=this.ui.pseudoForm.attr("data")&&"true"!=this.ui.pseudoForm.attr("data-book"))return this.errors.OVER_BALANCE;if(e<this.min.amount&&"autoinvest-join"==this.page)return this.errors.EXCEEDED_MIN;if(e<=this.amountPerShare&&"cf"==o("#loan-type").val())return this.ui.minus.addClass("cal-grey").attr("disabled","disabled"),this.ui.plus.removeAttr("disabled").removeClass("cal-grey"),e==this.amountPerShare?this.errors.NONE:this.errors.NOT_INT_SHARE;if("amount"==this.unit&&e%this.amountPerShare!==0)return this.errors.NOT_INT_SHARE;if(e<this.max.amount&&e>this.amountPerShare&&"cf"==o("#loan-type").val())return this.ui.minus.removeAttr("disabled").removeClass("cal-grey"),this.ui.plus.removeAttr("disabled").removeClass("cal-grey"),this.errors.NONE;if("autoinvest-join"==this.page){var c=parseInt(o("#lockPeriod").attr("data-lockPeriod"));o(".J_totalMyInvest").text(r.translator._commaFloat(e*c))}return this.errors.NONE},getData:function(){var t=this.ui,a=t.input.val();if("loan-invest"==this.page)return{formatAmount:r.translator._commaFloat(a),amount:a,shares:a/this.amountPerShare};if("loan-transfer"==this.page)return{amount:Math.round(100*a*this.amountPerShare,10)/100,shares:a,formatAmount:r.translator._commaFloat(Math.round(100*a*this.amountPerShare,10)/100),utmSourceTransfer:this.utmSourceTransfer};if("plan-join"==this.page){var e,i,n=[{value:"INVEST",text:"收益再投资"},{value:"RRD",text:"提取至主账户"}],s=!1,u="",l="";e=t.gainChoices.find("input:checked"),i=e.parent().children(".ui-term-radio-text").text();var c=parseInt(this.ui.input.val(),10),p=parseFloat(o("#fee-rate").data("fee-rate"),10)/100,d=parseFloat(o("#deposit-rate").data("deposit-rate"),10)/100,m=c*d>=this.maxdepositamount?this.maxdepositamount:c*d;if("BANK"==e.val()){var h=t.bankAccount.find("option:selected");s=!0,u=h.text(),l=h.val()}var f=""!==o("#append-action").text(),v=o("#append-action").text(),g=o("#surplus-amount-helper"),_=0,b=0,y=0,C=0;g.length&&(_=parseFloat(Number(g.data("overplusamount"))),b=parseFloat(Number(g.data("buyinrate"))),y=parseFloat(Number(g.data("alreadydepositamount"))),C=(_+c)*b*.01+_+c-y-m);var x=Number(o("#J_thisMaxDepositAmount").attr("data")),N=Number(o("#J_maxDepositAmount").attr("data"));return m>x?m=x:m>N&&(m=N),{amount:a,shares:a/this.amountPerShare,deposit:m,fee:p*a,amountAndFee:parseInt(a,10)+p*a,append:v,isAppend:f,gain:n[0].value,gainText:n[0].text,cashTypeList:n,intoBank:s,restAmount:C,bankText:u,bankVal:l,formatAmountAndFee:r.translator._commaFloat(parseInt(a,10)+p*a)}}if("autoinvest-join"==this.page){var k=parseInt(o("#lockPeriod").attr("data-lockPeriod"));return{amount:a,formatAmount:r.translator._commaFloat(a),totalJoinAmount:r.translator._commaFloat(a*k)}}return{}},toggleErrorMessage:function(t){t?(this.ui.hint.hide(),this.ui.error.text(t).show()):(this.ui.error.hide().empty(),this.ui.hint.show())},checkYuE:function(){var t=parseInt(100*o("#max-account").attr("data-account"),10),a=parseInt(100*o(".J_payable").attr("data-payable"),10);0>t-a?o(".ui-confirm-yue").html("您的余额不足  <a href='/account/capital!recharge.action'>充值</a>").show():o(".ui-confirm-yue").html("").hide()}}),e.exports=c});
;define("common:widget/oui/components/transfer-confirmation",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(e,t,i){var a=e("common:widget/oui/lib/jquery/1.9.1/jquery"),s=(e("common:widget/oui/rsa/index"),e("common:widget/oui/protocol")),n=(e("common:widget/oui/widgets/widgets"),{}),r=function(e){a.extend(this,{container:e.container}),this._ui={hint:this._elem("cfm-hint"),hint2:this.container.find(".ui-confirm-hint"),form:this._elem("cfm-form"),submit:this._elem("cfm-submit"),inputAgree:this._elem("cfm-agreement"),inputShares:this._elem("cfm-shares-to-transfer"),selectDiscount:this._elem("cfm-discount"),availableShares:this._elem("cfm-available-shares"),valuePerShare:this._elem("cfm-value-per-share"),pricePerShare:this._elem("cfm-price-per-share"),price:this._elem("cfm-price-in-total"),fee:this._elem("cfm-fee"),summary:this._elem("cfm-income-summary")},this.fee=parseFloat(this._ui.fee.data("value"),10),this.availableShares=parseInt(this._ui.availableShares.text(),10),this.valuePerShare=parseFloat(this._ui.valuePerShare.text(),10)};a.extend(r.prototype,{init:function(){var e=this,t=this._ui;return e.update(),t.inputShares.keyup(function(){e.hint(e.check()),e.update()}),t.selectDiscount.change(function(){e.update()}),t.inputAgree.change(function(){e.update()}),t.form.submit(function(){var e=a("#J_zrff").val(),i=/^[0-9]*$/;return i.test(e)?t.submit.hasClass("disabled")?!1:!0:(a("#J_error_hint").html("请输入正确的转让份数"),a("#J_error_hint").css("display","inline-block"),a("#J_zrff").focus(),!1)}),this},hint:function(e){e?this._ui.hint.text(e).show():this._ui.hint.text("").hide()},check:function(){var e=this._ui.inputShares,t=e.val();return t=parseInt(t,10),isNaN(t)?void e.val(""):(e.val(t),t>this.availableShares?"转让份数不能多于"+this.availableShares+"份":void 0)},update:function(){var e=this._ui,t=s.translator,i=parseInt(e.inputShares.val(),10),a=parseFloat(e.selectDiscount.val(),10),n=e.inputAgree.prop("checked"),r=parseFloat(e.pricePerShare.data("interest"),10),o=parseFloat(e.pricePerShare.data("principal"),10);!isNaN(i)&&i<=this.availableShares?e.submit.removeClass("disabled"):(e.submit.addClass("disabled"),i=0),n?(e.hint2.text(""),e.hint2.hide()):(e.hint2.text("转让前请阅读并同意协议"),e.hint2.show(),e.submit.addClass("disabled"));var u=r-parseFloat(t._fixedFloat2(o*(1-a)),10),h=u*i,c=h*this.fee;e.pricePerShare.text(t._fixedFloat2(u)),e.price.text(t._fixedFloat2(h)),e.fee.text(t._fixedFloat2(c)),e.summary.text(t._fixedFloat2(h-c))},_elem:function(e){return this.container.find('[data-name="'+e+'"]')}});var o=function(e){a.extend(this,{container:e.container}),this._ui={form:this._elem("cfm-form"),submit:this._elem("cfm-submit"),inputAgree:this._elem("cfm-agreement"),selectDiscount:this._elem("cfm-discount"),value:this._elem("cfm-value-in-total"),price:this._elem("cfm-price-in-total"),fee:this._elem("cfm-fee"),summary:this._elem("cfm-income-summary"),hint2:this.container.find(".ui-confirm-hint")},this.fee=parseFloat(this._ui.fee.data("value"),10),this.value=parseFloat(this._ui.value.text(),10)};a.extend(o.prototype,{init:function(){var e=this,t=this._ui;return e.update(),t.selectDiscount.change(function(){e.update()}),t.inputAgree.change(function(){e.update()}),t.form.submit(function(){return t.submit.hasClass("disabled")?!1:!0}),this},update:function(){var e=this._ui,t=s.translator,i=parseFloat(e.selectDiscount.val(),10),a=e.inputAgree.prop("checked");a?(e.hint2.text(""),e.hint2.hide(),e.submit.removeClass("disabled")):(e.hint2.text("转让前请阅读并同意协议"),e.hint2.show(),e.submit.addClass("disabled"));var n=i*this.value,r=n*this.fee;e.fee.text(t._fixedFloat2(r)),e.price.text(t._fixedFloat2(n)),e.summary.text(t._fixedFloat2(n-r))},_elem:function(e){return this.container.find('[data-name="'+e+'"]')}}),n.Confirm=r,n.ConfirmBatch=o,i.exports=n,a("body").delegate("#captcha-input","keydown",function(){var e=a("#captcha-input").val();a.trim(e).length>0&&a(".J_error_msg_p").css("display","none")})});
;define("common:widget/oui/components/components",["require","exports","module","common:widget/oui/components/calculator","common:widget/oui/components/latest-financial-plan","common:widget/oui/components/plan-performance","common:widget/oui/components/plan-quit-handler","common:widget/oui/components/list-factory","common:widget/oui/components/investment-terminal","common:widget/oui/components/transfer-confirmation"],function(o,n,t){var e={};e.Calculator=o("common:widget/oui/components/calculator"),e.LatestPlan=o("common:widget/oui/components/latest-financial-plan"),e.PlanPerformance=o("common:widget/oui/components/plan-performance"),e.PlanQuitHandler=o("common:widget/oui/components/plan-quit-handler"),e.ListFactory=o("common:widget/oui/components/list-factory"),e.InvestmentTerminal=o("common:widget/oui/components/investment-terminal"),e.TransferConfirmation=o("common:widget/oui/components/transfer-confirmation"),t.exports=e});
;define("common:widget/oui/components/footer",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(e,o,i){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/arale/dialog/1.3.3/dialog"),r=function(){};t.extend(r.prototype,{init:function(){t(".we-chat").length&&t("#weixin-content").length&&new n({trigger:".we-chat",width:"350px",content:t("#weixin-content")})}}),i.exports=r});
;define("common:widget/oui/components/header",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol"],function(t,e,a){function o(){var t=null;clearInterval(t);var e=0,a=0;t=setInterval(function(){a=document.documentElement.scrollTop||document.body.scrollTop,e=Math.floor((0-a)/8),0==a?clearInterval(t):document.documentElement.scrollTop=document.body.scrollTop=a+e},10)}var n=t("common:widget/oui/lib/jquery/1.9.1/jquery"),i=t("common:widget/oui/protocol"),r=function(){},c=function(t,e,a){return"success"!=a.retResult||"-1"==t?void n(".ui-nav-dropdown-account").html('<div class="loadfail color-dark-text">抱歉,系统忙,信息加载失败。</div>'):(n(".loadfail",".ui-nav-dropdown-account").addClass("fn-hide"),n(".ui-nav-dropdown-account-box").removeClass("fn-hide"),n("#he-avaliableBalance").text(a.avaliableBalance),n.trim(a.userAvatar)?(n("#he-userAvatar").attr("src",a.userAvatar),n(".he-userAvatar-class").attr("src",a.userAvatar)):(n("#he-userAvatar").attr("src","/static/img/account/default-avatar-78.png"),n(".he-userAvatar-class").attr("src","/static/img/account/default-avatar-78.png")),"true"==a.bindMobile&&"true"==a.setIdentity&&"true"==a.setCashPass&&"true"==a.bindEmail?(n(".user-info-container dd").eq(0).show(),n(".user-info-container dd").eq(1).show(),void n(".ui-nav-dropdown-bottom").eq(0).show()):("true"==a.bindMobile?n(".cellphone",".icon-box").addClass("light").attr("title","绑定手机，已绑定"):n(".cellphone",".icon-box").attr("title","绑定手机，未绑定"),"true"==a.setIdentity?n(".man",".icon-box").addClass("light").attr("title","实名认证，已设置"):n(".man",".icon-box").attr("title","实名认证，未设置"),"true"==a.setCashPass?n(".lock",".icon-box").addClass("light").attr("title","交易密码，已设置"):n(".lock",".icon-box").attr("title","交易密码，未设置"),"true"==a.bindEmail?n(".mail",".icon-box").addClass("light").attr("title","绑定邮箱，已绑定"):n(".mail",".icon-box").attr("title","绑定邮箱，未绑定"),n(".user-info-container dd").eq(2).show(),n(".user-info-container dd").eq(3).show(),void n(".ui-nav-dropdown-bottom").eq(1).show()))},l=function(){var t=n("#header-msgcount"),e=n("#header-newtask");i.getUnreadMsgCount(null,function(e,a,o){var n=o.count;n>=100?(t.attr("class","icon icon-msg mr5"),t.show()):n>0&&100>n&&(t.text(n),t.show())}),i.getUnreadNewTask(null,function(t,a,o){var i=o.count;i>0&&(e.attr("class","icon-task-new mr5"),n("#header-task").show())}),n("#header-task").click(function(){n.get("/html/blank/blank.html?tag=380015",function(){})})},s=function(){"https:"==document.location.protocol.toLowerCase()?i.getHomePageUserInfoHttps({timeout:5e3},c):i.getHomePageUserInfoHttp({timeout:5e3},c)},d=function(){n("#header .ui-nav-item-x").hover(function(){n(this).children(".ui-nav-dropdown").show()},function(){n(this).children(".ui-nav-dropdown").hide()})},u=function(t){n.get("../html/blank/blank.html?tag="+t,function(){})},h=function(t){var e,a=t.currentTarget,o=n(a).closest("li").index();switch(o){case 0:e="000007",u(e);break;case 1:e="000008",u(e);break;case 2:e="000009",u(e);break;case 3:e="000010",u(e);break;case 4:e="000011",u(e)}return!0},m=function(t){var e=t.currentTarget,a=n(e).attr("href");switch(a){case"/event/app.action":tag="000012",u(tag);break;case"/regPage.action?registerSource=web_top":tag="000013",u(tag);break;case"/loginPage.action":tag="000014",u(tag);break;case"/account/index.action":tag="000015",u(tag);break;case"/account/capital!recharge.action":tag="000016",u(tag);break;case"/account/capital!withdraw.action":tag="000017",u(tag);break;case"/help/index.action":tag="000018",u(tag);break;case"http://bbs.renrendai.com":tag="000019",u(tag)}},p=function(){n(".ui-header-main .ui-nav-item-link").on("click",h),n(".ui-header-top .ui-nav-item,.user-info-container .ui-button-mid").on("click",m)};n.extend(r.prototype,{init:function(){var t="true"==n.trim(n("#header-helper-authenticated").text());t&&(l(),s()),d(),p()}});var g=null;n(".fixed-download").hover(function(){n(this).addClass("hover"),clearTimeout(g),n(".download-app-wrap").show(),n(".download-app-wrap-opacity").show()},function(){g=setTimeout(function(){n(".download-app-wrap").hide(),n(".download-app-wrap-opacity").hide(),n(".fixed-download").removeClass("hover")},100)}),window.onscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>=100?n(".fixed-goTop").show():n(".fixed-goTop").hide()},n(".fixed-goTop").click(function(){o(n(this)[0])}),a.exports=r});
;define("common:widget/oui/components/sidebar",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(i,e,t){var n=i("common:widget/oui/lib/jquery/1.9.1/jquery"),s=function(i){n.extend(this,{name:i.name,container:n("#sidebar")}),this._ui={dropdownTriggers:this._elem(".ui-side-item-link"),subLists:this._elem(".ui-side-sub-list")}};n.extend(s.prototype,{init:function(){var i=this._ui;return i.dropdownTriggers.click(function(){n.each(i.subLists,function(i,e){var t=n(e);t.parent().hasClass("active")||t.is(":visible")||t.hide()}),n(this).parent().hasClass("active")||n(this).next().toggle()}),this},_elem:function(i){return this.container.find(i)}}),t.exports=s});
;define("common:widget/oui/config",function(){var a="20140414",e="20150407";e=""===e?a:e,seajs.config({alias:{asyncSlider:"lib/asyncSlider/1.0.0/asyncSlider.js",city:"lib/city/1.0.0/city.js","new-city":"lib/city/1.0.1/new-city.js",counter:"lib/counter/0.0.1/jquery.counter.js",easing:"lib/easing/1.3.0/easing.js",flash:"lib/flash/1.0.1/jquery.flash.js",handlebars:"lib/handlebars/1.0.0/handlebars.js",highcharts:"lib/highcharts/3.0.5/highcharts.js",jquery:"lib/jquery/1.9.1/jquery.js",queue:"lib/plupload/1.5.7/jquery.plupload.queue",simplePagination:"lib/simplePagination/1.5.0/simplePagination.js",validate:"lib/validation/1.11.1/jquery.validate.js",mailSuggest:"lib/mailSuggest/0.0.1/mailSuggest.js",rsa:"rsa/index.js",base:"arale/base/1.1.1/base.js","class":"arale/class/1.1.0/class.js",events:"arale/events/1.1.0/events",widget:"arale/widget/1.1.1/widget.js",popup:"arale/popup/1.1.2/popup.js",tip:"arale/tip/1.1.4/tip.js",overlay:"arale/overlay/1.1.2/overlay.js",mask:"arale/overlay/1.1.2/mask.js","iframe-shim":"arale/shim/1.0.2/iframe-shim.js",position:"arale/position/1.0.1/position.js",dialog:"arale/dialog/1.3.3/dialog.js",confirmbox:"arale/dialog/1.3.3/confirmbox.js",templatable:"arale/templatable/0.9.1/templatable.js",calendar:"arale/calendar/0.9.0/calendar.js",moment:"arale/moment/2.1.0/moment.js",sticky:"arale/sticky/1.2.1/sticky.js","ui-counter":"lib/counter/0.0.1/jquery.counter-analog.css","ui-poptip":"alice/poptip/1.1.1/poptip.css"},map:[[/^(.*(widgets|components|pages|common|page|rsa|protocol).*\.js)(.*)$/i,"$1?v="+e]]})});
;define("lib/easing/1.3.0/easing",["require","common:widget/oui/lib/jquery/1.9.1/jquery"],function(n){var e=n("common:widget/oui/lib/jquery/1.9.1/jquery");e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(n,t,u,a,r){return e.easing[e.easing.def](n,t,u,a,r)},easeInQuad:function(n,e,t,u,a){return u*(e/=a)*e+t},easeOutQuad:function(n,e,t,u,a){return-u*(e/=a)*(e-2)+t},easeInOutQuad:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e+t:-u/2*(--e*(e-2)-1)+t},easeInCubic:function(n,e,t,u,a){return u*(e/=a)*e*e+t},easeOutCubic:function(n,e,t,u,a){return u*((e=e/a-1)*e*e+1)+t},easeInOutCubic:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e+t:u/2*((e-=2)*e*e+2)+t},easeInQuart:function(n,e,t,u,a){return u*(e/=a)*e*e*e+t},easeOutQuart:function(n,e,t,u,a){return-u*((e=e/a-1)*e*e*e-1)+t},easeInOutQuart:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e+t:-u/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(n,e,t,u,a){return u*(e/=a)*e*e*e*e+t},easeOutQuint:function(n,e,t,u,a){return u*((e=e/a-1)*e*e*e*e+1)+t},easeInOutQuint:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e*e+t:u/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(n,e,t,u,a){return-u*Math.cos(e/a*(Math.PI/2))+u+t},easeOutSine:function(n,e,t,u,a){return u*Math.sin(e/a*(Math.PI/2))+t},easeInOutSine:function(n,e,t,u,a){return-u/2*(Math.cos(Math.PI*e/a)-1)+t},easeInExpo:function(n,e,t,u,a){return 0==e?t:u*Math.pow(2,10*(e/a-1))+t},easeOutExpo:function(n,e,t,u,a){return e==a?t+u:u*(-Math.pow(2,-10*e/a)+1)+t},easeInOutExpo:function(n,e,t,u,a){return 0==e?t:e==a?t+u:(e/=a/2)<1?u/2*Math.pow(2,10*(e-1))+t:u/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(n,e,t,u,a){return-u*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOutCirc:function(n,e,t,u,a){return u*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOutCirc:function(n,e,t,u,a){return(e/=a/2)<1?-u/2*(Math.sqrt(1-e*e)-1)+t:u/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return-(s*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-r)*Math.PI/i))+t},easeOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return s*Math.pow(2,-10*e)*Math.sin(2*(e*a-r)*Math.PI/i)+u+t},easeInOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(2==(e/=a/2))return t+u;if(i||(i=.3*a*1.5),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return 1>e?-.5*s*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-r)*Math.PI/i)+t:s*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*a-r)*Math.PI/i)*.5+u+t},easeInBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*(e/=a)*e*((r+1)*e-r)+t},easeOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*((e=e/a-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),(e/=a/2)<1?u/2*e*e*(((r*=1.525)+1)*e-r)+t:u/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+t},easeInBounce:function(n,t,u,a,r){return a-e.easing.easeOutBounce(n,r-t,0,a,r)+u},easeOutBounce:function(n,e,t,u,a){return(e/=a)<1/2.75?7.5625*u*e*e+t:2/2.75>e?u*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?u*(7.5625*(e-=2.25/2.75)*e+.9375)+t:u*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(n,t,u,a,r){return r/2>t?.5*e.easing.easeInBounce(n,2*t,0,a,r)+u:.5*e.easing.easeOutBounce(n,2*t-r,0,a,r)+.5*a+u}})});
;define("common:widget/oui/lib/asyncSlider/1.0.0/asyncSlider",["require","common:widget/oui/lib/jquery/1.9.1/jquery","lib/easing/1.3.0/easing"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery");e("lib/easing/1.3.0/easing"),function(e){function t(t,o){if("undefined"==typeof l){if(l=e(t),l.css({position:"relative"}),"object"==typeof o?("string"==typeof o.direction&&(I="vertical"==o.direction.toLowerCase()?"vertical":"horizontal"),"undefined"!=typeof o.random&&(W=o.random),"undefined"!=typeof o.minTime&&(k=o.minTime),"undefined"!=typeof o.maxTime&&(y=o.maxTime),"string"==typeof o.easing&&(x=o.easing),"string"==typeof o.easingIn&&(_=o.easingIn),"string"==typeof o.easingOut&&(z=o.easingOut),"undefined"!=typeof o.keyboardNavigate&&(C=o.keyboardNavigate?!0:!1),"undefined"!=typeof o.prevNextNav&&(T=o.prevNextNav),"undefined"!=typeof o.centerPrevNextNav&&(N=!0,H=parseInt(o.centerPrevNextNav,10)),"undefined"!=typeof o.slidesNav&&(L=o.slidesNav),"undefined"!=typeof o.slidesNavType&&(S=o.slidesNavType),"number"==typeof o.autoswitch&&o.autoswitch>0&&(j=!0,q=o.autoswitch,d("on"))):o={},l.children("li").each(function(t){var i=e(this),n=i.find("[data-use]"),a=0===n.length?i.find("*"):n;i.hide().css({zIndex:R+10,position:"relative"}),i.height=i.outerHeight(),i.width=i.outerWidth(),i.background=!1;var s="",o=i.css("background-color"),r=i.css("background-image"),d=i.css("background-repeat"),p=i.css("background-position"),u=o+" "+("none"==r?"":r)+" "+p+" "+d;if(("none"!=r||o)&&(s=u,i.css("background","none")),s||i.attr("data-background")){i.background=s,i.attr("data-background")&&(i.background=i.attr("data-background"));var h=[];if(h=i.background.match(/url\((.*?)\)/),h&&h.length>0){var g=new Image;g.src=h[1]}}i.elements=[],a.each(function(){var t=e(this),n=parseInt(t.css("left"),10),a=parseInt(t.css("top"),10);t.def_left=0,t.def_top=0,n&&(t.def_left=n),a&&(t.def_top=a),"absolute"!=t.css("position")&&t.css({position:"relative"}),t.css({zIndex:R+10}),"BR"!=t.get(0).tagName&&i.elements.push(t)}),i.index=parseInt(t,10),w.push(i),0===t&&(i.show(),l.css({overflow:"hidden"}),c=e('<div id="asyncslider_background_mask"></div>'),f=e('<div id="asyncslider_background_mask_2"></div>'),i.before(c),i.before(f),c.css({position:"absolute",top:0,left:0,zIndex:R+1,padding:0,margin:0,width:l.outerWidth(),height:e(".ui-slide-inimask").height()}),f.css({position:"absolute",top:0,left:0,zIndex:R+2,padding:0,margin:0,width:l.outerWidth(),height:l.outerHeight()}),e(window).resize(function(){c.width(l.outerWidth()),f.width(l.outerWidth())}),i.background&&c.css("background",i.background))}),P=w.length,"undefined"!=typeof o&&"undefined"!=typeof o.firstSlide){var r=o.firstSlide-1;if(r>=0&&P>r){var p=k,v=y,b=m;k=y=0,m=function(){},O=r,s(O,0),k=p,y=v,m=b}}if(l.children().length<2)return;if(e(window).keydown(function(e){if(C)switch(e.keyCode){case 37:a();break;case 39:n()}}),T&&P>1){var D=e('<ul id="asyncslider_next_prev_nav" />');D.css({zIndex:R+100});var M=e('<li class="prev" />'),B=e('<li class="next" />'),E=e('<a href="#">Previous</a>'),F=e('<a href="#">Next</a>');if(D.append(M),D.append(B),M.append(E),B.append(F),M.click(function(e){e.preventDefault(),a()}),B.click(function(e){e.preventDefault(),n()}),"object"==typeof T)T.append(D);else if(l.append(D),N){var G=H,J=i(O);D.css({position:"absolute",left:"50%",margin:0,padding:0,listStyle:"none",marginLeft:-parseInt(J.outerWidth()/2,10),top:0}),D.find("*").css({margin:0,padding:0});var K=D.find(".next"),Q=D.find(".prev");u=K.children(),h=Q.children().css({left:-E.width()-G}),Q.add(K).css({position:"relative"}),Q.width(h.width()),K.width(u.width()),u.add(h).css({position:"absolute"}),u.css({left:J.outerWidth()+G,top:parseInt(J.outerHeight()/2-h.outerHeight()/2,10)}),h.css({top:parseInt(J.outerHeight()/2-h.outerHeight()/2,10)})}}if(L){switch(g=e('<ul id="asyncslider_slides_nav" />'),g.css({zIndex:R+100}),S){case"0":g.addClass("slider-nav-pointer");break;case"1":g.addClass("slider-nav-box");break;default:g.addClass("slider-nav-"+S)}for(var U=0;U<w.length;U++){var V=(w[U],e('<li id="asyncslider_slide_'+(parseInt(U,10)+1)+'" />')),X=e('<a href="#" rel="'+U+'">'+(parseInt(U,10)+1)+"</a>");0===U&&"undefined"==typeof o.firstSlide?V.addClass("active"):"undefined"!=typeof o.firstSlide&&U==parseInt(o.firstSlide,10)-1&&V.addClass("active"),g.append(V),V.append(X),index=parseInt(U,10);{X.click(function(t){if(t.preventDefault(),A)return!1;g.find("li").removeClass("active"),e(this).parent().addClass("active");var i=parseInt(e(this).attr("rel"),10),n=O;O=i,s(O,n)})}}"object"==typeof L?L.append(g):l.append(g)}}}function i(e){return e>=0&&P>e?w[e]:null}function n(e){if(A)return!1;var t=O;O++,O%=P,M="left",B="bottom",e&&(M="right"==e?"right":"left"),e&&(B="bottom"==e?"top":"bottom"),s(O,t)}function a(e){if(A)return!1;var t=O;O--,O=0>O?P-1:O,M="right",B="top",e&&(M="left"==e?"left":"right"),e&&(B="top"==e?"bottom":"top"),s(O,t)}function s(t,n){var a=i(n),s=i(t);if(!a||!s||t==n)return!1;if(A)return!1;A=!0;var r=parseInt((y+k)/2,10);y=k>y?k:y,k=k>y?y:k,s.background?a.background?0==v?(c.css({background:a.background}).hide(),f.hide().css({background:s.background}).stop().fadeTo(r,1)):(c.css({background:s.background}).show(),f.stop().fadeTo(r,0,function(){c.hide(),f.css({background:s.background}).fadeTo(0,1)})):c.css({background:s.background}).hide().fadeTo(r,1):(f.stop().fadeTo(r,0),c.stop().fadeTo(r,0)),N&&u&&h&&(u.stop().animate({top:parseInt(s.outerHeight()/2-u.outerHeight()/2,10)},r),h.stop().animate({top:parseInt(s.outerHeight()/2-h.outerHeight()/2,10)},r)),c.stop().animate({height:s.height},r),f.height(s.height),g&&g.find("li").removeClass("active").filter(":nth-child("+(s.index+1)+")").addClass("active");var w,C,T,H,L,S,j,q,O,P=1;if("horizontal"==I){var E=e(window),F=E.width()-s.width,G=0;l.css({overflow:"hidden"}).stop();var J=parseInt(a.width/2+F/2,10);for(t>n?(q=a.height,q<s.height&&(q=s.height-(s.height-a.height)),a.css({position:"relative",zIndex:R+3}),s.css({position:"relative",zIndex:R+4,top:-q}).show(),P=1):(q=a.height,q<s.height?q=s.height:q-=a.height-s.height,a.css({position:"relative",zIndex:R+3,top:-q}),s.css({position:"relative",zIndex:R+4}).show(),P=-1),M&&(P="right"==M?-1:1),_||(_=x),z||(z=x),T=k,H=parseInt((y-k)/a.elements.length,10),O=a.width+F,w=0;w<a.elements.length;w++)C=a.elements[w],L=C.def_left,S=C.def_top,j=o(k,y),J=O,W||(T+=H,j=T),C.stop().animate({left:-P*J+L,top:S+0},300,_);G=0,T=k,H=parseInt((y-k)/s.elements.length,10),O=s.width+F;{s.elements.length}for(w=0;w<s.elements.length;w++,G=4===w?-50:G+200){C=s.elements[w],L=C.def_left,S=C.def_top,j=o(k,y),J=O+o(0,C.outerWidth()),W||(T+=H,j=T);{parseInt(w,10)}C.css({left:P*J+L,top:S+0}).stop().animate({left:0+L},500+G,z)}G=0}else{l.css({overflow:"hidden"}).stop();var K=l.height();for(t>n?(a.css({position:"relative",zIndex:R+3}),s.css({position:"relative",zIndex:R+4,top:-a.height}).show(),P=1):(a.css({position:"relative",zIndex:R+3,top:-a.height}),s.css({position:"relative",zIndex:R+4}).show(),P=-1),B&&(P="top"==B?-1:1),_||(_=x),z||(z=x),a.animate({top:-P*K},r),T=k,H=parseInt((y-k)/a.elements.length,10),w=0;w<a.elements.length;w++)C=a.elements[w],L=C.def_left,S=C.def_top,j=o(k,y),q=K,W||(T+=H,j=T),C.stop().animate({top:-P*q+S},j,_);for(T=k,H=parseInt((y-k)/s.elements.length,10),w=0;w<s.elements.length;w++)C=s.elements[w],L=C.def_left,S=C.def_top,j=o(k,y),q=K,W||(T+=H,j=T),C.css({top:P*q,left:0+L}).stop().animate({top:0+S},j,z)}return p=window.setTimeout(function(){for(a.css({position:"relative",top:0,left:0}).hide(),s.css({position:"relative",top:0,left:0}),w=0;w<a.elements.length;w++)C=a.elements[w],L=C.def_left,S=C.def_top,C.css({left:L}),C.css({top:S});for(w=0;w<s.elements.length;w++)C=s.elements[w],L=C.def_left,S=C.def_top,C.css({left:L}),C.css({top:S});M="",m(s.index+1),window.clearTimeout(p),p=null,A=!1,b++,"undefined"!=typeof D&&(window.clearTimeout(D),D=null,d("on")),v++},y),!0}function o(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function r(e,t){switch(e.toLowerCase()){case"direction":I="vertical"==t?"vertical":"horizontal";break;case"callback":"function"==typeof t&&(m=t);break;case"minTime":k=parseInt(t,10);break;case"maxTime":y=parseInt(t,10);break;case"easing":_="",z="",x=t;break;case"easingin":_=t;break;case"easingout":z=t;break;case"keyboardnavigate":C=t?!0:!1;break;case"random":W=t?!0:!1;break;case"autoswitch":"number"==typeof t&&t>0?d("update_interval",t):"string"!=typeof t||"play"!=t.toLowerCase()&&"on"!=t.toLowerCase()&&"off"!=t.toLowerCase()&&"pause"!=t.toLowerCase()?"string"==typeof t&&"pause"==t.toLowerCase()&&d("pause"):d(t.toLowerCase())}}function d(e,t){switch(e){case"off":j=!1,"undefined"!=typeof D&&(window.clearInterval(D),D=null);break;case"on":d("update_interval",q);break;case"update_interval":j=!0,q=t,"undefined"!=typeof D&&(window.clearInterval(D),D=null),D=setInterval(function(){j&&n()},q);break;case"play":j=!0,"undefined"==typeof D&&d("on");break;case"pause":j=!1}}var l,c,f,p,u,h,g,v=0,m=function(){},b=0,w=[],k=500,y=1200,I="horizontal",x="easeInOutSine",_="",z="",C=!1,T=!0,N=!0,H=5,L=!0,S="0",W=!0,j=!1,q=5e3,D=null,O=0,P=0,M="",B="",R=10,A=!1;e.fn.extend({asyncSlider:function(i,o,d){if("string"==typeof i)switch(i.toLowerCase()){case"movetoslide":var l=parseInt(o,10);if(l>0&&P>=l){var c=O;O=l-1,d&&(M="right"==d?"right":"left"),d&&(B="bottom"==d?"top":"bottom"),s(O,c)}break;case"set":r(o,d);break;case"next":n(o);break;case"prev":a(o)}t(this,i),"function"==typeof o&&(m=o),e(".ui-slide-inimask").remove()}})}(t)});
;define("common:widget/oui/lib/city/1.0.0/city",function(v,k,t){function e(v,k,t){v.addEventListener?v.addEventListener(k,t,!1):v.attachEvent?v.attachEvent("on"+k,t):v["on"+k]=t}var i={p:[{k:"请选择",v:"请选择"},{k:"北京",v:"北京"},{k:"上海",v:"上海"},{k:"广东",v:"广东"},{k:"江苏",v:"江苏"},{k:"浙江",v:"浙江"},{k:"山东",v:"山东"},{k:"天津",v:"天津"},{k:"重庆",v:"重庆"},{k:"四川",v:"四川"},{k:"河北",v:"河北"},{k:"山西",v:"山西"},{k:"内蒙古",v:"内蒙古"},{k:"辽宁",v:"辽宁"},{k:"吉林",v:"吉林"},{k:"黑龙江",v:"黑龙江"},{k:"安徽",v:"安徽"},{k:"福建",v:"福建"},{k:"江西",v:"江西"},{k:"河南",v:"河南"},{k:"湖南",v:"湖南"},{k:"广西",v:"广西"},{k:"湖北",v:"湖北"},{k:"陕西",v:"陕西"},{k:"新疆",v:"新疆"},{k:"青海",v:"青海"},{k:"宁夏",v:"宁夏"},{k:"甘肃",v:"甘肃"},{k:"西藏",v:"西藏"},{k:"云南",v:"云南"},{k:"海南",v:"海南"},{k:"贵州",v:"贵州"},{k:"香港",v:"香港"},{k:"澳门",v:"澳门"},{k:"台湾",v:"台湾"}],c:[{k:"请选择",v:"请选择"},{k:"东城",v:"北京"},{k:"西城",v:"北京"},{k:"崇文",v:"北京"},{k:"宣武",v:"北京"},{k:"朝阳",v:"北京"},{k:"丰台",v:"北京"},{k:"石景山",v:"北京"},{k:"海淀",v:"北京"},{k:"门头沟",v:"北京"},{k:"房山",v:"北京"},{k:"通州",v:"北京"},{k:"顺义",v:"北京"},{k:"昌平",v:"北京"},{k:"大兴",v:"北京"},{k:"怀柔",v:"北京"},{k:"平谷",v:"北京"},{k:"密云",v:"北京"},{k:"延庆",v:"北京"},{k:"黄浦",v:"上海"},{k:"卢湾",v:"上海"},{k:"徐汇",v:"上海"},{k:"长宁",v:"上海"},{k:"静安",v:"上海"},{k:"普陀",v:"上海"},{k:"闸北",v:"上海"},{k:"虹口",v:"上海"},{k:"杨浦",v:"上海"},{k:"闵行",v:"上海"},{k:"宝山",v:"上海"},{k:"嘉定",v:"上海"},{k:"浦东新区",v:"上海"},{k:"金山",v:"上海"},{k:"松江",v:"上海"},{k:"青浦",v:"上海"},{k:"南汇",v:"上海"},{k:"奉贤",v:"上海"},{k:"崇明",v:"上海"},{k:"广州",v:"广东"},{k:"汕尾",v:"广东"},{k:"阳江",v:"广东"},{k:"揭阳",v:"广东"},{k:"茂名",v:"广东"},{k:"江门",v:"广东"},{k:"韶关",v:"广东"},{k:"惠州",v:"广东"},{k:"梅州",v:"广东"},{k:"汕头",v:"广东"},{k:"深圳",v:"广东"},{k:"珠海",v:"广东"},{k:"佛山",v:"广东"},{k:"肇庆",v:"广东"},{k:"湛江",v:"广东"},{k:"中山",v:"广东"},{k:"河源",v:"广东"},{k:"清远",v:"广东"},{k:"云浮",v:"广东"},{k:"潮州",v:"广东"},{k:"东莞",v:"广东"},{k:"南京",v:"江苏"},{k:"无锡",v:"江苏"},{k:"镇江",v:"江苏"},{k:"苏州",v:"江苏"},{k:"南通",v:"江苏"},{k:"扬州",v:"江苏"},{k:"盐城",v:"江苏"},{k:"徐州",v:"江苏"},{k:"淮阴",v:"江苏"},{k:"连云",v:"江苏"},{k:"常州",v:"江苏"},{k:"泰州",v:"江苏"},{k:"宿迁",v:"江苏"},{k:"衢州",v:"浙江"},{k:"杭州",v:"浙江"},{k:"湖州",v:"浙江"},{k:"嘉兴",v:"浙江"},{k:"宁波",v:"浙江"},{k:"绍兴",v:"浙江"},{k:"台州",v:"浙江"},{k:"温州",v:"浙江"},{k:"丽水",v:"浙江"},{k:"金华",v:"浙江"},{k:"舟山",v:"浙江"},{k:"菏泽",v:"山东"},{k:"济南",v:"山东"},{k:"青岛",v:"山东"},{k:"淄博",v:"山东"},{k:"德州",v:"山东"},{k:"烟台",v:"山东"},{k:"潍坊",v:"山东"},{k:"济宁",v:"山东"},{k:"泰安",v:"山东"},{k:"临沂",v:"山东"},{k:"滨州",v:"山东"},{k:"东营",v:"山东"},{k:"威海",v:"山东"},{k:"枣庄",v:"山东"},{k:"日照",v:"山东"},{k:"莱芜",v:"山东"},{k:"聊城",v:"山东"},{k:"和平",v:"天津"},{k:"河东",v:"天津"},{k:"河西",v:"天津"},{k:"南开",v:"天津"},{k:"河北",v:"天津"},{k:"红桥",v:"天津"},{k:"塘沽",v:"天津"},{k:"汉沽",v:"天津"},{k:"大港",v:"天津"},{k:"东丽",v:"天津"},{k:"西青",v:"天津"},{k:"津南",v:"天津"},{k:"北辰",v:"天津"},{k:"武清",v:"天津"},{k:"宝坻",v:"天津"},{k:"宁河",v:"天津"},{k:"静海",v:"天津"},{k:"蓟县",v:"天津"},{k:"万州",v:"重庆"},{k:"涪陵",v:"重庆"},{k:"渝中",v:"重庆"},{k:"大渡口",v:"重庆"},{k:"江北",v:"重庆"},{k:"沙坪坝",v:"重庆"},{k:"九龙坡",v:"重庆"},{k:"南岸",v:"重庆"},{k:"北碚",v:"重庆"},{k:"万盛",v:"重庆"},{k:"双桥",v:"重庆"},{k:"渝北",v:"重庆"},{k:"巴南",v:"重庆"},{k:"黔江",v:"重庆"},{k:"长寿",v:"重庆"},{k:"江津",v:"重庆"},{k:"合川",v:"重庆"},{k:"永川",v:"重庆"},{k:"南川",v:"重庆"},{k:"綦江",v:"重庆"},{k:"潼南",v:"重庆"},{k:"铜梁",v:"重庆"},{k:"大足",v:"重庆"},{k:"荣昌",v:"重庆"},{k:"璧山",v:"重庆"},{k:"梁平",v:"重庆"},{k:"城口",v:"重庆"},{k:"丰都",v:"重庆"},{k:"垫江",v:"重庆"},{k:"武隆",v:"重庆"},{k:"忠县",v:"重庆"},{k:"开县",v:"重庆"},{k:"云阳",v:"重庆"},{k:"奉节",v:"重庆"},{k:"巫山",v:"重庆"},{k:"巫溪",v:"重庆"},{k:"石柱土家族",v:"重庆"},{k:"秀山土家族苗族",v:"重庆"},{k:"酉阳土家族苗族",v:"重庆"},{k:"彭水苗族土家族",v:"重庆"},{k:"成都",v:"四川"},{k:"攀枝花",v:"四川"},{k:"自贡",v:"四川"},{k:"绵阳",v:"四川"},{k:"南充",v:"四川"},{k:"达州",v:"四川"},{k:"遂宁",v:"四川"},{k:"广安",v:"四川"},{k:"巴中(巴州)",v:"四川"},{k:"泸州",v:"四川"},{k:"宜宾",v:"四川"},{k:"内江",v:"四川"},{k:"乐山",v:"四川"},{k:"凉山彝族",v:"四川"},{k:"雅安",v:"四川"},{k:"甘孜藏族",v:"四川"},{k:"阿坝藏族羌族",v:"四川"},{k:"德阳",v:"四川"},{k:"广元",v:"四川"},{k:"邯郸",v:"河北"},{k:"石家庄",v:"河北"},{k:"保定",v:"河北"},{k:"张家口",v:"河北"},{k:"承德",v:"河北"},{k:"唐山",v:"河北"},{k:"廊坊",v:"河北"},{k:"沧州",v:"河北"},{k:"衡水",v:"河北"},{k:"邢台",v:"河北"},{k:"秦皇岛",v:"河北"},{k:"朔州",v:"山西"},{k:"忻州",v:"山西"},{k:"太原",v:"山西"},{k:"大同",v:"山西"},{k:"阳泉",v:"山西"},{k:"晋中",v:"山西"},{k:"长治",v:"山西"},{k:"晋城",v:"山西"},{k:"临汾",v:"山西"},{k:"吕梁地区",v:"山西"},{k:"运城",v:"山西"},{k:"呼伦贝尔",v:"内蒙古"},{k:"呼和浩特",v:"内蒙古"},{k:"包头",v:"内蒙古"},{k:"乌海",v:"内蒙古"},{k:"乌兰察布盟",v:"内蒙古"},{k:"通辽",v:"内蒙古"},{k:"赤峰",v:"内蒙古"},{k:"鄂尔多斯",v:"内蒙古"},{k:"巴彦淖尔盟",v:"内蒙古"},{k:"锡林郭勒盟",v:"内蒙古"},{k:"兴安盟(乌兰浩特市)",v:"内蒙古"},{k:"阿拉善盟",v:"内蒙古"},{k:"沈阳",v:"辽宁"},{k:"铁岭",v:"辽宁"},{k:"大连",v:"辽宁"},{k:"鞍山",v:"辽宁"},{k:"抚顺",v:"辽宁"},{k:"本溪",v:"辽宁"},{k:"丹东",v:"辽宁"},{k:"锦州",v:"辽宁"},{k:"营口",v:"辽宁"},{k:"阜新",v:"辽宁"},{k:"辽阳",v:"辽宁"},{k:"朝阳",v:"辽宁"},{k:"盘锦",v:"辽宁"},{k:"葫芦岛",v:"辽宁"},{k:"长春",v:"吉林"},{k:"吉林",v:"吉林"},{k:"延边朝鲜族",v:"吉林"},{k:"四平",v:"吉林"},{k:"通化",v:"吉林"},{k:"白城",v:"吉林"},{k:"辽源",v:"吉林"},{k:"松原",v:"吉林"},{k:"白山",v:"吉林"},{k:"哈尔滨",v:"黑龙江"},{k:"齐齐哈尔",v:"黑龙江"},{k:"牡丹江",v:"黑龙江"},{k:"佳木斯",v:"黑龙江"},{k:"绥化",v:"黑龙江"},{k:"黑河",v:"黑龙江"},{k:"大兴安岭地区",v:"黑龙江"},{k:"伊春",v:"黑龙江"},{k:"大庆",v:"黑龙江"},{k:"七台河",v:"黑龙江"},{k:"鸡西",v:"黑龙江"},{k:"鹤岗",v:"黑龙江"},{k:"双鸭山",v:"黑龙江"},{k:"滁州",v:"安徽"},{k:"合肥",v:"安徽"},{k:"蚌埠",v:"安徽"},{k:"芜湖",v:"安徽"},{k:"淮南",v:"安徽"},{k:"马鞍山",v:"安徽"},{k:"安庆",v:"安徽"},{k:"宿州",v:"安徽"},{k:"阜阳",v:"安徽"},{k:"黄山",v:"安徽"},{k:"淮北",v:"安徽"},{k:"铜陵",v:"安徽"},{k:"宣城",v:"安徽"},{k:"六安",v:"安徽"},{k:"巢湖",v:"安徽"},{k:"池州",v:"安徽"},{k:"福州",v:"福建"},{k:"厦门",v:"福建"},{k:"宁德",v:"福建"},{k:"莆田",v:"福建"},{k:"泉州",v:"福建"},{k:"漳州",v:"福建"},{k:"龙岩",v:"福建"},{k:"三明",v:"福建"},{k:"南平",v:"福建"},{k:"鹰潭",v:"江西"},{k:"新余",v:"江西"},{k:"南昌",v:"江西"},{k:"九江",v:"江西"},{k:"上饶",v:"江西"},{k:"抚州",v:"江西"},{k:"宜春",v:"江西"},{k:"吉安",v:"江西"},{k:"赣州",v:"江西"},{k:"景德镇",v:"江西"},{k:"萍乡",v:"江西"},{k:"商丘",v:"河南"},{k:"郑州",v:"河南"},{k:"安阳",v:"河南"},{k:"新乡",v:"河南"},{k:"许昌",v:"河南"},{k:"平顶山",v:"河南"},{k:"信阳",v:"河南"},{k:"南阳",v:"河南"},{k:"开封",v:"河南"},{k:"洛阳",v:"河南"},{k:"焦作",v:"河南"},{k:"鹤壁",v:"河南"},{k:"濮阳",v:"河南"},{k:"周口",v:"河南"},{k:"漯河",v:"河南"},{k:"驻马店",v:"河南"},{k:"三门峡",v:"河南"},{k:"岳阳",v:"湖南"},{k:"长沙",v:"湖南"},{k:"湘潭",v:"湖南"},{k:"株洲",v:"湖南"},{k:"衡阳",v:"湖南"},{k:"郴州",v:"湖南"},{k:"常德",v:"湖南"},{k:"益阳",v:"湖南"},{k:"娄底",v:"湖南"},{k:"邵阳",v:"湖南"},{k:"湘西土家族苗族",v:"湖南"},{k:"张家界",v:"湖南"},{k:"怀化",v:"湖南"},{k:"永州",v:"湖南"},{k:"防城港",v:"广西"},{k:"南宁",v:"广西"},{k:"柳州地区",v:"广西"},{k:"桂林",v:"广西"},{k:"梧州",v:"广西"},{k:"贵港",v:"广西"},{k:"百色",v:"广西"},{k:"钦州",v:"广西"},{k:"河池",v:"广西"},{k:"北海",v:"广西"},{k:"玉林",v:"广西"},{k:"武汉",v:"湖北"},{k:"襄樊",v:"湖北"},{k:"鄂州",v:"湖北"},{k:"孝感",v:"湖北"},{k:"黄冈",v:"湖北"},{k:"黄石",v:"湖北"},{k:"咸宁",v:"湖北"},{k:"荆州",v:"湖北"},{k:"宜昌",v:"湖北"},{k:"恩施土家族苗族",v:"湖北"},{k:"十堰",v:"湖北"},{k:"随州",v:"湖北"},{k:"荆门",v:"湖北"},{k:"天门",v:"湖北"},{k:"西安",v:"陕西"},{k:"咸阳",v:"陕西"},{k:"延安",v:"陕西"},{k:"榆林",v:"陕西"},{k:"渭南",v:"陕西"},{k:"商洛",v:"陕西"},{k:"安康",v:"陕西"},{k:"汉中",v:"陕西"},{k:"宝鸡",v:"陕西"},{k:"铜川",v:"陕西"},{k:"塔城地区",v:"新疆"},{k:"哈密地区",v:"新疆"},{k:"和田地区",v:"新疆"},{k:"阿勒泰地区",v:"新疆"},{k:"克孜勒苏柯尔克孜",v:"新疆"},{k:"博尔塔拉蒙古",v:"新疆"},{k:"克拉玛依",v:"新疆"},{k:"乌鲁木齐",v:"新疆"},{k:"奎屯",v:"新疆"},{k:"石河子",v:"新疆"},{k:"昌吉回族",v:"新疆"},{k:"吐鲁番地区",v:"新疆"},{k:"巴音郭楞蒙古",v:"新疆"},{k:"阿克苏地区",v:"新疆"},{k:"喀什地区",v:"新疆"},{k:"伊犁哈萨克",v:"新疆"},{k:"海北藏族",v:"青海"},{k:"西宁",v:"青海"},{k:"海东地区",v:"青海"},{k:"黄南藏族",v:"青海"},{k:"海南藏族",v:"青海"},{k:"果洛藏族",v:"青海"},{k:"玉树藏族",v:"青海"},{k:"海西蒙古族藏族",v:"青海"},{k:"格尔木",v:"青海"},{k:"银川",v:"宁夏"},{k:"石嘴山",v:"宁夏"},{k:"吴忠",v:"宁夏"},{k:"固原",v:"宁夏"},{k:"临夏回族",v:"甘肃"},{k:"兰州",v:"甘肃"},{k:"定西地区",v:"甘肃"},{k:"平凉地区",v:"甘肃"},{k:"庆阳地区",v:"甘肃"},{k:"金昌",v:"甘肃"},{k:"张掖",v:"甘肃"},{k:"酒泉",v:"甘肃"},{k:"天水",v:"甘肃"},{k:"陇南地区",v:"甘肃"},{k:"甘南藏族",v:"甘肃"},{k:"白银",v:"甘肃"},{k:"拉萨",v:"西藏"},{k:"日喀则地区",v:"西藏"},{k:"山南地区",v:"西藏"},{k:"林芝地区",v:"西藏"},{k:"昌都地区",v:"西藏"},{k:"那曲地区",v:"西藏"},{k:"阿里地区",v:"西藏"},{k:"西双版纳傣族",v:"云南"},{k:"德宏傣族景颇族",v:"云南"},{k:"昭通",v:"云南"},{k:"昆明",v:"云南"},{k:"大理白族",v:"云南"},{k:"红河哈尼族彝族",v:"云南"},{k:"曲靖",v:"云南"},{k:"保山",v:"云南"},{k:"文山壮族苗族",v:"云南"},{k:"玉溪",v:"云南"},{k:"楚雄彝族",v:"云南"},{k:"思茅地区",v:"云南"},{k:"临沧地区",v:"云南"},{k:"怒江傈僳族",v:"云南"},{k:"迪庆藏族",v:"云南"},{k:"丽江地区",v:"云南"},{k:"海口",v:"海南"},{k:"三亚",v:"海南"},{k:"五指山",v:"海南"},{k:"琼海",v:"海南"},{k:"儋州",v:"海南"},{k:"文昌",v:"海南"},{k:"万宁",v:"海南"},{k:"东方",v:"海南"},{k:"定安",v:"海南"},{k:"屯昌",v:"海南"},{k:"澄迈",v:"海南"},{k:"临高",v:"海南"},{k:"白沙黎族",v:"海南"},{k:"昌江黎族",v:"海南"},{k:"乐东黎族",v:"海南"},{k:"陵水黎族",v:"海南"},{k:"保亭黎族苗族",v:"海南"},{k:"琼中黎族苗族",v:"海南"},{k:"贵阳",v:"贵州"},{k:"遵义",v:"贵州"},{k:"安顺",v:"贵州"},{k:"黔南布依族苗族",v:"贵州"},{k:"黔东南苗族侗族",v:"贵州"},{k:"铜仁地区",v:"贵州"},{k:"毕节地区",v:"贵州"},{k:"六盘水",v:"贵州"},{k:"黔西南布依族苗族",v:"贵州"},{k:"中西区",v:"香港"},{k:"湾仔区",v:"香港"},{k:"东区",v:"香港"},{k:"南区",v:"香港"},{k:"油尖旺区",v:"香港"},{k:"深水埗区",v:"香港"},{k:"九龙城区",v:"香港"},{k:"黄大仙区",v:"香港"},{k:"观塘区",v:"香港"},{k:"荃湾区",v:"香港"},{k:"葵青区",v:"香港"},{k:"沙田区",v:"香港"},{k:"西贡区",v:"香港"},{k:"大埔区",v:"香港"},{k:"北区",v:"香港"},{k:"元朗区",v:"香港"},{k:"屯门区",v:"香港"},{k:"离岛区",v:"香港"},{k:"澳门",v:"澳门"},{k:"台北",v:"台湾"},{k:"高雄",v:"台湾"},{k:"基隆",v:"台湾"},{k:"台中",v:"台湾"},{k:"台南",v:"台湾"},{k:"新竹",v:"台湾"},{k:"嘉义",v:"台湾"}],__initSel:function(v,k,t){null!=k&&(k.length=0);for(var e=0;e<v.length;e+=1){var i=v[e],n=document.createElement("option");n.value=i.k,"请选择"==i.k&&(n.value=""),i.k==t&&(n.selected=!0);var a=document.createTextNode(i.k);n.appendChild(a),null!=k&&k.appendChild(n)}},initProvince:function(v,k){var t=document.getElementById(v);this.__initSel(this.p,t,k)},initCity:function(v,k,t){var e=document.getElementById(v),i=document.getElementById(k);if(e&&i){var n=new Array;if(null!=e){for(var a=0;a<this.c.length;a+=1)this.c[a].v==e.value&&n.push(this.c[a]);this.__initSel(n,i,t)}if(""==i.value){var o=document.createTextNode("请选择"),s=document.createElement("option");s.appendChild(o),i.appendChild(s)}}},init:function(v,k,t){/:/.test(t)?(i.initProvince(v,t.split(":")[0]),i.initCity(v,k,t.split(":")[1])):(i.initProvince(v,""),i.initCity(v,k,"")),n(v)&&(n(v).onchange=function(){i.initCity(v,k,"")})}},n=function(v){return"string"==typeof v?document.getElementById(v):v},a={create:function(){return function(){this.initialize.apply(this,arguments)}}},o=function(v,k){for(var t in k)v[t]=k[t];return v},s=a.create();s.prototype={initialize:function(v,k,t,i){this.SelYear=n(v),this.SelMonth=n(k),this.SelDay=n(t),this.SetOptions(i);var a=new Date,o=parseInt(this.options.Month),s=parseInt(this.options.Day),h=parseInt(this.options.MinYear),r=parseInt(this.options.MaxYear);this.Year=parseInt(this.options.Year)||a.getFullYear(),this.Month=o>=1&&12>=o?o:a.getMonth()+1,this.Day=s>0?s:a.getDate(),this.MinYear=h&&h<this.Year?h:this.Year,this.MaxYear=r&&r>this.Year?r:this.Year,this.onChange=this.options.onChange,this.SetSelect(this.SelYear,this.MinYear,this.MaxYear-this.MinYear+1,this.Year-this.MinYear),this.SetSelect(this.SelMonth,1,12,this.Month-1),this.SetDay();var l=this;e(this.SelYear,"change",function(){l.Year=l.SelYear.value,l.SetDay(),l.onChange()}),e(this.SelMonth,"change",function(){l.Month=l.SelMonth.value,l.SetDay(),l.onChange()}),e(this.SelDay,"change",function(){l.Day=l.SelDay.value,l.onChange()})},SetOptions:function(v){this.options={Year:0,Month:0,Day:0,MinYear:0,MaxYear:0,onChange:function(){}},o(this.options,v||{})},SetDay:function(){var v=new Date(this.Year,this.Month,0).getDate();this.Day>v&&(this.Day=v),this.SetSelect(this.SelDay,1,v,this.Day-1)},SetSelect:function(v,k,t,e){v.options.length=t;for(var i=0;t>i;i++)v.options[i].text=v.options[i].value=k+i;v.selectedIndex=e}};var h=a.create();h.prototype={initialize:function(v,k){this.SelYear=n(v),this.SetOptions(k);var t=new Date,i=parseInt(this.options.MinYear),a=parseInt(this.options.MaxYear);this.Year=parseInt(this.options.Year)||t.getFullYear(),this.MinYear=i&&i<this.Year?i:this.Year,this.MaxYear=a&&a>this.Year?a:this.Year,this.onChange=this.options.onChange,this.SetSelect(this.SelYear,this.MinYear,this.MaxYear-this.MinYear+1,this.Year-this.MinYear);var o=this;e(this.SelYear,"change",function(){o.Year=o.SelYear.value,o.onChange()})},SetOptions:function(v){this.options={Year:0,MinYear:0,MaxYear:0,onChange:function(){}},o(this.options,v||{})},SetSelect:function(v,k,t,e){v.options.length=t;for(var i=0;t>i;i++)v.options[i].text=v.options[i].value=k+i;v.selectedIndex=e}},t.exports=i});
;define("common:widget/oui/lib/city/1.0.1/new-city",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(require,exports,module){var $=require("common:widget/oui/lib/jquery/1.9.1/jquery"),PC={p:[{k:"北京",v:"北京"},{k:"上海",v:"上海"},{k:"广东",v:"广东"},{k:"江苏",v:"江苏"},{k:"浙江",v:"浙江"},{k:"山东",v:"山东"},{k:"天津",v:"天津"},{k:"重庆",v:"重庆"},{k:"四川",v:"四川"},{k:"河北",v:"河北"},{k:"山西",v:"山西"},{k:"内蒙古",v:"内蒙古"},{k:"辽宁",v:"辽宁"},{k:"吉林",v:"吉林"},{k:"黑龙江",v:"黑龙江"},{k:"安徽",v:"安徽"},{k:"福建",v:"福建"},{k:"江西",v:"江西"},{k:"河南",v:"河南"},{k:"湖南",v:"湖南"},{k:"广西",v:"广西"},{k:"湖北",v:"湖北"},{k:"陕西",v:"陕西"},{k:"新疆",v:"新疆"},{k:"青海",v:"青海"},{k:"宁夏",v:"宁夏"},{k:"甘肃",v:"甘肃"},{k:"西藏",v:"西藏"},{k:"云南",v:"云南"},{k:"海南",v:"海南"},{k:"贵州",v:"贵州"},{k:"香港",v:"香港"},{k:"澳门",v:"澳门"},{k:"台湾",v:"台湾"}],c:[{k:"东城",v:"北京"},{k:"西城",v:"北京"},{k:"崇文",v:"北京"},{k:"宣武",v:"北京"},{k:"朝阳",v:"北京"},{k:"丰台",v:"北京"},{k:"石景山",v:"北京"},{k:"海淀",v:"北京"},{k:"门头沟",v:"北京"},{k:"房山",v:"北京"},{k:"通州",v:"北京"},{k:"顺义",v:"北京"},{k:"昌平",v:"北京"},{k:"大兴",v:"北京"},{k:"怀柔",v:"北京"},{k:"平谷",v:"北京"},{k:"密云",v:"北京"},{k:"延庆",v:"北京"},{k:"黄浦",v:"上海"},{k:"卢湾",v:"上海"},{k:"徐汇",v:"上海"},{k:"长宁",v:"上海"},{k:"静安",v:"上海"},{k:"普陀",v:"上海"},{k:"闸北",v:"上海"},{k:"虹口",v:"上海"},{k:"杨浦",v:"上海"},{k:"闵行",v:"上海"},{k:"宝山",v:"上海"},{k:"嘉定",v:"上海"},{k:"浦东新区",v:"上海"},{k:"金山",v:"上海"},{k:"松江",v:"上海"},{k:"青浦",v:"上海"},{k:"南汇",v:"上海"},{k:"奉贤",v:"上海"},{k:"崇明",v:"上海"},{k:"广州",v:"广东"},{k:"汕尾",v:"广东"},{k:"阳江",v:"广东"},{k:"揭阳",v:"广东"},{k:"茂名",v:"广东"},{k:"江门",v:"广东"},{k:"韶关",v:"广东"},{k:"惠州",v:"广东"},{k:"梅州",v:"广东"},{k:"汕头",v:"广东"},{k:"深圳",v:"广东"},{k:"珠海",v:"广东"},{k:"佛山",v:"广东"},{k:"肇庆",v:"广东"},{k:"湛江",v:"广东"},{k:"中山",v:"广东"},{k:"河源",v:"广东"},{k:"清远",v:"广东"},{k:"云浮",v:"广东"},{k:"潮州",v:"广东"},{k:"东莞",v:"广东"},{k:"南京",v:"江苏"},{k:"无锡",v:"江苏"},{k:"镇江",v:"江苏"},{k:"苏州",v:"江苏"},{k:"南通",v:"江苏"},{k:"扬州",v:"江苏"},{k:"盐城",v:"江苏"},{k:"徐州",v:"江苏"},{k:"淮阴",v:"江苏"},{k:"连云",v:"江苏"},{k:"常州",v:"江苏"},{k:"泰州",v:"江苏"},{k:"宿迁",v:"江苏"},{k:"淮安",v:"江苏"},{k:"连云港",v:"江苏"},{k:"衢州",v:"浙江"},{k:"杭州",v:"浙江"},{k:"湖州",v:"浙江"},{k:"嘉兴",v:"浙江"},{k:"宁波",v:"浙江"},{k:"绍兴",v:"浙江"},{k:"台州",v:"浙江"},{k:"温州",v:"浙江"},{k:"丽水",v:"浙江"},{k:"金华",v:"浙江"},{k:"舟山",v:"浙江"},{k:"菏泽",v:"山东"},{k:"济南",v:"山东"},{k:"青岛",v:"山东"},{k:"淄博",v:"山东"},{k:"德州",v:"山东"},{k:"烟台",v:"山东"},{k:"潍坊",v:"山东"},{k:"济宁",v:"山东"},{k:"泰安",v:"山东"},{k:"临沂",v:"山东"},{k:"滨州",v:"山东"},{k:"东营",v:"山东"},{k:"威海",v:"山东"},{k:"枣庄",v:"山东"},{k:"日照",v:"山东"},{k:"莱芜",v:"山东"},{k:"聊城",v:"山东"},{k:"和平",v:"天津"},{k:"河东",v:"天津"},{k:"河西",v:"天津"},{k:"南开",v:"天津"},{k:"河北",v:"天津"},{k:"红桥",v:"天津"},{k:"塘沽",v:"天津"},{k:"汉沽",v:"天津"},{k:"大港",v:"天津"},{k:"东丽",v:"天津"},{k:"西青",v:"天津"},{k:"津南",v:"天津"},{k:"北辰",v:"天津"},{k:"武清",v:"天津"},{k:"宝坻",v:"天津"},{k:"宁河",v:"天津"},{k:"静海",v:"天津"},{k:"蓟县",v:"天津"},{k:"万州",v:"重庆"},{k:"涪陵",v:"重庆"},{k:"渝中",v:"重庆"},{k:"大渡口",v:"重庆"},{k:"江北",v:"重庆"},{k:"沙坪坝",v:"重庆"},{k:"九龙坡",v:"重庆"},{k:"南岸",v:"重庆"},{k:"北碚",v:"重庆"},{k:"万盛",v:"重庆"},{k:"双桥",v:"重庆"},{k:"渝北",v:"重庆"},{k:"巴南",v:"重庆"},{k:"黔江",v:"重庆"},{k:"长寿",v:"重庆"},{k:"江津",v:"重庆"},{k:"合川",v:"重庆"},{k:"永川",v:"重庆"},{k:"南川",v:"重庆"},{k:"綦江",v:"重庆"},{k:"潼南",v:"重庆"},{k:"铜梁",v:"重庆"},{k:"大足",v:"重庆"},{k:"荣昌",v:"重庆"},{k:"璧山",v:"重庆"},{k:"梁平",v:"重庆"},{k:"城口",v:"重庆"},{k:"丰都",v:"重庆"},{k:"垫江",v:"重庆"},{k:"武隆",v:"重庆"},{k:"忠县",v:"重庆"},{k:"开县",v:"重庆"},{k:"云阳",v:"重庆"},{k:"奉节",v:"重庆"},{k:"巫山",v:"重庆"},{k:"巫溪",v:"重庆"},{k:"石柱土家族",v:"重庆"},{k:"秀山土家族苗族",v:"重庆"},{k:"酉阳土家族苗族",v:"重庆"},{k:"彭水苗族土家族",v:"重庆"},{k:"成都",v:"四川"},{k:"攀枝花",v:"四川"},{k:"自贡",v:"四川"},{k:"绵阳",v:"四川"},{k:"南充",v:"四川"},{k:"达州",v:"四川"},{k:"遂宁",v:"四川"},{k:"广安",v:"四川"},{k:"巴中",v:"四川"},{k:"泸州",v:"四川"},{k:"宜宾",v:"四川"},{k:"内江",v:"四川"},{k:"乐山",v:"四川"},{k:"凉山彝族",v:"四川"},{k:"雅安",v:"四川"},{k:"甘孜藏族",v:"四川"},{k:"阿坝藏族羌族",v:"四川"},{k:"德阳",v:"四川"},{k:"广元",v:"四川"},{k:"资阳",v:"四川"},{k:"邯郸",v:"河北"},{k:"石家庄",v:"河北"},{k:"保定",v:"河北"},{k:"张家口",v:"河北"},{k:"承德",v:"河北"},{k:"唐山",v:"河北"},{k:"廊坊",v:"河北"},{k:"沧州",v:"河北"},{k:"衡水",v:"河北"},{k:"邢台",v:"河北"},{k:"秦皇岛",v:"河北"},{k:"朔州",v:"山西"},{k:"忻州",v:"山西"},{k:"太原",v:"山西"},{k:"大同",v:"山西"},{k:"阳泉",v:"山西"},{k:"晋中",v:"山西"},{k:"长治",v:"山西"},{k:"晋城",v:"山西"},{k:"临汾",v:"山西"},{k:"吕梁地区",v:"山西"},{k:"运城",v:"山西"},{k:"呼伦贝尔",v:"内蒙古"},{k:"呼和浩特",v:"内蒙古"},{k:"包头",v:"内蒙古"},{k:"乌海",v:"内蒙古"},{k:"乌兰察布盟",v:"内蒙古"},{k:"通辽",v:"内蒙古"},{k:"赤峰",v:"内蒙古"},{k:"鄂尔多斯",v:"内蒙古"},{k:"巴彦淖尔盟",v:"内蒙古"},{k:"锡林郭勒盟",v:"内蒙古"},{k:"兴安盟",v:"内蒙古"},{k:"阿拉善盟",v:"内蒙古"},{k:"沈阳",v:"辽宁"},{k:"铁岭",v:"辽宁"},{k:"大连",v:"辽宁"},{k:"鞍山",v:"辽宁"},{k:"抚顺",v:"辽宁"},{k:"本溪",v:"辽宁"},{k:"丹东",v:"辽宁"},{k:"锦州",v:"辽宁"},{k:"营口",v:"辽宁"},{k:"阜新",v:"辽宁"},{k:"辽阳",v:"辽宁"},{k:"朝阳",v:"辽宁"},{k:"盘锦",v:"辽宁"},{k:"葫芦岛",v:"辽宁"},{k:"长春",v:"吉林"},{k:"吉林",v:"吉林"},{k:"延边朝鲜族",v:"吉林"},{k:"四平",v:"吉林"},{k:"通化",v:"吉林"},{k:"白城",v:"吉林"},{k:"辽源",v:"吉林"},{k:"松原",v:"吉林"},{k:"白山",v:"吉林"},{k:"延边",v:"吉林"},{k:"哈尔滨",v:"黑龙江"},{k:"齐齐哈尔",v:"黑龙江"},{k:"牡丹江",v:"黑龙江"},{k:"佳木斯",v:"黑龙江"},{k:"绥化",v:"黑龙江"},{k:"黑河",v:"黑龙江"},{k:"大兴安岭地区",v:"黑龙江"},{k:"伊春",v:"黑龙江"},{k:"大庆",v:"黑龙江"},{k:"七台河",v:"黑龙江"},{k:"鸡西",v:"黑龙江"},{k:"鹤岗",v:"黑龙江"},{k:"双鸭山",v:"黑龙江"},{k:"滁州",v:"安徽"},{k:"合肥",v:"安徽"},{k:"蚌埠",v:"安徽"},{k:"芜湖",v:"安徽"},{k:"淮南",v:"安徽"},{k:"马鞍山",v:"安徽"},{k:"安庆",v:"安徽"},{k:"宿州",v:"安徽"},{k:"阜阳",v:"安徽"},{k:"黄山",v:"安徽"},{k:"淮北",v:"安徽"},{k:"铜陵",v:"安徽"},{k:"宣城",v:"安徽"},{k:"六安",v:"安徽"},{k:"巢湖",v:"安徽"},{k:"池州",v:"安徽"},{k:"福州",v:"福建"},{k:"厦门",v:"福建"},{k:"宁德",v:"福建"},{k:"莆田",v:"福建"},{k:"泉州",v:"福建"},{k:"漳州",v:"福建"},{k:"龙岩",v:"福建"},{k:"三明",v:"福建"},{k:"南平",v:"福建"},{k:"鹰潭",v:"江西"},{k:"新余",v:"江西"},{k:"南昌",v:"江西"},{k:"九江",v:"江西"},{k:"上饶",v:"江西"},{k:"抚州",v:"江西"},{k:"宜春",v:"江西"},{k:"吉安",v:"江西"},{k:"赣州",v:"江西"},{k:"景德镇",v:"江西"},{k:"萍乡",v:"江西"},{k:"商丘",v:"河南"},{k:"郑州",v:"河南"},{k:"安阳",v:"河南"},{k:"新乡",v:"河南"},{k:"许昌",v:"河南"},{k:"平顶山",v:"河南"},{k:"信阳",v:"河南"},{k:"南阳",v:"河南"},{k:"开封",v:"河南"},{k:"洛阳",v:"河南"},{k:"焦作",v:"河南"},{k:"鹤壁",v:"河南"},{k:"濮阳",v:"河南"},{k:"周口",v:"河南"},{k:"漯河",v:"河南"},{k:"驻马店",v:"河南"},{k:"三门峡",v:"河南"},{k:"岳阳",v:"湖南"},{k:"长沙",v:"湖南"},{k:"湘潭",v:"湖南"},{k:"株洲",v:"湖南"},{k:"衡阳",v:"湖南"},{k:"郴州",v:"湖南"},{k:"常德",v:"湖南"},{k:"益阳",v:"湖南"},{k:"娄底",v:"湖南"},{k:"邵阳",v:"湖南"},{k:"湘西土家族苗族",v:"湖南"},{k:"张家界",v:"湖南"},{k:"怀化",v:"湖南"},{k:"永州",v:"湖南"},{k:"吉首",v:"湖南"},{k:"防城港",v:"广西"},{k:"南宁",v:"广西"},{k:"柳州地区",v:"广西"},{k:"桂林",v:"广西"},{k:"梧州",v:"广西"},{k:"贵港",v:"广西"},{k:"百色",v:"广西"},{k:"钦州",v:"广西"},{k:"河池",v:"广西"},{k:"北海",v:"广西"},{k:"玉林",v:"广西"},{k:"崇左",v:"广西"},{k:"来宾",v:"广西"},{k:"武汉",v:"湖北"},{k:"襄樊",v:"湖北"},{k:"鄂州",v:"湖北"},{k:"孝感",v:"湖北"},{k:"黄冈",v:"湖北"},{k:"黄石",v:"湖北"},{k:"咸宁",v:"湖北"},{k:"荆州",v:"湖北"},{k:"宜昌",v:"湖北"},{k:"恩施土家族苗族",v:"湖北"},{k:"十堰",v:"湖北"},{k:"随州",v:"湖北"},{k:"荆门",v:"湖北"},{k:"天门",v:"湖北"},{k:"西安",v:"陕西"},{k:"咸阳",v:"陕西"},{k:"延安",v:"陕西"},{k:"榆林",v:"陕西"},{k:"渭南",v:"陕西"},{k:"商洛",v:"陕西"},{k:"安康",v:"陕西"},{k:"汉中",v:"陕西"},{k:"宝鸡",v:"陕西"},{k:"铜川",v:"陕西"},{k:"塔城地区",v:"新疆"},{k:"哈密地区",v:"新疆"},{k:"和田地区",v:"新疆"},{k:"阿勒泰地区",v:"新疆"},{k:"克孜勒苏柯尔克孜",v:"新疆"},{k:"博尔塔拉蒙古",v:"新疆"},{k:"克拉玛依",v:"新疆"},{k:"乌鲁木齐",v:"新疆"},{k:"奎屯",v:"新疆"},{k:"石河子",v:"新疆"},{k:"昌吉回族",v:"新疆"},{k:"吐鲁番地区",v:"新疆"},{k:"巴音郭楞蒙古",v:"新疆"},{k:"阿克苏地区",v:"新疆"},{k:"喀什地区",v:"新疆"},{k:"伊犁哈萨克",v:"新疆"},{k:"海北藏族",v:"青海"},{k:"西宁",v:"青海"},{k:"海东地区",v:"青海"},{k:"黄南藏族",v:"青海"},{k:"海南藏族",v:"青海"},{k:"果洛藏族",v:"青海"},{k:"玉树藏族",v:"青海"},{k:"海西蒙古族藏族",v:"青海"},{k:"格尔木",v:"青海"},{k:"银川",v:"宁夏"},{k:"石嘴山",v:"宁夏"},{k:"吴忠",v:"宁夏"},{k:"中卫",v:"宁夏"},{k:"固原",v:"宁夏"},{k:"临夏回族",v:"甘肃"},{k:"兰州",v:"甘肃"},{k:"定西地区",v:"甘肃"},{k:"平凉地区",v:"甘肃"},{k:"庆阳地区",v:"甘肃"},{k:"金昌",v:"甘肃"},{k:"张掖",v:"甘肃"},{k:"酒泉",v:"甘肃"},{k:"天水",v:"甘肃"},{k:"陇南地区",v:"甘肃"},{k:"甘南藏族",v:"甘肃"},{k:"白银",v:"甘肃"},{k:"嘉峪关",v:"甘肃"},{k:"拉萨",v:"西藏"},{k:"日喀则地区",v:"西藏"},{k:"山南地区",v:"西藏"},{k:"林芝地区",v:"西藏"},{k:"昌都地区",v:"西藏"},{k:"那曲地区",v:"西藏"},{k:"阿里地区",v:"西藏"},{k:"樟木口岸",v:"西藏"},{k:"西双版纳傣族",v:"云南"},{k:"德宏傣族景颇族",v:"云南"},{k:"昭通",v:"云南"},{k:"昆明",v:"云南"},{k:"大理白族",v:"云南"},{k:"红河哈尼族彝族",v:"云南"},{k:"曲靖",v:"云南"},{k:"保山",v:"云南"},{k:"文山壮族苗族",v:"云南"},{k:"玉溪",v:"云南"},{k:"楚雄彝族",v:"云南"},{k:"思茅地区",v:"云南"},{k:"临沧地区",v:"云南"},{k:"怒江傈僳族",v:"云南"},{k:"迪庆藏族",v:"云南"},{k:"丽江地区",v:"云南"},{k:"海口",v:"海南"},{k:"三亚",v:"海南"},{k:"五指山",v:"海南"},{k:"琼海",v:"海南"},{k:"儋州",v:"海南"},{k:"文昌",v:"海南"},{k:"万宁",v:"海南"},{k:"东方",v:"海南"},{k:"定安",v:"海南"},{k:"屯昌",v:"海南"},{k:"澄迈",v:"海南"},{k:"临高",v:"海南"},{k:"白沙黎族",v:"海南"},{k:"昌江黎族",v:"海南"},{k:"乐东黎族",v:"海南"},{k:"陵水黎族",v:"海南"},{k:"保亭黎族苗族",v:"海南"},{k:"琼中黎族苗族",v:"海南"},{k:"贵阳",v:"贵州"},{k:"遵义",v:"贵州"},{k:"安顺",v:"贵州"},{k:"黔南布依族苗族",v:"贵州"},{k:"黔东南苗族侗族",v:"贵州"},{k:"铜仁地区",v:"贵州"},{k:"毕节地区",v:"贵州"},{k:"六盘水",v:"贵州"},{k:"黔西南布依族苗族",v:"贵州"},{k:"中西区",v:"香港"},{k:"湾仔区",v:"香港"},{k:"东区",v:"香港"},{k:"南区",v:"香港"},{k:"油尖旺区",v:"香港"},{k:"深水埗区",v:"香港"},{k:"九龙城区",v:"香港"},{k:"黄大仙区",v:"香港"},{k:"观塘区",v:"香港"},{k:"荃湾区",v:"香港"},{k:"葵青区",v:"香港"},{k:"沙田区",v:"香港"},{k:"西贡区",v:"香港"},{k:"大埔区",v:"香港"},{k:"北区",v:"香港"},{k:"元朗区",v:"香港"},{k:"屯门区",v:"香港"},{k:"离岛区",v:"香港"},{k:"澳门",v:"澳门"},{k:"台北",v:"台湾"},{k:"高雄",v:"台湾"},{k:"基隆",v:"台湾"},{k:"台中",v:"台湾"},{k:"台南",v:"台湾"},{k:"新竹",v:"台湾"},{k:"嘉义",v:"台湾"}],init:function(provinceId,cityid){var pr=eval(PC.p),ci=eval(PC.c);$(provinceId).empty(),$(cityid).empty();for(var index in pr)$(provinceId).append("<li datavalue="+pr[index].k+"><span>"+pr[index].k+"</span></li>");$(".J_popBox").delegate("li","click",function(v){var k=$(v.currentTarget);if("J_select_jiguan"==k.parent("ul").attr("id")){var i=$("#J_select_jiguan1");i.parent("div").find(".J_txt").text("请选择"),i.parent("div").find("input").attr("value",""),i.empty();for(var t in ci)ci[t].v==k.attr("datavalue")&&i.append("<li datavalue="+ci[t].k+"><span>"+ci[t].k+"</span></li>")}if("J_select_hukou"==k.parent("ul").attr("id")){var i=$("#J_select_hukou1");i.parent("div").find(".J_txt").text("请选择"),i.parent("div").find("input").attr("value",""),i.empty();for(var t in ci)ci[t].v==k.attr("datavalue")&&i.append("<li datavalue="+ci[t].k+"><span>"+ci[t].k+"</span></li>")}if("J_select_gongzuo"==k.parent("ul").attr("id")){var i=$("#J_select_gongzuo1");i.parent("div").find(".J_txt").text("请选择"),i.parent("div").find("input").attr("value",""),i.empty();for(var t in ci)ci[t].v==k.attr("datavalue")&&i.append("<li datavalue="+ci[t].k+"><span>"+ci[t].k+"</span></li>")}})},readcity:function(){var ci=eval(PC.c),pd=$("#pData").data("province").split("|"),p1=[],p2=[],p3=[];null!=pd[0]&&(p1=pd[0].split(":")),null!=pd[1]&&(p2=pd[1].split(":")),null!=pd[2]&&(p3=pd[2].split(":")),""==$.trim(p1[0])&&(p1[0]="请选择",p1[1]="请选择"),""==$.trim(p2[0])&&(p2[0]="请选择",p2[1]="请选择"),""==$.trim(p3[0])&&(p3[0]="请选择",p3[1]="请选择"),$("#homeProvince").attr("value",$.trim(p1[0])),$("#homeCity").attr("value",$.trim(p1[1])),$("#liveProvince").attr("value",$.trim(p2[0])),$("#liveCity").attr("value",$.trim(p2[1])),$("#province").attr("value",$.trim(p3[0])),$("#city").attr("value",$.trim(p3[1])),$("#homeProvince").parent("div").find(".J_txt").text($.trim(p1[0])),$("#homeCity").parent("div").find(".J_txt").text($.trim(p1[1])),$("#liveProvince").parent("div").find(".J_txt").text($.trim(p2[0])),$("#liveCity").parent("div").find(".J_txt").text($.trim(p2[1])),$("#province").parent("div").find(".J_txt").text($.trim(p3[0])),$("#city").parent("div").find(".J_txt").text($.trim(p3[1]));for(var index in ci)ci[index].v==$.trim(p1[0])&&$("#J_select_jiguan1").append("<li datavalue="+ci[index].k+"><span>"+ci[index].k+"</span></li>");for(var index in ci)ci[index].v==$.trim(p2[0])&&$("#J_select_hukou1").append("<li datavalue="+ci[index].k+"><span>"+ci[index].k+"</span></li>");for(var index in ci)ci[index].v==$.trim(p3[0])&&$("#J_select_gongzuo1").append("<li datavalue="+ci[index].k+"><span>"+ci[index].k+"</span></li>")}};module.exports=PC});
;define("common:widget/oui/lib/flash/1.0.1/jquery.flash",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(a){var e=a("common:widget/oui/lib/jquery/1.9.1/jquery");!function(){function a(){var a="";for(var e in this)"function"!=typeof this[e]&&(a+=e+'="'+this[e]+'" ');return a}function t(){var a="";for(var e in this)"function"!=typeof this[e]&&(a+=e+"="+encodeURIComponent(this[e])+"&");return a.replace(/&$/,"")}var n;n=e.fn.flash=function(a,t,r,s){var i=r||n.replace;if(t=n.copy(n.pluginOptions,t),!n.hasFlash(t.version))if(t.expressInstall&&n.hasFlash(6,0,65))var l={flashvars:{MMredirectURL:location,MMplayerType:"PlugIn",MMdoctitle:e("title").text()}};else{if(!t.update)return this;i=s||n.update}return a=n.copy(n.htmlOptions,l,a),this.each(function(){i.call(this,n.copy(a))})},n.copy=function(){for(var a={},t={},n=0;n<arguments.length;n++){var r=arguments[n];void 0!=r&&(e.extend(a,r),void 0!=r.flashvars&&e.extend(t,r.flashvars))}return a.flashvars=t,a},n.hasFlash=function(){if(/hasFlash\=true/.test(location))return!0;if(/hasFlash\=false/.test(location))return!1;for(var a=n.hasFlash.playerVersion().match(/\d+/g),e=String([arguments[0],arguments[1],arguments[2]]).match(/\d+/g)||String(n.pluginOptions.version).match(/\d+/g),t=0;3>t;t++){if(a[t]=parseInt(a[t]||0),e[t]=parseInt(e[t]||0),a[t]<e[t])return!1;if(a[t]>e[t])return!0}return!0},n.hasFlash.playerVersion=function(){try{try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{a.AllowScriptAccess="always"}catch(e){return"6,0,0"}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){}}return"0,0,0"},n.htmlOptions={height:240,flashvars:{},pluginspage:"http://www.adobe.com/go/getflashplayer",src:"#",type:"application/x-shockwave-flash",width:320},n.pluginOptions={expressInstall:!1,update:!0,version:"6.0.65"},n.replace=function(a){this.innerHTML='<div class="alt">'+this.innerHTML+"</div>",e(this).addClass("flash-replaced").prepend(n.transform(a))},n.update=function(){var a=String(location).split("?");a.splice(1,0,"?hasFlash=true&"),a=a.join("");var t='<p>This content requires the Flash Player. <a href="http://www.adobe.com/go/getflashplayer">Download Flash Player</a>. Already have Flash Player? <a href="'+a+'">Click here.</a></p>';this.innerHTML='<span class="alt">'+this.innerHTML+"</span>",e(this).addClass("flash-update").prepend(t)},n.transform=function(e){return e.toString=a,e.flashvars&&(e.flashvars.toString=t),"<embed "+String(e)+"/>"},window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}})}()});
;define("common:widget/oui/lib/jcrop/0.9.12/jquery.Jcrop",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery");!function(e){e.Jcrop=function(t,n){function o(e){return Math.round(e)+"px"}function r(e){return J.baseClass+"-"+e}function i(){return e.fx.step.hasOwnProperty("backgroundColor")}function a(t){var n=e(t).offset();return[n.left,n.top]}function s(e){return[e.pageX-P[0],e.pageY-P[1]]}function c(t){"object"!=typeof t&&(t={}),J=e.extend(J,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){"function"!=typeof J[t]&&(J[t]=function(){})})}function u(e,t,n){if(P=a(Y),pt.setCursor("move"===e?e:e+"-resize"),"move"===e)return pt.activateHandlers(l(t),b,n);var o=lt.getFixed(),r=h(e),i=lt.getCorner(h(r));lt.setPressed(lt.getCorner(r)),lt.setCurrent(i),pt.activateHandlers(d(e,o),b,n)}function d(e,t){return function(n){if(J.aspectRatio)switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}else switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}lt.setCurrent(n),ft.update()}}function l(e){var t=e;return gt.watchKeys(),function(e){lt.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,ft.update()}}function h(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function f(e){return function(t){return J.disabled?!1:"move"!==e||J.allowMove?(P=a(Y),ot=!0,u(e,s(t)),t.stopPropagation(),t.preventDefault(),!1):!1}}function p(e,t,n){var o=e.width(),r=e.height();o>t&&t>0&&(o=t,r=t/e.width()*e.height()),r>n&&n>0&&(r=n,o=n/e.height()*e.width()),tt=e.width()/o,nt=e.height()/r,e.width(o).height(r)}function g(e){return{x:e.x*tt,y:e.y*nt,x2:e.x2*tt,y2:e.y2*nt,w:e.w*tt,h:e.h*nt}}function b(){var e=lt.getFixed();e.w>J.minSelect[0]&&e.h>J.minSelect[1]?(ft.enableHandles(),ft.done()):ft.release(),pt.setCursor(J.allowSelect?"crosshair":"default")}function w(e){if(J.disabled)return!1;if(!J.allowSelect)return!1;ot=!0,P=a(Y),ft.disableHandles(),pt.setCursor("crosshair");var t=s(e);return lt.setPressed(t),ft.update(),pt.activateHandlers(v,b,"touch"===e.type.substring(0,5)),gt.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function v(e){lt.setCurrent(e),ft.update()}function y(){var t=e("<div></div>").addClass(r("tracker"));return R&&t.css({opacity:0,backgroundColor:"white"}),t}function m(e){G.removeClass().addClass(r("holder")).addClass(e)}function x(e,t){function n(){window.setTimeout(v,l)}var o=e[0]/tt,r=e[1]/nt,i=e[2]/tt,a=e[3]/nt;if(!rt){var s=lt.flipCoords(o,r,i,a),c=lt.getFixed(),u=[c.x,c.y,c.x2,c.y2],d=u,l=J.animationDelay,h=s[0]-u[0],f=s[1]-u[1],p=s[2]-u[2],g=s[3]-u[3],b=0,w=J.swingSpeed;o=d[0],r=d[1],i=d[2],a=d[3],ft.animMode(!0);var v=function(){return function(){b+=(100-b)/w,d[0]=Math.round(o+b/100*h),d[1]=Math.round(r+b/100*f),d[2]=Math.round(i+b/100*p),d[3]=Math.round(a+b/100*g),b>=99.8&&(b=100),100>b?(S(d),n()):(ft.done(),ft.animMode(!1),"function"==typeof t&&t.call(bt))}}();n()}}function C(e){S([e[0]/tt,e[1]/nt,e[2]/tt,e[3]/nt]),J.onSelect.call(bt,g(lt.getFixed())),ft.enableHandles()}function S(e){lt.setPressed([e[0],e[1]]),lt.setCurrent([e[2],e[3]]),ft.update()}function k(){return g(lt.getFixed())}function z(){return lt.getFixed()}function M(e){c(e),B()}function O(){J.disabled=!0,ft.disableHandles(),ft.setCursor("default"),pt.setCursor("default")}function j(){J.disabled=!1,B()}function F(){ft.done(),pt.activateHandlers(null,null)}function H(){G.remove(),K.show(),K.css("visibility","visible"),e(t).removeData("Jcrop")}function D(e,t){ft.release(),O();var n=new Image;n.onload=function(){var o=n.width,r=n.height,i=J.boxWidth,a=J.boxHeight;Y.width(o).height(r),Y.attr("src",e),N.attr("src",e),p(Y,i,a),L=Y.width(),X=Y.height(),N.width(L).height(X),st.width(L+2*at).height(X+2*at),G.width(L).height(X),ht.resize(L,X),j(),"function"==typeof t&&t.call(bt)},n.src=e}function I(e,t,n){var o=t||J.bgColor;J.bgFade&&i()&&J.fadeTime&&!n?e.animate({backgroundColor:o},{queue:!1,duration:J.fadeTime}):e.css("backgroundColor",o)}function B(e){J.allowResize?e?ft.enableOnly():ft.enableHandles():ft.disableHandles(),pt.setCursor(J.allowSelect?"crosshair":"default"),ft.setCursor(J.allowMove?"move":"default"),J.hasOwnProperty("trueSize")&&(tt=J.trueSize[0]/L,nt=J.trueSize[1]/X),J.hasOwnProperty("setSelect")&&(C(J.setSelect),ft.done(),delete J.setSelect),ht.refresh(),J.bgColor!=ct&&(I(J.shade?ht.getShades():G,J.shade?J.shadeColor||J.bgColor:J.bgColor),ct=J.bgColor),ut!=J.bgOpacity&&(ut=J.bgOpacity,J.shade?ht.refresh():ft.setBgOpacity(ut)),Z=J.maxSize[0]||0,$=J.maxSize[1]||0,_=J.minSize[0]||0,et=J.minSize[1]||0,J.hasOwnProperty("outerImage")&&(Y.attr("src",J.outerImage),delete J.outerImage),ft.refresh()}var P,J=e.extend({},e.Jcrop.defaults),A=navigator.userAgent.toLowerCase(),R=/msie/.test(A),T=/msie [1-6]\./.test(A);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),c(n);var q={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},K=e(t),E=!0;if("IMG"==t.tagName){if(0!=K[0].width&&0!=K[0].height)K.width(K[0].width),K.height(K[0].height);else{var W=new Image;W.src=K[0].src,K.width(W.width),K.height(W.height)}var Y=K.clone().removeAttr("id").css(q).show();Y.width(K.width()),Y.height(K.height()),K.after(Y).hide()}else Y=K.css(q).show(),E=!1,null===J.shade&&(J.shade=!0);p(Y,J.boxWidth,J.boxHeight);var L=Y.width(),X=Y.height(),G=e("<div />").width(L).height(X).addClass(r("holder")).css({position:"relative",backgroundColor:J.bgColor}).insertAfter(K).append(Y);J.addClass&&G.addClass(J.addClass);var N=e("<div />"),V=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),Q=e("<div />").width("100%").height("100%").css("zIndex",320),U=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=lt.getFixed();J.onDblClick.call(bt,e)}).insertBefore(Y).append(V,Q);E&&(N=e("<img />").attr("src",Y.attr("src")).css(q).width(L).height(X),V.append(N)),T&&U.css({overflowY:"hidden"});var Z,$,_,et,tt,nt,ot,rt,it,at=J.boundary,st=y().width(L+2*at).height(X+2*at).css({position:"absolute",top:o(-at),left:o(-at),zIndex:290}).mousedown(w),ct=J.bgColor,ut=J.bgOpacity;P=a(Y);var dt=function(){function e(){var e,t={},n=["touchstart","touchmove","touchend"],o=document.createElement("div");try{for(e=0;e<n.length;e++){var r=n[e];r="on"+r;var i=r in o;i||(o.setAttribute(r,"return;"),i="function"==typeof o[r]),t[n[e]]=i}return t.touchstart&&t.touchend&&t.touchmove}catch(a){return!1}}function t(){return J.touchSupport===!0||J.touchSupport===!1?J.touchSupport:e()}return{createDragger:function(e){return function(t){return J.disabled?!1:"move"!==e||J.allowMove?(P=a(Y),ot=!0,u(e,s(dt.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1):!1}},newSelection:function(e){return w(dt.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),lt=function(){function e(e){e=a(e),p=h=e[0],g=f=e[1]}function t(e){e=a(e),d=e[0]-p,l=e[1]-g,p=e[0],g=e[1]}function n(){return[d,l]}function o(e){var t=e[0],n=e[1];0>h+t&&(t-=t+h),0>f+n&&(n-=n+f),g+n>X&&(n+=X-(g+n)),p+t>L&&(t+=L-(p+t)),h+=t,p+=t,f+=n,g+=n}function r(e){var t=i();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function i(){if(!J.aspectRatio)return c();var e,t,n,o,r=J.aspectRatio,i=J.minSize[0]/tt,a=J.maxSize[0]/tt,d=J.maxSize[1]/nt,l=p-h,b=g-f,w=Math.abs(l),v=Math.abs(b),y=w/v;return 0===a&&(a=10*L),0===d&&(d=10*X),r>y?(t=g,n=v*r,e=0>l?h-n:n+h,0>e?(e=0,o=Math.abs((e-h)/r),t=0>b?f-o:o+f):e>L&&(e=L,o=Math.abs((e-h)/r),t=0>b?f-o:o+f)):(e=p,o=w/r,t=0>b?f-o:f+o,0>t?(t=0,n=Math.abs((t-f)*r),e=0>l?h-n:n+h):t>X&&(t=X,n=Math.abs(t-f)*r,e=0>l?h-n:n+h)),e>h?(i>e-h?e=h+i:e-h>a&&(e=h+a),t=t>f?f+(e-h)/r:f-(e-h)/r):h>e&&(i>h-e?e=h-i:h-e>a&&(e=h-a),t=t>f?f+(h-e)/r:f-(h-e)/r),0>e?(h-=e,e=0):e>L&&(h-=e-L,e=L),0>t?(f-=t,t=0):t>X&&(f-=t-X,t=X),u(s(h,f,e,t))}function a(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>L&&(e[0]=L),e[1]>X&&(e[1]=X),[Math.round(e[0]),Math.round(e[1])]}function s(e,t,n,o){var r=e,i=n,a=t,s=o;return e>n&&(r=n,i=e),t>o&&(a=o,s=t),[r,a,i,s]}function c(){var e,t=p-h,n=g-f;return Z&&Math.abs(t)>Z&&(p=t>0?h+Z:h-Z),$&&Math.abs(n)>$&&(g=n>0?f+$:f-$),et/nt&&Math.abs(n)<et/nt&&(g=n>0?f+et/nt:f-et/nt),_/tt&&Math.abs(t)<_/tt&&(p=t>0?h+_/tt:h-_/tt),0>h&&(p-=h,h-=h),0>f&&(g-=f,f-=f),0>p&&(h-=p,p-=p),0>g&&(f-=g,g-=g),p>L&&(e=p-L,h-=e,p-=e),g>X&&(e=g-X,f-=e,g-=e),h>L&&(e=h-X,g-=e,f-=e),f>X&&(e=f-X,g-=e,f-=e),u(s(h,f,p,g))}function u(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var d,l,h=0,f=0,p=0,g=0;return{flipCoords:s,setPressed:e,setCurrent:t,getOffset:n,moveOffset:o,getCorner:r,getFixed:i}}(),ht=function(){function t(e,t){p.left.css({height:o(t)}),p.right.css({height:o(t)})}function n(){return r(lt.getFixed())}function r(e){p.top.css({left:o(e.x),width:o(e.w),height:o(e.y)}),p.bottom.css({top:o(e.y2),left:o(e.x),width:o(e.w),height:o(X-e.y2)}),p.right.css({left:o(e.x2),width:o(L-e.x2)}),p.left.css({width:o(e.x)})}function i(){return e("<div />").css({position:"absolute",backgroundColor:J.shadeColor||J.bgColor}).appendTo(f)}function a(){h||(h=!0,f.insertBefore(Y),n(),ft.setBgOpacity(1,0,1),N.hide(),s(J.shadeColor||J.bgColor,1),ft.isAwake()?u(J.bgOpacity,1):u(1,1))}function s(e,t){I(l(),e,t)}function c(){h&&(f.remove(),N.show(),h=!1,ft.isAwake()?ft.setBgOpacity(J.bgOpacity,1,1):(ft.setBgOpacity(1,1,1),ft.disableHandles()),I(G,0,1))}function u(e,t){h&&(J.bgFade&&!t?f.animate({opacity:1-e},{queue:!1,duration:J.fadeTime}):f.css({opacity:1-e}))}function d(){J.shade?a():c(),ft.isAwake()&&u(J.bgOpacity)}function l(){return f.children()}var h=!1,f=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),p={top:i(),left:i().height(X),right:i().height(X),bottom:i()};return{update:n,updateRaw:r,getShades:l,setBgColor:s,enable:a,disable:c,resize:t,refresh:d,opacity:u}}(),ft=function(){function t(t){var n=e("<div />").css({position:"absolute",opacity:J.borderOpacity}).addClass(r(t));return V.append(n),n}function n(t,n){var o=e("<div />").mousedown(f(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return dt.support&&o.bind("touchstart.jcrop",dt.createDragger(t)),Q.append(o),o}function i(e){var t=J.handleSize,o=n(e,O++).css({opacity:J.handleOpacity}).addClass(r("handle"));return t&&o.width(t).height(t),o}function a(e){return n(e,O++).addClass("jcrop-dragbar")}function s(e){var t;for(t=0;t<e.length;t++)H[e[t]]=a(e[t])}function c(e){var n,o;for(o=0;o<e.length;o++){switch(e[o]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}j[e[o]]=t(n)}}function u(e){var t;for(t=0;t<e.length;t++)F[e[t]]=i(e[t])}function d(e,t){J.shade||N.css({top:o(-t),left:o(-e)}),U.css({top:o(t),left:o(e)})}function l(e,t){U.width(Math.round(e)).height(Math.round(t))}function h(){var e=lt.getFixed();lt.setPressed([e.x,e.y]),lt.setCurrent([e.x2,e.y2]),p()}function p(e){return M?b(e):void 0}function b(e){var t=lt.getFixed();l(t.w,t.h),d(t.x,t.y),J.shade&&ht.updateRaw(t),M||v(),e?J.onSelect.call(bt,g(t)):J.onChange.call(bt,g(t))}function w(e,t,n){(M||t)&&(J.bgFade&&!n?Y.animate({opacity:e},{queue:!1,duration:J.fadeTime}):Y.css("opacity",e))}function v(){U.show(),J.shade?ht.opacity(ut):w(ut,!0),M=!0}function m(){S(),U.hide(),J.shade?ht.opacity(1):w(1),M=!1,J.onRelease.call(bt)}function x(){D&&Q.show()}function C(){return D=!0,J.allowResize?(Q.show(),!0):void 0}function S(){D=!1,Q.hide()}function k(e){e?(rt=!0,S()):(rt=!1,C())}function z(){k(!1),h()}var M,O=370,j={},F={},H={},D=!1;J.dragEdges&&e.isArray(J.createDragbars)&&s(J.createDragbars),e.isArray(J.createHandles)&&u(J.createHandles),J.drawBorders&&e.isArray(J.createBorders)&&c(J.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var I=y().mousedown(f("move")).css({cursor:"move",position:"absolute",zIndex:360});return dt.support&&I.bind("touchstart.jcrop",dt.createDragger("move")),V.append(I),S(),{updateVisible:p,update:b,release:m,refresh:h,isAwake:function(){return M},setCursor:function(e){I.css("cursor",e)},enableHandles:C,enableOnly:function(){D=!0},showHandles:x,disableHandles:S,animMode:k,setBgOpacity:w,done:z}}(),pt=function(){function t(t){st.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",a).bind("touchend.jcrop",c):h&&e(document).bind("mousemove.jcrop",o).bind("mouseup.jcrop",r)}function n(){st.css({zIndex:290}),e(document).unbind(".jcrop")}function o(e){return d(s(e)),!1}function r(e){return e.preventDefault(),e.stopPropagation(),ot&&(ot=!1,l(s(e)),ft.isAwake()&&J.onSelect.call(bt,g(lt.getFixed())),n(),d=function(){},l=function(){}),!1}function i(e,n,o){return ot=!0,d=e,l=n,t(o),!1}function a(e){return d(s(dt.cfilter(e))),!1}function c(e){return r(dt.cfilter(e))}function u(e){st.css("cursor",e)}var d=function(){},l=function(){},h=J.trackDocument;return h||st.mousemove(o).mouseup(r).mouseout(r),Y.before(st),{activateHandlers:i,setCursor:u}}(),gt=function(){function t(){J.keySupport&&(i.show(),i.focus())}function n(){i.hide()}function o(e,t,n){J.allowMove&&(lt.moveOffset([t,n]),ft.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function r(e){if(e.ctrlKey||e.metaKey)return!0;it=e.shiftKey?!0:!1;var t=it?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:J.allowSelect&&ft.release();break;case 9:return!0}return!1}var i=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),a=e("<div />").css({position:"absolute",overflow:"hidden"}).append(i);return J.keySupport&&(i.keydown(r).blur(n),T||!J.fixedSupport?(i.css({position:"absolute",left:"-20px"}),a.append(i).insertBefore(Y)):i.insertBefore(Y)),{watchKeys:t}}();dt.support&&st.bind("touchstart.jcrop",dt.newSelection),Q.hide(),B(!0);var bt={setImage:D,animateTo:x,setSelect:C,setOptions:M,tellSelect:k,tellScaled:z,setClass:m,disable:O,enable:j,cancel:F,release:ft.release,destroy:H,focus:gt.watchKeys,getBounds:function(){return[L*tt,X*nt]},getWidgetSize:function(){return[L,X]},getScaleFactor:function(){return[tt,nt]},getOptions:function(){return J},ui:{holder:G,selection:U}};return R&&G.bind("selectstart",function(){return!1}),K.data("Jcrop",bt),bt},e.fn.Jcrop=function(t,n){var o;return this.each(function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),o=e.Jcrop(this,t),e.isFunction(n)&&n.call(o)}):(e(this).css({display:"block",visibility:"hidden"}),o=e.Jcrop(this,t),e.isFunction(n)&&n.call(o))}),this},e.Jcrop.Loader=function(t,n,o){function r(){a.complete?(i.unbind(".jcloader"),e.isFunction(n)&&n.call(a)):window.setTimeout(r,50)}var i=e(t),a=i[0];i.bind("load.jcloader",r).bind("error.jcloader",function(){i.unbind(".jcloader"),e.isFunction(o)&&o.call(a)}),a.complete&&e.isFunction(n)&&(i.unbind(".jcloader"),n.call(a))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(t)});
;define("common:widget/oui/lib/jcrop/0.9.8/jquery.Jcrop",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery");!function(e){e.Jcrop=function(t,n){function o(e){return""+parseInt(e)+"px"}function r(e){return""+parseInt(e)+"%"}function s(e){return K.baseClass+"-"+e}function a(t){var n=e(t).offset();return[n.left,n.top]}function c(e){return[e.pageX-it[0],e.pageY-it[1]]}function u(e){e!=Z&&(ut.setCursor(e),Z=e)}function d(e,t){if(it=a(W),ut.setCursor("move"==e?e:e+"-resize"),"move"==e)return ut.activateHandlers(f(t),m);var n=at.getFixed(),o=p(e),r=at.getCorner(p(o));at.setPressed(at.getCorner(o)),at.setCurrent(r),ut.activateHandlers(l(e,n),m)}function l(e,t){return function(n){if(K.aspectRatio)switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}else switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}at.setCurrent(n),ct.update()}}function f(e){var t=e;return dt.watchKeys(),function(e){at.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,ct.update()}}function p(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function v(e){return function(t){return K.disabled?!1:"move"!=e||K.allowMove?(U=!0,d(e,c(t)),t.stopPropagation(),t.preventDefault(),!1):!1}}function b(e,t,n){var o=e.width(),r=e.height();o>t&&t>0&&(o=t,r=t/e.width()*e.height()),r>n&&n>0&&(r=n,o=n/e.height()*e.width()),N=e.width()/o,Q=e.height()/r,e.width(o).height(r)}function g(e){return{x:parseInt(e.x*N),y:parseInt(e.y*Q),x2:parseInt(e.x2*N),y2:parseInt(e.y2*Q),w:parseInt(e.w*N),h:parseInt(e.h*Q)}}function m(){var e=at.getFixed();e.w>K.minSelect[0]&&e.h>K.minSelect[1]?(ct.enableHandles(),ct.done()):ct.release(),ut.setCursor(K.allowSelect?"crosshair":"default")}function y(e){if(K.disabled)return!1;if(!K.allowSelect)return!1;U=!0,it=a(W),ct.disableHandles(),u("crosshair");var t=c(e);return at.setPressed(t),ut.activateHandlers(x,m),dt.watchKeys(),ct.update(),e.stopPropagation(),e.preventDefault(),!1}function x(e){at.setCurrent(e),ct.update()}function C(){var t=e("<div></div>").addClass(s("tracker"));return q&&t.css({opacity:0,backgroundColor:"white"}),t}function S(e){function t(){window.setTimeout(g,u)}var n=e[0]/N,o=e[1]/Q,r=e[2]/N,s=e[3]/Q;if(!$){var i=at.flipCoords(n,o,r,s),a=at.getFixed(),c=initcr=[a.x,a.y,a.x2,a.y2],u=K.animationDelay,d=c[0],l=c[1],r=c[2],s=c[3],f=i[0]-initcr[0],h=i[1]-initcr[1],p=i[2]-initcr[2],w=i[3]-initcr[3],v=0,b=K.swingSpeed;ct.animMode(!0);var g=function(){return function(){v+=(100-v)/b,c[0]=d+v/100*f,c[1]=l+v/100*h,c[2]=r+v/100*p,c[3]=s+v/100*w,100>v?t():ct.done(),v>=99.8&&(v=100),z(c)}}();t()}}function k(e){z([e[0]/N,e[1]/Q,e[2]/N,e[3]/Q])}function z(e){at.setPressed([e[0],e[1]]),at.setCurrent([e[2],e[3]]),ct.update()}function M(t){"object"!=typeof t&&(t={}),K=e.extend(K,t),"function"!=typeof K.onChange&&(K.onChange=function(){}),"function"!=typeof K.onSelect&&(K.onSelect=function(){})}function I(){return g(at.getFixed())}function H(){return at.getFixed()}function O(e){M(e),J()}function j(){K.disabled=!0,ct.disableHandles(),ct.setCursor("default"),ut.setCursor("default")}function D(){K.disabled=!1,J()}function F(){ct.done(),ut.activateHandlers(null,null)}function P(){V.remove(),A.show()}function J(e){K.allowResize?e?ct.enableOnly():ct.enableHandles():ct.disableHandles(),ut.setCursor(K.allowSelect?"crosshair":"default"),ct.setCursor(K.allowMove?"move":"default"),V.css("backgroundColor",K.bgColor),"setSelect"in K&&(k(n.setSelect),ct.done(),delete K.setSelect),"trueSize"in K&&(N=K.trueSize[0]/E,Q=K.trueSize[1]/T),L=K.maxSize[0]||0,X=K.maxSize[1]||0,Y=K.minSize[0]||0,G=K.minSize[1]||0,"outerImage"in K&&(W.attr("src",K.outerImage),delete K.outerImage),ct.refresh()}var t=t,n=n,R=navigator.userAgent.toLowerCase(),q=/msie/.test(R);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),"trackDocument"in n||(n.trackDocument=q?!1:!0,q&&document.documentMode&&(n.trackDocument=!0)),"keySupport"in n||(n.keySupport=q?!1:!0);var B={trackDocument:!1,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,borderOpacity:.4,handleOpacity:.5,handlePad:5,handleSize:9,handleOffset:5,edgeMargin:14,aspectRatio:0,keySupport:!0,cornerHandles:!0,sideHandles:!0,drawBorders:!0,dragEdges:!0,boxWidth:0,boxHeight:0,boundary:8,animationDelay:20,swingSpeed:3,allowSelect:!0,allowMove:!0,allowResize:!0,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){}},K=B;M(n);var A=e(t),W=A.clone().removeAttr("id").css({position:"absolute"});W.width(A.width()),W.height(A.height()),A.after(W).hide(),b(W,K.boxWidth,K.boxHeight);var E=W.width(),T=W.height(),V=e("<div />").width(E).height(T).addClass(s("holder")).css({position:"relative",backgroundColor:K.bgColor}).insertAfter(A).append(W);K.addClass&&V.addClass(K.addClass);var L,X,Y,G,N,Q,U,Z,$,_,et=e("<img />").attr("src",W.attr("src")).css("position","absolute").width(E).height(T),tt=e("<div />").width(r(100)).height(r(100)).css({zIndex:310,position:"absolute",overflow:"hidden"}).append(et),nt=e("<div />").width(r(100)).height(r(100)).css("zIndex",320),ot=e("<div />").css({position:"absolute",zIndex:300}).insertBefore(W).append(tt,nt),rt=K.boundary,st=C().width(E+2*rt).height(T+2*rt).css({position:"absolute",top:o(-rt),left:o(-rt),zIndex:290}).mousedown(y),it=a(W),at=function(){function e(e){var e=i(e);v=f=e[0],b=p=e[1]}function t(e){var e=i(e);d=e[0]-v,l=e[1]-b,v=e[0],b=e[1]}function n(){return[d,l]}function o(e){var t=e[0],n=e[1];0>f+t&&(t-=t+f),0>p+n&&(n-=n+p),b+n>T&&(n+=T-(b+n)),v+t>E&&(t+=E-(v+t)),f+=t,v+=t,p+=n,b+=n}function r(e){var t=s();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function s(){if(!K.aspectRatio)return c();var e,t,n=K.aspectRatio,o=K.minSize[0]/N,r=(K.minSize[1]/Q,K.maxSize[0]/N),s=K.maxSize[1]/Q,i=v-f,d=b-p,l=Math.abs(i),g=Math.abs(d),m=l/g;return 0==r&&(r=10*E),0==s&&(s=10*T),n>m?(t=b,w=g*n,e=0>i?f-w:w+f,0>e?(e=0,h=Math.abs((e-f)/n),t=0>d?p-h:h+p):e>E&&(e=E,h=Math.abs((e-f)/n),t=0>d?p-h:h+p)):(e=v,h=l/n,t=0>d?p-h:p+h,0>t?(t=0,w=Math.abs((t-p)*n),e=0>i?f-w:w+f):t>T&&(t=T,w=Math.abs(t-p)*n,e=0>i?f-w:w+f)),e>f?(o>e-f?e=f+o:e-f>r&&(e=f+r),t=t>p?p+(e-f)/n:p-(e-f)/n):f>e&&(o>f-e?e=f-o:f-e>r&&(e=f-r),t=t>p?p+(f-e)/n:p-(f-e)/n),0>e?(f-=e,e=0):e>E&&(f-=e-E,e=E),0>t?(p-=t,t=0):t>T&&(p-=t-T,t=T),last=u(a(f,p,e,t))}function i(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>E&&(e[0]=E),e[1]>T&&(e[1]=T),[e[0],e[1]]}function a(e,t,n,o){var r=e,s=n,i=t,a=o;return e>n&&(r=n,s=e),t>o&&(i=o,a=t),[Math.round(r),Math.round(i),Math.round(s),Math.round(a)]}function c(){var e=v-f,t=b-p;if(L&&Math.abs(e)>L&&(v=e>0?f+L:f-L),X&&Math.abs(t)>X&&(b=t>0?p+X:p-X),G&&Math.abs(t)<G&&(b=t>0?p+G:p-G),Y&&Math.abs(e)<Y&&(v=e>0?f+Y:f-Y),0>f&&(v-=f,f-=f),0>p&&(b-=p,p-=p),0>v&&(f-=v,v-=v),0>b&&(p-=b,b-=b),v>E){var n=v-E;f-=n,v-=n}if(b>T){var n=b-T;p-=n,b-=n}if(f>E){var n=f-T;b-=n,p-=n}if(p>T){var n=p-T;b-=n,p-=n}return u(a(f,p,v,b))}function u(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var d,l,f=0,p=0,v=0,b=0;return{flipCoords:a,setPressed:e,setCurrent:t,getOffset:n,moveOffset:o,getCorner:r,getFixed:s}}(),ct=function(){function t(t){var n=e("<div />").css({position:"absolute",opacity:K.borderOpacity}).addClass(s(t));return tt.append(n),n}function n(t,n){var o=e("<div />").mousedown(v(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n});return nt.append(o),o}function a(e){return n(e,I++).css({top:o(-D+1),left:o(-D+1),opacity:K.handleOpacity}).addClass(s("handle"))}function c(e){var t=K.handleSize,s=D,i=t,a=t,c=s,u=s;switch(e){case"n":case"s":a=r(100);break;case"e":case"w":i=r(100)}return n(e,I++).width(a).height(i).css({top:o(-c+1),left:o(-u+1)})}function u(e){for(i in e)O[e[i]]=a(e[i])}function d(e){var t=Math.round(e.h/2-D),n=Math.round(e.w/2-D),r=(west=-D+1,e.w-D),s=e.h-D;"e"in O&&O.e.css({top:o(t),left:o(r)})&&O.w.css({top:o(t)})&&O.s.css({top:o(s),left:o(n)})&&O.n.css({left:o(n)}),"ne"in O&&O.ne.css({left:o(r)})&&O.se.css({top:o(s),left:o(r)})&&O.sw.css({top:o(s)}),"b"in O&&O.b.css({top:o(s)})&&O.r.css({left:o(r)})}function l(e,t){et.css({top:o(-t),left:o(-e)}),ot.css({top:o(t),left:o(e)})}function f(e,t){ot.width(e).height(t)}function h(){var e=at.getFixed();at.setPressed([e.x,e.y]),at.setCurrent([e.x2,e.y2]),p()}function p(){return M?w():void 0}function w(){var e=at.getFixed();f(e.w,e.h),l(e.x,e.y),K.drawBorders&&H.right.css({left:o(e.w-1)})&&H.bottom.css({top:o(e.h-1)}),j&&d(e),M||b(),K.onChange(g(e))}function b(){ot.show(),W.css("opacity",K.bgOpacity),M=!0}function m(){S(),ot.hide(),W.css("opacity",1),M=!1}function y(){j&&(d(at.getFixed()),nt.show())}function x(){return j=!0,K.allowResize?(d(at.getFixed()),nt.show(),!0):void 0}function S(){j=!1,nt.hide()}function k(e){($=e)?S():x()}function z(){k(!1),h()}var M,I=370,H={},O={},j=!1,D=K.handleOffset;K.drawBorders&&(H={top:t("hline").css("top",o(q?-1:0)),bottom:t("hline"),left:t("vline"),right:t("vline")}),K.dragEdges&&(O.t=c("n"),O.b=c("s"),O.r=c("e"),O.l=c("w")),K.sideHandles&&u(["n","s","e","w"]),K.cornerHandles&&u(["sw","nw","ne","se"]);var F=C().mousedown(v("move")).css({cursor:"move",position:"absolute",zIndex:360});return tt.append(F),S(),{updateVisible:p,update:w,release:m,refresh:h,setCursor:function(e){F.css("cursor",e)},enableHandles:x,enableOnly:function(){j=!0},showHandles:y,disableHandles:S,animMode:k,done:z}}(),ut=function(){function t(){st.css({zIndex:450}),d&&e(document).mousemove(o).mouseup(r)}function n(){st.css({zIndex:290}),d&&e(document).unbind("mousemove",o).unbind("mouseup",r)}function o(e){a(c(e))}function r(e){return e.preventDefault(),e.stopPropagation(),U&&(U=!1,u(c(e)),K.onSelect(g(at.getFixed())),n(),a=function(){},u=function(){}),!1}function s(e,n){return U=!0,a=e,u=n,t(),!1}function i(e){st.css("cursor",e)}var a=function(){},u=function(){},d=K.trackDocument;return d||st.mousemove(o).mouseup(r).mouseout(r),W.before(st),{activateHandlers:s,setCursor:i}}(),dt=function(){function t(){K.keySupport&&(s.show(),s.focus())}function n(){s.hide()}function o(e,t,n){K.allowMove&&(at.moveOffset([t,n]),ct.updateVisible()),e.preventDefault(),e.stopPropagation()}function r(e){if(e.ctrlKey)return!0;_=e.shiftKey?!0:!1;var t=_?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:ct.release();break;case 9:return!0}return nothing(e)}var s=e('<input type="radio" />').css({position:"absolute",left:"-30px"}).keypress(r).blur(n),i=e("<div />").css({position:"absolute",overflow:"hidden"}).append(s);return K.keySupport&&i.insertBefore(W),{watchKeys:t}}();nt.hide(),J(!0);var lt={animateTo:S,setSelect:k,setOptions:O,tellSelect:I,tellScaled:H,disable:j,enable:D,cancel:F,focus:dt.watchKeys,getBounds:function(){return[E*N,T*Q]},getWidgetSize:function(){return[E,T]},release:ct.release,destroy:P};return A.data("Jcrop",lt),lt},e.fn.Jcrop=function(t){function n(n){var o=t.useImg||n.src,r=new Image;r.onload=function(){e.Jcrop(n,t)},r.src=o}return"object"!=typeof t&&(t={}),this.each(function(){if(e(this).data("Jcrop")){if("api"==t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else n(this)}),this}}(t)});
;define("common:widget/oui/lib/mailSuggest/0.0.1/mailSuggest",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t,e,i){var o=t("common:widget/oui/lib/jquery/1.9.1/jquery"),n=function(t){this.opt=o.extend({domains:["qq.com","163.com","126.com","gmail.com","189.cn","sina.com","hotmail.com","sina.cn"]},t)};n.prototype={run:function(t){var e={},i=[],n=[],s=this.opt.domains;if(/@/.test(t)){var m=t.match(/(.*)@(.*)/);o.each(s,function(t,e){var i=new RegExp("^"+m[2]);i.test(e)&&n.push(e)}),e.parts=m[1],e.address=m[2]}else e.parts=t,n=s;return o.each(n,function(t,o){i.push({email:e.parts+"@"+o})}),e.inputs=t,e.lists=i,e}},i.exports=n});
;define("common:widget/oui/lib/plupload/1.5.7/plupload.full",function(){!function(){function e(){this.returnValue=!1}function t(){this.cancelBubble=!0}var n,i,r=0,a=[],s={},o={},l={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},d=/[<>&\"\']/g,u=window.setTimeout,c={};!function(e){var t,n,i,r=e.split(/,/);for(t=0;t<r.length;t+=2)for(i=r[t+1].split(/ /),n=0;n<i.length;n++)o[i[n]]=r[t]}("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var g={VERSION:"1.5.7",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:o,ua:function(){var e,t,n,i=navigator,r=i.userAgent,a=i.vendor;return e=/WebKit/.test(r),n=e&&-1!==a.indexOf("Apple"),t=window.opera&&window.opera.buildNumber,{windows:-1!==navigator.platform.indexOf("Win"),android:/Android/.test(r),ie:!e&&!t&&/MSIE/gi.test(r)&&/Explorer/gi.test(i.appName),webkit:e,gecko:!e&&/Gecko/.test(r),safari:n,opera:!!t}}(),typeOf:function(e){return{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(e){return g.each(arguments,function(t,n){n>0&&g.each(t,function(t,n){e[n]=t})}),e},cleanName:function(e){var t,n;for(n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},addRuntime:function(e,t){return t.name=e,a[e]=t,a.push(t),t},guid:function(){var e,t=(new Date).getTime().toString(32);for(e=0;5>e;e++)t+=Math.floor(65535*Math.random()).toString(32);return(g.guidPrefix||"p")+t+(r++).toString(32)},buildUrl:function(e,t){var n="";return g.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},each:function(e,t){var i,r,a;if(e)if(i=e.length,i===n){for(r in e)if(e.hasOwnProperty(r)&&t(e[r],r)===!1)return}else for(a=0;i>a;a++)if(t(e[a],a)===!1)return},formatSize:function(e){return e===n||/\D/.test(e)?g.translate("N/A"):e>1073741824?Math.round(e/1073741824,1)+" GB":e>1048576?Math.round(e/1048576,1)+" MB":e>1024?Math.round(e/1024,1)+" KB":e+" b"},getPos:function(e,t){function n(e){var t,n,i=0,r=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===l.compatMode?l.documentElement:l.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}var i,r,a,s=0,o=0,l=document;if(e=e,t=t||l.body,e&&e.getBoundingClientRect&&g.ua.ie&&(!l.documentMode||l.documentMode<8))return r=n(e),a=n(t),{x:r.x-a.x,y:r.y-a.y};for(i=e;i&&i!=t&&i.nodeType;)s+=i.offsetLeft||0,o+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)s-=i.scrollLeft||0,o-=i.scrollTop||0,i=i.parentNode;return{x:s,y:o}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}},parseSize:function(e){var t;return"string"==typeof e&&(e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],"g"==t&&(e*=1073741824),"m"==t&&(e*=1048576),"k"==t&&(e*=1024)),e},xmlEncode:function(e){return e?(""+e).replace(d,function(e){return l[e]?"&"+l[e]+";":e}):e},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},inArray:function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1},addI18n:function(e){return g.extend(s,e)},translate:function(e){return s[e]||e},isEmptyObj:function(e){if(e===n)return!0;for(var t in e)return!1;return!0},hasClass:function(e,t){var n;return""==e.className?!1:(n=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),n.test(e.className))},addClass:function(e,t){g.hasClass(e,t)||(e.className=""==e.className?t:e.className.replace(/\s+$/,"")+" "+t)},removeClass:function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return" "===t&&" "===n?" ":""})},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},addEvent:function(r,a,s){var o,l,d;d=arguments[3],a=a.toLowerCase(),i===n&&(i="Plupload_"+g.guid()),r.addEventListener?(o=s,r.addEventListener(a,o,!1)):r.attachEvent&&(o=function(){var n=window.event;n.target||(n.target=n.srcElement),n.preventDefault=e,n.stopPropagation=t,s(n)},r.attachEvent("on"+a,o)),r[i]===n&&(r[i]=g.guid()),c.hasOwnProperty(r[i])||(c[r[i]]={}),l=c[r[i]],l.hasOwnProperty(a)||(l[a]=[]),l[a].push({func:o,orig:s,key:d})},removeEvent:function(e,t){var r,a,s;if("function"==typeof arguments[2]?a=arguments[2]:s=arguments[2],t=t.toLowerCase(),e[i]&&c[e[i]]&&c[e[i]][t]){r=c[e[i]][t];for(var o=r.length-1;o>=0&&(r[o].key!==s&&r[o].orig!==a||(e.removeEventListener?e.removeEventListener(t,r[o].func,!1):e.detachEvent&&e.detachEvent("on"+t,r[o].func),r[o].orig=null,r[o].func=null,r.splice(o,1),a===n));o--);if(r.length||delete c[e[i]][t],g.isEmptyObj(c[e[i]])){delete c[e[i]];try{delete e[i]}catch(l){e[i]=n}}}},removeAllEvents:function(e){var t=arguments[1];e[i]!==n&&e[i]&&g.each(c[e[i]],function(n,i){g.removeEvent(e,i,t)})}};g.Uploader=function(e){function t(){var e,t,n=0;if(this.state==g.STARTED){for(t=0;t<l.length;t++)e||l[t].status!=g.QUEUED?n++:(e=l[t],e.status=g.UPLOADING,this.trigger("BeforeUpload",e)&&this.trigger("UploadFile",e));n==l.length&&(this.stop(),this.trigger("UploadComplete",l))}}function i(){var e,t;for(r.reset(),e=0;e<l.length;e++)t=l[e],t.size!==n?(r.size+=t.size,r.loaded+=t.loaded):r.size=n,t.status==g.DONE?r.uploaded++:t.status==g.FAILED?r.failed++:r.queued++;r.size===n?r.percent=l.length>0?Math.ceil(r.uploaded/l.length*100):0:(r.bytesPerSec=Math.ceil(r.loaded/((+new Date-s||1)/1e3)),r.percent=r.size>0?Math.ceil(r.loaded/r.size*100):0)}var r,s,o={},l=[],d=!1;r=new g.QueueProgress,e=g.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},e),g.extend(this,{state:g.STOPPED,runtime:"",features:{},files:l,settings:e,total:r,id:g.guid(),init:function(){function r(){var e,t,n,i=d[f++];if(i){if(e=i.getFeatures(),t=p.settings.required_features)for(t=t.split(","),n=0;n<t.length;n++)if(!e[t[n]])return void r();i.init(p,function(t){t&&t.success?(p.features=e,p.runtime=i.name,p.trigger("Init",{runtime:i.name}),p.trigger("PostInit"),p.refresh()):r()})}else p.trigger("Error",{code:g.INIT_ERROR,message:g.translate("Init error.")})}var o,d,c,p=this,f=0;if("function"==typeof e.preinit?e.preinit(p):g.each(e.preinit,function(e,t){p.bind(t,e)}),e.page_url=e.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/"),/^(\w+:\/\/|\/)/.test(e.url)||(e.url=e.page_url+e.url),e.chunk_size=g.parseSize(e.chunk_size),e.max_file_size=g.parseSize(e.max_file_size),p.bind("FilesAdded",function(t,i){var r,a,s,o=0,d=e.filters;for(d&&d.length&&(s=[],g.each(d,function(e){g.each(e.extensions.split(/,/),function(e){s.push(/^\s*\*\s*$/.test(e)?"\\.*":"\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),s=new RegExp(s.join("|")+"$","i")),r=0;r<i.length;r++)a=i[r],a.loaded=0,a.percent=0,a.status=g.QUEUED,!s||s.test(a.name)?a.size!==n&&a.size>e.max_file_size?t.trigger("Error",{code:g.FILE_SIZE_ERROR,message:g.translate("File size error."),file:a}):(l.push(a),o++):t.trigger("Error",{code:g.FILE_EXTENSION_ERROR,message:g.translate("File extension error."),file:a});return o?void u(function(){p.trigger("QueueChanged"),p.refresh()},1):!1}),e.unique_names&&p.bind("UploadFile",function(e,t){var n=t.name.match(/\.([^.]+)$/),i="tmp";n&&(i=n[1]),t.target_name=t.id+"."+i}),p.bind("UploadProgress",function(e,t){t.percent=t.size>0?Math.ceil(t.loaded/t.size*100):100,i()}),p.bind("StateChanged",function(e){if(e.state==g.STARTED)s=+new Date;else if(e.state==g.STOPPED)for(o=e.files.length-1;o>=0;o--)e.files[o].status==g.UPLOADING&&(e.files[o].status=g.QUEUED,i())}),p.bind("QueueChanged",i),p.bind("Error",function(e,n){n.file&&(n.file.status=g.FAILED,i(),e.state==g.STARTED&&u(function(){t.call(p)},1))}),p.bind("FileUploaded",function(e,n){n.status=g.DONE,n.loaded=n.size,e.trigger("UploadProgress",n),u(function(){t.call(p)},1)}),e.runtimes)for(d=[],c=e.runtimes.split(/\s?,\s?/),o=0;o<c.length;o++)a[c[o]]&&d.push(a[c[o]]);else d=a;r(),"function"==typeof e.init?e.init(p):g.each(e.init,function(e,t){p.bind(t,e)})},refresh:function(){this.trigger("Refresh")},start:function(){l.length&&this.state!=g.STARTED&&(this.state=g.STARTED,this.trigger("StateChanged"),t.call(this))},stop:function(){this.state!=g.STOPPED&&(this.state=g.STOPPED,this.trigger("CancelUpload"),this.trigger("StateChanged"))},disableBrowse:function(){d=arguments[0]!==n?arguments[0]:!0,this.trigger("DisableBrowse",d)},getFile:function(e){var t;for(t=l.length-1;t>=0;t--)if(l[t].id===e)return l[t]},removeFile:function(e){var t;for(t=l.length-1;t>=0;t--)if(l[t].id===e.id)return this.splice(t,1)[0]},splice:function(e,t){var i;return i=l.splice(e===n?0:e,t===n?l.length:t),this.trigger("FilesRemoved",i),this.trigger("QueueChanged"),i},trigger:function(e){var t,n,i=o[e.toLowerCase()];if(i)for(n=Array.prototype.slice.call(arguments),n[0]=this,t=0;t<i.length;t++)if(i[t].func.apply(i[t].scope,n)===!1)return!1;return!0},hasEventListener:function(e){return!!o[e.toLowerCase()]},bind:function(e,t,n){var i;e=e.toLowerCase(),i=o[e]||[],i.push({func:t,scope:n||this}),o[e]=i},unbind:function(e){e=e.toLowerCase();var t,i=o[e],r=arguments[1];if(i){if(r!==n){for(t=i.length-1;t>=0;t--)if(i[t].func===r){i.splice(t,1);break}}else i=[];i.length||delete o[e]}},unbindAll:function(){var e=this;g.each(o,function(t,n){e.unbind(n)})},destroy:function(){this.stop(),this.trigger("Destroy"),this.unbindAll()}})},g.File=function(e,t,n){var i=this;i.id=e,i.name=t,i.size=n,i.loaded=0,i.percent=0,i.status=0},g.Runtime=function(){this.getFeatures=function(){},this.init=function(){}},g.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},g.runtimes={},window.plupload=g}(),function(){if(!window.google||!google.gears){var e=null;if("undefined"!=typeof GearsFactory)e=new GearsFactory;else try{e=new ActiveXObject("Gears.Factory"),-1!=e.getBuildInfo().indexOf("ie_mobile")&&e.privateSetGlobalObject(this)}catch(t){"undefined"!=typeof navigator.mimeTypes&&navigator.mimeTypes["application/x-googlegears"]&&(e=document.createElement("object"),e.style.display="none",e.width=0,e.height=0,e.type="application/x-googlegears",document.documentElement.appendChild(e))}e&&(window.google||(window.google={}),google.gears||(google.gears={factory:e}))}}(),function(e,t,n){function i(e,t,n){var i,r;i=google.gears.factory.create("beta.canvas");try{if(i.decode(e),t.width||(t.width=i.width),t.height||(t.height=i.height),r=Math.min(t.width/i.width,t.height/i.height),1>r)i.resize(Math.round(i.width*r),Math.round(i.height*r));else if(!t.quality||"image/jpeg"!==n)return e;return t.quality?i.encode(n,{quality:t.quality/100}):i.encode(n)}catch(a){}return e}var r={};n.runtimes.Gears=n.addRuntime("gears",{getFeatures:function(){return{dragdrop:!0,jpgresize:!0,pngresize:!0,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(a,s){function o(e){var t,i,s,o=[];for(i=0;i<e.length;i++)t=e[i],s=n.guid(),r[s]=t.blob,o.push(new n.File(s,t.name,t.blob.length));a.trigger("FilesAdded",o)}var l,d,u=!1;if(!e.google||!google.gears)return s({success:!1});try{l=google.gears.factory.create("beta.desktop")}catch(c){return s({success:!1})}a.bind("PostInit",function(){var e=a.settings,i=t.getElementById(e.drop_element);i&&(n.addEvent(i,"dragover",function(e){l.setDropEffect(e,"copy"),e.preventDefault()},a.id),n.addEvent(i,"drop",function(e){var t=l.getDragData(e,"application/x-gears-files");t&&o(t.files),e.preventDefault()},a.id),i=0),n.addEvent(t.getElementById(e.browse_button),"click",function(t){var n,i,r,a=[];if(t.preventDefault(),!u){e:for(n=0;n<e.filters.length;n++)for(r=e.filters[n].extensions.split(","),i=0;i<r.length;i++){if("*"===r[i]){a=[];break e}a.push("."+r[i])}l.openFiles(o,{singleFile:!e.multi_selection,filter:a})}},a.id)}),a.bind("CancelUpload",function(){d.abort&&d.abort()}),a.bind("UploadFile",function(e,t){function a(){function i(i){var r,a,s,o="----pluploadboundary"+n.guid(),l="--",u="\r\n";p&&(d.setRequestHeader("Content-Type","multipart/form-data; boundary="+o),r=google.gears.factory.create("beta.blobbuilder"),n.each(n.extend(h,e.settings.multipart_params),function(e,t){r.append(l+o+u+'Content-Disposition: form-data; name="'+t+'"'+u+u),r.append(e+u)}),s=n.mimeTypes[t.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",r.append(l+o+u+'Content-Disposition: form-data; name="'+e.settings.file_data_name+'"; filename="'+t.name+'"'+u+"Content-Type: "+s+u+u),r.append(i),r.append(u+l+o+l+u),a=r.getAsBlob(),f=a.length-i.length,i=a),d.send(i)}var g,p=e.settings.multipart,f=0,h={name:t.target_name||t.name},m=e.settings.url;t.status!=n.DONE&&t.status!=n.FAILED&&e.state!=n.STOPPED&&(l&&(h.chunk=u,h.chunks=s),g=Math.min(o,t.size-u*o),p||(m=n.buildUrl(e.settings.url,h)),d=google.gears.factory.create("beta.httprequest"),d.open("POST",m),p||(d.setRequestHeader("Content-Disposition",'attachment; filename="'+t.name+'"'),d.setRequestHeader("Content-Type","application/octet-stream")),n.each(e.settings.headers,function(e,t){d.setRequestHeader(t,e)}),d.upload.onprogress=function(n){t.loaded=c+n.loaded-f,e.trigger("UploadProgress",t)},d.onreadystatechange=function(){var i;if(4==d.readyState&&e.state!==n.STOPPED)if(200==d.status){if(i={chunk:u,chunks:s,response:d.responseText,status:d.status},e.trigger("ChunkUploaded",t,i),i.cancelled)return void(t.status=n.FAILED);c+=g,++u>=s?(t.status=n.DONE,e.trigger("FileUploaded",t,{response:d.responseText,status:d.status})):a()}else e.trigger("Error",{code:n.HTTP_ERROR,message:n.translate("HTTP Error."),file:t,chunk:u,chunks:s,status:d.status})},s>u&&i(r[t.id].slice(u*o,g)))}var s,o,l,u=0,c=0,g=e.settings.resize;g&&/\.(png|jpg|jpeg)$/i.test(t.name)&&(r[t.id]=i(r[t.id],g,/\.png$/i.test(t.name)?"image/png":"image/jpeg")),t.size=r[t.id].length,o=e.settings.chunk_size,l=o>0,s=Math.ceil(t.size/o),l||(o=t.size,s=1),a()}),a.bind("DisableBrowse",function(e,t){u=t}),a.bind("Destroy",function(e){var i,r,a={browseButton:e.settings.browse_button,dropElm:e.settings.drop_element};for(i in a)r=t.getElementById(a[i]),r&&n.removeAllEvents(r,e.id)}),s({success:!0})}})}(window,document,plupload),function(e,t,n,i){function r(e){var t,n,a,s,o=typeof e;if(e===i||null===e)return"null";if("string"===o)return t="\bb	t\nn\ff\rr\"\"''\\\\",'"'+e.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(e,n){var i=t.indexOf(n);return i+1?"\\"+t.charAt(i+1):(e=n.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+'"';if("object"==o){if(n=e.length!==i,t="",n){for(a=0;a<e.length;a++)t&&(t+=","),t+=r(e[a]);t="["+t+"]"}else{for(s in e)e.hasOwnProperty(s)&&(t&&(t+=","),t+=r(s)+":"+r(e[s]));t="{"+t+"}"}return t}return""+e}function a(e){var t,n,i,r,a,s=!1,o=null,l=0;try{try{o=new ActiveXObject("AgControl.AgControl"),o.IsVersionSupported(e)&&(s=!0),o=null}catch(d){var u=navigator.plugins["Silverlight Plug-In"];if(u){for(t=u.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),n=t.split(".");n.length>3;)n.pop();for(;n.length<4;)n.push(0);for(i=e.split(".");i.length>4;)i.pop();do r=parseInt(i[l],10),a=parseInt(n[l],10),l++;while(l<i.length&&r===a);a>=r&&!isNaN(r)&&(s=!0)}}}catch(c){s=!1}return s}var s={},o={};n.silverlight={trigger:function(e,t){var i,r=s[e];r&&(i=n.toArray(arguments).slice(1),i[0]="Silverlight:"+t,setTimeout(function(){r.trigger.apply(r,i)},0))}},n.runtimes.Silverlight=n.addRuntime("silverlight",{getFeatures:function(){return{jpgresize:!0,pngresize:!0,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(i,l){function d(){return t.getElementById(i.id+"_silverlight").content.Upload}var u,c,g="",p=i.settings.filters,f=t.body;if(!a("2.0.31005.0")||e.opera&&e.opera.buildNumber)return void l({success:!1});for(o[i.id]=!1,s[i.id]=i,u=t.createElement("div"),u.id=i.id+"_silverlight_container",n.extend(u.style,{position:"absolute",top:"0px",background:i.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100px",height:"100px",overflow:"hidden",opacity:i.settings.shim_bgcolor||t.documentMode>8?"":.01}),u.className="plupload silverlight",i.settings.container&&(f=t.getElementById(i.settings.container),"static"===n.getStyle(f,"position")&&(f.style.position="relative")),f.appendChild(u),c=0;c<p.length;c++)g+=(""!=g?"|":"")+p[c].title+" | *."+p[c].extensions.replace(/,/g,";*.");u.innerHTML='<object id="'+i.id+'_silverlight" data="data:application/x-silverlight," type="application/x-silverlight-2" style="outline:none;" width="1024" height="1024"><param name="source" value="'+i.settings.silverlight_xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="id='+i.id+",filter="+g+",multiselect="+i.settings.multi_selection+'"/></object>',i.bind("Silverlight:Init",function(){var e,a={};o[i.id]||(o[i.id]=!0,i.bind("Silverlight:StartSelectFiles",function(){e=[]}),i.bind("Silverlight:SelectFile",function(t,i,r,s){var o;o=n.guid(),a[o]=i,a[i]=o,e.push(new n.File(o,r,s))}),i.bind("Silverlight:SelectSuccessful",function(){e.length&&i.trigger("FilesAdded",e)}),i.bind("Silverlight:UploadChunkError",function(e,t,r,s,o){i.trigger("Error",{code:n.IO_ERROR,message:"IO Error.",details:o,file:e.getFile(a[t])})}),i.bind("Silverlight:UploadFileProgress",function(e,t,i,r){var s=e.getFile(a[t]);s.status!=n.FAILED&&(s.size=r,s.loaded=i,e.trigger("UploadProgress",s))}),i.bind("Refresh",function(e){var i,r,a;i=t.getElementById(e.settings.browse_button),i&&(r=n.getPos(i,t.getElementById(e.settings.container)),a=n.getSize(i),n.extend(t.getElementById(e.id+"_silverlight_container").style,{top:r.y+"px",left:r.x+"px",width:a.w+"px",height:a.h+"px"}))}),i.bind("Silverlight:UploadChunkSuccessful",function(e,t,i,r,s){var o,l=e.getFile(a[t]);o={chunk:i,chunks:r,response:s},e.trigger("ChunkUploaded",l,o),l.status!=n.FAILED&&e.state!==n.STOPPED&&d().UploadNextChunk(),i==r-1&&(l.status=n.DONE,e.trigger("FileUploaded",l,{response:s}))}),i.bind("Silverlight:UploadSuccessful",function(e,t,i){var r=e.getFile(a[t]);r.status=n.DONE,e.trigger("FileUploaded",r,{response:i})}),i.bind("FilesRemoved",function(e,t){var n;for(n=0;n<t.length;n++)d().RemoveFile(a[t[n].id])}),i.bind("UploadFile",function(e,t){var i=e.settings,s=i.resize||{};d().UploadFile(a[t.id],e.settings.url,r({name:t.target_name||t.name,mime:n.mimeTypes[t.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:i.chunk_size,image_width:s.width,image_height:s.height,image_quality:s.quality,multipart:!!i.multipart,multipart_params:i.multipart_params||{},file_data_name:i.file_data_name,headers:i.headers}))}),i.bind("CancelUpload",function(){d().CancelUpload()}),i.bind("Silverlight:MouseEnter",function(e){var r,a;r=t.getElementById(i.settings.browse_button),a=e.settings.browse_button_hover,r&&a&&n.addClass(r,a)}),i.bind("Silverlight:MouseLeave",function(e){var r,a;r=t.getElementById(i.settings.browse_button),a=e.settings.browse_button_hover,r&&a&&n.removeClass(r,a)}),i.bind("Silverlight:MouseLeftButtonDown",function(e){var r,a;r=t.getElementById(i.settings.browse_button),a=e.settings.browse_button_active,r&&a&&(n.addClass(r,a),n.addEvent(t.body,"mouseup",function(){n.removeClass(r,a)}))}),i.bind("Sliverlight:StartSelectFiles",function(e){var r,a;r=t.getElementById(i.settings.browse_button),a=e.settings.browse_button_active,r&&a&&n.removeClass(r,a)}),i.bind("DisableBrowse",function(e,t){d().DisableBrowse(t)}),i.bind("Destroy",function(e){var i;n.removeAllEvents(t.body,e.id),delete o[e.id],delete s[e.id],i=t.getElementById(e.id+"_silverlight_container"),i&&i.parentNode.removeChild(i)}),l({success:!0}))})}})}(window,document,plupload),function(e,t,n){function i(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}var r={},a={};n.flash={trigger:function(e,t,n){setTimeout(function(){var i=r[e];i&&i.trigger("Flash:"+t,n)},0)}},n.runtimes.Flash=n.addRuntime("flash",{getFeatures:function(){return{jpgresize:!0,pngresize:!0,maxWidth:8091,maxHeight:8091,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(e,s){function o(){return t.getElementById(e.id+"_flash")}function l(){return c++>5e3?void s({success:!1}):void(a[e.id]===!1&&setTimeout(l,1))}var d,u,c=0,g=t.body;return i()<10?void s({success:!1}):(a[e.id]=!1,r[e.id]=e,d=t.getElementById(e.settings.browse_button),u=t.createElement("div"),u.id=e.id+"_flash_container",n.extend(u.style,{position:"absolute",top:"0px",background:e.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100%",height:"100%"}),u.className="plupload flash",e.settings.container&&(g=t.getElementById(e.settings.container),"static"===n.getStyle(g,"position")&&(g.style.position="relative")),g.appendChild(u),function(){var i,r;i='<object id="'+e.id+'_flash" type="application/x-shockwave-flash" data="'+e.settings.flash_swf_url+'" ',n.ua.ie&&(i+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),i+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+e.settings.flash_swf_url+'" /><param name="flashvars" value="id='+escape(e.id)+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',n.ua.ie?(r=t.createElement("div"),u.appendChild(r),r.outerHTML=i,r=null):u.innerHTML=i}(),l(),d=u=null,e.bind("Destroy",function(e){var i;n.removeAllEvents(t.body,e.id),delete a[e.id],delete r[e.id],i=t.getElementById(e.id+"_flash_container"),i&&i.parentNode.removeChild(i)}),void e.bind("Flash:Init",function(){var i={};try{o().setFileFilters(e.settings.filters,e.settings.multi_selection)}catch(r){return void s({success:!1})}a[e.id]||(a[e.id]=!0,e.bind("UploadFile",function(t,r){var a=t.settings,s=e.settings.resize||{};o().uploadFile(i[r.id],a.url,{name:r.target_name||r.name,mime:n.mimeTypes[r.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:a.chunk_size,width:s.width,height:s.height,quality:s.quality,multipart:a.multipart,multipart_params:a.multipart_params||{},file_data_name:a.file_data_name,format:/\.(jpg|jpeg)$/i.test(r.name)?"jpg":"png",headers:a.headers,urlstream_upload:a.urlstream_upload})}),e.bind("CancelUpload",function(){o().cancelUpload()}),e.bind("Flash:UploadProcess",function(e,t){var r=e.getFile(i[t.id]);r.status!=n.FAILED&&(r.loaded=t.loaded,r.size=t.size,e.trigger("UploadProgress",r))}),e.bind("Flash:UploadChunkComplete",function(e,t){var r,a=e.getFile(i[t.id]);r={chunk:t.chunk,chunks:t.chunks,response:t.text},e.trigger("ChunkUploaded",a,r),a.status!==n.FAILED&&e.state!==n.STOPPED&&o().uploadNextChunk(),t.chunk==t.chunks-1&&(a.status=n.DONE,e.trigger("FileUploaded",a,{response:t.text}))}),e.bind("Flash:SelectFiles",function(t,r){var a,s,o,l=[];for(s=0;s<r.length;s++)a=r[s],o=n.guid(),i[o]=a.id,i[a.id]=o,l.push(new n.File(o,a.name,a.size));l.length&&e.trigger("FilesAdded",l)}),e.bind("Flash:SecurityError",function(t,r){e.trigger("Error",{code:n.SECURITY_ERROR,message:n.translate("Security error."),details:r.message,file:e.getFile(i[r.id])})}),e.bind("Flash:GenericError",function(t,r){e.trigger("Error",{code:n.GENERIC_ERROR,message:n.translate("Generic error."),details:r.message,file:e.getFile(i[r.id])})}),e.bind("Flash:IOError",function(t,r){e.trigger("Error",{code:n.IO_ERROR,message:n.translate("IO error."),details:r.message,file:e.getFile(i[r.id])})}),e.bind("Flash:ImageError",function(t,r){e.trigger("Error",{code:parseInt(r.code,10),message:n.translate("Image error."),file:e.getFile(i[r.id])})}),e.bind("Flash:StageEvent:rollOver",function(i){var r,a;r=t.getElementById(e.settings.browse_button),a=i.settings.browse_button_hover,r&&a&&n.addClass(r,a)}),e.bind("Flash:StageEvent:rollOut",function(i){var r,a;r=t.getElementById(e.settings.browse_button),a=i.settings.browse_button_hover,r&&a&&n.removeClass(r,a)}),e.bind("Flash:StageEvent:mouseDown",function(i){var r,a;r=t.getElementById(e.settings.browse_button),a=i.settings.browse_button_active,r&&a&&(n.addClass(r,a),n.addEvent(t.body,"mouseup",function(){n.removeClass(r,a)},i.id))}),e.bind("Flash:StageEvent:mouseUp",function(i){var r,a;r=t.getElementById(e.settings.browse_button),a=i.settings.browse_button_active,r&&a&&n.removeClass(r,a)}),e.bind("Flash:ExifData",function(t,n){e.trigger("ExifData",e.getFile(i[n.id]),n.data)}),e.bind("Flash:GpsData",function(t,n){e.trigger("GpsData",e.getFile(i[n.id]),n.data)}),e.bind("QueueChanged",function(){e.refresh()}),e.bind("FilesRemoved",function(e,t){var n;for(n=0;n<t.length;n++)o().removeFile(i[t[n].id])}),e.bind("StateChanged",function(){e.refresh()}),e.bind("Refresh",function(i){var r,a,s;o().setFileFilters(e.settings.filters,e.settings.multi_selection),r=t.getElementById(i.settings.browse_button),r&&(a=n.getPos(r,t.getElementById(i.settings.container)),s=n.getSize(r),n.extend(t.getElementById(i.id+"_flash_container").style,{top:a.y+"px",left:a.x+"px",width:s.w+"px",height:s.h+"px"}))}),e.bind("DisableBrowse",function(e,t){o().disableBrowse(t)}),s({success:!0}))}))}})}(window,document,plupload),function(e){e.runtimes.BrowserPlus=e.addRuntime("browserplus",{getFeatures:function(){return{dragdrop:!0,jpgresize:!0,pngresize:!0,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(t,n){function i(n){var i,r,a,o=[];for(i=0;i<n.length;i++)r=n[i],a=e.guid(),s[a]=r,o.push(new e.File(a,r.name,r.size));i&&t.trigger("FilesAdded",o)}function r(){var r=!1;t.bind("PostInit",function(){function n(e,t){a.DragAndDrop.AddDropTarget({id:e},function(){a.DragAndDrop.AttachCallbacks({id:e,hover:function(e){!e&&t&&t()},drop:function(e){t&&t(),i(e)}},function(){})})}function s(){document.getElementById(u).style.top="-1000px"}var l,d=o.drop_element,u=t.id+"_droptarget",c=document.getElementById(d);c&&(document.attachEvent&&/MSIE/gi.test(navigator.userAgent)?(l=document.createElement("div"),l.setAttribute("id",u),e.extend(l.style,{position:"absolute",top:"-1000px",background:"red",filter:"alpha(opacity=0)",opacity:0}),document.body.appendChild(l),e.addEvent(c,"dragenter",function(){var t,n;t=document.getElementById(d),n=e.getPos(t),e.extend(document.getElementById(u).style,{top:n.y+"px",left:n.x+"px",width:t.offsetWidth+"px",height:t.offsetHeight+"px"})}),n(u,s)):n(d)),e.addEvent(document.getElementById(o.browse_button),"click",function(t){var n,s,l,d,u=[],c=o.filters;if(t.preventDefault(),!r){e:for(n=0;n<c.length;n++)for(l=c[n].extensions.split(","),s=0;s<l.length;s++){if("*"===l[s]){u=[];break e}d=e.mimeTypes[l[s]],d&&-1===e.inArray(d,u)&&u.push(e.mimeTypes[l[s]])}a.FileBrowse.OpenBrowseDialog({mimeTypes:u},function(e){e.success&&i(e.value)})}}),c=l=null}),t.bind("CancelUpload",function(){a.Uploader.cancel({},function(){})}),t.bind("DisableBrowse",function(e,t){r=t}),t.bind("UploadFile",function(t,n){function i(r,s){var l;n.status!=e.FAILED&&(u.name=n.target_name||n.name,c&&(u.chunk=""+r,u.chunks=""+s),l=g.shift(),a.Uploader.upload({url:t.settings.url,files:{file:l},cookies:document.cookies,postvars:e.extend(u,t.settings.multipart_params),progressCallback:function(e){var i,a=0;for(o[r]=parseInt(e.filePercent*l.size/100,10),i=0;i<o.length;i++)a+=o[i];n.loaded=a,t.trigger("UploadProgress",n)}},function(a){var o;a.success?(o=a.value.statusCode,c&&t.trigger("ChunkUploaded",n,{chunk:r,chunks:s,response:a.value.body,status:o}),g.length>0?i(++r,s):(n.status=e.DONE,t.trigger("FileUploaded",n,{response:a.value.body,status:o}),o>=400&&t.trigger("Error",{code:e.HTTP_ERROR,message:e.translate("HTTP Error."),file:n,status:o}))):t.trigger("Error",{code:e.GENERIC_ERROR,message:e.translate("Generic Error."),file:n,details:a.error})}))}function r(e){n.size=e.size,c?a.FileAccess.chunk({file:e,chunkSize:c},function(e){if(e.success){var t=e.value,n=t.length;o=Array(n);for(var r=0;n>r;r++)o[r]=0,g.push(t[r]);i(0,n)}}):(o=Array(1),g.push(e),i(0,1))}var o,d=s[n.id],u={},c=t.settings.chunk_size,g=[];l&&/\.(png|jpg|jpeg)$/i.test(n.name)?BrowserPlus.ImageAlter.transform({file:d,quality:l.quality||90,actions:[{scale:{maxwidth:l.width,maxheight:l.height}}]},function(e){e.success&&r(e.value.file)}):r(d)}),n({success:!0})}var a=window.BrowserPlus,s={},o=t.settings,l=o.resize;a?a.init(function(e){var t=[{service:"Uploader",version:"3"},{service:"DragAndDrop",version:"1"},{service:"FileBrowse",version:"1"},{service:"FileAccess",version:"2"}];l&&t.push({service:"ImageAlter",version:"4"}),e.success?a.require({services:t},function(e){e.success?r():n()}):n()}):n()}})}(plupload),function(e,t,n,r){function a(e){var n=e.naturalWidth,i=e.naturalHeight;if(n*i>1048576){var r=t.createElement("canvas");r.width=r.height=1;var a=r.getContext("2d");return a.drawImage(e,-n+1,0),0===a.getImageData(0,0,1,1).data[3]}return!1}function s(e,n,i){var r=t.createElement("canvas");r.width=1,r.height=i;var a=r.getContext("2d");a.drawImage(e,0,0);for(var s=a.getImageData(0,0,1,i).data,o=0,l=i,d=i;d>o;){var u=s[4*(d-1)+3];0===u?l=d:o=d,d=l+o>>1}var c=d/i;return 0===c?1:c}function o(e,n,i){var r=e.naturalWidth,o=e.naturalHeight,l=i.width,d=i.height,u=n.getContext("2d");u.save();var c=a(e);c&&(r/=2,o/=2);var g=1024,p=t.createElement("canvas");p.width=p.height=g;for(var f=p.getContext("2d"),h=s(e,r,o),m=0;o>m;){for(var v=m+g>o?o-m:g,b=0;r>b;){var y=b+g>r?r-b:g;f.clearRect(0,0,g,g),f.drawImage(e,-b,-m);var E=b*l/r<<0,w=Math.ceil(y*l/r),_=m*d/o/h<<0,x=Math.ceil(v*d/o/h);u.drawImage(p,0,0,y,v,E,_,w,x),b+=g}m+=g}u.restore(),p=f=null}function l(t,n){var i;return"FileReader"in e?(i=new FileReader,i.readAsDataURL(t),i.onload=function(){n(i.result)},void 0):n(t.getAsDataURL())}function d(t,n){var i;return"FileReader"in e?(i=new FileReader,i.readAsBinaryString(t),i.onload=function(){n(i.result)},void 0):n(t.getAsBinary())}function u(e,n,i,r){var a,s,d,u=this;l(h[e.id],function(l){a=t.createElement("canvas"),a.style.display="none",t.body.appendChild(a),s=new Image,s.onerror=s.onabort=function(){r({success:!1})},s.onload=function(){var t,c,f,h;if(n.width||(n.width=s.width),n.height||(n.height=s.height),d=Math.min(n.width/s.width,n.height/s.height),1>d)t=Math.round(s.width*d),c=Math.round(s.height*d);else{if(!n.quality||"image/jpeg"!==i)return void r({success:!1});
t=s.width,c=s.height}if(a.width=t,a.height=c,o(s,a,{width:t,height:c}),"image/jpeg"===i&&(f=new g(atob(l.substring(l.indexOf("base64,")+7))),f.headers&&f.headers.length&&(h=new p,h.init(f.get("exif")[0])&&(h.setExif("PixelXDimension",t),h.setExif("PixelYDimension",c),f.set("exif",h.getBinary()),u.hasEventListener("ExifData")&&u.trigger("ExifData",e,h.EXIF()),u.hasEventListener("GpsData")&&u.trigger("GpsData",e,h.GPS())))),n.quality&&"image/jpeg"===i)try{l=a.toDataURL(i,n.quality/100)}catch(m){l=a.toDataURL(i)}else l=a.toDataURL(i);l=l.substring(l.indexOf("base64,")+7),l=atob(l),f&&f.headers&&f.headers.length&&(l=f.restore(l),f.purge()),a.parentNode.removeChild(a),r({success:!0,data:l})},s.src=l})}function c(){function e(e,t){var n,r=a?0:-8*(t-1),s=0;for(n=0;t>n;n++)s|=i.charCodeAt(e+n)<<Math.abs(r+8*n);return s}function t(e,t,n){var n=3===arguments.length?n:i.length-t-1;i=i.substr(0,t)+e+i.substr(n+t)}function n(e,n,i){var r,s="",o=a?0:-8*(i-1);for(r=0;i>r;r++)s+=String.fromCharCode(n>>Math.abs(o+8*r)&255);t(s,e,i)}var i,a=!1;return{II:function(e){return e===r?a:void(a=e)},init:function(e){a=!1,i=e},SEGMENT:function(e,n,r){switch(arguments.length){case 1:return i.substr(e,i.length-e-1);case 2:return i.substr(e,n);case 3:t(r,e,n);break;default:return i}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(t,i){return i===r?e(t,4):void n(t,i,4)},SLONG:function(t){var n=e(t,4);return n>2147483647?n-4294967296:n},STRING:function(t,n){var i="";for(n+=t;n>t;t++)i+=String.fromCharCode(e(t,1));return i}}}function g(e){var t,n,i,a={65505:{app:"EXIF",name:"APP1",signature:"Exif\x00"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\x00"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\x00"}},s=[],o=r,l=0;if(t=new c,t.init(e),65496===t.SHORT(0)){for(n=2,i=Math.min(1048576,e.length);i>=n;)if(o=t.SHORT(n),o>=65488&&65495>=o)n+=2;else{if(65498===o||65497===o)break;l=t.SHORT(n+2)+2,a[o]&&t.STRING(n+4,a[o].signature.length)===a[o].signature&&s.push({hex:o,app:a[o].app.toUpperCase(),name:a[o].name.toUpperCase(),start:n,length:l,segment:t.SEGMENT(n,l)}),n+=l}return t.init(null),{headers:s,restore:function(e){t.init(e);var i=new g(e);if(!i.headers)return!1;for(var r=i.headers.length;r>0;r--){var a=i.headers[r-1];t.SEGMENT(a.start,a.length,"")}i.purge(),n=65504==t.SHORT(2)?4+t.SHORT(4):2;for(var r=0,o=s.length;o>r;r++)t.SEGMENT(n,0,s[r].segment),n+=s[r].length;return t.SEGMENT()},get:function(e){for(var t=[],n=0,i=s.length;i>n;n++)s[n].app===e.toUpperCase()&&t.push(s[n].segment);return t},set:function(e,t){var n=[];"string"==typeof t?n.push(t):n=t;for(var i=ii=0,r=s.length;r>i&&(s[i].app===e.toUpperCase()&&(s[i].segment=n[ii],s[i].length=n[ii].length,ii++),!(ii>=n.length));i++);},purge:function(){s=[],t.init(null)}}}}function p(){function e(e,t){var n,i,a,o,u,c,g,p,f=s.SHORT(e),h=[],m={};for(n=0;f>n;n++)if(g=c=e+12*n+2,a=t[s.SHORT(g)],a!==r){switch(o=s.SHORT(g+=2),u=s.LONG(g+=2),g+=4,h=[],o){case 1:case 7:for(u>4&&(g=s.LONG(g)+d.tiffHeader),i=0;u>i;i++)h[i]=s.BYTE(g+i);break;case 2:u>4&&(g=s.LONG(g)+d.tiffHeader),m[a]=s.STRING(g,u-1);continue;case 3:for(u>2&&(g=s.LONG(g)+d.tiffHeader),i=0;u>i;i++)h[i]=s.SHORT(g+2*i);break;case 4:for(u>1&&(g=s.LONG(g)+d.tiffHeader),i=0;u>i;i++)h[i]=s.LONG(g+4*i);break;case 5:for(g=s.LONG(g)+d.tiffHeader,i=0;u>i;i++)h[i]=s.LONG(g+4*i)/s.LONG(g+4*i+4);break;case 9:for(g=s.LONG(g)+d.tiffHeader,i=0;u>i;i++)h[i]=s.SLONG(g+4*i);break;case 10:for(g=s.LONG(g)+d.tiffHeader,i=0;u>i;i++)h[i]=s.SLONG(g+4*i)/s.SLONG(g+4*i+4);break;default:continue}p=1==u?h[0]:h,m[a]=l.hasOwnProperty(a)&&"object"!=typeof p?l[a][p]:p}return m}function t(){var t=r,n=d.tiffHeader;return s.II(18761==s.SHORT(n)),42!==s.SHORT(n+=2)?!1:(d.IFD0=d.tiffHeader+s.LONG(n+=2),t=e(d.IFD0,o.tiff),d.exifIFD="ExifIFDPointer"in t?d.tiffHeader+t.ExifIFDPointer:r,d.gpsIFD="GPSInfoIFDPointer"in t?d.tiffHeader+t.GPSInfoIFDPointer:r,!0)}function a(e,t,n){var r,a,l,u=0;if("string"==typeof t){var c=o[e.toLowerCase()];for(hex in c)if(c[hex]===t){t=hex;break}}for(r=d[e.toLowerCase()+"IFD"],a=s.SHORT(r),i=0;a>i;i++)if(l=r+12*i+2,s.SHORT(l)==t){u=l+8;break}return u?(s.LONG(u,n),!0):!1}var s,o,l,d={};return s=new c,o={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},l={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return d={tiffHeader:10},e!==r&&e.length?(s.init(e),65505===s.SHORT(0)&&"EXIF\x00"===s.STRING(4,5).toUpperCase()?t():!1):!1},EXIF:function(){var t;if(t=e(d.exifIFD,o.exif),t.ExifVersion&&"array"===n.typeOf(t.ExifVersion)){for(var i=0,r="";i<t.ExifVersion.length;i++)r+=String.fromCharCode(t.ExifVersion[i]);t.ExifVersion=r}return t},GPS:function(){var t;return t=e(d.gpsIFD,o.gps),t.GPSVersionID&&(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return"PixelXDimension"!==e&&"PixelYDimension"!==e?!1:a("exif",e,t)},getBinary:function(){return s.SEGMENT()}}}var f,h={};n.runtimes.Html5=n.addRuntime("html5",{getFeatures:function(){var i,r,a,s,o,l;return r=a=o=l=!1,e.XMLHttpRequest&&(i=new XMLHttpRequest,a=!!i.upload,r=!(!i.sendAsBinary&&!i.upload)),r&&(s=!!(i.sendAsBinary||e.Uint8Array&&e.ArrayBuffer),o=!(!File||!File.prototype.getAsDataURL&&!e.FileReader||!s),l=!(!File||!(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))),f=n.ua.safari&&n.ua.windows,{html5:r,dragdrop:function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e}(),jpgresize:o,pngresize:o,multipart:o||!!e.FileReader||!!e.FormData,canSendBinary:s,cantSendBlobInFormData:!(!(n.ua.gecko&&e.FormData&&e.FileReader)||FileReader.prototype.readAsArrayBuffer)||n.ua.android,progress:a,chunks:l,multi_selection:!(n.ua.safari&&n.ua.windows),triggerDialog:n.ua.gecko&&e.FormData||n.ua.webkit}},init:function(i,r){function a(e){var t,r,a,s=[],o={};for(r=0;r<e.length;r++)t=e[r],o[t.name]&&n.ua.safari&&n.ua.windows||(o[t.name]=!0,a=n.guid(),h[a]=t,s.push(new n.File(a,t.fileName||t.name,t.fileSize||t.size)));s.length&&i.trigger("FilesAdded",s)}var s,o;return s=this.getFeatures(),s.html5?(i.bind("Init",function(e){var r,s,o,l,d,u,c,g=[],p=e.settings.filters,f=t.body;r=t.createElement("div"),r.id=e.id+"_html5_container",n.extend(r.style,{position:"absolute",background:i.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:i.settings.shim_bgcolor?"":0}),r.className="plupload html5",i.settings.container&&(f=t.getElementById(i.settings.container),"static"===n.getStyle(f,"position")&&(f.style.position="relative")),f.appendChild(r);e:for(o=0;o<p.length;o++)for(d=p[o].extensions.split(/,/),l=0;l<d.length;l++){if("*"===d[l]){g=[];break e}u=n.mimeTypes[d[l]],u&&-1===n.inArray(u,g)&&g.push(u)}if(r.innerHTML='<input id="'+i.id+'_html5"  style="font-size:999px" type="file" accept="'+g.join(",")+'" '+(i.settings.multi_selection&&i.features.multi_selection?'multiple="multiple"':"")+" />",r.scrollTop=100,c=t.getElementById(i.id+"_html5"),e.features.triggerDialog?n.extend(c.style,{position:"absolute",width:"100%",height:"100%"}):n.extend(c.style,{cssFloat:"right",styleFloat:"right"}),c.onchange=function(){a(this.files),this.value=""},s=t.getElementById(e.settings.browse_button)){var h=e.settings.browse_button_hover,m=e.settings.browse_button_active,v=e.features.triggerDialog?s:r;h&&(n.addEvent(v,"mouseover",function(){n.addClass(s,h)},e.id),n.addEvent(v,"mouseout",function(){n.removeClass(s,h)},e.id)),m&&(n.addEvent(v,"mousedown",function(){n.addClass(s,m)},e.id),n.addEvent(t.body,"mouseup",function(){n.removeClass(s,m)},e.id)),e.features.triggerDialog&&n.addEvent(s,"click",function(n){var i=t.getElementById(e.id+"_html5");i&&!i.disabled&&i.click(),n.preventDefault()},e.id)}}),i.bind("PostInit",function(){var e=t.getElementById(i.settings.drop_element);if(e){if(f)return void n.addEvent(e,"dragenter",function(){var r,s,o;r=t.getElementById(i.id+"_drop"),r||(r=t.createElement("input"),r.setAttribute("type","file"),r.setAttribute("id",i.id+"_drop"),r.setAttribute("multiple","multiple"),n.addEvent(r,"change",function(){a(this.files),n.removeEvent(r,"change",i.id),r.parentNode.removeChild(r)},i.id),n.addEvent(r,"dragover",function(e){e.stopPropagation()},i.id),e.appendChild(r)),s=n.getPos(e,t.getElementById(i.settings.container)),o=n.getSize(e),"static"===n.getStyle(e,"position")&&n.extend(e.style,{position:"relative"}),n.extend(r.style,{position:"absolute",display:"block",top:0,left:0,width:o.w+"px",height:o.h+"px",opacity:0})},i.id);n.addEvent(e,"dragover",function(e){e.preventDefault()},i.id),n.addEvent(e,"drop",function(e){var t=e.dataTransfer;t&&t.files&&a(t.files),e.preventDefault()},i.id)}}),i.bind("Refresh",function(e){var r,a,s,o,l;r=t.getElementById(i.settings.browse_button),r&&(a=n.getPos(r,t.getElementById(e.settings.container)),s=n.getSize(r),o=t.getElementById(i.id+"_html5_container"),n.extend(o.style,{top:a.y+"px",left:a.x+"px",width:s.w+"px",height:s.h+"px"}),i.features.triggerDialog&&("static"===n.getStyle(r,"position")&&n.extend(r.style,{position:"relative"}),l=parseInt(n.getStyle(r,"zIndex"),10),isNaN(l)&&(l=0),n.extend(r.style,{zIndex:l}),n.extend(o.style,{zIndex:l-1})))}),i.bind("DisableBrowse",function(e,n){var i=t.getElementById(e.id+"_html5");i&&(i.disabled=n)}),i.bind("CancelUpload",function(){o&&o.abort&&o.abort()}),i.bind("UploadFile",function(t,i){function r(e,t,n){var i;if(!File.prototype.slice)return(i=File.prototype.webkitSlice||File.prototype.mozSlice)?i.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(r){return e.slice(t,n-t)}}function a(a){function l(){function g(e){if(o.sendAsBinary)o.sendAsBinary(e);else if(t.features.canSendBinary){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=255&e.charCodeAt(i);o.send(n.buffer)}}function p(r){var a,c=0,p="----pluploadboundary"+n.guid(),w="--",_="\r\n",x="";if(o=new XMLHttpRequest,o.upload&&(o.upload.onprogress=function(e){i.loaded=Math.min(i.size,u+e.loaded-c),t.trigger("UploadProgress",i)}),o.onreadystatechange=function(){var e,s;if(4==o.readyState&&t.state!==n.STOPPED){try{e=o.status}catch(c){e=0}if(e>=400)t.trigger("Error",{code:n.HTTP_ERROR,message:n.translate("HTTP Error."),file:i,status:e});else{if(h){if(s={chunk:d,chunks:h,response:o.responseText,status:e},t.trigger("ChunkUploaded",i,s),u+=b,s.cancelled)return void(i.status=n.FAILED);i.loaded=Math.min(i.size,(d+1)*v)}else i.loaded=i.size;t.trigger("UploadProgress",i),r=f=a=x=null,!h||++d>=h?(i.status=n.DONE,t.trigger("FileUploaded",i,{response:o.responseText,status:e})):l()}}},t.settings.multipart&&s.multipart){if(m.name=i.target_name||i.name,o.open("post",E,!0),n.each(t.settings.headers,function(e,t){o.setRequestHeader(t,e)}),"string"!=typeof r&&e.FormData)return a=new FormData,n.each(n.extend(m,t.settings.multipart_params),function(e,t){a.append(t,e)}),a.append(t.settings.file_data_name,r),void o.send(a);if("string"==typeof r)return o.setRequestHeader("Content-Type","multipart/form-data; boundary="+p),n.each(n.extend(m,t.settings.multipart_params),function(e,t){x+=w+p+_+'Content-Disposition: form-data; name="'+t+'"'+_+_,x+=unescape(encodeURIComponent(e))+_}),y=n.mimeTypes[i.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",x+=w+p+_+'Content-Disposition: form-data; name="'+t.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(i.name))+'"'+_+"Content-Type: "+y+_+_+r+_+w+p+w+_,c=x.length-r.length,r=x,void g(r)}E=n.buildUrl(t.settings.url,n.extend(m,t.settings.multipart_params)),o.open("post",E,!0),o.setRequestHeader("Content-Type","application/octet-stream"),n.each(t.settings.headers,function(e,t){o.setRequestHeader(t,e)}),"string"==typeof r?g(r):o.send(r)}var f,h,m,v,b,y,E=t.settings.url;i.status!=n.DONE&&i.status!=n.FAILED&&t.state!=n.STOPPED&&(m={name:i.target_name||i.name},c.chunk_size&&i.size>c.chunk_size&&(s.chunks||"string"==typeof a)?(v=c.chunk_size,h=Math.ceil(i.size/v),b=Math.min(v,i.size-d*v),f="string"==typeof a?a.substring(d*v,d*v+b):r(a,d*v,d*v+b),m.chunk=d,m.chunks=h):(b=i.size,f=a),t.settings.multipart&&s.multipart&&"string"!=typeof f&&e.FileReader&&s.cantSendBlobInFormData&&s.chunks&&t.settings.chunk_size?!function(){var e=new FileReader;e.onload=function(){p(e.result),e=null},e.readAsBinaryString(f)}():p(f))}var d=0,u=0;l()}var l,c=t.settings;l=h[i.id],s.jpgresize&&t.settings.resize&&/\.(png|jpg|jpeg)$/i.test(i.name)?u.call(t,i,t.settings.resize,/\.png$/i.test(i.name)?"image/png":"image/jpeg",function(e){e.success?(i.size=e.data.length,a(e.data)):s.chunks?a(l):d(l,a)}):!s.chunks&&s.jpgresize?d(l,a):a(l)}),i.bind("Destroy",function(e){var i,r,a=t.body,s={inputContainer:e.id+"_html5_container",inputFile:e.id+"_html5",browseButton:e.settings.browse_button,dropElm:e.settings.drop_element};for(i in s)r=t.getElementById(s[i]),r&&n.removeAllEvents(r,e.id);n.removeAllEvents(t.body,e.id),e.settings.container&&(a=t.getElementById(e.settings.container)),a.removeChild(t.getElementById(s.inputContainer))}),void r({success:!0})):void r({success:!1})}})}(window,document,plupload),function(e,t,n){function i(e){return t.getElementById(e)}n.runtimes.Html4=n.addRuntime("html4",{getFeatures:function(){return{multipart:!0,triggerDialog:n.ua.gecko&&e.FormData||n.ua.webkit}},init:function(r,a){r.bind("Init",function(a){function s(){var e,o,l,d;u=n.guid(),v.push(u),e=t.createElement("form"),e.setAttribute("id","form_"+u),e.setAttribute("method","post"),e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"),e.setAttribute("target",a.id+"_iframe"),e.style.position="absolute",o=t.createElement("input"),o.setAttribute("id","input_"+u),o.setAttribute("type","file"),o.setAttribute("accept",y),o.setAttribute("size",1),d=i(a.settings.browse_button),a.features.triggerDialog&&d&&n.addEvent(i(a.settings.browse_button),"click",function(e){o.disabled||o.click(),e.preventDefault()},a.id),n.extend(o.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px",cursor:"pointer"}),n.extend(e.style,{overflow:"hidden"}),l=a.settings.shim_bgcolor,l&&(e.style.background=l),b&&n.extend(o.style,{filter:"alpha(opacity=0)"}),n.addEvent(o,"change",function(t){var l,c=t.target,g=[];c.value&&(i("form_"+u).style.top="-1048575px",l=c.value.replace(/\\/g,"/"),l=l.substring(l.length,l.lastIndexOf("/")+1),g.push(new n.File(u,l)),a.features.triggerDialog?n.removeEvent(d,"click",a.id):n.removeAllEvents(e,a.id),n.removeEvent(o,"change",a.id),s(),g.length&&r.trigger("FilesAdded",g))},a.id),e.appendChild(o),h.appendChild(e),a.refresh()}function o(){var i=t.createElement("div");i.innerHTML='<iframe id="'+a.id+'_iframe" name="'+a.id+'_iframe" src="'+m+':&quot;&quot;" style="display:none"></iframe>',l=i.firstChild,h.appendChild(l),n.addEvent(l,"load",function(t){var i,r,s=t.target;if(d){try{i=s.contentWindow.document||s.contentDocument||e.frames[s.id].document}catch(o){return void a.trigger("Error",{code:n.SECURITY_ERROR,message:n.translate("Security error."),file:d})}r=i.documentElement.innerText||i.documentElement.textContent,r&&(d.status=n.DONE,d.loaded=1025,d.percent=100,a.trigger("UploadProgress",d),a.trigger("FileUploaded",d,{response:r}))}},a.id)}var l,d,u,c,g,p,f,h=t.body,m="javascript",v=[],b=/MSIE/.test(navigator.userAgent),y=[],E=a.settings.filters;e:for(c=0;c<E.length;c++)for(g=E[c].extensions.split(/,/),f=0;f<g.length;f++){if("*"===g[f]){y=[];break e}p=n.mimeTypes[g[f]],p&&-1===n.inArray(p,y)&&y.push(p)}y=y.join(","),a.settings.container&&(h=i(a.settings.container),"static"===n.getStyle(h,"position")&&(h.style.position="relative")),a.bind("UploadFile",function(e,r){var a,s;r.status!=n.DONE&&r.status!=n.FAILED&&e.state!=n.STOPPED&&(a=i("form_"+r.id),s=i("input_"+r.id),s.setAttribute("name",e.settings.file_data_name),a.setAttribute("action",e.settings.url),n.each(n.extend({name:r.target_name||r.name},e.settings.multipart_params),function(e,i){var r=t.createElement("input");n.extend(r,{type:"hidden",name:i,value:e}),a.insertBefore(r,a.firstChild)}),d=r,i("form_"+u).style.top="-1048575px",a.submit())}),a.bind("FileUploaded",function(e){e.refresh()}),a.bind("StateChanged",function(t){t.state==n.STARTED?o():t.state==n.STOPPED&&e.setTimeout(function(){n.removeEvent(l,"load",t.id),l.parentNode&&l.parentNode.removeChild(l)},0),n.each(t.files,function(e){if(e.status===n.DONE||e.status===n.FAILED){var t=i("form_"+e.id);t&&t.parentNode.removeChild(t)}})}),a.bind("Refresh",function(e){var r,a,s,o,l,d,c,g,p;r=i(e.settings.browse_button),r&&(l=n.getPos(r,i(e.settings.container)),d=n.getSize(r),c=i("form_"+u),g=i("input_"+u),n.extend(c.style,{top:l.y+"px",left:l.x+"px",width:d.w+"px",height:d.h+"px"}),e.features.triggerDialog&&("static"===n.getStyle(r,"position")&&n.extend(r.style,{position:"relative"}),p=parseInt(r.style.zIndex,10),isNaN(p)&&(p=0),n.extend(r.style,{zIndex:p}),n.extend(c.style,{zIndex:p-1})),s=e.settings.browse_button_hover,o=e.settings.browse_button_active,a=e.features.triggerDialog?r:c,s&&(n.addEvent(a,"mouseover",function(){n.addClass(r,s)},e.id),n.addEvent(a,"mouseout",function(){n.removeClass(r,s)},e.id)),o&&(n.addEvent(a,"mousedown",function(){n.addClass(r,o)},e.id),n.addEvent(t.body,"mouseup",function(){n.removeClass(r,o)},e.id)))}),r.bind("FilesRemoved",function(e,t){var n,r;for(n=0;n<t.length;n++)r=i("form_"+t[n].id),r&&r.parentNode.removeChild(r)}),r.bind("DisableBrowse",function(e,n){var i=t.getElementById("input_"+u);i&&(i.disabled=n)}),r.bind("Destroy",function(e){var r,a,s,o={inputContainer:"form_"+u,inputFile:"input_"+u,browseButton:e.settings.browse_button};for(r in o)a=i(o[r]),a&&n.removeAllEvents(a,e.id);n.removeAllEvents(t.body,e.id),n.each(v,function(e){s=i("form_"+e),s&&s.parentNode.removeChild(s)})}),s()}),a({success:!0})}})}(window,document,plupload)});
;define("common:widget/oui/lib/plupload/1.5.7/jquery.plupload.queue",["require","exports","module","common:widget/oui/lib/plupload/1.5.7/css/jquery.plupload.queue.css","common:widget/oui/lib/plupload/1.5.7/plupload.full","common:widget/oui/lib/jquery/1.9.1/jquery"],function(l){l("common:widget/oui/lib/plupload/1.5.7/css/jquery.plupload.queue.css"),l("common:widget/oui/lib/plupload/1.5.7/plupload.full");var a=l("common:widget/oui/lib/jquery/1.9.1/jquery");!function(l){function a(l){return plupload.translate(l)||l}function e(e,d){d.contents().each(function(a,e){e=l(e),e.is(".plupload")||e.remove()}),d.prepend('<div class="plupload_wrapper plupload_scroll"><div id="'+e+'_container" class="plupload_container"><div class="plupload"><div class="plupload_header"><div class="plupload_header_content"><div class="plupload_header_title">'+a("Select files")+'</div><div class="plupload_header_text">'+a("Add files to the upload queue and click the start button.")+'</div></div></div><div class="plupload_content"><div class="plupload_filelist_header"><div class="plupload_file_name">'+a("Filename")+'</div><div class="plupload_file_action">&nbsp;</div><div class="plupload_file_status"><span>'+a("Status")+'</span></div><div class="plupload_file_size">'+a("Size")+'</div><div class="plupload_clearer">&nbsp;</div></div><ul id="'+e+'_filelist" class="plupload_filelist"></ul><div class="plupload_filelist_footer"><div class="plupload_file_name"><div class="plupload_buttons"><a href="#" class="plupload_button plupload_add">'+a("Add files")+'</a><a href="#" class="plupload_button plupload_start">'+a("Start upload")+'</a></div><span class="plupload_upload_status"></span></div><div class="plupload_file_action"></div><div class="plupload_file_status"><span class="plupload_total_status">0%</span></div><div class="plupload_file_size"><span class="plupload_total_file_size">0 b</span></div><div class="plupload_progress"><div class="plupload_progress_container"><div class="plupload_progress_bar"></div></div></div><div class="plupload_clearer">&nbsp;</div></div></div></div></div><input type="hidden" id="'+e+'_count" name="'+e+'_count" value="0" /></div>')}var d={};l.fn.pluploadQueue=function(p){return p?(this.each(function(){function t(a){var e;a.status==plupload.DONE&&(e="plupload_done"),a.status==plupload.FAILED&&(e="plupload_failed"),a.status==plupload.QUEUED&&(e="plupload_delete"),a.status==plupload.UPLOADING&&(e="plupload_uploading");var d=l("#"+a.id).attr("class",e).find("a").css("display","block");a.hint&&d.attr("title",a.hint)}function i(){l("span.plupload_total_status",u).html(o.total.percent+"%"),l("div.plupload_progress_bar",u).css("width",o.total.percent+"%"),l("span.plupload_upload_status",u).html(a("Uploaded %d/%d files").replace(/%d\/%d/,o.total.uploaded+"/"+o.files.length))}function s(){var e,d=l("ul.plupload_filelist",u).html(""),p=0;l.each(o.files,function(a,i){e="",i.status==plupload.DONE&&(i.target_name&&(e+='<input type="hidden" name="'+n+"_"+p+'_tmpname" value="'+plupload.xmlEncode(i.target_name)+'" />'),e+='<input type="hidden" name="'+n+"_"+p+'_name" value="'+plupload.xmlEncode(i.name)+'" />',e+='<input type="hidden" name="'+n+"_"+p+'_status" value="'+(i.status==plupload.DONE?"done":"failed")+'" />',p++,l("#"+n+"_count").val(p)),d.append('<li id="'+i.id+'"><div class="plupload_file_name"><span>'+i.name+'</span></div><div class="plupload_file_action"><a href="#"></a></div><div class="plupload_file_status">'+i.percent+'%</div><div class="plupload_file_size">'+plupload.formatSize(i.size)+'</div><div class="plupload_clearer">&nbsp;</div>'+e+"</li>"),t(i),l("#"+i.id+".plupload_delete a").click(function(a){l("#"+i.id).remove(),o.removeFile(i),a.preventDefault()})}),l("span.plupload_total_file_size",u).html(plupload.formatSize(o.total.size)),l("span.plupload_add_text",u).html(0===o.total.queued?a("Add files."):o.total.queued+" files queued."),l("a.plupload_start",u).toggleClass("plupload_disabled",o.files.length==o.total.uploaded+o.total.failed),d[0].scrollTop=d[0].scrollHeight,i(),!o.files.length&&o.features.dragdrop&&o.settings.dragdrop&&l("#"+n+"_filelist").append('<li class="plupload_droptext">'+a("Drag files here.")+"</li>")}var o,u,n;u=l(this),n=u.attr("id"),n||(n=plupload.guid(),u.attr("id",n)),o=new plupload.Uploader(l.extend({dragdrop:!0,container:n},p)),d[n]=o,o.bind("UploadFile",function(a,e){l("#"+e.id).addClass("plupload_current_file")}),o.bind("Init",function(d){e(n,u),!p.unique_names&&p.rename&&u.on("click","#"+n+"_filelist div.plupload_file_name span",function(a){var e,p,t,i=l(a.target),s="";e=d.getFile(i.parents("li")[0].id),t=e.name,p=/^(.+)(\.[^.]+)$/.exec(t),p&&(t=p[1],s=p[2]),i.hide().after('<input type="text" />'),i.next().val(t).focus().blur(function(){i.show().next().remove()}).keydown(function(a){var d=l(this);-1!==l.inArray(a.keyCode,[13,27])&&(a.preventDefault(),13===a.keyCode&&(e.name=d.val()+s,i.html(e.name)),d.blur())})}),l("a.plupload_add",u).attr("id",n+"_browse"),d.settings.browse_button=n+"_browse",d.features.dragdrop&&d.settings.dragdrop&&(d.settings.drop_element=n+"_filelist",l("#"+n+"_filelist").append('<li class="plupload_droptext">'+a("Drag files here.")+"</li>")),l("#"+n+"_container"),l("a.plupload_start",u).click(function(a){l(this).hasClass("plupload_disabled")||o.start(),a.preventDefault()}),l("a.plupload_stop",u).click(function(l){l.preventDefault(),o.stop()}),l("a.plupload_start",u).addClass("plupload_disabled")}),o.init(),o.bind("Error",function(e,d){var p,t=d.file;t&&(p=d.message,d.details&&(p+=" ("+d.details+")"),d.code==plupload.FILE_SIZE_ERROR&&alert(a("Error: 文件尺寸过大: ")+t.name),d.code==plupload.FILE_EXTENSION_ERROR&&alert(a("Error: 不允许上传该类型的文件: ")+t.name),t.hint=p,l("#"+t.id).attr("class","plupload_failed").find("a").css("display","block").attr("title",p))}),o.bind("StateChanged",function(){o.state===plupload.STARTED?(l("li.plupload_delete a,div.plupload_buttons",u).hide(),l("span.plupload_upload_status,div.plupload_progress,a.plupload_stop",u).css("display","block"),l("span.plupload_upload_status",u).html("Uploaded "+o.total.uploaded+"/"+o.files.length+" files"),p.multiple_queues&&l("span.plupload_total_status,span.plupload_total_file_size",u).show()):(s(),l("a.plupload_stop,div.plupload_progress",u).hide(),l("a.plupload_delete",u).css("display","block"))}),o.bind("QueueChanged",s),o.bind("FileUploaded",function(l,a){t(a)}),o.bind("UploadProgress",function(a,e){l("#"+e.id+" div.plupload_file_status",u).html(e.percent+"%"),t(e),i(),p.multiple_queues&&o.total.uploaded+o.total.failed==o.files.length&&(l(".plupload_buttons,.plupload_upload_status",u).css("display","inline"),l(".plupload_start",u).addClass("plupload_disabled"),l("span.plupload_total_status,span.plupload_total_file_size",u).hide())}),p.setup&&p.setup(o)}),this):d[l(this[0]).attr("id")]}}(a),plupload.addI18n({"Select files":"选择上传文件","Add files to the upload queue and click the start button.":"可以添加多个文件，每文件最大限制为3MB，文件格式为JPG,GIF,PNG格式图片以及.PDF格式文件",Filename:"文件名",Status:"状态",Size:"大小","Add files":"添加文件","Stop current upload":"停止删除","Start uploading queue":"开始上传","Drag files here.":'请拖入文件或点击"添加文件"',"Start upload":"开始上传","Uploaded %d/%d files":"已上传 %d/%d 文件","Error: Invalid file extension":"无效的文件格式","Error: File too large":"错误：文件大小超过设定"})});
;define("common:widget/oui/lib/simplePagination/1.5.0/simplePagination.nocmd",function(){!function(e){var a={init:function(t){var i=e.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:1,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",cssStyle:"light-theme",selectOnClick:!0,onPageClick:function(){},onInit:function(){}},t||{}),n=this;return i.pages=i.pages?i.pages:Math.ceil(i.items/i.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage=i.currentPage-1,i.halfDisplayed=i.displayedPages/2,this.each(function(){n.addClass(i.cssStyle+" simple-pagination").data("pagination",i),a._draw.call(n)}),i.onInit(),this},selectPage:function(e){return a._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data("pagination");return e.currentPage>0&&a._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data("pagination");return e.currentPage<e.pages-1&&a._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(e){var t=this.data("pagination");return t.currentPage=e-1,this.data("pagination",t),a._draw.call(this),this},redraw:function(){return a._draw.call(this),this},disable:function(){var e=this.data("pagination");return e.disabled=!0,this.data("pagination",e),a._draw.call(this),this},enable:function(){var e=this.data("pagination");return e.disabled=!1,this.data("pagination",e),a._draw.call(this),this},updateItems:function(e){var t=this.data("pagination");t.items=e,t.pages=Math.ceil(t.items/t.itemsOnPage)?Math.ceil(t.items/t.itemsOnPage):1,this.data("pagination",t),a._draw.call(this)},updateItemsOnPage:function(e){var t=this.data("pagination");return t.itemsOnPage=e,this.data("pagination",t),a._selectPage.call(this,0),this},_draw:function(){var t,i=this.data("pagination"),n=a._getInterval(i);a.destroy.call(this);var s="UL"===this.prop("tagName")?this:e("<ul></ul>").appendTo(this);if(i.prevText&&a._appendItem.call(this,i.currentPage-1,{text:i.prevText,classes:"prev"}),n.start>0&&i.edges>0){var r=Math.min(i.edges,n.start);for(t=0;r>t;t++)a._appendItem.call(this,t);i.edges<n.start&&n.start-i.edges!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):n.start-i.edges==1&&a._appendItem.call(this,i.edges)}for(t=n.start;t<n.end;t++)a._appendItem.call(this,t);if(n.end<i.pages&&i.edges>0){i.pages-i.edges>n.end&&i.pages-i.edges-n.end!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):i.pages-i.edges-n.end==1&&a._appendItem.call(this,n.end++);var l=Math.max(i.pages-i.edges,n.end);for(t=l;t<i.pages;t++)a._appendItem.call(this,t)}i.nextText&&a._appendItem.call(this,i.currentPage+1,{text:i.nextText,classes:"next"})},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(t,i){var n,s,r=this,l=r.data("pagination"),p=e("<li></li>"),d=r.find("ul");t=0>t?0:t<l.pages?t:l.pages-1,n=e.extend({text:t+1,classes:""},i||{}),t==l.currentPage||l.disabled?(p.addClass(l.disabled?"disabled":"active"),s=e('<span class="current">'+n.text+"</span>")):(s=e('<a href="'+l.hrefTextPrefix+(t+1)+l.hrefTextSuffix+'" class="page-link">'+n.text+"</a>"),s.click(function(e){return a._selectPage.call(r,t,e)})),n.classes&&s.addClass(n.classes),p.append(s),d.length?d.append(p):r.append(p)},_selectPage:function(e,t){var i=this.data("pagination");return i.currentPage=e,i.selectOnClick&&a._draw.call(this),i.onPageClick(e+1,t)}};e.fn.pagination=function(t){return a[t]&&"_"!=t.charAt(0)?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.pagination"):a.init.apply(this,arguments)}}(jQuery)});
;define("common:widget/oui/lib/validation/1.11.1/jquery.validate.min",function(){!function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function s(){var s;return i.settings.submitHandler?(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e=e&&i.element(this)}),e},removeAttrs:function(e){var i={},s=this;return t.each(e.split(/\s/),function(t,e){i[e]=s.attr(e),s.removeAttr(e)}),i},rules:function(e,i){var s=this[0];if(e){var r=t.data(s.form,"validator").settings,n=r.rules,a=t.validator.staticRules(s);switch(e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,n[s.name]=a,i.messages&&(r.messages[s.name]=t.extend(r.messages[s.name],i.messages));break;case"remove":if(!i)return delete n[s.name],a;var u={};return t.each(i.split(/\s/),function(t,e){u[e]=a[e],delete a[e]}),u}}var o=t.validator.normalizeRules(t.extend({},t.validator.classRules(s),t.validator.attributeRules(s),t.validator.dataRules(s),t.validator.staticRules(s)),s);if(o.required){var l=o.required;delete o.required,o=t.extend({required:l},o)}return o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),s="on"+e.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,s){"string"==typeof s&&(s=s.split(/\s/)),t.each(s,function(t,s){i[s]=e})});var s=this.settings.rules;t.each(s,function(e,i){s[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e)!==!1;return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i=t(e).attr("type"),s=t(e).val();return"radio"===i||"checkbox"===i?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof s?s.replace(/\r/g,""):s},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s=t(e).rules(),r=!1,n=this.elementValue(e);for(var a in s){var u={method:a,parameters:s[a]};try{if(i=t.validator.methods[a].call(this,n,e,u.parameters),"dependency-mismatch"===i){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+u.method+"' method.",o),o}}return r?void 0:(this.objectLength(s)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg-"+i.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+i.toLowerCase())},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var s=this.defaultMessage(e,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:e}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var i=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s=this.errorsFor(e);s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},s=t(e),r=s[0].getAttribute("type");for(var n in t.validator.methods){var a;"required"===n?(a=s.get(0).getAttribute(n),""===a&&(a=!0),a=!!a):a=s.attr(n),/min|max/.test(n)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?i[n]=a:r===n&&"range"!==r&&(i[n]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var i,s,r={},n=t(e);for(i in t.validator.methods)s=n.data("rule-"+i.toLowerCase()),void 0!==s&&(r[i]=s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(r===!1)return void delete e[s];if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0!==r.param?r.param:!0:delete e[s]}}),t.each(e,function(s,r){e[s]=t.isFunction(r)?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],3>i.length&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(""+new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i=0,s=0,r=!1;t=t.replace(/\D/g,"");for(var n=t.length-1;n>=0;n--){var a=t.charAt(n);s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),i+=s,r=!r}return 0===i%10},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=r},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s[0]&&s[1]>=r},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&i[1]>=t},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var r=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,s="string"==typeof s&&{url:s}||s,r.old===e)return r.valid;r.old=e;var n=this;this.startRequest(i);var a={};return a[i.name]=e,t.ajax(t.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(s){n.settings.messages[i.name].remote=r.originalMessage;var a=s===!0||"true"===s;if(a){var u=n.formSubmitted;n.prepareElement(i),n.formSubmitted=u,n.successList.push(i),delete n.invalid[i.name],n.showErrors()}else{var o={},l=s||n.defaultMessage(i,"remote");o[i.name]=r.message=t.isFunction(l)?l(e):l,n.invalid[i.name]=!0,n.showErrors(o)}r.valid=a,n.stopRequest(i,a)}},s)),"pending"}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,s){var r=t.port;"abort"===t.mode&&(e[r]&&e[r].abort(),e[r]=s)});else{var i=t.ajax;t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(e[n]&&e[n].abort(),e[n]=i.apply(this,arguments),e[n]):i.apply(this,arguments)}}}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,i,s){return this.bind(i,function(i){var r=t(i.target);return r.is(e)?s.apply(r,arguments):void 0})}})}(jQuery)});
;define("common:widget/oui/page",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery");t(function(){var i=e("common:widget/oui/common"),o=t("#pg-server-message");if(o.length>0){var n=o.data("status"),m=o.data("message"),a=o.data("ispop"),r={message:m};""!==n&&(0===n||"0"===n?(r.success=!0,a+""=="true"&&(r.link="http://www.we.com/event/catchnew_registerIndex.action",r.linkText="邀请好友投资即得100元红包，多邀多得，快快",r.linkTextEnd="邀请壕友")):r.error=!0,i.showMessage(r))}var s=t("#title-detail"),c=t("title").html();s.length>0&&t("title").html(s.html()+" -"+c),i.initPoptips()})});
;define("common:widget/oui/pages/about",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(i){function e(i){new n.List({name:i.name,api:i.api,pagination:!0}).init(o.loadJSON("#"+i.name+"-rsp"))}var t=i("common:widget/oui/lib/jquery/1.9.1/jquery"),o=i("common:widget/oui/common"),s=i("common:widget/oui/protocol"),n=i("common:widget/oui/widgets/widgets"),a={};if(t("#news-list").length>0)t.extend(a,{name:"news-list",api:s.API.getNews}),e(a);else if(t("#notices-list").length>0)t.extend(a,{name:"notices-list",api:s.API.getNotices}),e(a);else{var l=t("#pg-helper-notice-type").text();t(".detail").length>0&&("NOTICE"==l?jQuery(".sub li:eq(8)").addClass("active"):jQuery(".sub li:eq(7)").addClass("active"))}t(".about-list>li h5").hover(function(){"none"==t(this).siblings(".about-list-item").css("display")&&t(this).parent().addClass("hover")},function(){t(this).parent().removeClass("hover")}).on("click",function(){t(this).siblings(".about-list-item").toggle(),t(this).parent().removeClass("hover"),"none"==t(this).siblings(".about-list-item").css("display")&&t(this).parent().addClass("hover")}),t(".about-list .icon-snow-top").on("click",function(){t(this).parents(".about-list-item").hide()})});
;define("common:widget/oui/pages/account/account/addcard",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(i,t,a){var e=i("common:widget/oui/lib/jquery/1.9.1/jquery"),c=function(){function i(){e.ajax({url:"/citydb/citydb!listCitys.action",async:!1,dataType:"JSON",success:function(i){s=i}})}function t(){var t=["华北","东北","华东","中南","西南","西北"],a=[];"undefined"==typeof s&&i();var d=s;e.each(d.datas,function(i,t){a.push(t.province+"|"+t.region)}),a=o(a,function(i,t){return i.split("|")[0]===t.split("|")[0]}),a=n(a),v.empty().hide(),e.each(t,function(i,t){var a=e("<div class='areadiv' data="+t+"></div>");a.html(t),v.append(a)}),e.each(a,function(i,t){var a=t.split("|"),c=e("<span data-province="+a[0]+">"+a[0]+"</span>");e(".areadiv[data='"+a[1]+"']").append(c)}),v.undelegate("click").delegate("span","click",function(){var i=e(this).attr("data-province");c(e(this),i)}).show(),u.show()}function a(){e.each(l,function(i,t){var a="citydiv";t%5===4&&(a+=" city-item-col-5");var c=e("<a href='javascript:' class='"+a+"' data-city='"+t.city+"' data-value='"+t.id+"'>"+t.city+"</a>");g.append(c)}),g.undelegate("click").delegate("a","click",function(){var i=e(this).attr("data-city");r.val(i).trigger("blur"),h.val(e(this).attr("data-value")),u.hide()})}function c(i,t){{var a=s,c=[];i[0].offsetLeft,i[0].offsetTop}f.empty(),e.each(a.datas,function(i,a){a.province==t&&c.push({city:a.city,value:a.id})});{var n=e("<div class='city-province fn-clear'><em>省份</em></div>");e("<a class='J_close' href='javascript:'>"+t+" <i>X</i></a>").click(function(){p.hide()}).appendTo(n)}f.prepend(n);var o=e("<div class='city-province'><em>城市</em></div>");e.each(c,function(i,t){var a=e("<a class='citydiv' data-city='"+t.city+"' data-value='"+t.value+"'>"+t.city+"</a>");o.append(a)}),f.append(o),p.show(),f.undelegate("click").delegate("a.citydiv","click",function(){var i=e(this).attr("data-city");r.val(i).trigger("blur"),h.val(e(this).attr("data-value")),u.hide()})}function n(i){for(var t=[],a=[],c=[],n=[],o=[],d=0,s=i.length;s>d;d++)/北京市/.test(i[d])?t.push(i[d]):/市/.test(i[d])?a.push(i[d]):/区/.test(i[d])?n.push(i[d]):c.push(i[d]);return o=e.merge(t,a),o=e.merge(o,c),o=e.merge(o,n)}function o(i,t){var a,e,c=i.length,n=i.slice(0);for("function"!=typeof t&&(t=function(i,t){return i===t});--c>0;)for(e=n[c],a=c;a--;)if(t(e,n[a])){n.splice(c,1);break}return n}function d(){h=e("#cityid"),r=e("#bank_area"),u=e("<div class='probox'></div>").css({top:r[0].offsetHeight+6}).insertAfter(r),g=e("<div class='hotCitiesBox fn-clear' style='display:block;'></div>"),$allCitiesBox=e("<div class='allCitiesBox'></div>"),v=e("<div id='provincebox'></div>"),p=e("<div id='citybox'></div>"),y=e("<ul class='city-tab J_city_tab fn-clear'><li class='active' data-name='hot'>热门城市</li><li data-name='all'>省份城市</li></ul>").appendTo(u),f=e("<div id='cityboxcon'></div>"),p.append(f);e("<span class='close'>X</span>").click(function(){u.hide(),p.hide()}).appendTo(u);$allCitiesBox.append(v).append(p).parent().css("position","relative"),u.append(g).append($allCitiesBox),a(),r.bind("focus",function(){t(),e("#J_must_chooseBankArea").hide()}).bind("keyup",function(){this.value=""}),e(".J_city_tab").on("click","li",function(){e(this).addClass("active").siblings().removeClass("active"),g.hide(),$allCitiesBox.hide(),e("."+e(this).data("name")+"CitiesBox").show()}),e(document.body).click(function(i){"bank_area"==i.target.id||e(i.target).closest("div.probox").length||u.hide()})}var s,l,r,u,v,p,f,h,y,g;return l=[{city:"北京市",id:"906"},{city:"上海市",id:"994"},{city:"广州市",id:"812"},{city:"深圳市",id:"815"},{city:"成都市",id:"1024"},{city:"杭州市",id:"886"},{city:"苏州市",id:"870"},{city:"南京市",id:"866"},{city:"武汉市",id:"949"},{city:"重庆市",id:"842"},{city:"天津市",id:"1012"},{city:"东莞市",id:"803"},{city:"郑州市",id:"973"},{city:"西安市",id:"961"},{city:"福州市",id:"877"},{city:"温州市",id:"889"},{city:"长沙市",id:"1053"},{city:"厦门市",id:"879"}],{init:function(){d()}}}(),n=function(){function i(){var i=e.trim(n.val()),t=e.trim(e("#bank_area").val()),c=o.val();return c&&"other"!=c?t?void e.ajax({url:"/bankdb/bankdb!listBankDetails.action?t="+(new Date).getTime(),type:"POST",data:{city:d.val(),bank:c,key:i},dataType:"JSON",error:function(){alert("银行数据加载失败，请刷新后重试")},beforeSend:function(){a.html("<img src='/static/img/loading.gif' />").show()},success:function(i){var t=i,c="";t.datas&&t.datas.length?e.each(t.datas,function(i,t){c+="<li>"+t.name+"</li>"}):c+="<p>没有匹配支行信息</p>",a.html(c),e(document.body).click(function(i){"bankKeySearchId"!==i.target.id&&"bankSearch"!=i.target.id&&a.hide()}),a.delegate("li","click",function(){var i=e(this).html();n.val(i).trigger("blur")}).delegate("li","mouseover",function(){e(this).addClass("selected")}).delegate("li","mouseout",function(){e(this).removeClass("selected")})}}):(e("#J_must_chooseBankArea").show(),void e("#J_must_chooseBankArea").next("label").remove()):void e("#J_must_chooseBank").show()}function t(){o=e("#selBankType"),c=e("#bankKeySearchId"),n=e("#cardDeposit"),a=e("<ul class='popBox bankSearch'></ul>").css({top:n[0].offsetHeight}).insertAfter(n),d=e("#cityid"),c.click(function(t){return i(),t.stopPropagation(),!1}),o.change(function(){n.val("")})}var a,c,n,o,d;return{init:function(){t()}}}(),o={pop:c,search:n};a.exports=o});
;define("common:widget/oui/pages/account/account/security",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/widgets/widgets"],function(e){function o(e,o){e.length&&(o?e.removeAttr("disabled").removeClass("ui-button-disabled"):e.attr("disabled","disabled").addClass("ui-button-disabled"))}var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/rsa/index"),i=e("common:widget/oui/widgets/widgets"),d=i.Form,a=function(){var e=t(".success"),o=t(".backBt");e.length&&(t(".content").delay(1e3).slideUp(),e.delay(1e3).slideDown(),o.on("click",function(){window.parent.location.reload()}),setTimeout(function(){window.parent.location.reload()},2e3))},c=t(".success").length,s=t("#modPswForm,#modCashPswForm,#findCashPswFormStepOneForm,#findCashPswFormStepTwoForm,#modMobileByPhoneStepOneForm,#modMobileByPhoneStepTwoForm,#modMobileByIdStepOneForm,#modMobileByIdStepTwoForm,#emailUpdateByOldStepOneForm,#emailUpdateByOldStepTwoForm,#emailUpdateByMobileStepOneForm,#setIdForm,#setEmailForm,#setMobileForm,#setCashPwdForm,#setNickNameForm");t("#reSendMail").click(function(e){t.get(t(this).attr("href"),function(){d.msg("#reSendMail","验证码发送成功,请去邮箱查收")}),e.preventDefault()}),s.length&&d.validate({target:"#"+s[0].id,before:function(){t("#getMobileCode").length&&(d.sendPhoneCode("phone","getVoiceCode","/sendPhoneCode!voiceCode.action?&checkCode=other&phone=",{onStart:function(){o(t("#getMobileCode"),!1)},onClear:function(){o(t("#getMobileCode"),!0)}}),d.sendPhoneCode("phone","getMobileCode","/sendPhoneCode.action?&checkCode=other&phone=",{onStart:function(){t(".voice").show(),o(t("#getVoiceCode"),!1)},onClear:function(){o(t("#getVoiceCode"),!0)}})),t("#getMobileCodeWithoutMobile").length&&(d.sendPhoneCode("phone","getVoiceCode","/account/bindMobile!sendOrigionalPhoneCode.action?type=VOICE&checkCode=other",{onStart:function(){o(t("#getMobileCodeWithoutMobile"),!1)},onClear:function(){o(t("#getMobileCodeWithoutMobile"),!0)}}),d.sendPhoneCode("","getMobileCodeWithoutMobile","/account/bindMobile!sendOrigionalPhoneCode.action?&checkCode=other",{onStart:function(){t(".voice").show(),o(t("#getVoiceCode"),!1)},onClear:function(){o(t("#getVoiceCode"),!0)}})),t("#randImage").length&&d.randImage()},validateData:{submitHandler:function(e){var o=t("input[type=password]",e);"undefined"!=typeof n&&o.each(function(){t(this).val(n(t(this).val()))}),c?d.ajaxSubmit(t(e),{msgafter:"#"+s.find("input[type='submit']")[0].id,success:function(e){o.each(function(){t(this).val("")}),this.msg(e.message,"warn"),0===e.status&&a()}}):e.submit()}}})});
;define("common:widget/oui/pages/account/account/userbank",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/pages/account/account/addcard","common:widget/oui/widgets/widgets","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e){function o(e,o){e.length&&(o?e.removeAttr("disabled").removeClass("ui-button-disabled"):e.attr("disabled","disabled").addClass("ui-button-disabled"))}var n,i,t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/pages/account/account/addcard"),c=e("common:widget/oui/widgets/widgets"),d=e("common:widget/oui/arale/dialog/1.3.3/dialog"),r=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),s=(t("#getMobileCode"),c.Form);t(function(){function e(e){var n={cardNum:o(e)},a=r.compile(t("#dialog-confirmBankNum").html()),c=a(n);i=new d({content:c,width:500,closeTpl:"",hasMask:{hideOnClick:!1}}).show()}function o(e){return e.replace(/\d{4}/g,function(e){return e+" "})}var n,i,c=!0;a.pop.init(),a.search.init(),t("#close").click(function(){t(".ui-dialog-close",parent.document).trigger("click")}),t("body").on("click","#card-confirm",function(){i.hide(),c=!1,n=t("#cardId").val(),t("form").submit()}),t("body").on("click","#card-cancel",function(){i.hide(),t("#cardId").focus(),c=!0,n=t("#cardId").val()}),s.validate({validateData:{submitHandler:function(o){t("#J_must_chooseBankArea").hide(),s.ajaxSubmit(t(o),{beforeSend:function(){var o=t("#cardId").val(),i=s.is.isLuhn(o);return n&&n!=o&&(c=!0),c&&!i?(e(o),!1):void 0},success:function(e){0===e.status?(t("#J_addCardSuccess").show(),new d({width:"500px",content:t("#J_addCardSuccess")}).after("show",function(){var e=this;t(".J_close","#J_addCardSuccess").click(function(){e.hide()})}).after("hide",function(){parent.location.reload()}).show()):t("#serverMsg").html(e.message)}})}}}),t("#cardId").on("keydown",function(e){return(e.keyCode<48||e.keyCode>57)&&8!=e.keyCode&&(e.keyCode<96||e.keyCode>105)?!1:void t(".J_friendTip").show()}),t("#cardId").on("keyup",function(){t(".J_friendTip").html(o(t(this).val()))}),t("#cardId").on("focus",function(){""!==t("#cardId").val()&&t(".J_friendTip").show()}),t("#cardId").on("blur",function(){t(".J_friendTip").hide()})}),i=s.sendPhoneCode("","getMobileCode","/account/bindMobile!sendOrigionalPhoneCode.action?&checkCode=other",{onStart:function(){o(t("#getVoiceCode"),!1),t("#voiceCodeBox").show()},onClear:function(){o(t("#getVoiceCode"),!0)},unDisabled:!0}),n=s.sendPhoneCode("","getVoiceCode","/account/bindMobile!sendOrigionalPhoneCode.action?type=VOICE&checkCode=other",{onStart:function(){o(t("#getMobileCode"),!1)},onClear:function(){o(t("#getMobileCode"),!0)},unDisabled:!0}),t(document).click(function(e){var o=e.target;t(o).parent("span").hasClass("arrow")||t(o).parent("div").hasClass("J_select_btn")||t(o).closest("div.J_popBankBox").length||t(".J_popBankBox").css("display","none")}),t(".J_select_btn").click(function(e){t(".J_popBox").css("display","none");var o=t(e.currentTarget).parent().find(".J_popBankBox");"block"==o.css("display")?o.css("display","none"):o.css("display","block")}),t(".J_chooseOtherBank").click(function(){var e="选择其他银行"==t(this).text()?"收起":"选择其他银行";t(this).text(e),t(".J_otherBankList").toggle()}),t(".J_popBankBox li").click(function(e){var o=t(e.currentTarget).attr("datavalue"),n=t(e.currentTarget).html(),i=t(e.currentTarget).parent().parent().parent();t("#selBankType").attr("value",o),t(".J_popBankBox").hide(),i.find(".J_txt").html(n),t("#J_must_chooseBank").hide(),t("#selBankType").blur()})});
;define("common:widget/oui/pages/account/account/userbasic",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets","common:widget/oui/arale/dialog/1.3.3/dialog"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=e("common:widget/oui/widgets/widgets"),o=e("common:widget/oui/arale/dialog/1.3.3/dialog"),s=i.Form;t(function(){var e=t("#userInfoForm"),i=e.clone();i.find("input,select,a.photo").each(function(){if("radio"==this.type)this.value="",this.checked||t(this).parent("em").remove(),t(this).remove();else if("submit"==this.type||"hidden"==this.type)t(this).remove();else if("A"==this.tagName.toUpperCase()&&"modUserPhoto"==this.id)t(this).attr("href","#");else{var e=t(this).val();t(this).after(e).remove()}}),e.hide().after(i),t("#modiForm").click(function(){"修改信息"!=t(this).text()?(i.show(),e.hide(),t(this).html("修改信息")):(i.hide(),e.show(),t(this).html("取消修改"))}),new o({trigger:"#modUserPhoto",width:"550px",height:/msie 6/i.test(navigator.userAgent)?"550px":"220px"}).before("show",function(){this.set("content",this.activeTrigger.attr("href"))}).after("hide",function(){}),s.validate({validateData:{submitHandler:function(e){s.ajaxSubmit(t(e),{msgafter:"#"+t(e).find("input[type='submit']")[0].id,success:function(e){this.msg(e.message,"warn"),0===e.status&&setTimeout(function(){location.reload()},1500)}})}}})})});
;define("common:widget/oui/pages/account/bill",["require","common:widget/oui/lib/jquery/1.9.1/jquery"],function(o){var t=o("common:widget/oui/lib/jquery/1.9.1/jquery");opt={monthList:t(".ui-list-month ul"),monthBt:t(".ui-list-month p")},opt.monthBt.on("click",function(o){opt.monthList.toggle(),o.stopPropagation()}),t("body").on("click",function(){opt.monthList.hide()})});
;define("common:widget/oui/pages/account/borrow/applications",["require","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(o){var i=o("common:widget/oui/common"),t=o("common:widget/oui/protocol"),n=o("common:widget/oui/widgets/widgets");new n.List({name:"applications",api:t.API.getUserLoanApplicationRecords,title:!0,pagination:!0}).init(i.loadJSON("#applications-rsp",!0))});
;define("common:widget/oui/pages/account/borrow/repayments",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/common"),i=e("common:widget/oui/protocol"),n=e("common:widget/oui/widgets/widgets"),r=function(e){t.extend(this,{container:e.container,_checked:{start:0,end:0,count:0}}),this.loanId=this.container.data("loan-id"),this._ui={repaySwitch:this._elem("repay-switch"),repayBox:this._elem("repay-box"),repayList:this._elem("repayment-records"),repayAvailable:this._elem("repay-available-amount"),repayAmount:this._elem("repay-amount"),repayHint:this._elem("repay-hint"),repayInputCount:this._elem("repay-input-count"),repayInputStart:this._elem("repay-input-start"),repayInputEnd:this._elem("repay-input-end"),repaySubmit:this._elem("repay-submit"),repayForm:this._elem("repay-form"),repayAllSwitch:this._elem("repay-all-switch"),repayAllBox:this._elem("repay-all-box"),repayAllAvailable:this._elem("repay-all-available-amount"),repayAllAmount:this._elem("repay-all-amount"),repayAllHint:this._elem("repay-all-hint"),repayAllSubmit:this._elem("repay-all-submit"),repayAllForm:this._elem("repay-all-form")}};t.extend(r.prototype,{init:function(){var e=this,a=this._ui;a.repaySwitch.click(function(){e._switchClicked(t(this))}),a.repayAllSwitch.click(function(){a.repayAllSwitch.hasClass("disabled")||e._switchClicked(t(this))});var i=location.search.substring(1).split("=");return"pageFlag"==i[0]&&a.repaySwitch.click(),this},_initRepay:function(){var e=this,a=this._ui,r=this.loanId,l=i.translator;new n.List({container:a.repayList,name:"repayment-records",api:i.API.getUserLoanRepaymentRecords,title:!0,rendered:function(a){e._elem("repay-term-checking").change(function(){e._checkboxClicked(t(this))}),0===a.status&&(e._elem("repaid-summary").children("em").text(l._fixedFloat2(a.data.alreadyPayTotalAmount)),e._elem("to-repay-summary").children("em").text(l._fixedFloat2(a.data.notPayTotalAmount)))}}).init()._update({loanId:r},function(e){0===e&&a.repayBox.data("status","initialized")}),a.repayForm.submit(function(){return"0.00"==a.repayAmount.children("em").text()&&a.repayHint.text("请选择还款期").show(),a.repaySubmit.hasClass("disabled")?!1:!0})},_initRepayAll:function(){var e=this._ui,t=parseFloat(e.repayAllAmount.data("amount"),10),a=parseFloat(e.repayAllAvailable.data("amount"),10);t>a&&(e.repayAllSubmit.addClass("disabled"),e.repayAllHint.text("您的余额不足，请先充值")),e.repayAllForm.submit(function(){return e.repayAllSubmit.hasClass("disabled")?!1:!0})},_elem:function(e){return this.container.find('[data-name="'+e+'"]')},_switchClicked:function(e){var t="repay",a="repayAll";"repay-all-switch"==e.data("name")&&(t="repayAll",a="repay");var i="repay"==t?"_initRepay":"_initRepayAll",n=this._ui[t+"Switch"],r=this._ui[t+"Box"],l=this._ui[a+"Switch"],s=this._ui[a+"Box"];n.hasClass("active")?(this.container.removeClass("active"),n.removeClass("active"),n.text(n.data("text")),r.hide()):(l.hasClass("active")&&(l.removeClass("active"),l.text(l.data("text")),s.hide()),this.container.addClass("active"),n.addClass("active"),n.text("取消"),r.show(),"initialized"!=r.data("status")&&this[i]())},_checkboxClicked:function(e){var a=this,n=this._ui;a._elem("repay-term-checking").each(function(i,n){var r=t(n),l=parseInt(e.val(),10),s=parseInt(r.val(),10);l>s?(r.prop("checked",!0),r.attr("checked","checked")):s==l?a._checked.end>l&&!e.prop("checked")&&(r.prop("checked",!0),r.attr("checked","checked")):(r.prop("checked",!1),r.removeAttr("checked"))}),a._checked.count=0,a._checked.start=0,a._checked.end=0;var r=0,l=null,s=parseFloat(n.repayAvailable.data("amount"),10);a._elem("repay-term-checking").each(function(e,i){var n=t(i),s=parseInt(n.val(),10);n.prop("checked")&&(0===a._checked.start&&(a._checked.start=s),a._checked.end=s,a._checked.count++,l=n.closest("li").find(".to-repay-amount em"),r+=parseFloat(l.text(),10))}),r>s?(n.repaySubmit.addClass("disabled"),n.repayHint.text("您的余额不足，请先充值").show()):(n.repaySubmit.removeClass("disabled"),n.repayHint.text("").hide()),0===r?n.repaySubmit.addClass("disabled"):n.repaySubmit.removeClass("disabled"),n.repayAmount.children("em").text(i.translator._fixedFloat2(r)),n.repayInputCount.val(a._checked.count),n.repayInputStart.val(a._checked.start),n.repayInputEnd.val(a._checked.end)}}),new n.List({name:"repaying-list",api:i.API.getUserRepayingRecords,title:!0,pagination:!0,rendered:function(e){var a=this.container;if(a.children('li[data-name="repaying-item"]').each(function(e,a){new r({container:t(a)}).init()}),e.data&&e.data.data.length)for(var i=0;i<e.data.data.length;i++)e.data.data[i].termsLeft&&1==e.data.data[i].termsLeft&&t(".J_repayment-payback",a).eq(i).addClass("fn-hide")}}).init(a.loadJSON("#repaying-list-rsp",!0)),new n.Tab({tabsContainer:t("#repayments-tab"),contentsContainer:t("#repayments-tab-content"),switched:function(e,t,a){return a?!0:("repaid"==t&&new n.List({name:"repaid-list",api:i.API.getUserRepaidRecords,title:!0,pagination:!0}).init()._update(),!0)}}).init()});
;define("common:widget/oui/pages/account/borrow/statistics",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/lib/highcharts/3.0.5/highcharts"],function(a){var t=a("common:widget/oui/lib/jquery/1.9.1/jquery"),e=a("common:widget/oui/common"),o=a("common:widget/oui/protocol");a("common:widget/oui/lib/highcharts/3.0.5/highcharts");var r=o.translator,l=["#3488ad","#1bb8e2","#aabc64","#ffc400","#f78800","#e52012","#f01f5a"],i=function(a){return l[a%7]},c=function(a){return parseFloat(r._bankersRound(a))},n=e.loadJSON("#stat-rsp",!0),d=n.data.loanAmountMap,s={stats:[]},u=0;t.each(d,function(a,t){var e={};"total"==a?a="总计":e.data=!0,e.label=a,e.value=r._fixedFloat2(t),e.formattedValue=r._commaFloat(t),u+=1,e.style=u%2==1?"rrdcolor-paleblue3-bg":"rrdcolor-paleblue2-bg",s.stats.push(e)}),e.fillTemplate({container:t("#succeeded-data"),template:t("#stat-template"),data:s});var m=n.data.repayAmountMap,p={stats:[]};u=0,t.each(m,function(a,t){var e={};"total"==a?a="总计":(a=a.replace("-","年")+"月",e.data=!0),e.label=a,e.value=r._fixedFloat2(t),e.formattedValue=r._commaFloat(t),u+=1,e.style=u%2==1?"rrdcolor-paleblue3-bg":"rrdcolor-paleblue2-bg",p.stats.push(e)}),e.fillTemplate({container:t("#half-year-data"),template:t("#stat-template"),data:p});var h=function(a){var e=[],o=0,r=t("#"+a+"-data");r.find('[data-name="category"]').each(function(a,r){var l=t(r),n=l.data("category"),d=l.data("value");"string"==typeof d&&(d=parseFloat(d,10)),0!==d&&e.push({name:n,y:c(d),color:i(o)}),o+=1});var l=t("#"+a+"-chart");0===e.length?l.addClass("empty").text(l.data("empty")):l.highcharts({chart:{type:"pie"},title:{text:l.data("title")},legend:!1,plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"元"},credits:{enabled:!1},series:[{name:"金额",data:e}]})},g=function(a){var e=[],o=[],r=t("#"+a+"-data");r.find('[data-name="category"]').each(function(a,r){e.push(t(r).data("category")),o.push(parseFloat(t(r).data("value"),10))});var l=t("#"+a+"-chart");l.highcharts({chart:{type:"column"},title:{text:l.data("title")},legend:!1,xAxis:{categories:e},yAxis:{title:!1},credits:{enabled:!1},series:[{name:"金额",data:o,color:i(0)}]})};h("overall"),h("to-repay"),h("repaid"),g("succeeded"),g("half-year")});
;define("common:widget/oui/pages/account/capital/recharge",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e){function a(){var e=r("#rechargePoundage"),a=r("#rechargePay"),t=r("#rechargeFree").is(":checked"),o=r.trim(r("#rechargeAmount").val()),i=r("#payFeeType").val(),n="checkin";h.is.isAmount(o)&&r.ajax({url:"/my/getCashFee.action",cache:!1,dataType:"json",data:{amount:o,type:n,payCategory:i,couponlog:t},timeout:1e4,success:function(t){{var o=parseFloat(t.fe).toFixed(2),i=parseFloat(t.cal).toFixed(2);parseFloat(t.balance).toFixed(2)}e.html("￥"+h.comma(o)),a.html("￥"+h.comma(i))}})}function t(e,a,t){var o="";null!==t&&(o=new Date((new Date).getTime()+36e5*t),o="; expires="+o.toGMTString()),document.cookie=e+"="+escape(a)+o}function o(e){var a="",t=e+"=";return document.cookie.length>0&&(offset=document.cookie.indexOf(t),-1!=offset&&(offset+=t.length,end=document.cookie.indexOf(";",offset),-1==end&&(end=document.cookie.length),a=unescape(document.cookie.substring(offset,end)))),a}function i(e){var a=[];return r.each(e,function(e,t){t&&a.push(t)}),a.length>4&&(a.length=4),a}function n(e,a){var t=r("#rechargeBank-list-template").html(),o=u.compile(t),i=o(a);e.html(i),a.rows.length>5&&r('<li class="J_show_more_banks"><a href="javascript:">更多银行</a></li>').insertAfter(e.find("li").eq(5))}function s(e,a){var t={};t.rows=[],t.updateCode=[];for(var o=0;o<a.length;o++)for(var i in e)if(a[o]==e[i].code){e[i].bankInfoId="recent"+o,t.rows.push(e[i]),t.updateCode.push(e[i].code),delete e[i];break}return t}var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),l=e("common:widget/oui/arale/dialog/1.3.3/dialog"),c=e("common:widget/oui/arale/tip/1.1.4/tip"),d=e("common:widget/oui/widgets/widgets"),u=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),h=d.Form;r(function(){function e(e){var a=e.find("li:first"),t=a.data("type");a.siblings().removeClass("active"),a.addClass("active"),g.val(t),u.val(a.data("value")),d=a.data("value"),r(".banks-limit-table table").hide(),r("."+a.data("value")+"-table").show()}var d,u=r("#bankId"),g=r("#paytype"),m=(r("#bankList").find("dl").eq(0).hide(),r(".e-banks-list")),f=r(".c-banks-list"),p={rows:[]},w=i(o("cd").split(",")),b=r("#rechargeBank-list-rsp").html(),v=[{fullName:"快钱",payChannelStr:"QUICKPAY",code:"QUICKPAY",bankInfoId:"q1",logo:"/static/img/banks30/checkin_kq.jpg"},{fullName:"财付通",payChannelStr:"TENPAY",code:"TENPAY",bankInfoId:"q4",logo:"/static/img/banks30/tenpay.jpg"},{fullName:"易宝",payChannelStr:"YEEPAY",code:"YEEPAY",bankInfoId:"q3",logo:"/static/img/banks30/yeepay.jpg"}],k={rows:v};b=r.parseJSON(b);for(var y=0;y<b.data.rows.length;y++){var C={};C.payChannelStr=b.data.rows[y].payChannelStr,C.code=b.data.rows[y].code,C.bankInfoId=b.data.rows[y].bankInfoId,C.fullName=b.data.rows[y].fullName,C.logo=b.data.rows[y].logo.replace(/banks/,"banks30"),C.className=5>y?"":"fn-hide",p.rows.push(C)}var I=r.merge(b.data.rows,v),N=s(I,w);if(N.rows.length){for(var q=0,y=0;y<p.rows.length;y++)N.rows[0].code==p.rows[y].code&&(q=y);var A=p.rows[q].className;p.rows[q].className="",0!=q&&(p.rows[4].className=A);var F=p.rows.slice(q,q+1)[0];p.rows.splice(q,1),p.rows.unshift(F)}n(m,p),n(f,k),e(r(".e-banks-list")),r("li",".J_recharge-title").click(function(){r(this).addClass("active").siblings().removeClass("active"),r(".e-banks-list,.c-banks-list").hide(),r("."+r(this).data("way")+"-list").show(),e(r("."+r(this).data("way")+"-list"))}),r(".J_show_more_banks").on("click",function(){r(this).siblings().removeClass("fn-hide"),r(this).remove()}),r("li:not('.J_show_more_banks')",".recharge-banks").on("click",function(){r(this).siblings().removeClass("active"),r(this).addClass("active");var e=r(this).data("type");g.val(e),u.val(r(this).data("value")),d=r(this).data("value"),r(".banks-limit-table table").hide(),r("."+r(this).data("value")+"-table").show()});var _=h.validate();r("#rechargeAmount").on("keyup blur",function(){a()}),r("#rechargeFree").click(function(){a()}),r("#sub-recharge").click(function(e){return r("form").submit(),_.valid()?(new l({width:"500px",hasMask:{hideOnClick:!0},content:r("#afterSub")}).show(),-1===r.inArray(d,N.updateCode)&&(w=r.merge([d],N.updateCode)),t("cd",i(w).toString(),8640),void e.preventDefault()):!1}),r("#finishRecharge").click(function(){location.reload()}),r("#troubleRecharge").click(function(){location.reload()}),new c({element:"#tipCon",trigger:"#tips",direction:"right"}),r("#tips2").length&&new c({element:"#tipCon2",trigger:"#tips2",direction:"right"})})});
;define("common:widget/oui/pages/account/capital/transactions",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/common"),n=e("common:widget/oui/protocol"),o=e("common:widget/oui/widgets/widgets"),r=a.loadJSON("#transactions-rsp",!0),i=new o.List({name:"transactions",api:n.API.getUserTransactions,title:!0,pagination:!0}).init(r);t("#query-switch").click(function(){var e=t(this);"normal"==e.data("current")?(e.text("切换到普通查询"),e.data("current","advanced"),t("#query-normal").hide(),t("#query-advanced").show()):(e.text("切换到高级查询"),e.data("current","normal"),t("#query-advanced").hide(),t("#query-normal").show())});var c,s=2010,m=parseInt(t("#pg-helper-year").text(),10),l=parseInt(t("#pg-helper-month").text(),10),d=t('select[name="year"]'),u=t('select[name="startMonth"], select[name="endMonth"]'),p=t('select[name="startMonth"]'),v=t('select[name="endMonth"]'),h=function(e){return'<option value="'+e+'">'+e+"</option>"},g=function(e){return parseInt(e.val(),10)};for(c=m-1;c>=s;c--)d.append(h(c));for(c=1;l>=c;c++)u.append(h(c));d.change(function(){var e=g(d),t=g(p),a=g(v),n=e==m?l:12;for(u.empty(),c=1;n>=c;c++)u.append(h(c));p.val(l>=t?t:1),v.val(l>=a?a:1)}),p.change(function(){var e=v.val(),a=g(d)==m?l:12;for(v.empty(),c=g(t(this));a>=c;c++)v.append(h(c));v.val(e)}),v.change(function(){var e=p.val();for(p.empty(),c=1;c<=g(t(this));c++)p.append(h(c));p.val(e)});var f=function(){var e={type:t('select[name="type"]').val()};return t("#query-normal").is(":visible")?e.time=t('select[name="time"]').val():(e.year=t('select[name="year"]').val(),e.startMonth=t('select[name="startMonth"]').val(),e.endMonth=t('select[name="endMonth"]').val()),e},y=r.status,w=t.param(f()),q=t("#export"),M=t("#export").attr("href");t("#export").attr("href",M+"?"+w),t("#query-submit").click(function(){var e=f(),a=t.param(e);(w!=a||0!==y)&&(i._params=e,i._update(e,function(e){y=e,w=a,0===e?(q.attr("href",M+"?"+w),q.removeClass("disabled")):(q.removeAttr("href"),q.addClass("disabled"))}))})});
;define("common:widget/oui/pages/account/capital/withdraw",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/common","common:widget/oui/widgets/widgets"],function(a){var t=a("common:widget/oui/lib/jquery/1.9.1/jquery"),e=a("common:widget/oui/rsa/index"),i=a("common:widget/oui/arale/dialog/1.3.3/dialog"),n=a("common:widget/oui/lib/handlebars/1.0.0/handlebars"),o=a("common:widget/oui/arale/tip/1.1.4/tip"),s=(a("common:widget/oui/common"),a("common:widget/oui/widgets/widgets")),r=s.Form;t(function(){function a(a){var e=[];e.push('<div class="bank-logo"><img src="../../../../static/img/banks35/code_'+a.bankCode+'.jpg" /></div>'),e.push('<span class="card-tail-number">'+a.tailNumber+"</span>"),t(".bank-logo,.card-tail-number",".J_default-bank").remove(),t(".J_default-bank").prepend(e.join("")),a.isFailLastCashDraw?t(".J_error-tips").removeClass("fn-hide"):t(".J_error-tips").addClass("fn-hide"),t("#userBankId").data("index",a.cordIndex).val(a.userBankId)}function s(){var a="更换"==t(".J_change_card").find("span").text()?"收起":"更换";t(".J_change_card").find("span").text(a),t(".J_change_card").find("i").toggleClass("active")}function d(){var a=t("#withdrawAmount").val();if(0>=a)return t("#withdrawFee").html("0.00"),t("#withdrawReal").html("0.00"),t(".J_withdrawReal").html("0.00"),t(".J_withdrawFee").html("0.00"),void t(".J_withdrawAmout").html("0.00");t(".J_withdrawAmout").html("￥"+r.comma(parseFloat(a)));var e="cashDraw";t.ajax({url:"/my/getCashFee.action?amount="+a+"&type="+e,cache:!1,dataType:"json",timeout:1e4,success:function(a){var e=t("#withdrawAmount").val();a.cal<e||(t("#totalAmount").val(r.comma(a.balance)),t("#withdrawFee").html(r.comma(a.fe)),t("#withdrawReal").html(r.comma(a.cal)),t(".J_withdrawReal").html("￥"+r.comma(a.cal)),t(".J_withdrawFee").html(r.comma(a.fe)+".00"))}})}t(".J_change_card").on("click",function(){s(),t(".J_card_list").toggleClass("fn-hide")}),t("#withdrawAmount").val(""),t("#cashPassword").val(""),d();var c=t("#withdraw-list-rsp").html();c=t.parseJSON(c);var l=[],u={};if(0!=c.data.userBanks.length){t(".J_no_bank").addClass("fn-hide"),t(".J_default-bank").removeClass("fn-hide");for(var h=0;h<c.data.userBanks.length;h++){var m=c.data.userBanks[h],w={};w.userBankId=m.userBankId,w.bankCode=m.bankCode,w.tailNumber=m.dealCardId.slice(-4),w.bankNumber="**** **** **** "+m.dealCardId.slice(-4),w.isFailLastCashDraw=m.isFailLastCashDraw,w.cordIndex=h,l.push(w)}u.userBanks=l,a(l[0]);var f=t("#withdraw-list-template").html(),g=n.compile(f),_=g(u);t("#J_banklis").append(_)}t(document).click(function(a){var e=a.target;t(e).parent("a").hasClass("J_change_card")||t(e).hasClass("J_change_card")||(t(".J_card_list").addClass("fn-hide"),t(".J_change_card").find("span").text("更换"),t(".J_change_card").find("i").removeClass("active"))}),t(".J_card_list").on("click","a.bankli",function(){t(".J_card_list").addClass("fn-hide"),s(),a(l[t(this).data("index")])}),r.validate({before:function(){jQuery.validator.addMethod("isEnough",function(a,e){return this.optional(e)||parseFloat(t("#totalAmount").val())>=0},r.err.required)},validateData:{submitHandler:function(a){return t(a).find("input[name=cashPassword]").val(e(t(a).find("input[name=cashPassword]").val())),/^[0-9]*(\.[0-9]{1,2})?$/.test(t("#withdrawAmount").val())?parseFloat(t("#canUseCash").val())-parseFloat(t("#withdrawAmount").val())<0?(r.msg("#subWithdraw","您的账户余额不足","warn"),t("#withdrawAmount").focus(),t("#cashPassword").val(""),!1):(t("#J_sureWithdraw").show(),void new i({width:"650px",content:t("#J_sureWithdraw")}).after("hide",function(){t("#cashPassword").val("")}).after("show",function(){var e=this,n=l[t("#userBankId").data("index")];t(".J_bankNumber").text(n.bankNumber),t(".J_bankLogo").attr("src","../../../../static/img/banks30/code_"+n.bankCode+".jpg"),t(".J_close","#J_sureWithdraw").click(function(){e.hide()});var o=!1;t(".J_submit_btn").click(function(){o||(o=!0,r.ajaxSubmit(t(a),{msgafter:"#subWithdraw",success:function(n){e.hide(),t(a).find("input[name=cashPassword]").val(""),0===n.status?(t("#J_apply_success").show(),new i({width:"650px",content:t("#J_apply_success")}).after("show",function(){var a=this;t(".J_close","#J_apply_success").click(function(){a.hide()})}).after("hide",function(){location.reload()}).show()):this.msg(n.message,"warn")}}))})}).show()):(r.msg("#subWithdraw","请输入正确的金额","warn"),t("#withdrawAmount").focus(),t("#cashPassword").val(""),!1)}}}),t(".addBank").on("click",function(){return l.length>=10?(t("#J_moreTenCards").show(),new i({width:"650px",content:t("#J_moreTenCards")}).after("show",function(){var a=this;t(".J_close","#J_moreTenCards").click(function(){a.hide()})}).show()):new i({trigger:".addBank",height:"595px",width:"650px"}).before("show",function(){this.set("content",this.activeTrigger.attr("href"))}).after("hide",function(){this.destroy()}).show(),!1}),t(".ui-term-placeholder").click(function(){t("#withdrawAmount").focus()}),t("#withdrawAmount").focusin(function(){t(".ui-term-placeholder").is(":visible")&&t(".ui-term-placeholder").hide()}).focusout(function(){""===t("#withdrawAmount").val()&&t(".ui-term-placeholder").show()}),new o({element:"#tipCon",trigger:"#tips",direction:"right"});var p;t("#withdrawAmount").on("keyup blur",function(){if(clearTimeout(p),p=setTimeout(d,250),t(this).val().length>15){var a=t(this).val().substring(0,15);t(this).val(a)}})})});
;define("common:widget/oui/pages/account/coupons/bindcoupon",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/arale/dialog/1.3.3/dialog"],function(o){var i=o("common:widget/oui/lib/jquery/1.9.1/jquery"),e=(o("common:widget/oui/common"),o("common:widget/oui/widgets/widgets")),n=(o("common:widget/oui/lib/handlebars/1.0.0/handlebars"),o("common:widget/oui/arale/dialog/1.3.3/dialog")),t=e.Form;i(function(){t.validate({validateData:{submitHandler:function(o){t.ajaxSubmit(i(o),{msgafter:".J_bind_cou_tips",dataType:"json",success:function(o){this.msg(o.message,"warn"),0===o.status&&(i(".couponType").text(o.data.couponType),i("#J_bind_coupon_success").show(),new n({content:i("#J_bind_coupon_success"),height:"178px",width:"500px"}).show())}})}}})})});
;(function(){define("common:widget/oui/pages/account/coupons/mycoupon",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/widgets/widgets","common:widget/oui/protocol"],function(e,o,i){var n,t,u,r;return n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),t=e("common:widget/oui/common"),u=e("common:widget/oui/widgets/widgets"),r=e("common:widget/oui/protocol"),initTab=function(){var e;return e=new u.Tab({name:"coupon",switched:function(e,o,i){return i?!0:("usedcoupon"==o&&new u.List({name:"usedcoupon-list",api:r.API.getUsedCoupon,filter:!1,header:!0,pagination:!0,hasMore:!1,rendered:null}).init()._update(),"expiredcoupon"==o&&new u.List({name:"expiredcoupon-list",api:r.API.getExpiredCoupon,filter:!1,header:!0,pagination:!0,hasMore:!1,rendered:null}).init()._update(),!0)}}).init()},initList=function(e){var o;return o=new u.List({name:"unusecoupon-list",api:r.API.getUnuseCoupon,filter:!1,header:!0,pagination:!0,hasMore:!1,rendered:null}).init(e)},ret={init:function(e){return initTab(),initList(t.loadJSON(e,!0))}},i.exports=ret})}).call(this);
;define("common:widget/oui/pages/account/coupons/ucode",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/common"),a=e("common:widget/oui/widgets/widgets"),o=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),i=a.Form;t(function(){function e(e){e.couponId=e.couponId,e.expireDate=e.expireDate,e.investAmount=e.investAmount;for(var n=0;n<e.financePlanList.length;n++)e.financePlanList[n].ucodeSerial=e.ucodeSerial,e.financePlanList[n].ucodeValue=e.ucodeValue,e.financePlanList[n].buyInRate=.01*parseInt(e.financePlanList[n].buyInRate)*parseInt(e.investAmount);var a=t("#ucode-sub-template").html(),i=o.compile(a),s=i(e);t("#ucodeForm").hide().after(s),t("#getUseCouponId").val(e.couponId)}i.validate({validateData:{submitHandler:function(n){i.ajaxSubmit(t(n),{msgafter:".J_bind_cou_tips",dataType:"json",success:function(n){this.msg(n.jsonVo.message,"warn"),t(".J_bind_cou_tips").text(),0===n.jsonVo.status&&e(n)}})}}}),initData&&0==initData.status&&e(initData.data);var a=0;t("body").on("click",".linkRsv",function(e){if(1==a)return!1;a=1,e.preventDefault();{var o=(new Date).getTime(),i=t(this).attr("href")+"&r = "+o,s="/financeplan/listPlan!detailPlan.action?financePlanId="+t(this).attr("data-plan-id")+"&couponId="+t("#getUseCouponId").val();t.getJSON(i+"&callback=?",function(e){a=0,0===e.status&&(location.href=s),e.status&&1===e.status&&n.showMessage({error:!0,message:e.message}),t(".loading-tips").hide()})}t(".loading-tips").show()}),t(".J_use_coupon").click(function(){t.ajax({url:"/account/coupon!useUcodeReserve.action?couponId="+t("#getUseCouponId").val(),success:function(n){0===n.jsonVo.status?e(n):(t(".J_warn").html(n.jsonVo.message).show(),t(".J_warn").delay(3e3).slideUp(function(){t(this).html("")}))}})}),t(".J_use_psw").on("click",function(){t(".J_use_psw_wrap").toggle(),t("input",".J_use_psw_wrap").focus()})}),t(document).click(function(e){var n=e.target;t(n).parent("span").hasClass("arrow")||t(n).parent("div").hasClass("J_select_btn")||t(".J_popBox").css("display","none")}),t(".J_select_btn").click(function(e){t(".J_popBox").css("display","none");var n=t(e.currentTarget).parent().find("ul");"block"==n.css("display")?n.css("display","none"):n.css("display","block")}),t(".J_popBox li").mouseover(function(e){t(e.currentTarget).attr("class","selected")}),t(".J_popBox li").mouseleave(function(e){t(e.currentTarget).attr("class","")}),t(".J_popBox li").click(function(e){var n=t(e.currentTarget).attr("datavalue"),a=t(e.currentTarget).find("span").text(),o=t(e.currentTarget).parent().parent();t("#getUseCouponId").attr("value",n),o.find(".J_txt").text(a)})});
;define("common:widget/oui/pages/account/index",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/arale/overlay/1.1.2/mask","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/rsa/index"],function(e){function t(e,t){var i=c(".newbie-guide-pop"),a=i.eq(e),o=i.eq(t);o.css({left:960+o.width(),opacity:.5,marginLeft:0}),a.animate({opacity:.5,left:-a.width()},1e3,function(){a.hide()}),o.show().animate({opacity:1,left:(960-o.width())/2},1e3,function(){o.css({left:"50%",marginLeft:-o.width()/2})})}function i(e){c.get("/html/blank/blank.html?newUserGuide="+e,function(){})}function a(){$guide=c("#novice-guide"),$ad=c(".ad-dimgray"),$guide.length&&($ad.length&&$ad.hide(),$guide.find(".close,.goto").on("click",function(){$guide.hide(),p.hide()}).end().find(".next").on("click",function(){var e=$guide.data("type").toLowerCase(),t=$guide.css("backgroundImage"),i=t.match(/(account-step-)(\d)/),a=parseInt(i[2],10);a++,a>=3&&(c(this).remove(),c(".goto").show(),$ad.show()),"借出者"==e?($guide.css({background:"url(/static/img/guide/"+i[1]+a+"-lender.png)"}),c("#novice-guide .guide").removeClass().addClass("guide "+i[1]+a+"-lender")):($guide.css({background:"url(/static/img/guide/"+i[1]+a+"-borrower.png)"}),c("#novice-guide .guide").removeClass().addClass("guide "+i[1]+a+"-borrower"))}),p.set("backgroundColor","#000").set("zIndex",100001).set("opacity","0.6").show())}function o(e,t,i){var a=c(e,".LOAN-WAITING_AUDIT");a.find("img:first").attr("src","/static/img/auth_icon/mid/"+t+i.str+".png"),""!==i.src?a.find("img:last").attr("src",i.src):a.find("em").addClass("fn-hide"),a.removeClass("fn-hide")}function s(e){var t={VALID:["light","pass"],INVALID:["dark",""],PENDING:["light","uploaded"],OVERDUE:["dark","expired"],FAILED:["dark","reject"]};if("OVERDUE"==e)h.push("overdue");else if("FAILED"==e)h.push("failed");else if("INVALID"==e)return{str:t[e][0],src:""};var i=["/static/img/auth_icon/mid/",t[e][1],".png"];return{str:t[e][0],src:i.join("")}}function n(e,t){var i={RRGXD:"RRGXD",RRSYD:"RRSYD",RRWSD:"RRWSD"};i[e]&&c(".yeltip-button",t).find("a").attr("href","/borrow/borrowPage.action?loanProductType="+i[e])}function r(){D&&P[D.type]()}for(var c=e("common:widget/oui/lib/jquery/1.9.1/jquery"),d=e("common:widget/oui/common"),u=e("common:widget/oui/protocol"),l=e("common:widget/oui/widgets/widgets"),p=e("common:widget/oui/arale/overlay/1.1.2/mask"),m=e("common:widget/oui/arale/tip/1.1.4/tip"),f=0,h=[],g=l.Form,v=e("common:widget/oui/rsa/index"),w=[{"class":"identity-pop",status:"1"==newbieGuideStatus.identity},{"class":"cashPW-pop",status:"1"==newbieGuideStatus.cashPW},{"class":"recharge-pop",status:"1"==newbieGuideStatus.recharge},{"class":"invest-pop",status:"1"==newbieGuideStatus.invest}],b=0;b<w.length;b++){var E=w[b],C=E["class"];if(E.status)c("."+C).remove(),w.splice(b,1),b--;else switch(C){case"identity-pop":g.validate({target:"#setIdForm",validateData:{submitHandler:function(e){g.ajaxSubmit(c(e),{msgafter:"#subbt",before:function(){this.msg("正在验证，请稍后...")},success:function(e){this.msg(e.message,"warn"),0===e.status&&(c(".identity-set-succeed").show(),c(".cashpsw-set-succeed").hide(),t(0,1),i("identify_success"))}})}}});break;case"cashPW-pop":g.validate({target:"#setCashPwdForm",validateData:{submitHandler:function(e){var a=c("input[type=password]",e);"undefined"!=typeof v&&a.each(function(){c(this).val(v(c(this).val()))}),g.ajaxSubmit(c(e),{msgafter:"#subSetCashPwdBt",success:function(e){if(a.each(function(){c(this).val("")}),this.msg(e.message,"warn"),0===e.status){for(var o,s=0;s<w.length;s++)"cashPW-pop"==w[s]["class"]&&(o=s);c(".identity-set-succeed").hide(),c(".cashpsw-set-succeed").show(),i("cashPass_success"),t(o,o+1)}}})}}})}}var E,C;c(".J_alarm").on("click",function(){c(".masking-wrap").show(),c(".newbie-guide-wrap").show(),i("icon_click");var e,t=w[0]["class"];"identity-pop"==t&&(e="dialog_identify"),"cashPW-pop"==t&&(e="dialog_cashPass"),"recharge-pop"==t&&(e="dialog_recharge"),"invest-pop"==t&&(e="dialog_invest"),i(e)}),c(".close-x").on("click",function(){c(".masking-wrap").hide(),c(".newbie-guide-wrap").hide(),location.reload()}),c("#subbt").click(function(){i("dialog_identify_ok")}),c("#subSetCashPwdBt").click(function(){i("dialog_cashPass_ok")}),c(".LJXQ").click(function(){c.get("/html/blank/blank.html?tag=3xuqixht",function(){})}),a(),c("#info-box .icons a").each(function(){var e=/light/.test(this.className);e&&(f+=25)}),c("#safe-progressbar").attr("title",f+"%").find("div").css("width",f+"px");for(var R=d.loadJSON(c("#borrowing-rsp"),!0),x=R.data.loans,y=u.translator,b=0;b<x.length;b++)x[b].notPayPrincipal=y._commaFloat(x[b].notPayPrincipal),x[b].notPayInterestAndMgmtFee=y._commaFloat(x[b].notPayInterestAndMgmtFee),x[b].overdueAmount=y._commaFloat(x[b].overdueAmount);d.fillTemplate({container:c("#borrowing"),data:R,template:c("#borrowing-template"),isResponse:!0}),new l.List({name:"loan-list",api:u.API.getLoans,header:!0}).init(d.loadJSON("#loan-list-rsp",!0)),new m({element:"#tipCon_1",trigger:"#tips_1",direction:"right"}),new m({element:"#tipCon_2",trigger:"#tips_2",direction:"right"}),c(".icon-box","#info-box").each(function(e){if(!c(this).hasClass("light")){var t=c(this).find("a"),i=t.data("txt").split("||"),a=t.attr("href"),o=140+40*e;return c("#tipCon_3").css({position:"absolute",left:o+"px",top:"160px"}).find(".ui-poptip-content").html("<div>"+i[0]+"<a href='"+a+"'>"+i[1]+"</a><i class='iconfont closeTip' style='position: absolute;right:-1px;top:-1px;cursor: pointer;color:#d9c6a4; font-size:16px;padding: 0 2px; height: 16px;line-height: 16px;'>&#xF045;</i></div>").end().show(),!1}}),c(".closeTip").on("click",function(){c(this).parents(".ui-poptip").hide()}),c(".yelltips-close").click(function(){c(this).parent().addClass("fn-hide"),c.ajax({url:"/notification/updateStatus.action?combiType=LOAN_REJECTED&status=CLOSED"})}),c(".yelltips-close-roll").click(function(){c(this).parent().addClass("fn-hide"),c.ajax({url:"/notification/closeTip.action?combiType=CLOSE_ROLL_OVER_TIP"})});var A=notification.data,D=A.notification;if(D){var N=D.productType||"",_={NONE:function(){c(".LOAN-NONE").removeClass("fn-hide")},INCOMPLETE_INFO:function(){var e=".LOAN-INCOMPLETE_INFO";c(".basic-percent",e).css({width:D.formProgress+"%"}),c(".basic-progress-value",e).find("em").text(D.formProgress+"%"),100==D.formProgress&&c(".yeltip-button",e).find("a").text("提交申请"),n(N,c(e)),c(e).removeClass("fn-hide")},WAITING_AUDIT:function(){var e=".LOAN-WAITING_AUDIT",t=s(D.idStatus);if(o(".idStatus","id_",t),"RRGXD"==N||"RRSYD"==N){var i=s(D.userCreditStatus);o(".userCreditStatus","credit_",i);var a=s(D.incomeStatus);o(".incomeStatus","income_",a);var r=s(D.workStatus);o(".workStatus","work_",r)}if("RRWSD"==N){var d=s(D.eshopStatus);o(".eshopStatus","work_",d)}0===h.length?(c(".loan-tips",e).removeClass("fn-hide"),c(".yeltip-button",e).addClass("fn-hide")):-1!=h.join("").indexOf("failed")&&c(".loan-reject-msg",e).removeClass("fn-hide"),n(N,c(e)),c(e).removeClass("fn-hide")},AUDITING:function(){var e=".LOAN-AUDITING",t=Math.round(D.passedMaterialCount/D.uploadedMaterialCount*100);c(".basic-percent",e).css({width:t+"%"}),c(".basic-progress-value",e).find("em").text("已通过"+D.passedMaterialCount+"项"),n(N,c(e)),c(e).removeClass("fn-hide")},REJECTED:function(){D.closeable||c(".yelltips-close",".LOAN-REJECTED").remove(),c(".LOAN-REJECTED").removeClass("fn-hide")},OPEN:function(){var e=".LOAN-OPEN",t=D.useMonthlyComprehensiveFeeRate||!1;c(".amount",e).text(D.amount),c(".interest",e).text(D.interest),c(".months",e).text(D.months),t?c(".fee-rate",e).text(D.finalMonthlyComprehensiveFeeRate):(c(".J_fee-rate",e).text("借款利率"),c(".fee-rate",e).text(D.interest)),c(".creditLevel",e).text(D.creditLevel),c(".basic-percent",e).css({width:D.finishedRatio+"%"}),c(".basic-progress-value",e).find("em").text(D.finishedRatio+"%"),n(N,c(e)),c(e).removeClass("fn-hide")}},P={FINANCE_PLAN:function(){var e=".FINANCE_PLAN";c(".bookedNum",e).text(D.bookedNum),c(".planName",e).text(D.planName).attr("href","/financeplan/"+D.id),c(".payDueDate",e).text(D.payDueDate),c(".unpaidAmount",e).text(D.unpaidAmount+"元"),c(".FINANCE_PLAN").removeClass("fn-hide")},REPAY:function(){var e=".REPAY";c(".loanCount",e).text(D.loanCount),c(".latestRepayDate",e).text(D.latestRepayDate),c(".repayAmount",e).text(D.repayAmount+"元"),"OVER_DUE"==D.status&&(c(".overDuedCount",".REPAY-OVER_DUE").text(D.overDuedCount),c(".overDuedDays",".REPAY-OVER_DUE").text(D.overDuedDays+"天"),c(".REPAY-OVER_DUE").removeClass("fn-hide")),"UNREPAID"==D.status&&(c(".leftMonths",".REPAY-UNREPAID").text(D.leftMonths+"/"+D.totalMonths),c(".REPAY-UNREPAID").removeClass("fn-hide"))},LOAN:function(){var e=D.status;_[e]()},ROLL_OVER:function(){c(".ROLL_OVER").removeClass("fn-hide")}};r()}});
;define("common:widget/oui/pages/account/invest/auto",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/widgets/widgets"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/common"),i=e("common:widget/oui/arale/dialog/1.3.3/dialog"),n=e("common:widget/oui/widgets/widgets"),u=n.Form;t(function(){function e(e){var o=Number(t("#ten_value").val())||0;"add"==e?o+=50:"sub"==e&&(o-=50,200>=o&&(o=200)),t("#ten_value").val(o)}t(".addorsub").click(function(){var o=t(this).data("type");e(o)}),t(".closeAuto").click(function(e){var i=t(this).text();return confirm("您确定"+i+"功能？")&&t.get(t(this).attr("href"),function(e){o.showMessage(e.message,function(){0===e.status&&location.reload()})}),e.preventDefault(),!1}),new i({trigger:"#selfType",width:"650px",content:t("#selfTypeBox")}),new i({trigger:"#oneKeyType",width:"650px",content:t("#oneKeyTypeBox")}),t("form").submit(function(e){var o=t(this);u.ajaxSubmit(o,{msgafter:"#"+o.find("input[type='submit']")[0].id,success:function(e){this.msg(e.message,"warn"),0===e.status&&setTimeout(function(){location.reload()},2e3)}}),e.preventDefault()})})});
;define("common:widget/oui/pages/account/invest/autoinvestplan",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/components/components.jscomponents"],function(t){function e(){_=i("#j_tip_name"),m=i(".tip-list"),v=i("#aipCustomName").val(),m.find("li").on("click",function(){i(this).index()==m.find("li").length-1?m.find("input").show():m.find("input").val("").hide(),h=_.text(),m.find("li").removeClass("active"),i(this).addClass("active")}).each(function(){i(this).text()==v&&(i(this).siblings().removeClass(),i(this).addClass("active"))})}function a(t){var e=i("."+t),a=s.loadJSON("#autoinvest-couponlist-rsp",!0),n={};n.couponList=a.data.couponListJsonVoList,n.couponList&&n.couponList[0]&&(n.initCouponValue=n.couponList[0]),n.unRepayAmountNotComma=parseInt(i(".J_payable",e).attr("data-payable"),10);var p=c.compile(i("#confirm-autoinvest-join-coupon-template").html());i(".J_coupon_wrap",e).html(p(n)),d.ui.init(),1===a.status?(i(".J_coupon_wrap",e).addClass("no-coupon-list"),i(".J_addCoupon .ui-select",e).hide(),i(".J_addCoupon .ui-selectdrop",e).hide()):n.initCouponValue?(i(".J_coupon_wrap",e).removeClass("no-coupon-list"),l={id:n.initCouponValue.couponId,payable:parseFloat(n.unRepayAmountNotComma)-parseFloat(n.initCouponValue.couponValue)},l.payable<0&&(l.payable=0),i(".J_payable",e).attr("data-payable",l.payable).html(r.translator._commaFloat(l.payable)),"DISCOUNT"==n.initCouponValue.couponTypeEng&&i(".J_red_packet_tips",e).removeClass("fn-hide")):(i(".J_coupon_wrap",e).addClass("no-coupon-list"),i(".J_addCoupon .ui-select",e).hide(),i(".J_addCoupon .ui-selectdrop",e).hide()),o(n,e)}function o(t,e){var a=t.unRepayAmountNotComma;i(document).click(function(t){var a=t.target;i(a).parent("span").hasClass("arrow")||i(a).parent("div").hasClass("J_select_btn")||i(".J_popBox",e).css("display","none")}),i(".J_select_btn",e).click(function(t){i(".J_popBox",e).css("display","none");var a=i(t.currentTarget).parent().find("ul");"block"==a.css("display")?a.css("display","none"):a.css("display","block")}),i(".J_popBox",e).on("mouseover","li",function(t){i(t.currentTarget).attr("class","selected")}),i(".J_popBox",e).on("mouseleave","li",function(t){i(t.currentTarget).attr("class","")}),i(".J_popBox",e).on("click","li",function(a){var o=i(a.currentTarget).attr("datavalue"),s=i(a.currentTarget).find("span").text(),p=i(a.currentTarget).attr("couponType"),u=i(a.currentTarget).parent().parent(),c=parseFloat(t.unRepayAmountNotComma)-parseFloat(i(a.currentTarget).attr("couponvalue"));0>c&&(c=0),i(".J_red_packet_tips",e).addClass("fn-hide"),u.find(".J_txt").text(s),l.id=o,l.payable=c,i(".getUseCouponId",e).attr("couponType",p),i(".chooseCoupon",e).prop("checked")?(i(".getUseCouponId",e).attr("value",o),i(".J_payable",e).attr("data-payable",l.payable).html(r.translator._commaFloat(l.payable)),"DISCOUNT"==p&&(i(".J_red_packet_tips",e).find("span").text(i(a.currentTarget).attr("couponvalue")),i(".J_red_packet_tips",e).removeClass("fn-hide"))):"DISCOUNT"==p&&i(".J_red_packet_tips",e).find("span").text(i(a.currentTarget).attr("couponvalue")),n(e)}),i(".J_use_psw",e).on("click",function(){i(".J_use_psw_wrap",e).toggle(),i(".J_use_psw_wrap input",e).focus()}),i(".J_use_coupon",e).on("click",function(){var o=i.trim(i(".J_use_psw_wrap .ui-input",e).val());return""===o?(i(".J_use_coupon_tips",e).text("优惠券密码不能为空!").show(),void i(".J_use_coupon_tips",e).delay(3e3).slideUp(function(){i(this).html("")})):void i.ajax({url:"/account/bindUserCoupon.action?couponCode="+o+"&payAmount="+a+"&businessCategory=AUTO_INVEST_PLAN",success:function(o){if(i(".J_use_coupon_tips",e).text(o.message).show().delay(3e3).slideUp(function(){i(this).html("")}),0===o.status){i(".ui-selectdrop .J_txt",e).text(o.data.name);var s=parseFloat(t.unRepayAmountNotComma)-o.data.couponValue;0>s&&(s=0),i(".ui-selectdrop .J_popBox",e).prepend('<li class="" datavalue="'+o.data.couponId+'" unrepayamout="'+a+'" couponvalue="'+o.data.couponValue+'" couponType="'+o.data.couponTypeEng+'"  ><span>'+o.data.name+"</span></li>"),i(".J_use_psw_wrap",e).slideUp(),i(".J_use_psw_wrap input",e).val(""),l.id=o.data.couponId,l.payable=s,i(".J_addCoupon .ui-select",e).show(),i(".J_addCoupon .ui-selectdrop",e).show(),i(".chooseCoupon",e).prop("checked")&&(i(".getUseCouponId",e).val(o.data.couponId),i(".J_payable",e).attr("data-payable",l.payable).html(r.translator._commaFloat(l.payable))),"DISCOUNT"==o.data.couponTypeEng?(i(".J_red_packet_tips",e).find("span").text(o.data.couponValue),i(".J_red_packet_tips",e).removeClass("fn-hide")):i(".J_red_packet_tips").addClass("fn-hide"),n(e)}}})}),i(".chooseCoupon",e).on("click",function(){i(this).prop("checked")?(i(".getUseCouponId",e).val(l.id),i(".J_payable",e).attr("data-payable",l.payable).html(r.translator._commaFloat(l.payable)),"DISCOUNT"==i(".getUseCouponId",e).attr("coupontype")&&i(".J_red_packet_tips",e).removeClass("fn-hide")):(i(".J_red_packet_tips",e).addClass("fn-hide"),i(".getUseCouponId",e).val(""),i(".J_payable",e).attr("data-payable",a).html(r.translator._commaFloat(a))),n(e)})}function n(t){var e=parseInt(100*i("#max-account").val(),10),a=parseInt(100*i(".J_payable",t).attr("data-payable"),10);0>e-a?i(".ui-confirm-yue",t).html("您的余额不足  　<a href='/account/capital!recharge.action'>充值</a>").show():i(".ui-confirm-yue",t).html("").hide()}var i=t("common:widget/oui/lib/jquery/1.9.1/jquery"),s=t("common:widget/oui/common"),p=t("common:widget/oui/arale/dialog/1.3.3/dialog"),r=t("common:widget/oui/protocol"),u=t("common:widget/oui/widgets/widgets"),c=t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),d=(t("common:widget/oui/components/components.jscomponents"),u.Form),l={};i(".iconfont").hover(function(){i(this).next().css({position:"absolute",left:i(this).position().left+i(this).width()+6,top:i(this).position().top-6}).toggle()}),i(function(){var t=i(".overdue-days"),e=i("#periodNumber").val(),a=i(".auto-invest-plan-time li").width(),o="";i(".ui-tiptext-container").css("left",e*a-134);for(var n=0;n<t.length;n++)o+='<div class="ui-tiptext-container ui-tiptext-container-message ui-tiptext-container-error" style="left:'+((t.eq(n).parents("tr").find("td").first().attr("id")-1)*a+25)+'px"><em class="icon-rule"></em><div class="ui-tiptext-arrow ui-tiptext-arrowup"><em>◆</em><span>◆</span></div><p class="ui-tiptext ui-tiptext-message">延期'+t.eq(n).text()+"天</p></div>";i(o).appendTo(i(".auto-invest-plan-time"));var s=(i(".ui-tiptext-container-error"),i(".ui-tiptext-container-error .icon-rule"));s.siblings().hide(),s.hover(function(){i(this).siblings().toggle()})}),i(".ui-button-dropdown .ui-button").on("click",function(){return i(this).next().toggle(),i(this).next().find("li").on("click",function(){i(this).parent().prev().find("span").text(i(this).find("a").html()),i(this).parent().hide()}),!1}),i("body").on("click",function(){i(".ui-button-dropdown ul").hide()});var h,_,m,v;i(".avatar").on("click",function(){return e(),new p({trigger:".avatar",height:"370px",width:"650px",content:i(".auto-invest-plan-tip")}).after("show",function(){var t=this;i(".auto-invest-plan-tip").show(),i("#tipopen").on("click",function(){var e=i("#autoInvestPlanId").val(),a="";i(".tip-list input").val()?a=i(".tip-list input").val():(a=i(".tip-list .active").text(),i(".tip-list li:last").hasClass("active")&&(a="")),_.text(a),i.ajax({type:"post",url:"/account/customNameAutoInvestPlan.action",data:{autoInvestPlanIdStr:e,tagStr:a},success:function(e){1==e.status&&alert(e.message),t.hide()}})}),i("#colse").on("click",function(){i("#j_tip_name").text(h),t.hide()})}).after("hide",function(){location.reload()}).show(),!1}),i(".J_add_money").on("click",function(){var t=i(".J_add_money_div").clone(),e=i("#overdue-periodNumber"),o=i("#overdue-rechargeDate"),n=i("#overdue-overdueDays"),s=i("#overdue-overdueDays-tip"),r=i("#tip-message"),u=i(this),c="";return e.text(u.parent().siblings().eq(0).attr("id")),o.text(u.parent().siblings().eq(1).text()),n.text(u.parent().prev().find(".overdue-days").text()),c=u.parent().siblings().eq(0).attr("autoInvestId"),a("J_BJR"),i(".J_add_money_div").show(),r.html(s.text()<=10?"小于等于10天，退出时不扣延期费用":'退出时将扣除<a target="_blank" href="/help/invest/invest!autoinvestplan.action#fixedInvestOverdue">延期费用</a>'),new p({trigger:".J_add_money",width:"580px",content:i(".J_add_money_div")}).after("show",function(){var t=this;i("#add_money_tipopen").on("click",function(){var e=parseInt(100*i("#max-account").val(),10),a=parseInt(100*i(".J_payable",".J_BJR").attr("data-payable"),10);if(0>e-a)return void i(".ui-confirm-yue",".J_BJR").html("您的余额不足  　<a href='/account/capital!recharge.action'>充值</a>").show();i(".ui-confirm-yue",".J_BJR").html("").hide();var o="";i(".getUseCouponId",".J_BJR").val()&&(o=i(".getUseCouponId",".J_BJR").val()),i.ajax({type:"post",url:"/account/rechargeAutoInvestPlan.action",data:{autoInvestPlanRecordId:c,couponId:o},success:function(e){if(1==e.status){t.hide();var a=i(".rulst-tip_div").clone();i(".rulst-tip_div").show(),new p({height:"225px",width:"580px",content:i(".rulst-tip_div")}).after("show",function(){var t=this;i(".rulst-tip_div").addClass("fail"),i(".rulst-tip_div .title").text("失败"),i(".rulst-tip-message").text(e.message),i("#rulst_tipopen").on("click",function(){t.hide()})}).after("hide",function(){a.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show()}else{t.hide();var a=i(".rulst-tip_div").clone();i(".rulst-tip_div").show(),new p({height:"245px",width:"580px",content:i(".rulst-tip_div")}).after("show",function(){var t=this;i(".rulst-tip_div .title").text("成功"),i(".rulst-tip-message").text(e.message),i(".marketTxt").removeClass("fn-hide"),i("#rulst_tipopen").on("click",function(){t.hide(),location.reload()})}).after("hide",function(){a.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show()}return t.hide(),!1}})}),i("#add_money_colse").on("click",function(){t.hide()})}).after("hide",function(){t.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show(),!1}),i(".J_unpay").on("click",function(){i(".unpay-tip_div").show(),new p({height:"225px",width:"580px",content:i(".unpay-tip_div")}).after("show",function(){var t=this;i("#unpay_rulst_tipopen").on("click",function(){t.hide()})}).after("hide",function(){i(".unpay-tip_div").hide()}).show()}),i(".J_pay_money").on("click",function(){{var t,e=i(".J_pay_money_div").clone(),o=i("#pay_periodNumber"),n=i("#pay_rechargeDateActual"),s=(i("#autoInvestPlanId"),i(this)),r=new Date;r.getFullYear(),r.getMonth()+1,r.getDate()}return o.text(s.attr("payId")?s.attr("payId"):s.parent().siblings().eq(0).attr("id")),t=s.parent().siblings().eq(0).attr("autoInvestId"),s.hasClass("J_pay_top")&&(t=s.attr("autoivestid")),n.text(i("#currentDate").val()),a("J_ZF"),i(".J_pay_money_div").show(),new p({trigger:".J_pay_money",height:"",width:"580px",content:i(".J_pay_money_div")}).after("show",function(){var e=this;i("#add_pay_tipopen").on("click",function(){var a=parseInt(100*i("#max-account").val(),10),o=parseInt(100*i(".J_payable",".J_ZF").attr("data-payable"),10);if(0>a-o)return void i(".ui-confirm-yue",".J_ZF").html("您的余额不足  　<a href='/account/capital!recharge.action'>充值</a>").show();i(".ui-confirm-yue",".J_ZF").html("").hide();var n="";i(".getUseCouponId",".J_ZF").val()&&(n=i(".getUseCouponId",".J_ZF").val()),i.ajax({type:"post",url:"/account/rechargeAutoInvestPlan.action",data:{autoInvestPlanRecordId:t,couponId:n},success:function(t){if(1==t.status){e.hide();var a=i(".rulst-tip_div").clone();i(".rulst-tip_div").show(),new p({height:"225px",width:"580px",content:i(".rulst-tip_div")}).after("show",function(){var e=this;i(".rulst-tip_div").addClass("fail"),i(".rulst-tip_div .title").text("失败"),i(".rulst-tip-message").text(t.message),i("#rulst_tipopen").on("click",function(){e.hide()})}).after("hide",function(){a.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show()}else{e.hide();var a=i(".rulst-tip_div").clone();i(".rulst-tip_div").show(),new p({height:"245px",width:"580px",content:i(".rulst-tip_div")}).after("show",function(){var e=this;i(".rulst-tip_div .title").text("成功"),i(".rulst-tip-message").text(t.message),i(".marketTxt").removeClass("fn-hide"),i("#rulst_tipopen").on("click",function(){e.hide(),location.reload()})}).after("hide",function(){a.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show()}e.hide()}})}),i("#add_pay_colse").on("click",function(){e.hide()})}).after("hide",function(){e.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show(),!1}),i(".ui-table-inbox tbody tr:odd").addClass("dark");var f=i("#SubPointId").text();""!=f&&new u.List({name:"auto-invest-plan",api:r.API.getAutoinvestPlanBidLoans,header:!0,pagination:!0,params:{subPointId:f}}).init()._update({subPointId:f})});
;define("common:widget/oui/pages/account/invest/loans",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/arale/tip/1.1.4/tip"],function(t){var e=t("common:widget/oui/lib/jquery/1.9.1/jquery"),i=t("common:widget/oui/arale/dialog/1.3.3/dialog"),n=t("common:widget/oui/common"),a=t("common:widget/oui/protocol"),o=t("common:widget/oui/widgets/widgets"),r=t("common:widget/oui/components/components.jscomponents"),s=t("common:widget/oui/arale/tip/1.1.4/tip"),c=function(t){e.extend(this,{container:t.container}),this._ui={row:this.container.children(".ui-list-item-row"),box:this.container.children(".ui-list-item-box"),btn:this._elem("operation"),lender:this._elem("lenderinfo"),link:this._elem("details")}};e.extend(c.prototype,{init:function(){var t=this,a=this._ui;return a.row.click(function(){a.box.is(":visible")?a.box.hide():a.box.show()}),a.link.click(function(t){t.stopPropagation()}),a.btn.click(function(o){if(o.stopPropagation(),"TRANSFER_DISABLED"!=a.btn.data("operation")){var s=n.fillTemplate({template:e("#confirm-transfer-out-template"),data:t._confirmData()});new i({content:s}).after("show",function(){var t=this;e(".ui-confirm-cancel-link").click(function(){t.hide()}),new r.TransferConfirmation.Confirm({container:e("#confirm-transfer-out")}).init()}).after("hide",function(){this.destroy()}).show()}}),a.lender.click(function(t){t.stopPropagation();var n=e(this).data("loanid"),a=["/account/invest!borrowerRealNameAndIdNo.action?loanId=",n].join("");return new i({width:"480px",height:"180px",content:a}).after("hide",function(){this.destroy()}).show(),!1}),this},_elem:function(t){return this.container.find('[data-name="'+t+'"]')},_confirmData:function(){var t=a.translator;return ret={loanId:this.container.data("loan-id"),lenderId:this.container.data("lender-id"),investAmount:this.container.data("invest-amount"),investShares:this.container.data("invest-shares"),interest:this.container.data("interest"),interestGained:this.container.data("interest-gained"),termsLeft:this.container.data("terms-left"),termsInTotal:this.container.data("terms-in-total"),availableShares:this.container.data("available-shares"),valuePerShare:this.container.data("value-per-share"),interestPerShare:this.container.data("interest-per-share"),principalPerShare:this.container.data("principal-per-share"),repaymentsPerShare:this.container.data("repayments-per-share"),fee:this.container.data("fee")},ret.value=t._fixedFloat2(ret.valuePerShare*ret.availableShares),ret.summary=t._fixedFloat2(ret.value-ret.fee),ret}}),new o.List({name:"repaying-list",api:a.API.getUserLoansRepaying,title:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(t,i){new c({container:e(i)}).init()})}}).init(n.loadJSON("#repaying-list-rsp",!0)),new o.Tab({name:"loans",switched:function(t,e,i){return i?!0:("repaid"==e&&new o.List({name:"repaid-list",api:a.API.getUserLoansRepaid,title:!0,pagination:!0}).init()._update(),"investing"==e&&new o.List({name:"investing-list",api:a.API.getUserLoansInProgress,title:!0,pagination:!0}).init()._update(),"transferred-out"==e&&r.ListFactory.create("transferred-out","transferred-out-list").init()._update(),!0)}}).init(),new s({element:"#tipCon_1",trigger:"#tips_1",direction:"right"}),new s({element:"#tipCon_2",trigger:"#tips_2",direction:"right"})});
;define("common:widget/oui/pages/account/invest/plan",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/common","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/components/components.jscomponents"],function(t){function n(t,n){if(w!=e("#J_progress-acco-div").find(".tip").css("left")){w=e("#J_progress-acco-div").find(".tip").css("left");var i=t/n*550;0>i&&(i=0),i>550&&(i=550),e("#J_progress-acco-div").find(".bock").css("left",i+"px"),e("#J_progress-acco-div").find(".progress").css("width",i+"px"),e("#J_progress-acco-div").find(".tip").css("left",i+22.5+"px"),0>=i&&(e("#J_progress-acco-div").find(".bock").css("left",i+1+"px"),e("#J_progress-acco-div").find(".progress").css("width",i+1+"px"),e("#J_progress-acco-div").find(".tip").css("left",i+23.5+"px")),i>=550&&(e("#J_progress-acco-div").find(".bock").css("left",i-1+"px"),e("#J_progress-acco-div").find(".progress").css("width",i-1+"px"),e("#J_progress-acco-div").find(".tip").css("left",i+21.5+"px"))}}var e=t("common:widget/oui/lib/jquery/1.9.1/jquery"),i=t("common:widget/oui/rsa/index"),o=t("common:widget/oui/common"),s=t("common:widget/oui/arale/dialog/1.3.3/dialog"),a=t("common:widget/oui/protocol"),c=t("common:widget/oui/widgets/widgets"),r=t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),l=(t("common:widget/oui/arale/tip/1.1.4/tip"),t("common:widget/oui/components/components.jscomponents")),d=c.Form,u=e("#fee-in-total").data("value");e("#fee-in-total").text(a.translator._fixedFloat2(u));var p=e("#pg-helper-plan-id").text(),h=e("#pg-helper-plan-sub-point-id").text(),m=e("#pg-helper-gain-manner").text(),f=function(t){e.extend(this,{container:t.container}),this._ui={switcher:this._elem("details"),box:this._elem("details-box")},this.loanId=this.container.data("loan-id")};e.extend(f.prototype,{init:function(){var t=this,n=this._ui;return n.switcher.click(function(){n.switcher.hasClass("active")?(n.switcher.removeClass("active"),n.box.hide()):("initialized"!=n.box.data("status")&&t._initDetails(),n.switcher.addClass("active"),n.box.show())}),this},_initDetails:function(){new c.List({template:e("#transferred-out-details-template"),name:"transferred-out-details-"+this.loanId,api:a.API.getUserTransferredOutRecords,title:!0,pagination:!0,params:{loanId:this.loanId,subPointId:h}}).init()._update({loanId:this.loanId,subPointId:h})},_elem:function(t){return this.container.find('[data-name="'+t+'"]')}}),new c.List({name:"plan-records",api:a.API.getUserPlanRecords,title:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(t,n){new f({container:e(n)}).init()})},params:{financeId:p,subPointId:h}}).init(o.loadJSON("#plan-records-rsp",!0));var _=function(t){e.extend(this,{container:t.container,handler:null,_ui:{}}),this._ui.button=this.container.children("a")};e.extend(_.prototype,{init:function(){var t=this,n=this._ui;return n.button.hasClass("quit-enabled")&&(o.constant.QUIT_PLAN_DISABLED?(n.button.removeClass("quit-enabled"),n.button.removeClass("cursor-pointer"),n.button.addClass("cursor-default")):(t.handler=new l.PlanQuitHandler({planName:t.container.data("plan-name"),subPointId:t.container.data("sub-point-id"),finalAmount:t.container.data("final-amount")}).init(),n.button.hover(function(){n.button.text("退出")},function(){n.button.text("退出")}),n.button.click(function(){t.handler.start()}))),this}});var v=function(t){e.extend(this,{container:t.container,_manner:m}),this._ui={switcher:this._elem("ph-switcher"),box:this._elem("ph-box"),bankBox:this._elem("ph-bank-box"),bankPasswordBox:this._elem("ph-bank-password-box"),radios:this.container.find('input[name="cashTypeStr"]'),submit:this._elem("ph-submit"),cancel:this._elem("ph-cancel"),hint:this._elem("ph-hint"),form:this._elem("ph-form"),bankAccount:this._elem("ph-bank-account"),bankPassword:this._elem("ph-bank-password")}};e.extend(v.prototype,{init:function(){var t=this,n=this._ui;return o.fillTemplate({container:e("#bank-accounts"),template:e("#bank-accounts-template"),data:a.translator.translate(a.API.getUserBankInfo,o.loadJSON("#bank-accounts-rsp",!0).data)}),n.bankAccount.val()||n.bankPasswordBox.hide(),n.switcher.click(function(){n.switcher.hasClass("editing")?(n.switcher.removeClass("editing"),n.switcher.text("更改"),n.box.hide()):(t.reset(),n.switcher.addClass("editing"),n.switcher.text("收起"),n.box.show())}),n.cancel.click(function(){n.switcher.removeClass("editing"),n.switcher.text("更改"),n.box.hide()}),n.radios.change(function(){"BANK"==e(this).val()?n.bankBox.show():n.bankBox.hide()}),n.form.submit(function(){var o=t.container.find('input[name="cashTypeStr"]:checked').val(),s=e("[name=cashPassword]",this);return"BANK"!=o||n.bankAccount.val()&&n.bankPassword.val()?(s.val(i(s.val())),!0):!1}),this},reset:function(){this._checkRadio(this._manner)},_elem:function(t){return this.container.find('[data-name="'+t+'"]')},_checkRadio:function(t){this.container.find('input[name="cashTypeStr"][value="'+t+'"]').prop("checked",!0).attr("checked","checked").change()}}),new v({container:e("#plan-summary")}).init(),new _({container:e("#status-button")}).init();var w=0;n(Number(e("#J_progress-acco-div").attr("data1")),Number(e("#J_progress-acco-div").attr("data2"))),setInterval(function(){n(Number(e("#J_progress-acco-div").attr("data1")),Number(e("#J_progress-acco-div").attr("data2")))},50),new s({trigger:"#J_TQTC_BTN",width:"600px",height:"500px",content:e("#J_CONFORM_QUIT_DIV .conform_pay_div")}).before("show",function(){var t=this;e(".ui-confirm-cancel-link").click(function(){t.hide()}),e.ajax({type:"GET",url:"/account/invest!getUplanAdvanceQuitPrincipalAndInterest.action",data:{subPointId:e("#J_SUBPOINT_ID").attr("data")},dataType:"json",success:function(t){0===t.status&&e("#J_YJHSJE").html(t.data.interest+"元")}}),e("#J_QUIT_FORM").submit(function(){return 0===e("#J_cashPassword").val().length?(e("#J_ERROR_P_TX").css("display","block"),!1):void e("#J_cashPassword").val(i(e("#J_cashPassword").val()))}),e("input[type='password']").click(function(){e("#J_ERROR_P_TX").css("display","none")})}),e("#tips_0").on("mousemove",function(){e("#tipCon_0").css("display","inline-block")}),e("#tips_0").on("mouseleave",function(){e("#tipCon_0").css("display","none")}),e("#tips_1").on("mousemove",function(){e("#tipCon_1").css("display","inline-block"),alert(22)}),e("#tips_1").on("mouseleave",function(){e("#tipCon_1").css("display","none")}),e("#tips_2").on("mousemove",function(){e("#tipCon_2").css("display","inline-block")}),e("#tips_2").on("mouseleave",function(){e("#tipCon_2").css("display","none")}),e("#tips_3").on("mousemove",function(){e("#tipCon_3").css("display","inline-block")}),e("#tips_3").on("mouseleave",function(){e("#tipCon_3").css("display","none")}),e("#tips_4").on("mousemove",function(){var t=e("#tips_4").offset().left-e("#J_QUIT_FORM").offset().left+20;e("#tipCon_4").css("left",t+"px").show()}),e("#tips_4").on("mouseleave",function(){e("#tipCon_4").hide()}),e("#tips_5").on("mousemove",function(){var t=e("#tips_5").offset().left-e("#J_QUIT_FORM").offset().left+20;e("#tipCon_5").css("left",t+"px").show()}),e("#tips_5").on("mouseleave",function(){e("#tipCon_5").hide()}),e("#tips_6").on("mousemove",function(){e("#tipCon_6").css("display","inline-block")}),e("#tips_6").on("mouseleave",function(){e("#tipCon_6").css("display","none")}),e(".rollover-ok").on("click",function(){e.get("/html/blank/blank.html?tag=3xuqidetail",function(){});var t=e("#confirm-uplan-roll-over-template").html(),n=r.compile(t),o=n(),a=new s({width:"580px"}).before("show",function(){this.set("content",o)}).after("hide",function(){a.element.remove()}).after("show",function(){d.ui.init(),e("#J_ROLLOVER_FORM .ui-confirm-cancel-link").click(function(){a.hide(),a.element.remove()}),e("#J_ROLLOVER_FORM").submit(function(){var t=e('input[name="agree-contract"]'),n=e(".ui-confirm-agree-hint");if(0===e("#J_cashPassword2").val().length)return e("#J_ERROR_P_TX2").css("display","block"),!1;if(t.length>0){var o=t.prop("checked");if(!o)return n.text("投标前请阅读并同意协议"),n.show(),!1;n.hide()}e("#J_cashPassword2").val(i(e("#J_cashPassword2").val()))}),e("#J_cashPassword2").focus(function(){e("#J_ERROR_P_TX2").css("display","none")}),e("#addrate-agree").on("click",function(){var t=parseInt(100*e("#addRate").attr("data-seniorDiscountRate"),10),n=parseInt(100*e("#addRate").attr("data-discountRate"),10),i=(t+n)/100;e(this).prop("checked")?(e("#addRate").text("+"+i.toFixed(2)+"%"),e("#rollOverOrNot").val(2)):(e("#addRate").text("+"+(n/100).toFixed(2)+"%"),e("#rollOverOrNot").val(1))})}).show();e("#tipCon_7").length&&e("#tips_7").length&&(e("#tips_7").on("mouseleave",function(){e("#tipCon_7").hide()}),e("#tips_7").on("mousemove",function(){var t=e("#tips_7").offset().left-e("#J_ROLLOVER_FORM").offset().left+20;e("#tipCon_7").css("left",t+"px").show()})),e("#tipCon_8").length&&e("#tips_8").length&&(e("#tips_8").on("mouseleave",function(){e("#tipCon_8").hide()}),e("#tips_8").on("mousemove",function(){var t=e("#tips_8").offset().left-e("#J_ROLLOVER_FORM").offset().left+20;e("#tipCon_8").css("left",t+"px").show()}))}),e(".cancelrollover-ok").on("click",function(){var t=e("#confirm-cancel-roll-over-succ-template").html(),n=r.compile(t),o=n(),a=new s({width:"580px"}).before("show",function(){this.set("content",o)}).after("hide",function(){a.element.remove()}).after("show",function(){d.ui.init(),e("#J_CANCEL_ROLLOVER_FORM .ui-confirm-cancel-link").click(function(){a.hide(),a.element.remove()}),e("#J_CANCEL_ROLLOVER_FORM").submit(function(){e('input[name="agree-contract"]'),e(".ui-confirm-agree-hint");return 0===e("#J_cashPassword2").val().length?(e("#J_ERROR_P_TX2").css("display","block"),!1):void e("#J_cashPassword2").val(i(e("#J_cashPassword2").val()))}),e("#J_cashPassword2").focus(function(){e("#J_ERROR_P_TX2").css("display","none")})}).show()})});
;define("common:widget/oui/pages/account/invest/plans",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(t){function a(t,a){s.get("/account/invest!rollOverInfo.action?subPointId="+t,function(t){if(0==t.status){var n={financePlanName:t.data.financePlanName,subPointId:t.data.subPointId,category:t.data.financePlanTemplate.category,lockPeriod:t.data.financePlanTemplate.lockPeriod,expectedRateUplan:r.translator._fixedFloat2(t.data.financePlanTemplate.expectedRateUplan),seniorDiscountRate:r.translator._fixedFloat2(t.data.seniorDiscountRate),discountRate:r.translator._fixedFloat2(t.data.discountRate),rollOverAmount:r.translator._fixedFloat2(t.data.rollOverAmount),lockDays:t.data.lockDays,financePlanId:t.data.financePlanId};e(n,a)}else alert(t.message)})}function e(t,a){var e=s("#confirm-uplan-roll-over-plans-template").html(),n=d.compile(e),o=n(t),i=new u({width:"580px"}).before("show",function(){this.set("content",o)}).after("hide",function(){a.index=0,i.element.remove()}).after("show",function(){m.ui.partInit(s("#J_ROLLOVER_FORM")),s("#J_ROLLOVER_FORM .ui-confirm-cancel-link").click(function(){i.hide(),i.element.remove()}),s("#J_ROLLOVER_FORM").submit(function(){var t=s('input[name="agree-contract"]'),a=s(".ui-confirm-agree-hint");if(0===s("#J_cashPassword2").val().length)return s("#J_ERROR_P_TX2").css("display","block"),!1;if(t.length>0){var e=t.prop("checked");if(!e)return a.text("投标前请阅读并同意协议"),a.show(),!1;a.hide()}s("#J_cashPassword2").val(RSAencript(s("#J_cashPassword2").val()))}),s("#J_cashPassword2").focus(function(){s("#J_ERROR_P_TX2").css("display","none")}),s("#addrate-agree").on("click",function(){var t=parseInt(100*s("#addRate").attr("data-seniorDiscountRate"),10),a=parseInt(100*s("#addRate").attr("data-discountRate"),10),e=(t+a)/100;s(this).prop("checked")?(s("#addRate").text("+"+e.toFixed(2)+"%"),s("#rollOverOrNot").val(2)):(s("#addRate").text("+"+(a/100).toFixed(2)+"%"),s("#rollOverOrNot").val(1))})}).show();s("#tipCon_7").length&&s("#tips_7").length&&(s("#tips_7").on("mouseleave",function(){s("#tipCon_7").hide()}),s("#tips_7").on("mousemove",function(){var t=s("#tips_7").offset().left-s("#J_ROLLOVER_FORM").offset().left+20;s("#tipCon_7").css("left",t+"px").show()})),s("#tipCon_8").length&&s("#tips_8").length&&(s("#tips_8").on("mouseleave",function(){s("#tipCon_8").hide()}),s("#tips_8").on("mousemove",function(){var t=s("#tips_8").offset().left-s("#J_ROLLOVER_FORM").offset().left+20;s("#tipCon_8").css("left",t+"px").show()}))}function n(t){var a=s("#confirm-pay-template").html(),e=d.compile(a),n={};if(t.initCouponValue)var n={id:t.initCouponValue.couponId,payable:parseInt(t.unRepayAmountNotComma)-parseInt(t.initCouponValue.couponValue)};"OLD"==t.category&&(t.categorystr=1);var o=e(t),l=new u({width:"580px"}).before("show",function(){this.set("content",o)}).after("hide",function(){l.element.remove()}).show();m.ui.init(),t.initCouponValue?(n.payable<0&&(n.payable=0),s(".J_payable").attr("data-payable",n.payable).html(r.translator._commaFloat(n.payable))):(s(".ui-select",".J_addCoupon").hide(),s(".ui-selectdrop",".J_addCoupon").hide()),m.validate({target:"#accontRsvConfirm",validateData:{submitHandler:function(t){if("BANK"==s("input[name='cashTypeStr']:checked").val()){if(!s.trim(s("#txPsw").val()))return void s("#pswMsg").html("交易密码不能为空");s("#pswMsg").empty()}var a=parseInt(100*s("#max-account").attr("data-account"),10),e=parseInt(100*s(".J_payable").attr("data-payable"),10);return 0>a-e?void s(".ui-confirm-yue").text("您的余额不足").show():void t.submit()}}}),s(document).click(function(t){var a=t.target;s(a).parent("span").hasClass("arrow")||s(a).parent("div").hasClass("J_select_btn")||s(".J_popBox").css("display","none")}),s(".J_select_btn").click(function(t){s(".J_popBox").css("display","none");var a=s(t.currentTarget).parent().find("ul");"block"==a.css("display")?a.css("display","none"):a.css("display","block")}),s(".J_popBox").on("mouseover","li",function(t){s(t.currentTarget).attr("class","selected")}),s(".J_popBox").on("mouseleave","li",function(t){s(t.currentTarget).attr("class","")}),s(".J_popBox").on("click","li",function(a){var e=s(a.currentTarget).attr("datavalue"),o=s(a.currentTarget).find("span").text(),l=s(a.currentTarget).attr("couponType"),c=s(a.currentTarget).parent().parent(),p=parseInt(t.unRepayAmountNotComma)-parseInt(s(a.currentTarget).attr("couponvalue"));0>p&&(p=0),s(".J_red_packet_tips").addClass("fn-hide"),c.find(".J_txt").text(o),n.id=e,n.payable=p,s("#getUseCouponId").attr("couponType",l),s("#chooseCoupon").prop("checked")?(s("#getUseCouponId").attr("value",e),s(".J_payable").attr("data-payable",n.payable).html(r.translator._commaFloat(n.payable)),"DISCOUNT"==l&&(s("span",".J_red_packet_tips").text(s(a.currentTarget).attr("couponvalue")),s(".J_red_packet_tips").removeClass("fn-hide"))):"DISCOUNT"==l&&s("span",".J_red_packet_tips").text(s(a.currentTarget).attr("couponvalue")),i()}),s("#closeDialog").unbind().on("click",function(){location.reload(),s(".ui-dialog-close").trigger("click")}),s(".ui-dialog-close").unbind().on("click",function(){location.reload()}),s(".J_use_psw").on("click",function(){s(".J_use_psw_wrap").toggle(),s("input",".J_use_psw_wrap").focus()}),s(".J_use_coupon").on("click",function(){var a=s.trim(s(".ui-input",".J_use_psw_wrap").val());if(""===a)return s(".J_use_coupon_tips").text("优惠密码不能为空!").show(),void s(".J_use_coupon_tips").delay(3e3).slideUp(function(){s(this).html("")});var e="";"A"==t.category&&(e="UPLAN_A"),"B"==t.category&&(e="UPLAN_B"),"C"==t.category&&(e="UPLAN_C"),s.ajax({url:"/account/bindUserCoupon.action?couponCode="+a+"&payAmount="+t.unRepayAmountNotComma+"&businessCategory="+e+"&t="+(new Date).getTime(),success:function(a){if(s(".J_use_coupon_tips").text(a.message).show().delay(3e3).slideUp(function(){s(this).html("")}),0===a.status){s(".J_txt",".ui-selectdrop").text(a.data.name);var e=parseInt(t.unRepayAmountNotComma)-a.data.couponValue;0>e&&(e=0),s(".J_popBox",".ui-selectdrop").prepend('<li class="" datavalue="'+a.data.couponId+'" couponvalue="'+a.data.couponValue+'" unrepayamout="'+businessPayAmount+'" couponType="'+a.data.couponTypeEng+'" ><span>'+a.data.name+"</span></li>"),s(".J_use_psw_wrap").slideUp(),s("input",".J_use_psw_wrap").val(""),n.id=a.data.couponId,n.payable=e,s(".ui-select",".J_addCoupon").show(),s(".ui-selectdrop",".J_addCoupon").show(),s("#chooseCoupon").prop("checked")&&(s("#getUseCouponId").val(a.data.couponId),s(".J_payable").attr("data-payable",n.payable).html(r.translator._commaFloat(e))),"DISCOUNT"==a.data.couponTypeEng?(s("span",".J_red_packet_tips").text(a.data.couponValue),s(".J_red_packet_tips").removeClass("fn-hide")):s(".J_red_packet_tips").addClass("fn-hide")}}})}),s("#chooseCoupon").on("click",function(){s(this).prop("checked")?(s("#getUseCouponId").val(n.id),s(".J_payable").attr("data-payable",n.payable).html(r.translator._commaFloat(n.payable)),"DISCOUNT"==s("#getUseCouponId").attr("coupontype")&&s(".J_red_packet_tips").removeClass("fn-hide")):(s(".J_red_packet_tips").addClass("fn-hide"),s("#getUseCouponId").val(""),s(".J_payable").attr("data-payable",t.unRepayAmount).html(t.unRepayAmountComma)),i()}),s("#J_conform_pay_div").unbind("click").on("click",'input[name="cashTypeStr"]',function(){"BANK"==s(this).val()?(s(this).parent().siblings("select").html(f.html()).show(),"-1"!=s(this).parent().siblings("select").val()?s(this).parent().siblings("#J_TX_pass").show():s(this).parent().siblings("#J_a_addbank").show()):(s(this).parent().siblings("select").hide(),s(this).parent().siblings("#J_TX_pass").hide(),s(this).parent().siblings("#J_a_addbank").hide(),s("#pswMsg").empty())})}function o(t){var a=RegExp("[?&]"+t+"=([^&]*)").exec(window.location.search);return a&&decodeURIComponent(a[1].replace(/\+/g," "))}function i(){var t=parseInt(100*s("#max-account").attr("data-account"),10),a=parseInt(100*s(".J_payable").attr("data-payable"),10);0>t-a?s(".ui-confirm-yue").text("您的余额不足").show():s(".ui-confirm-yue").text("").hide()}var s=t("common:widget/oui/lib/jquery/1.9.1/jquery"),l=t("common:widget/oui/common"),r=t("common:widget/oui/protocol"),c=t("common:widget/oui/widgets/widgets"),p=t("common:widget/oui/components/components.jscomponents"),u=t("common:widget/oui/arale/dialog/1.3.3/dialog"),d=t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),m=c.Form,_=function(t){s.extend(this,{container:t.container,subPointid:"",handler:null,dialogExitExecution:null,dialogExit:null,_ui:{}})};s.extend(_.prototype,{init:function(){var t=this,e=this._ui;e.btn=t._elem("quit"),e.rollbtn=t._elem("rollOver"),e.rollbtn.index=0,e.btn.length>0&&(t.handler=new p.PlanQuitHandler({planName:t.container.data("plan-name"),subPointId:t.container.data("sub-point-id"),finalAmount:t.container.data("final-amount")}).init(),l.constant.QUIT_PLAN_DISABLED&&(e.btn.removeClass("cursor-pointer"),e.btn.addClass("quit-disabled")),e.btn.click(function(){l.constant.QUIT_PLAN_DISABLED||t.handler.start("exit")})),e.rollbtn.click(function(){0==e.rollbtn.index&&(e.rollbtn.index++,a(s(this).attr("data-subPointId"),e.rollbtn),s.get("/html/blank/blank.html?tag=3xuqilist",function(){}))})},_elem:function(t){return this.container.find('[data-name="'+t+'"]')}}),new c.List({name:"holding-list",api:r.API.getUserHoldingPlans,title:!0,filter:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(t,a){new _({container:s(a)}).init()}),l.initPoptips(this.container)}}).init(l.loadJSON("#holding-list-rsp",!0)),new c.Tab({name:"plans",switched:function(t,a,e){return e?!0:("exiting"==a&&new c.List({name:"exiting-list",api:r.API.getUserExitingPlans,title:!0,pagination:!0}).init()._update(),"exited"==a&&new c.List({name:"exited-list",api:r.API.getUserExitedPlans,title:!0,pagination:!0,rendered:function(){l.initPoptips(this.container)}}).init()._update(),"reserve"==a&&new c.List({name:"reserve-list",api:r.API.getUserReservePlans,title:!0,pagination:!0,rendered:function(){l.initPoptips(this.container)}}).init()._update(),!0)}}).init(),s("body").on("click",".list-a-pay",function(t){t.preventDefault(),s.get("/account/invest!detailPlanRsv.action?financeId="+s(this).data("id")+"&t="+(new Date).getTime(),function(t){if(1===t.status)return void alert(t.message);var a=t.data.financePayDetail;a.joinFee=a.joinFee?a.joinFee:0,a.expectedRate=a.expectedRate,a.planAmount=r.translator._commaFloat(a.planAmount),a.unRepayAmountComma=r.translator._commaFloat(a.unRepayAmount),a.unRepayAmountNotComma=a.unRepayAmount,a.availablePointsNotTran=a.availablePoints,a.availablePoints=r.translator._commaFloat(a.availablePoints),a.codeList=t.data.couponList,a.initCouponValue=t.data.couponList[0],n(a)})});var f=s("<div class='fn-hide'></div>").appendTo(s("body"));l.fillTemplate({container:f,template:s("#bank-accounts-template"),data:r.translator.translate(r.API.getUserBankInfo,l.loadJSON("#bank-accounts-rsp",!0).data)}),s("#J_imm_pay_a").length&&s("#J_imm_pay_a").click(function(t){s("#plans-tab li:last").trigger("click"),t.preventDefault()}),("RESERVATIONS"==s("#pg-helper-tab-jumpping").text()||"reservations"==o("tab"))&&s("#plans-tab li:last").trigger("click")});
;define("common:widget/oui/pages/account/invest/returns",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/calendar/0.9.0/calendar","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(t){var e=t("common:widget/oui/lib/jquery/1.9.1/jquery"),a=t("common:widget/oui/arale/calendar/0.9.0/calendar"),n=t("common:widget/oui/common"),o=t("common:widget/oui/protocol"),r=t("common:widget/oui/widgets/widgets"),i=function(t){return t=t||e("#back-status").val(),e("#back-status").children('option[value="'+t+'"]').text()},c=function(t,e,a,n){var o=t?new Date(t.replace(/-/g,"/")):new Date;void 0!==e&&o.setFullYear(o.getFullYear()+e),void 0!==a&&o.setMonth(o.getMonth()+a),void 0!==n&&o.setDate(o.getDate()+n);var r=o.getFullYear(),i=o.getMonth()+1,c=o.getDate();return r+"-"+(i>9?i:"0"+i)+"-"+(c>9?c:"0"+c)},l=n.loadJSON("#return-records-rsp",!0),u=e("#query-summary"),d=e("#return-total-amount"),s=e("#return-status-label"),m=e("#normal"),v=e("#advance"),p=e("#query-info"),g=e("#query-switch"),h=e("#back-status"),f=e("#back-start-time"),w=e("#back-end-time"),y=l.data.selectedDateAmount,b=i();d.text(y),s.text(b);var k=new r.List({name:"return-records",api:o.API.getUserLoansReturnRecords,title:!0,pagination:!0}).init(l),M="2010-01-01",x=f.data("current"),q={today:x,prevYear:c(x,-1,0,1),prevMonth:c(x,0,-1),nextMonth:c(x,0,1)},D=null,S=null;w.val(q.nextMonth),function(){var t,a=2010,n=parseInt(q.today.split("-")[0],10),o=parseInt(q.today.split("-")[1],10),r=e('select[name="year"]'),i=e('select[name="startMonth"], select[name="endMonth"]'),c=e('select[name="startMonth"]'),l=e('select[name="endMonth"]'),u=function(t){return'<option value="'+t+'">'+t+"</option>"},d=function(t){return parseInt(t.val(),10)};for(t=n;t>=a;t--)r.append(u(t));for(t=1;o>=t;t++)i.append(u(t));r.change(function(){var e=d(r),a=d(c),s=d(l),m=e==n?o:12;for(i.empty(),t=1;m>=t;t++)i.append(u(t));c.val(o>=a?a:1),l.val(o>=s?s:1)}),c.change(function(){var a=l.val(),i=d(r)==n?o:12;for(l.empty(),t=d(e(this));i>=t;t++)l.append(u(t));l.val(a)}),l.change(function(){var a=c.val();for(c.empty(),t=1;t<=d(e(this));t++)c.append(u(t));c.val(a)})}(),n.isIE6()||(D=new a({trigger:f,range:[M,null]}),S=new a({trigger:w,range:[M,null]}),D.on("selectDate",function(t){var e="BACK_REP"==h.val()?q.today:null;S.range([t,e])}),S.on("selectDate",function(t){var e="BACK_REP"==h.val()?q.prevYear:null;D.range([e,t])}));var A=function(){var t={};if(e("#normal").is(":visible"))t.backStatus=h.val(),t.backStartTime=f.val(),t.backEndTime=w.val(),t.accountType="normal";else{var a=e("#advance").find("[name='year']").val(),n=parseInt(e("#advance").find("[name='startMonth']").val(),10),o=parseInt(e("#advance").find("[name='endMonth']").val(),10);n=n>9?n:"0"+n,o=o>9?o:"0"+o,t.backStatus=h.val(),t.backStartTime=a+"-"+n+"-01",t.backEndTime=a+"-"+o+"-30",t.accountType="senior"}return t};h.change(function(){var t=e(this).val().toUpperCase();"BACK_REP"==t?(f.add(w).css({width:"80px"}),f.val(q.prevMonth),w.val(q.today),D.range([q.prevYear,q.today]),S.range([q.prevYear,q.today]),p.add(g).show()):("高级查询"!=g.text()&&g.trigger("click"),f.add(w).css({width:"auto"}),f.val(q.today),w.val(q.nextMonth),D.range([M,null]),S.range([M,null]),p.add(g).hide())}),g.click(function(){"高级查询"==e(this).text()?(m.add(p).hide(),v.show(),e(this).text("普通查询")):(m.add(p).show(),v.hide(),e(this).text("高级查询"))}),e("#query-submit").click(function(){var t=A(),a=e.param(t);k._params=t,k._update(t,function(e,n,o){latestStatus=e,latestParams=a,d.text(o.selectedDateAmount),s.text(i(t.backStatus)),"BACK_REP"==t.backStatus?u.hide():u.show()})})});
;define("common:widget/oui/pages/account/invest/statistics",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol","common:widget/oui/lib/highcharts/3.0.5/highcharts"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/protocol");e("common:widget/oui/lib/highcharts/3.0.5/highcharts");var i=a.translator,n=["#3488ad","#1bb8e2","#aabc64","#ffc400","#f78800","#e52012","#f01f5a"],o=function(e){return n[e%7]},r=function(e){return parseFloat(i._bankersRound(e))},c=null,s=null;s=function(e,a){var i={};return e.find('[data-name="'+a+'"]').each(function(e,n){var o=t(n);if("yes"==o.data("deep"))i[o.data(a)]=s(o,o.data("value"));else{var r=o.data("value");"string"==typeof r&&(r=parseFloat(r,10)),i[o.data(a)]=r}}),i};var l=[],h=[];c=s(t("#gained-data"),"category"),t.each(c,function(e,t){l.push(e),h.push(r(t))}),t("#gained-chart").highcharts({chart:{type:"column"},title:{text:"理财账户收益金额组成"},legend:!1,xAxis:{categories:l},yAxis:{title:!1},series:[{name:"收益",data:h,color:o(0)}],credits:{enabled:!1}});var d,u,p;d=[],u=[],p=0,c=s(t("#total-invest-data"),"category"),t.each(c,function(e,a){if("number"==typeof a)0!==a&&(d.push({name:e,y:r(a),color:o(p)}),u.push({name:e,y:r(a),color:o(p)}),p+=1);else{var i=0;t.each(a,function(e,t){0!==t&&(u.push({name:e,y:r(t),color:o(p)}),i+=t)}),0!==i&&(d.push({name:e,y:r(i),color:o(p)}),p+=1)}}),0===p?t("#total-invest-chart").addClass("empty").text(t("#total-invest-chart").data("empty")):t("#total-invest-chart").highcharts({chart:{type:"pie"},title:{text:"累计投资金额分类占比"},legend:!1,plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"元"},series:[{name:"投资额",data:d,size:"60%",dataLabels:{enabled:!1}},{name:"投资额",data:u,size:"80%",innerSize:"60%"}],credits:{enabled:!1}}),d=[],u=[],p=0,c=s(t("#current-invest-data"),"category"),t.each(c,function(e,a){if("number"==typeof a)0!==a&&(d.push({name:e,y:r(a),color:o(p)}),u.push({name:e,y:r(a),color:o(p)}),p+=1);else{var i=0;t.each(a,function(e,t){0!==t&&(u.push({name:e,y:r(t),color:o(p)}),i+=t)}),0!==i&&(d.push({name:e,y:r(i),color:o(p)}),p+=1)}}),0===p?t("#current-invest-chart").addClass("empty").text(t("#current-invest-chart").data("empty")):t("#current-invest-chart").highcharts({chart:{type:"pie"},title:{text:"理财账户资产分类占比"},legend:!1,plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"元"},series:[{name:"投资额",data:d,size:"60%",dataLabels:{enabled:!1}},{name:"投资额",data:u,size:"80%",innerSize:"60%"}],credits:{enabled:!1}}),d=[],u=[],p=0,c=s(t("#to-gain-data"),"category"),t.each(c,function(e,t){0!==t&&(d.push({name:e,y:r(t),color:o(p)}),p+=1)}),0===p?t("#to-gain-chart").addClass("empty").text(t("#to-gain-chart").data("empty")):t("#to-gain-chart").highcharts({chart:{type:"pie"},title:{text:"债权待收收益分类占比"},legend:!1,plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"元"},series:[{name:"金额",data:d}],credits:{enabled:!1}})});
;define("common:widget/oui/pages/account/invest/transfer",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/arale/tip/1.1.4/tip"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/arale/dialog/1.3.3/dialog"),i=e("common:widget/oui/common"),a=e("common:widget/oui/protocol"),r=e("common:widget/oui/widgets/widgets"),o=e("common:widget/oui/components/components.jscomponents"),c=e("common:widget/oui/arale/tip/1.1.4/tip"),s=function(e){t.extend(this,{container:e.container}),this._ui={cancel:this._elem("cancel")}};t.extend(s.prototype,{init:function(){var e=this;return this._ui.cancel.click(function(){var a=i.fillTemplate({template:t("#confirm-transfer-cancel-template"),data:e._data()});new n({content:a}).after("show",function(){var e=this;t(".ui-confirm-cancel-link").click(function(){e.hide()}),new r.Captcha({name:"captcha"}).init()}).after("hide",function(){this.destroy()}).show()}),this},_elem:function(e){return this.container.find('[data-name="'+e+'"]')},_data:function(){var e=a.translator;return{loanId:this.container.data("loan-id"),transferId:this.container.data("transfer-id"),sharesTransferred:this.container.data("initialShares")-this.container.data("shares"),sharesLeft:this.container.data("shares"),income:this.container.data("income"),fee:this.container.data("fee"),summary:e._fixedFloat2(this.container.data("income")-this.container.data("fee"))}}});var d=function(e){t.extend(this,{container:e.container,changed:e.changed||function(){}}),this._ui={transfer:this._elem("transfer"),checkbox:this._elem("check")},this.loanId=this.container.data("loan-id")};t.extend(d.prototype,{init:function(){var e=this,a=this._ui;return a.transfer.click(function(){var a=i.fillTemplate({template:t("#confirm-transfer-out-template"),data:e._data()});new n({content:a}).after("show",function(){var e=this;t(".ui-confirm-cancel-link").click(function(){e.hide()}),new o.TransferConfirmation.Confirm({container:t("#confirm-transfer-out")}).init()}).after("hide",function(){this.destroy()}).show()}),a.checkbox.change(function(){e.changed(a.checkbox.prop("checked"))}),this},_elem:function(e){return this.container.find('[data-name="'+e+'"]')},_data:function(){var e=a.translator;return ret={loanId:this.loanId,lenderId:this.container.data("lender-id"),investAmount:this.container.data("invest-amount"),investShares:this.container.data("invest-shares"),interest:this.container.data("interest"),interestGained:this.container.data("interest-gained"),termsLeft:this.container.data("terms-left"),termsInTotal:this.container.data("terms-in-total"),availableShares:this.container.data("available-shares"),valuePerShare:this.container.data("value-per-share"),repaymentsPerShare:this.container.data("repayments-per-share"),interestPerShare:this.container.data("interest-per-share"),principalPerShare:this.container.data("principal-per-share"),fee:this.container.data("fee")},ret.value=e._fixedFloat2(ret.valuePerShare*ret.availableShares),ret.summary=e._fixedFloat2(ret.value-ret.fee),ret}});var l=function(e){t.extend(this,{container:e.container,selector:e.checkboxSelector,_items:{},_count:0,_value:0,_skipUpdating:!1,_ui:{count:t("#selected-count"),value:t("#selected-value"),all:t("#select-all"),submit:t("#transfer-batch")}})};t.extend(l.prototype,{init:function(){var e=this,a=this._ui;return a.all.change(function(){e._skipUpdating=!0,t(e.selector).each(a.all.prop("checked")?function(e,n){var i=t(n);i.prop("checked")||(i.prop("checked",!0),i.attr("checked","checked"),i.change())}:function(e,n){var i=t(n);i.prop("checked")&&(i.prop("checked",!1),i.removeAttr("checked"),i.change())}),e._skipUpdating=!1}),a.submit.click(function(){if(!a.submit.hasClass("disabled")){var r=i.fillTemplate({template:t("#confirm-batch-transfer-out-template"),data:e._data()});new n({content:r}).after("show",function(){var n=this;t(".ui-confirm-cancel-link").click(function(){n.hide()}),new o.TransferConfirmation.ConfirmBatch({container:t("#confirm-batch-transfer-out"),items:e._items}).init()}).after("hide",function(){this.destroy()}).show()}}),this},add:function(e){var t=e.loanId;t&&(this._items[t]=e,this._value+=parseFloat(e.value,10),this._count+=1,this.update())},remove:function(e){var t=e.loanId;t&&this._items[t]&&(this._value-=parseFloat(this._items[t].value,10),this._count-=1,delete this._items[t],this.update())},update:function(){var e=this,n=this._ui;0===this._count?(this._value=0,n.submit.addClass("disabled")):n.submit.removeClass("disabled"),n.count.text(this._count),n.value.text(a.translator._fixedFloat2(this._value));var i,r=t(this.selector);if(t.each(r,function(n,a){$box=t(a),i=$box.val(),e._items[i]&&($box.prop("checked",!0),$box.attr("checked","checked"))}),!this._skipUpdating){for(var o=0!==r.length,c=0;c<r.length;c++)if(!t(r[c]).prop("checked")){o=!1;break}o?(n.all.prop("checked",!0),n.all.attr("checked","checked")):(n.all.prop("checked",!1),n.all.removeAttr("checked"))}},_data:function(){var e=a.translator,n=[],i=[],r=null;t.each(this._items,function(e,t){t.lenderId&&t.availableShares&&(n.push(t.lenderId),i.push(t.availableShares),r||(r=t.fee||.01))});var o={count:this._count,value:this._value,lenderIds:n.join(","),shares:i.join(","),fee:r};return o.summary=e._fixedFloat2(o.value-o.fee),o.value=e._fixedFloat2(o.value),o}}),new r.List({name:"transferring-list",api:a.API.getUserTransferringLoans,title:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(e,n){new s({container:t(n)}).init()})}}).init(i.loadJSON("#transferring-list-rsp",!0)),new r.Tab({tabsContainer:t("#transfer-tab"),contentsContainer:t("#transfer-tab-content"),switched:function(e,n,i){if(i)return!0;if("transferable"==n){var c=new l({container:t("#transferable-selections"),checkboxSelector:'input[data-name="check"]'}).init();new r.List({name:"transferable-list",api:a.API.getUserTransferableLoans,title:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(e,n){new d({container:t(n),changed:function(e){e?c.add(this._data()):c.remove({loanId:this.loanId})}}).init()}),c.container.show(),c.update()}}).init()._update()}return"transferred-out"==n&&o.ListFactory.create("transferred-out","transferred-out-list").init()._update(),"transferred-in"==n&&new r.List({name:"transferred-in-list",api:a.API.getUserTransferredInLoans,title:!0,pagination:!0}).init()._update(),!0}}).init(),new c({element:"#tipCon_1",trigger:"#tips_1",direction:"right"}),new c({element:"#tipCon_2",trigger:"#tips_2",direction:"right"})});
;define("common:widget/oui/pages/account/profile",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents"],function(o){{var e=o("common:widget/oui/lib/jquery/1.9.1/jquery"),i=o("common:widget/oui/common"),n=o("common:widget/oui/protocol"),m=o("common:widget/oui/widgets/widgets");o("common:widget/oui/components/components.jscomponents")}new m.List({name:"userInfo-list",api:n.API.getUserInfo,pagination:!0,params:{userId:e("#nick-name").data("userid")},rendered:function(){}}).init(i.loadJSON("#userInfo-list-rsp",!0))});
;define("common:widget/oui/pages/account/userInfo",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents"],function(o){{var e=o("common:widget/oui/lib/jquery/1.9.1/jquery"),n=o("common:widget/oui/common"),i=o("common:widget/oui/protocol"),m=o("common:widget/oui/widgets/widgets");o("common:widget/oui/components/components.jscomponents")}new m.List({name:"userInfo-list",api:i.API.getUserInfo,pagination:!0,params:{userId:e("#nick-name").data("userid")},rendered:function(){}}).init(n.loadJSON("#userInfo-list-rsp",!0))});
;define("common:widget/oui/pages/auth/loan-list",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(i){var t=(i("common:widget/oui/lib/jquery/1.9.1/jquery"),i("common:widget/oui/common")),e=i("common:widget/oui/protocol"),o=i("common:widget/oui/widgets/widgets");new o.List({name:"loan-list",api:e.API.getLoans,header:!0,more:!0,rendered:function(){this.container.find(".ui-list-item.last").removeClass("last"),this.container.find(".ui-list-title").removeClass("ui-list-title-sortable").removeClass("ui-list-title-sortable-1").removeClass("ui-list-title-sortable-2").removeClass("ui-list-title-sortable-3").removeClass("ui-list-title-sortable-4"),this.container.find(".ui-list-title").attr("next","-1"),this.container.find(".ui-list-title").children("em").remove(),this.container.find(".ui-list-title-refresh").text("").removeClass("ui-list-title-refresh")}}).init(t.loadJSON("#loan-list-rsp",!0))});
;define("common:widget/oui/pages/auth/login",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/lib/mailSuggest/0.0.1/mailSuggest"],function(e){var i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/rsa/index"),t=e("common:widget/oui/widgets/widgets"),n=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),r=e("common:widget/oui/lib/mailSuggest/0.0.1/mailSuggest");i(function(){function e(e){var o=i("#j_username"),t={};t.left=o.offset().left,t.top=o.offset().top+o.innerHeight(),e.css({left:t.left,top:t.top,absolute:"position"})}function s(e,i){var o=c.find(".cur"),t=o.index(),n=c.find("li").length;"down"==i?(t++,t>n-1&&(t=0),c.find("li").removeClass("cur").eq(t).addClass("cur")):"up"==i?(t--,0>t&&(t=n-1),c.find("li").removeClass("cur").eq(t).addClass("cur")):"enter"==i&&(e.val(o.text()).blur(),c.hide(),d.trigger("focus"))}var a=t.Form,l=new r,u=i("#j_username"),d=i("#J_pass_input"),c=i('<div class="suggest" id="suggest"></div>').appendTo(i("body"));i("#rememberme").length&&a.ui.init(),e(c);var m=i("#email-suggest-template").html(),g=n.compile(m);a.validate({target:"#login",before:function(){a.randImage(),i("#refreshCode").click(function(){i("#randImage").trigger("click")})},inputTheme:!0,showSingleError:!0,validateData:{onkeyup:!1,showErrors:function(e,o){var t=i("#allError");t.length?(i("#login").find("input").each(function(){i(this).removeClass("error")}),t.html(""),o.length&&(t.html(o[0].message),i(o[0].element).addClass("error"))):this.defaultShowErrors()},submitHandler:function(e){d.val(o(d.val())),e.submit()}}}),u.on("keyup",function(o){e(c);var t=i(this).val();switch(o.keyCode){case 38:s(i(this),"up");break;case 40:s(i(this),"down");break;case 13:s(i(this),"enter");break;default:if(!t.length)return void c.hide();var n=l.run(t);/^\d{1,}$/g.test(t)&&(n.remove=!0);var r=g(n);c.html(r).show().find("li").eq(0).addClass("cur")}}).on("keydown",function(e){13==e.keyCode&&e.preventDefault()}).on("focusout",function(){setTimeout(function(){c.hide()},500)}),i(window).on("resize",function(){e(c)}),c.on("mouseenter","li",function(){i(this).addClass("cur")}).on("mouseleave","li",function(){i(this).removeClass("cur").siblings().removeClass("cur")}).on("click","li",function(){s(u,"enter"),d.trigger("focus")}),i("#randCode").keyup(function(){var e=i(this).val();e.length&&i.get("/account/checkCode.action?j_code="+e+"&code="+e,function(e){"true"==e.result?(i(".validCode").show(),i("#allError").hide()):(i(".validCode").hide(),i("#allError").show())})}),i(".partner").length&&i(".partner").hover(function(){i(this).addClass("hover")},function(){i(this).removeClass("hover")}),i("body")[0].scrollTop=0})});
;define("common:widget/oui/pages/auth/reg",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/widgets/widgets","common:widget/oui/arale/tip/1.1.4/tip"],function(e){var o=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=e("common:widget/oui/rsa/index");window.parent!=window&&(window.top.location.href=location.href),o(function(){function t(){o(".ui-step li").eq(0).removeClass("ui-step-done").addClass("ui-step-active"),o(".ui-step li").eq(1).removeClass("ui-step-active"),o("#randCode").val(""),o("#randImage").trigger("click"),o(".validCode").hide(),o("#step1").show(),o("#step2").hide(),o("#reg").find("input[name=confirm_password]").val(""),o("#reg").find("input[name=password]").val("")}function n(){o(".ui-step li").eq(0).removeClass("ui-step-active").addClass("ui-step-done"),o(".ui-step li").eq(1).addClass("ui-step-active"),o("#mobileCode").val(""),o("#code-label").hide(),o("#step1").hide(),o("#step2").show();var e=o("#reg").find("input").not("input[type='submit']").filter(function(){return"radio"!=this.type||"radio"==this.type&&this.checked}),i="";e.each(function(){i+="<input type='hidden' name='"+o(this).attr("name")+"' value='"+o(this).val()+"' />"}),o("#hiddeninputs").html(i);var t=o("#getMobileCode");t.data("mobile")!=o("input[name='username']").val()&&(t.removeAttr("disabled"),c.clear()),t.is(":disabled")||t.trigger("click"),t.data("mobile",o("#userMobile").text())}function a(e,o){e.length&&(o?e.removeAttr("disabled").removeClass("ui-button-disabled"):e.attr("disabled","disabled").addClass("ui-button-disabled"))}var d=e("common:widget/oui/widgets/widgets"),s=d.Form,l=d.pswLevel;Tip=e("common:widget/oui/arale/tip/1.1.4/tip");var r,c,u=o(".psw-range div");if(s.ui.init(),o("#password").on("keyup",function(){var e=o(this).val(),i=l(e);switch(i.level){case"强":u.removeClass().addClass("high");break;case"中":u.removeClass().addClass("mid");break;case"弱":u.removeClass().addClass("low")}u.show()}).on("blur",function(){}),o("#usertype").on("click","li",function(){var e=o(this).index();o(this).addClass("cur").siblings().removeClass("cur"),o("input[name = 'intention']").eq(e).trigger("click"),o("label[for='intention']").addClass("valid").html("")}),o("#gostep1").click(function(e){t(),"1"==o("#lpjumptoreg").val()&&(o("input[name=nickName]").focus(),o("#phone").focus()),e.preventDefault()}),"1"==o("#lpjumptoreg").val()&&(o("#userMobile").html(o("#lpphonenum").val()),o("#phone").val(o("#lpphonenum").val()),r=s.sendPhoneCode("phone","getVoiceCode","/sendPhoneCode!voiceCode.action?&checkCode=reg&phone=",{onStart:function(){a(o("#getMobileCode"),!1)},onClear:function(){a(o("#getMobileCode"),!0)}}),c=s.sendPhoneCode("phone","getMobileCode","/sendPhoneCode.action?&checkCode=reg&phone=",{onStart:function(){a(o("#getVoiceCode"),!1)},onClear:function(){a(o("#getVoiceCode"),!0)}}),n()),o("#setIdForm").length&&s.validate({target:"#setIdForm",validateData:{submitHandler:function(e){s.ajaxSubmit(o(e),{msgafter:"#"+o(e).find("input[type='submit']")[0].id,before:function(){this.msg("正在验证，请稍后...")},success:function(e){if(this.msg(e.message,"warn"),0===e.status){o(".auth").hide(),o(".authSuccess").show();var i=o("#second"),t=5,n=setInterval(function(){i.html(t),0>=t?(document.location="/account/index.action",clearInterval(n)):t--},1e3)}}})}}}),s.validate({target:"#mobileCodeForRegForm",validateData:{submitHandler:function(e){var i=o("#mobileCode").val(),t=o("#userMobile").text();o.get("/account/checkCode.action?mobileCode="+i+"&code="+i+"&mobile="+t,function(i){"false"==i.result?o("#code-label").show():(o("#code-label").hide(),e.submit())})}}}),s.validate({target:"#reg",showTip:o("#reg").data("showtip")===!0?!0:!1,before:function(){r||c||(r=s.sendPhoneCode("phone","getVoiceCode","/sendPhoneCode!voiceCode.action?&checkCode=reg&phone=",{onStart:function(){a(o("#getMobileCode"),!1)},onClear:function(){a(o("#getMobileCode"),!0)}}),c=s.sendPhoneCode("phone","getMobileCode","/sendPhoneCode.action?&checkCode=reg&phone=",{onStart:function(){a(o("#getVoiceCode"),!1)},onClear:function(){a(o("#getVoiceCode"),!0)}})),s.randImage(),o("#refreshCode").click(function(){o("#randImage").trigger("click")})},inputTheme:!0,showSingleError:!0,validateData:{ignore:".ignore",success:function(e){"nickName"==e.attr("for")&&e.html("此昵称将用作展示，一旦注册成功不能修改"),"phone"==e.attr("for")&&e.html("请保持手机畅通，以便完成手机信息验证"),e.addClass("valid")},submitHandler:function(e){o(e).find("input[name=password]").val(i(o(e).find("input[name=password]").val())),o(e).find("input[name=confirm_password]").val(i(o(e).find("input[name=confirm_password]").val())),s.ajaxSubmit(o(e),{msgafter:"#"+o(e).find("input[type='submit']")[0].id,success:function(e){0===e.status?(o("#userMobile").html(e.data.username),n()):this.msg(e.message,"warn")}})}}}),!document.all&&document.querySelector){s.checkCode({ele:o("#randCode"),data:{code:function(){return o("#randCode").val()}},success:function(){o(".validCode").show()},failed:function(){o(".validCode").hide()}}),s.checkCode({ele:o("#mobileCode"),data:{code:function(){return o("#mobileCode").val()},mobile:function(){return o("#phone").val()},t:function(){return(new Date).getTime()}}})}o("#randCode").on("blur",function(){o("#code-error").hasClass("valid")?o(".validCode").show():o(".validCode").hide()}),o("#reg-tab").length&&new d.Tab({name:"reg",switched:function(e,o){return!0}}).init(),o("body")[0].scrollTop=0})});
;define("common:widget/oui/pages/auth/register-old",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/widgets/widgets"],function(e){var o=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=e("common:widget/oui/rsa/index");o(function(){function t(e,o){e.length&&(o?e.removeAttr("disabled").removeClass("ui-button-disabled"):e.attr("disabled","disabled").addClass("ui-button-disabled"))}var n=e("common:widget/oui/arale/dialog/1.3.3/dialog"),d=e("common:widget/oui/widgets/widgets"),a=d.Form;new n({trigger:"#showMobileCodeBox",width:o("#mobileCodeBox").data("width")?o("#mobileCodeBox").data("width")+"px":"570px",hasMask:{hideOnClick:!1}}).before("show",function(){var e=o("#reg").find("input").not("input[type='submit']").filter(function(){return"radio"!=this.type||"radio"==this.type&&this.checked}),i="";e.each(function(){i+="<input type='hidden' name='"+o(this).attr("name")+"' value='"+o(this).val()+"' />"}),o("#hiddeninputs").html(i),this.set("content",o("#mobileCodeBox")),o("#getMobileCode").trigger("click")}).after("hide",function(){o("#hiddeninputs").empty(),o("#randImage").trigger("click")}),a.validate({target:"#mobileCodeForRegForm",validateData:{submitHandler:function(e){var i=o("#mobileCode").val(),t=o("#userMobile").text();o.get("/account/checkCode.action?mobileCode="+i+"&code="+i+"&mobile="+t,function(i){"false"==i.result?o("#code-label").show():(o("#code-label").hide(),e.submit())})}}}),a.validate({target:"#reg",showTip:o("#reg").data("showtip")===!0?!0:!1,tip:{nickName:"4-16位字符，可包含中文，英文，数字和“_”。注册完成后不可修改",username:"请输入11位数字",password:"密码须为6-16位英文字母、数字和符号(不包括空格)"},before:function(){a.sendPhoneCode("phone","getVoiceCode","/sendPhoneCode!voiceCode.action?&checkCode=reg&phone=",{onStart:function(){t(o("#getMobileCode"),!1)},onClear:function(){t(o("#getMobileCode"),!0)}}),a.sendPhoneCode("phone","getMobileCode","/sendPhoneCode.action?&checkCode=reg&phone=",{onStart:function(){t(o("#getVoiceCode"),!1)},onClear:function(){t(o("#getVoiceCode"),!0)}}),a.randImage()},validateData:{submitHandler:function(e){var t=o(e).find("input[name=password]");t.val(i(t.val())),a.ajaxSubmit(o(e),{msgafter:"#"+o(e).find("input[type='submit']")[0].id,success:function(e){0===e.status?(o("#userMobile").html(e.data.username),o("#showMobileCodeBox").trigger("click")):this.msg(e.message,"warn"),t.val("")}})}}}),o("#randCode").on("blur",function(){o("#code-error").hasClass("valid")?o(".validCode").show():o(".validCode").hide()});var r=location.href,l=r.match(/\?[^\.|^:]*/);l&&l.length&&o(".reg-link").attr("href","/regPage.action"+l[0]),a.ui.init()})});
;define("common:widget/oui/pages/auth/register",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/widgets/widgets"],function(e){var o=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=e("common:widget/oui/rsa/index");o(function(){function t(e,o){e.length&&(o?e.removeAttr("disabled").removeClass("ui-button-disabled"):e.attr("disabled","disabled").addClass("ui-button-disabled"))}var n=e("common:widget/oui/arale/dialog/1.3.3/dialog"),d=e("common:widget/oui/widgets/widgets"),a=d.Form;new n({trigger:"#showMobileCodeBox",width:o("#mobileCodeBox").data("width")?o("#mobileCodeBox").data("width")+"px":"570px",hasMask:{hideOnClick:!1}}).before("show",function(){var e=o("#reg").find("input").not("input[type='submit']").filter(function(){return"radio"!=this.type||"radio"==this.type&&this.checked}),i="";e.each(function(){i+="<input type='hidden' name='"+o(this).attr("name")+"' value='"+o(this).val()+"' />"}),o("#hiddeninputs").html(i),this.set("content",o("#mobileCodeBox")),o("#getMobileCode").trigger("click")}).after("hide",function(){o("#hiddeninputs").empty(),o("#randImage").trigger("click")}),a.validate({target:"#mobileCodeForRegForm"}),a.validate({target:"#reg",showTip:o("#reg").data("showtip")===!0?!0:!1,tip:{nickName:"4-16位字符，可包含中文，英文，数字和“_”。注册完成后不可修改",username:"请输入11位数字",password:"密码须为6-16位英文字母、数字和符号(不包括空格)"},before:function(){a.sendPhoneCode("phone","getVoiceCode","/sendPhoneCode!voiceCode.action?&checkCode=reg&phone=",{onStart:function(){t(o("#getMobileCode"),!1)},onClear:function(){t(o("#getMobileCode"),!0)}}),a.sendPhoneCode("phone","getMobileCode","/sendPhoneCode.action?&checkCode=reg&phone=",{onStart:function(){t(o("#getVoiceCode"),!1)},onClear:function(){t(o("#getVoiceCode"),!0)}}),a.randImage()},validateData:{submitHandler:function(e){var t=o(e).find("input[name=password]");t.val(i(t.val())),e.submit()}}}),o("#randCode").on("blur",function(){o("#code-error").hasClass("valid")?o(".validCode").show():o(".validCode").hide()}),o(".J_error_tips")&&o(".J_error_tips").delay(3e3).slideUp(function(){o(this).html("")});var r=location.href,s=r.match(/\?[^\.|^:]*/);s&&s.length&&o(".reg-link").attr("href","/regPage.action"+s[0]),a.ui.init()})});
;(function(){define("common:widget/oui/pages/borrow/borrowercalculator",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/components/components.jscomponents"],function(e,t,n){var r,o,a,i,l,u,s,d,c,m,h,p,v,f,b,_;return r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),f=e("common:widget/oui/widgets/widgets"),d=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),l=e("common:widget/oui/components/components.jscomponents"),i=l.Calculator,s=f.Form,u=window.allFeeRate||{},o={},h=.88,p=5,b=0,v="HR",m=3,c="AA A B C D E HR",a={hide:function(e){return r(e).addClass("hide")},show:function(e){return r(e).removeClass("hide")},formatMoney:function(e,t){var n;for(t||(t=0),e=String(Number(e).toFixed(t)),n=/(-?\d+)(\d{3})/;n.test(e);)e=e.replace(n,"$1,$2");return e},renderResult:function(e){var t,n,a,i,l;return i=this,a="J_tpl-loan-calc",l=o[a]?o[a]:o[a]=d.compile(r("#"+a).html()),n=r("#J_calcResult"),t=r.extend({},{monthPay:0,monthRate:0,totalPay:0,startPay:0,isShowTable:!1,table:[]},e),n.html(l(t))},calc:function(){var e,t,n,o,a,l,u,s,d,c,m,v,f,_,g,w;u=this,e=r("#J_borrowAmount").val(),s=r("#J_repayTime").val(),e=parseInt("0"+e,10),s=parseInt("0"+s,10),m=h,f=p,c=e,t=function(e,t){var n;return n=100*c,n=parseInt(Math.round(n/e+c*t),10)/100,n.toFixed(2)},n=function(e,t){var n;return n=100*c,n=parseInt(Math.round(n+c*t*e),10)/100,n.toFixed(2)},d=t(s,m),_=d*s,o={monthRate:m,startPay:u.formatMoney(e*f/100,2),monthPay:u.formatMoney(d,2),totalPay:u.formatMoney(_,2)},v=i({borrowAmount:e,repayDate:s,monthlyComprehensiveFeeRate:m,repayType:"DEBX",isShowTable:!0,yearRate:b,mgmtAmount:0}).calc(),o.isShowTable=!0,o.table=v.table,w=o.table;for(a in w)g=w[a],l=(parseInt(Math.round(100*d),10)-parseInt(Math.round(100*g.yuehuankuane)))/100,g.mgmtfee=l.toFixed(2),g.yuehuankuane=d;return u.renderResult(o)},updateMonth:function(){var e,t,n,o,a,i,l,s,d;for(n=this,o=r("#J_repayTime").val(),m=parseInt("0"+o,10),o=m,e=u,d=c.split(" "),l=0,s=d.length;s>l;l++)a=d[l],t=[a,"_",o].join(""),e[t]&&!e[t].level&&(i=e[t],i.level=a,i.monthRate=i.monthlyComprehensiveFeeRate.toFixed(2),i.startRate=i.guaranteeFee);return n.updateRate(),n.updateLevelList()},updateRate:function(){var e,t,n;return t=m,n=v,e=[n,"_",t].join(""),n=u[e],h=n.monthRate,p=n.startRate,b=n.fixInterest,r("#J_ipt-rate").text(h)},updateLevelList:function(){var e,t,n,a,i,l,s,h,p,v,f,b;for(l=this,a="J_tpl-level-list",h=o[a]?o[a]:o[a]=d.compile(r("#"+a).html()),t=r("#J_creditlevel-list-ul"),s=m,e=u,i=[],b=c.split(" "),v=0,f=b.length;f>v;v++)p=b[v],n=[p,"_",s].join(""),e[n]&&i.push(e[n]);return t.html(h({list:i})),l},_renderLabel:function(e){var t,n;return t=r("#"+e),n=r("label.error",t.parent()).length?r("label.error",t.parent()):r('<label for="'+e+'"></label>').addClass("error hide").appendTo(t.parent())},validateAmount:function(){var e,t,n,o,a,i,l;return a=this,n="J_borrowAmount",e=r("#"+n),l=e.val(),o=a._renderLabel(n),i=function(t){return o.html(t).removeClass("hide"),e.addClass("error")},t=function(){return e.removeClass("error"),o.addClass("hide")},l.length<1?(i("请输入金额"),!1):!/^([1-9]{1}\d*)$/.test(l)||3e3>l||l>5e5||l%50!==0?(i("金额范围3,000-500,000，且为50的倍数"),!1):(t(),!0)},validateMonth:function(){var e,t,n;return e=r("#J_repayTime"),n=e.val(),t=e.parent().siblings(".noinput-p"),n.length<1?(t.removeClass("hide"),!1):(t.addClass("hide"),!0)},_bindForm:function(){var e,t,n,o;return o=this,t=r("#calcForm"),e=r("#J_borrowAmount"),n=r("#J_repayTime"),t.on("submit",function(){var e;return e=!0,e=e&&o.validateAmount(),e=e&&o.validateMonth(),e&&o.calc(),!1}),e.on("focus",function(){return s.tipfocus(r(this),"金额范围3,000-500,000"),r(this).siblings(".error-p").addClass("hide")}).on("blur",function(){return o.validateAmount(),s.tipblur(r(this))})},_bindCreditLevelSelect:function(){var e,t,n,o,a;return n=this,a=r("#J_select-creditlevel"),e=r("#J_creditlevel-list"),t=r("#J_current-creditlevel"),o=r("#J_creditlevel-active"),a.on("click",function(){return e.toggleClass("hide"),!1}),e.on("mouseenter","li",function(){var e,t,n;return e=r(this),e.hasClass("title")?void 0:(n=e.position().left,t=e.data("level"),o.data("level",t).css({left:n}))}),o.on("click",function(){var o,a;return o=r(this),a=o.data("level"),t.removeClass(c).addClass(a).text(a),v=a,n.updateMonth(),n.hide(e)})},_bindDropSelect:function(){var e,t;return t=this,e=!1,r(".J_select_btn").on("click",function(){return e=!0,r(".J_popBox").addClass("hide"),r(this).parent().find(".J_popBox").removeClass("hide")}),r(".J_popBox").on("mouseenter","li",function(){return r(this).addClass("selected")}).on("mouseleave","li",function(){return r(this).removeClass("selected")}).on("click","li",function(){var e,n,o,a;return n=r(this),o=n.parent().parent(),e=n.attr("datavalue"),a=r("span",n).text(),r("input",o).val(e),t.updateMonth(),r(".J_txt",o).text(a)}),r(document).on("click",function(t){var n;return n=r(t.target),n.parent(".arrow").length||n.parent(".J_select_btn").length?void 0:e?r(".J_popBox").addClass("hide"):void 0})},bindEvent:function(){var e;return e=this,e._bindDropSelect(),e._bindCreditLevelSelect(),e._bindForm()},init:function(){var e;return e=this,e.bindEvent(),e.updateMonth(),e.renderResult()}},_=function(){return a.init()},n.exports={init:_}})}).call(this);
;define("common:widget/oui/pages/borrow/borrowerinfo",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/lib/city/1.0.1/new-city","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/arale/sticky/1.2.1/sticky","common:widget/oui/widgets/widgets"],function(e){function t(){var e=c("input[name='hasHouse']"),t=c("input[name='hasLoan']"),i=c("input[name='hasCar']"),a=c("input[name='carLoan']"),r=c("#carBrand,#carYear,#carNumber");e.click(function(){"true"==this.value?t.removeAttr("disabled"):(t.eq(1).trigger("click"),t.attr("disabled","disabled"))}),e.each(function(){"false"==c(this).val()&&c(this).attr("checked")&&(t.eq(1).trigger("click"),t.attr("disabled","disabled"))}),i.click(function(){"true"==this.value?(a.removeAttr("disabled"),r.removeAttr("disabled").add(a).parents(".ui-form-item").show()):(a.eq(1).trigger("click"),a.attr("disabled","disabled"),r.attr("disabled","disabled").add(a).parents(".ui-form-item").hide())}),"false"==i.filter(":checked").val()&&i.eq(1).trigger("click")}function i(){var e=[],t=[],i=[];b.find("input[type='radio']:checked,input[type='checkbox']:checked").each(function(){e.push(this.name)}),b.find("input[type='radio'],input[type='checkbox']").filter(function(){return!new RegExp(e.join("|")).test(this.name)&&!jQuery(this).is(":disabled")}).each(function(){t.push(this.name)}),t=c.uniqueArray(t);for(var a=0;a<t.length;a++)i.push({name:t[a],value:""});return i}function a(){var e=[],t=[],a=[],r=b.serializeArray();c.merge(r,i()),b.find("li.listinfo").each(function(t){var i=[];a.push(c(this).find("label.error").filter(function(){return"block"==c(this).css("display")}).length?t:""),c(this).find(".ui-form-required").each(function(){var e=c(this).parents(".ui-form-item").filter(function(){return"none"!=c(this).css("display")}).find("input[type='text'],input[type='password'],input[type='checkbox'],input[type='radio'],input[type='file'],select,textarea");c.each(e,function(){var e=c(this).attr("name");e&&i.push(e)})}),i=c.uniqueArray(i),e.push(i)});for(var n=function(e,t,i){c.each(r,function(a,r){return r.name==i?(r.value?t.push(r.name):e.push(r.name),!1):void 0})},s=0,o=e.length;o>s;s++){for(var l=[],d=[],u=0;u<e[s].length;u++)n(l,d,e[s][u]);t.push({empty:l,valid:d,error:a})}return t}function r(){var e=[],t=c("#loanAppInfoForm .ui-label").filter(function(){var e=c(this).parents(".ui-form-item"),t=c(this).nextAll("input[type='text'],input[type='radio'],select,textarea");return 0===t.length&&(t=c(this).nextAll().find("input[type='hidden']")),"none"!=e.css("display")&&t.length?!0:!1});t.each(function(){var t=c(this).parents(".ui-form-item").find("input,select,textarea").filter(function(){return c(this).is(":text,:hidden")&&c(this).val()&&"请选择"!=c(this).val()?!0:c(this).is(":radio,:checkbox")?this.checked:c(this).is("select")?c(this).find("option").is(":selected"):!1});t.val()&&e.push(t)});for(var i=e.length,a=t.length+m.length,r=0;r<m.length;r++)1!=parseInt(m[r],10)&&i++;var n=parseInt(i/a*100,10);c(".J_progress-txt").text(n+"%"),c(".J_progressbar").css("width",n+"%").attr("title",n+"%"),c("#progressPercentValue").val(n)}function n(){var e=a();v=[],m=[],c(".J_verify_Status_ul li .ver-bg-icon").each(function(){v.push(c(this).attr("data")),m.push(c(this).attr("data"))}),v.length<=2&&(v[2]="0",v[3]="0"),"0"!=v[0]&&(e[0].empty[0]="idverify",c("#J_upload_status_em").removeClass().addClass("half")),"0"!=v[1]&&(e[2].empty[0]="company-verify",c("#J_upload_status_em").removeClass().addClass("half")),"0"!=v[2]?(c("#J_upload_status_em").removeClass().addClass("half"),c("#J_xinyong_status_em").removeClass().addClass("half")):c("#J_xinyong_status_em").removeClass().addClass("valid"),"0"!=v[3]&&(e[2].empty[0]="income-verify",c("#J_upload_status_em").removeClass().addClass("half")),"0"==v[0]&&"0"==v[1]&&"0"==v[2]&&"0"==v[3]&&c("#J_upload_status_em").removeClass().addClass("valid");var t=["graduation","homeProvince","homeCity","liveProvince","liveCity","salary","province","city","officeType","officeDomain","officeScale","workYears","carYear"];return c.each(t,function(t,i){if(""===c("#"+i).attr("value")||"请选择"===c("#"+i).attr("value")){switch(t){case 0:e[0].empty[0]="graduation";break;case 1:e[0].empty[0]="homeProvince";break;case 2:e[0].empty[0]="homeCity";break;case 3:e[0].empty[0]="liveProvince";break;case 4:e[0].empty[0]="liveCity";break;case 5:e[2].empty[0]="salary";break;case 6:e[2].empty[0]="province";break;case 7:e[2].empty[0]="city";break;case 8:e[2].empty[0]="officeType";break;case 9:e[2].empty[0]="officeDomain";break;case 10:e[2].empty[0]="officeScale";break;case 11:e[2].empty[0]="workYears";break;case 12:if("true"==c('input:radio[name="hasCar"]:checked').val()){e[3].empty[0]="carYears";break}}y.hasClass("ui-button-disabled")||(y.addClass("ui-button-disabled").attr("disabled","disabled"),c("#submitleft").addClass("ui-button-disabled").attr("disabled","disabled"))}}),e}function s(e){r(),c.each(n(),function(e,t){x.eq(e).parent("li").hasClass("ig_li")||x.eq(e).removeClass().addClass(t.error[e]||0===t.error[e]?"error":t.empty.length?"half":"valid")}),x.filter(function(){return c(this).hasClass("valid")}).length!=C?y.hasClass("ui-button-disabled")||(y.addClass("ui-button-disabled").attr("disabled","disabled"),c("#submitleft").addClass("ui-button-disabled").attr("disabled","disabled")):(y.removeClass("ui-button-disabled").removeAttr("disabled"),c("#submitleft").removeClass("ui-button-disabled").removeAttr("disabled")),e&&"function"==typeof e&&e()}function o(e){var t=/^[\u4E00-\u9FA5]+$/;return t.test(e)?!0:!1}function l(){j.attr("disabled","disabled"),j.addClass("ui-button-litgray"),j.removeClass("ui-button-blue"),j.html(D+"("+Y+")"),clearInterval(I),I=setInterval(function(){Y>0?(j.html(D+"("+Y+")"),Y--):(clearInterval(I),j.html(D),j.removeClass("ui-button-litgray"),j.addClass("ui-button-blue"),j.removeAttr("disabled"))},1e3)}var c=e("common:widget/oui/lib/jquery/1.9.1/jquery"),d=e("common:widget/oui/lib/city/1.0.1/new-city"),u=e("common:widget/oui/arale/dialog/1.3.3/dialog"),p=(e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),e("common:widget/oui/arale/sticky/1.2.1/sticky")),f=e("common:widget/oui/widgets/widgets"),h=f.Form,v=[],m=[],b=c("#loanAppInfoForm"),y=c("#submitbt"),g=c("#nextbt"),k=c("#savebt"),_=c("#submsg"),x=c(".sidernav ul li span"),C=x.length,J=0;setInterval(function(){s()},1e3),new u({trigger:".auth",width:"600px",align:{baseXY:["50%",0],selfXY:["50%",0]},hasMask:{hideOnClick:!1}}).before("show",function(){k.trigger("click"),J=this.activeTrigger.parents(".listinfo ").index(),this.set("content","/upload/uploadMaterial!uploadPage.action?"+this.activeTrigger.attr("href")+"&tab="+J)}).after("hide",function(){location.href="/borrow/borrow.action?tab="+J}),c(".sidernav").on("click","li",function(){if(c(".sidernav ul>li").removeClass("cur"),c(this).addClass("cur"),c(".loanappinfo>li").removeClass("cur").eq(c(this).index()).addClass("cur"),s(),c(this).index()==C-1){var e="";g.hide(),y.show(),x.each(function(){"valid"!=c(this).attr("class")&&(e+=c(this).parent().text()+"，")}),e&&_.html("您的"+e+"没有填写完整，请补全后再进行提交！")}else g.show(),y.hide(),_.empty()}),d.init("#J_select_jiguan","#J_select_jiguan1"),d.init("#J_select_hukou","#J_select_hukou1"),d.init("#J_select_gongzuo","#J_select_gongzuo1"),d.readcity(),t(),s(function(){var e=location.href.split(/tab=(.*)/)[1];return e?void x.eq(parseInt(e,10)).parent().trigger("click"):void x.each(function(e){return"valid"!=this.className?(c(this).parent().trigger("click"),!1):void(e==C-1&&"valid"==this.className&&c(this).parent().trigger("click"))})}),setTimeout(function(){c("input[type='text']:disabled,input[type='radio']:disabled,select:disabled").filter(function(){return"radio"!=this.type||"radio"==this.type&&this.checked}).each(function(){this.value&&this.name&&y.before("<input type='hidden' name='"+c(this).attr("name")+"' value='"+c(this).val()+"'/>")})},500);var w=h.validate({target:"#loanAppInfoForm",before:function(e){e.setPhone("phonepre","phonesuf","phone"),e.setPhone("workPhonepre","workPhonesuf","workPhone")},validateData:{submitHandler:function(e){s(),h.ajaxSubmit(c(e),{extraData:{type:"save"},success:function(e){this.msg(e.message),g.data("next")&&A()}})}}}),P=[],T=function(){return c.each(w.settings.rules,function(e,t){t&&t.required&&P.push(c("[name='"+e+"']"))}),P},q=function(e){var t=P.length>0?P:T();c.each(t,function(){this.rules("add",{required:e})})},A=function(){var e=c(".sidernav li.cur").index();C-1>e&&(c(".sidernav li").eq(e+1).trigger("click"),document.body.scrollTop=230)};g.click(function(){var e=c(".sidernav li.cur").index();if(0===e){if("请选择"==c("#graduation").parent("div").find(".J_txt").text())return c("#graduation-error").css("display","block"),!1;if("请选择"==c("#homeProvince").parent("div").find(".J_txt").text())return c("#homeProvince-error").css("display","block"),!1;if(o(c("#homeProvince").parent("div").find(".J_txt").text())===!1)return c("#homeProvince-error").css("display","block"),!1;if("请选择"==c("#homeCity").parent("div").find(".J_txt").text())return c("#homeCity-error").css("display","block"),!1;if(o(c("#homeCity").parent("div").find(".J_txt").text())===!1)return c("#homeCity-error").css("display","block"),!1;if("请选择"==c("#liveProvince").parent("div").find(".J_txt").text())return c("#liveProvince-error").css("display","block"),!1;if(o(c("#liveProvince").parent("div").find(".J_txt").text())===!1)return c("#liveProvince-error").css("display","block"),!1;if("请选择"==c("#liveCity").parent("div").find(".J_txt").text())return c("#liveCity-error").css("display","block"),!1;if(o(c("#liveCity").parent("div").find(".J_txt").text())===!1)return c("#liveCity-error").css("display","block"),!1}if(2==e){if("请选择"==c("#salary").parent("div").find(".J_txt").text())return c("#salary-error").css("display","block"),!1;if("请选择"==c("#province").parent("div").find(".J_txt").text())return c("#province-error").css("display","block"),!1;if("请选择"==c("#city").parent("div").find(".J_txt").text())return c("#city-error").css("display","block"),!1;if("请选择"==c("#officeType").parent("div").find(".J_txt").text())return c("#officeType-error").css("display","block"),!1;if("请选择"==c("#officeDomain").parent("div").find(".J_txt").text())return c("#officeDomain-error").css("display","block"),!1;if("请选择"==c("#officeScale").parent("div").find(".J_txt").text())return c("#officeScale-error").css("display","block"),!1;if("请选择"==c("#workYears").parent("div").find(".J_txt").text())return c("#workYears-error").css("display","block"),!1;var t=c("#workPhonepre").val(),i=c("#workPhonesuf").val(),a=c("#workPhonepre").parent("div").find(".error");if(""===t||""===i)return a.text("公司电话不能为空"),a.css("display","block"),!1;if(c.isNumeric(t)===!1||c.isNumeric(i)===!1)return a.text("请输入正确的公司电话"),a.css("display","block"),!1}if(3==e){var r=c('input:radio[name="hasCar"]:checked').val();if("true"==r&&"请选择"==c("#carYear").parent("div").find(".J_txt").text())return c("#carYear-error").css("display","block"),!1;var n=c("#carBrand").val();if("true"===r&&""===n)return c("#carBrand").parent("div").find(".error").css("display","block"),!1}q(!0),c(this).data("next",!0)}),k.click(function(){q(!1),g.data("next",!1)}),c(".auth").click(function(){h.ajaxSubmit(c("#loanAppInfoForm"),{extraData:{type:"save"},success:function(e){this.msg(e.message)}})}),new u({trigger:".J_submit_btn",content:c("#J_conform_submit_div"),width:"500px",height:"360px",hasMask:!0}).before("show",function(){var e=c("#J_m1").attr("data"),t=c("#J_m2").attr("data"),i=c("#J_m3").attr("data"),a=100*e;a=parseInt(Math.round(a/t+a*i/100),10)/100,a=a.toFixed(2),c("#J_monthre").text(["￥",a].join(""))}),p("#stick",0,function(){});var I=null,Y=5,j=c("#J_loan_ok"),D=j.val();c("#submitleft").on("click",function(){clearInterval(I),Y=5,l()}),c("#submitbt").on("click",function(){c("#submitleft").trigger("click")}),c("#J_loan_ok").click(function(){return c(this).attr("disabled")?!1:w.valid()?(b[0].submit(),!1):(alert("信息填写有误，请返回重新填写!"),!1)}),c("#J_loan_cancel").click(function(){clearInterval(I),c("#J_conform_submit_div").parent().parent(".ui-dialog").find(".ui-dialog-close").trigger("click")}),c(document).click(function(e){var t=e.target;c(t).parent("span").hasClass("arrow")||c(t).parent("div").hasClass("J_select_btn")||c(".J_popBox").css("display","none")}),c(".J_select_btn").click(function(e){if("disabled"!=c(e.currentTarget).attr("disabled")){c(".J_popBox").css("display","none");var t=c(e.currentTarget).parent().find("ul");"block"==t.css("display")?t.css("display","none"):t.css("display","block")}}),c(".J_popBox").delegate("li","mouseover",function(e){c(e.currentTarget).attr("class","selected")}),c(".J_popBox").delegate("li","mouseleave",function(e){c(e.currentTarget).attr("class","")}),c(".J_popBox").delegate("li","click",function(e){var t=c(e.currentTarget).attr("datavalue"),i=c(e.currentTarget).find("span").text(),a=c(e.currentTarget).parent().parent();a.find("input").attr("value",t),a.find(".J_txt").text(i),("RRGXD"==t||"RRSYD"==t||"RRWSD"==t)&&(location.href="/borrow/calculator.action?prodType="+t),"repayTimeul"==c(e.currentTarget).parent("ul").attr("id")&&(updateRepayDetail(),updateRateRange());var r=c(e.currentTarget).parent("ul").parent("div").find("input").attr("id");c("#"+r+"-error").css("display","none")}),c("div.J_select_btn").each(function(){"disabled"==c(this).attr("disabled")&&(c(this).css("border-color","#e0e0e0"),c(this).find(".arrow").css("background-color","#e0e0e0"))}),c(".J_ui_checkbox").bind("click",function(e){var t=c(e.currentTarget);t.hasClass("uncheck")?(t.removeClass("uncheck"),t.addClass("check")):(t.removeClass("check"),t.addClass("uncheck"))})});
;define("common:widget/oui/pages/borrow/calculator",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(t){var a=t("common:widget/oui/lib/jquery/1.9.1/jquery"),e=t("common:widget/oui/protocol"),o=t("common:widget/oui/widgets/widgets"),r=t("common:widget/oui/components/components.jscomponents"),n=t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),i=e.translator,l=r.Calculator,s=o.Form,c=/^(([1-9]{1}\d*)|([0]{1}))?$/,u=a("#borrowAmount").data("range")||"";u=u.split(",");var m=""===u[0]?"出借金额50的倍数":"金额范围"+s.comma(u[0])+"-"+s.comma(u[1]);s.validate({before:function(){""!==u[0]?jQuery.validator.addMethod("isBorrowAmount",function(t,a){return this.optional(a)||t>=parseInt(u[0],10)&&t<=parseInt(u[1],10)&&t%50===0&&c.test(t)},"借款金额范围"+u[0]+"-"+u[1]+"，且为50的倍数"):(jQuery.validator.addMethod("isBorrowAmount",function(t,a){return this.optional(a)||t%50===0&&c.test(t)},"出借金额范围须为50的倍数"),jQuery.validator.addMethod("isRepayDate",function(t,a){return this.optional(a)||t>0&&36>=t},"借款期限须为1-36个月")),jQuery.validator.addMethod("isFixedAmount",function(t,a){return this.optional(a)||t>=500&&2e4>=t&&t%100===0&&c.test(t)},"金额500-20000元之间，且100的倍数"),jQuery.validator.addMethod("isRateOver",function(t){var a=""===u[0]?5:10,e=24;return t=parseFloat(t),t>=a&&e>=t},s.err.isRateOver)},showTip:!0,tip:{fixedAmount:"500-20000元之间，100的倍数",borrowAmount:m,yearRate:""===u[0]?"利率范围5%-24%":"利率范围10%-24%",repayDate:""===u[0]?"可填写从1到36任意整数月份":null},validateData:{submitHandler:function(t){if("block"==a("#J_tab_loan").css("display")){var e=a("#calcu-tab").offset().top;e&&a("body,html").animate({scrollTop:e},800)}if("block"==a("#J_tab_uplan").css("display")){var o=a("#touziAmount").val();if(""===a.trim(o)||Number(o)%1e3!==0)return a("#touziAmount-error-label").css("display","block"),!1;a("#touziAmount-error-label").css("display","none");var e=a("#calcu-tab").offset().top;e&&a("body,html").animate({scrollTop:e},800);var r=a("#calcForm1").serializeArray(),n=l.arrToObj(r),i={};return i.amount=n.touziAmount,i.cashType=n.rType,i.category=n.UType,a.ajax({async:!1,type:"GET",url:"/calculate!calculateUplanInterest.action",data:i,dataType:"json",success:function(t){0===t.status&&"okay"===t.message?(a("#J_CJJE").html("￥"+n.touziAmount+".00"),a("#J_YQSY").html("￥"+Number(t.data.interest).toFixed(2))):(alert(t.message),a("#J_CJJE").html("￥"+n.touziAmount+".00"),a("#J_YQSY").html("￥0.00"))},error:function(){alert(resp.message),a("#J_CJJE").html("￥"+n.touziAmount+".00"),a("#J_YQSY").html("￥0.00")}}),!1}return"借款设置"==a(".J_tit").text()&&""===a("#repayDate").attr("value")?(a(".noinput-p").css("display","block"),!1):(p(),void f(t))}}}),a("#calcFormFixed").validate({rules:{fixedAmount:{required:!0,isFixedAmount:!0}},messages:{fixedAmount:{required:s.err.required}},submitHandler:function(){return d(),!1}}),""===u[0]&&a("#repayDate").rules("add",{required:!0,isIntNum:!0,isRepayDate:!0,messages:{required:s.err.required,isIntNum:s.err.isIntNum}});var d=function(){var t=a("#calcu-tab").offset().top;t&&a("body,html").animate({scrollTop:t},800);var e,o,r,i,l,s=a("#calcResult_fixed"),c=n.compile(a("#fixed-calc").html());e=a.trim(a("#fixedAmount").val()),i=9,r=12,earn=e*(i/12)*(1+r)*(r/2),o=e*r,l={total:o.toFixed(2),amount:e,rate:i,earn:(earn/100).toFixed(2)},s.html(c(l))},p=function(){var t,e,o,r;e=a("#ratetable tbody tr"),t=a.trim(a("#borrowAmount").val()),o=e.eq(0).find("td").filter(function(){return"服务费率"!=a(this).text()}),r=e.eq(1).find("td").filter(function(){return"服务费用"!=a(this).text()}),!t||t%50!==0||t>1e6?a.each(o,function(t){r.eq(t).html("")}):a.each(o,function(e){var o=parseFloat(a(this).text().replace("%",""));r.eq(e).html((o*t*.01).toFixed(0))}),a("#J_sjfy").css("color","#383838")},f=function(t){var e=a(t).serializeArray(),o=l(l.arrToObj(e)),r=o.calc();r.borrowAmount=""==a.trim(a("#borrowAmount").val())?0:a.trim(a("#borrowAmount").val()),r.gain=0,a.each(r.table,function(t,a){r.gain+=parseFloat(a.mlixi)}),r.gain=i._fixedFloat2(r.gain),r.monthlyRepayB=i._fixedFloat2(r.monthlyRepay+.003*r.borrowAmount),r.mounthRate=i._fixedFloat2(r.mounthRate),r.monthlyRepay=isNaN(r.monthlyRepay)?"0.00":i._fixedFloat2(r.monthlyRepay),r.borrowAmount=i._fixedFloat2(r.borrowAmount),o=null;var s=a("#loan-calc").html(),c=n.compile(s),u=a(".J_tit").eq(0).text();r.isShowTable="借款设置"==u&&"false"==r.isShowTable?!1:!0,"理财计算器 "==u&&(r.isShowTable=a("#isShowTable").is(":checked"));var m=c(r);if(a("#calcResult").html(m),a("#J_BJLX").html("<span>本金及利息</span><em>￥"+i._commaFloat(r.monthlyRepay)+"</em>&nbsp;&nbsp;(支付给理财人)"),a("#J_JKGLF").html("<span>借款管理费</span><em>￥"+i._commaFloat(.003*r.borrowAmount)+"</em>&nbsp;&nbsp;(由人人贷平台收取)"),"借款设置"==a(".J_tit").text()){var d=a("#calcForm").offset();a("body,html").animate({scrollTop:d.top},0)}};a(document).click(function(t){var e=t.target;a(e).parent("span").hasClass("arrow")||(a(e).parent("div").hasClass("J_select_btn")||a(".J_popBox").css("display","none"),"touziAmount"!=a(e).attr("id")&&a("#J_touziAmount_hint").css("display","none"))}),a(".J_select_btn").click(function(t){a(".J_popBox").css("display","none");var e=a(t.currentTarget).parent().find("ul");"block"==e.css("display")?e.css("display","none"):e.css("display","block")}),a(".J_popBox li").mouseover(function(t){a(t.currentTarget).attr("class","selected")}),a(".J_popBox li").mouseleave(function(t){a(t.currentTarget).attr("class","")}),a(".J_popBox li").click(function(t){var e,o=a(t.currentTarget).attr("datavalue"),r=a(t.currentTarget).find("span").text(),n=a(t.currentTarget).parent().parent(),i={3:10,6:11,9:12,12:12,15:13,18:13,24:13,36:13};return n.find("input").attr("value",o),n.find(".J_txt").text(r),"RRGXD"==o||"RRSYD"==o||"RRWSD"==o?(location.href="/borrow/calculator.action?prodType="+o,!1):(a(".noinput-p").css("display","none"),void(o&&i[o]&&(e=i[o],a("#yearRate").val(e).parent().find(".error-p").css("display","none"))))}),a("#touziAmount").on("click",function(t){a(t.currentTarget).parent().find(".error").css("display","none"),a("#J_touziAmount_hint").css("display","block")}),a("#yearRate,#borrowAmount,.error-p").on("click",function(t){a(t.currentTarget).parent().find(".error-p").css("display","none")}),a(".J_ui_checkbox").bind("click",function(t){var e=a(t.currentTarget);e.hasClass("uncheck")?(e.removeClass("uncheck"),e.addClass("check"),a("#isShowTable").attr("value","true")):(e.removeClass("check"),e.addClass("uncheck"),a("#isShowTable").attr("value","false"))});var b=function(t){var e,o,r="ui-tab-item-current",n=a("#calcu-tab li"),i=a("#J_tab_uplan,#J_tab_loan,#J_tab_fixed"),l="#calcResult_u",s="#calcResult_fixed",c="#calcResult,#J_calculator-article",u=[l,s,c].join(","),m=function(t){a(t).css("display","none")},d=function(t){a(t).css("display","block")};e=n.filter("."+r),t&&(e=a(t.currentTarget).parent("li")),n.removeClass(r),e.addClass(r),o=e.attr("data-name"),m(i),d("#"+o),m(u),"J_tab_uplan"==o&&d(l),"J_tab_loan"==o&&d(c),"J_tab_fixed"==o&&d(s)};a("#calcu-tab .ui-tab-item-link").on("click",b);var h=function(){b()};h()});
;define("common:widget/oui/pages/borrow/credit",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets"],function(i){var e=i("common:widget/oui/lib/jquery/1.9.1/jquery"),o=i("common:widget/oui/widgets/widgets"),t=o.Form,d=e("#creditWeiboForm,#creditGraduationForm,#creditVideoForm");d.length&&t.validate({validateData:{submitHandler:function(i){i.submit()}}})});
;define("common:widget/oui/pages/borrow/focusimg",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(i){function o(i){var o=t("#focusimg-bigpic img").eq(i),s=t("#focusimg-bigpic img").eq(i).attr("data").split("|");o.css("width","900"),o.stop(!0,!0).show().siblings().stop(!0,!0).hide(),t(".J_fimg div").eq(i).addClass("focusimg-prompt").css("opacity","1").siblings().removeClass("focusimg-prompt").css("opacity","1"),t("#focusimg-fram .title").html(s[0]+'<span style="font-size:14px;font-weight:normal;">'+s[1]+"</span>")}var s,t=i("common:widget/oui/lib/jquery/1.9.1/jquery"),c=i("common:widget/oui/arale/dialog/1.3.3/dialog"),a=t(".thumfram").index(this),m=!0;t(".J_fimg div").click(function(){a=t(".thumfram").index(this),o(a),t("html,body").animate({scrollTop:0},0)}),t("#focusimg-btnp").click(function(){a--,0>a&&(a=s-1),o(a),t("html,body").animate({scrollTop:0},0)}),t("#focusimg-btnn").click(function(){-1==a&&(a=0),a++,a>s-1&&(a=0),o(a),t("html,body").animate({scrollTop:0},0)}),t(".card-icon").on("focus",function(){this.blur()}),new c({trigger:".card-icon",content:".J_focusimg-img",width:"920px",align:{baseXY:["50%",0],selfXY:["50%",0]},hasMask:!0}).before("show",function(){t("html,body").animate({scrollTop:0},0),a=this.activeTrigger.attr("data"),s=t(".J_fimg div").size(),t(".ui-mask").css("background-color","#000"),t(".ui-mask").css("opacity","0.5"),t(".ui-mask").css("z-index","99999"),0>a-1?a=0:a-=1,o(a),m=!0})});
;define("common:widget/oui/pages/borrow/index",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/lib/city/1.0.1/new-city","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/arale/sticky/1.2.1/sticky","common:widget/oui/widgets/widgets","common:widget/oui/protocol","common:widget/oui/components/components.jscomponents"],function(e){function t(){var e=l("input[name='hasHouse']"),t=l("input[name='hasLoan']"),i=l("input[name='hasCar']"),a=l("input[name='carLoan']"),r=l("#carBrand,#carYear,#carNumber");e.click(function(){"true"==this.value?t.removeAttr("disabled"):(t.eq(1).trigger("click"),t.attr("disabled","disabled"))}),e.each(function(){"false"==l(this).val()&&l(this).attr("checked")&&(t.eq(1).trigger("click"),t.attr("disabled","disabled"))}),i.click(function(){"true"==this.value?(a.removeAttr("disabled"),r.removeAttr("disabled").add(a).parents(".ui-form-item").show()):(a.eq(1).trigger("click"),a.attr("disabled","disabled"),r.attr("disabled","disabled").add(a).parents(".ui-form-item").hide())}),"false"==i.filter(":checked").val()&&i.eq(1).trigger("click")}function i(){var e=[],t=[],i=[];b.find("input[type='radio']:checked,input[type='checkbox']:checked").each(function(){e.push(this.name)}),b.find("input[type='radio'],input[type='checkbox']").filter(function(){return!new RegExp(e.join("|")).test(this.name)&&!jQuery(this).is(":disabled")}).each(function(){t.push(this.name)}),t=l.uniqueArray(t);for(var a=0;a<t.length;a++)i.push({name:t[a],value:""});return i}function a(){var e=[],t=[],a=[],r=b.serializeArray();l.merge(r,i()),b.find("li.listinfo").each(function(t){var i=[];a.push(l(this).find("label.error").filter(function(){return"block"==l(this).css("display")}).length?t:""),l(this).find(".ui-form-required").each(function(){var e=l(this).parents(".ui-form-item").filter(function(){return"none"!=l(this).css("display")}).find("input[type='text'],input[type='password'],input[type='checkbox'],input[type='radio'],input[type='file'],select,textarea");l.each(e,function(){var e=l(this).attr("name");e&&i.push(e)})}),i=l.uniqueArray(i),e.push(i)});for(var n=function(e,t,i){l.each(r,function(a,r){return r.name==i?(r.value?t.push(r.name):e.push(r.name),!1):void 0})},s=0,o=e.length;o>s;s++){for(var c=[],d=[],u=0;u<e[s].length;u++)n(c,d,e[s][u]);t.push({empty:c,valid:d,error:a})}return t}function r(){var e=[],t=l("#loanAppInfoForm .ui-label").filter(function(){var e=l(this).parents(".ui-form-item"),t=l(this).nextAll("input[type='text'],input[type='radio'],select,textarea");return 0===t.length&&(t=l(this).nextAll().find("input[type='hidden']")),"none"!=e.css("display")&&t.length?!0:!1});t.each(function(){var t=l(this).parents(".ui-form-item").find("input,select,textarea").filter(function(){return l(this).is(":text,:hidden")&&l(this).val()&&"请选择"!=l(this).val()?!0:l(this).is(":radio,:checkbox")?this.checked:l(this).is("select")?l(this).find("option").is(":selected"):!1});t.val()&&e.push(t)});for(var i=e.length,a=t.length+v.length,r=0;r<v.length;r++)1!=parseInt(v[r],10)&&i++;var n=parseInt(i/a*100,10);l(".J_progress-txt").text(n+"%"),l(".J_progressbar").css("width",n+"%").attr("title",n+"%"),l("#progressPercentValue").val(n)}function n(){var e=a();m=[],v=[],l(".J_verify_Status_ul li .ver-bg-icon").each(function(){m.push(l(this).attr("data")),v.push(l(this).attr("data"))}),m.length<=2&&(m[2]="0",m[3]="0"),"0"!=m[0]&&(e[0].empty[0]="idverify",l("#J_upload_status_em").removeClass().addClass("half")),"0"!=m[1]&&(e[2].empty[0]="company-verify",l("#J_upload_status_em").removeClass().addClass("half")),"0"!=m[2]?(l("#J_upload_status_em").removeClass().addClass("half"),l("#J_xinyong_status_em").removeClass().addClass("half")):l("#J_xinyong_status_em").removeClass().addClass("valid"),"0"!=m[3]&&(e[2].empty[0]="income-verify",l("#J_upload_status_em").removeClass().addClass("half")),"0"==m[0]&&"0"==m[1]&&"0"==m[2]&&"0"==m[3]&&l("#J_upload_status_em").removeClass().addClass("valid");var t=["graduation","homeProvince","homeCity","liveProvince","liveCity","salary","province","city","officeType","officeDomain","officeScale","workYears","carYear"];return l.each(t,function(t,i){if(""===l("#"+i).attr("value")||"请选择"===l("#"+i).attr("value")){switch(t){case 0:e[0].empty[0]="graduation";break;case 1:e[0].empty[0]="homeProvince";break;case 2:e[0].empty[0]="homeCity";break;case 3:e[0].empty[0]="liveProvince";break;case 4:e[0].empty[0]="liveCity";break;case 5:e[2].empty[0]="salary";break;case 6:e[2].empty[0]="province";break;case 7:e[2].empty[0]="city";break;case 8:e[2].empty[0]="officeType";break;case 9:e[2].empty[0]="officeDomain";break;case 10:e[2].empty[0]="officeScale";break;case 11:e[2].empty[0]="workYears";break;case 12:if("true"==l('input:radio[name="hasCar"]:checked').val()){e[3].empty[0]="carYears";break}}y.hasClass("ui-button-disabled")||(y.addClass("ui-button-disabled").attr("disabled","disabled"),l("#submitleft").addClass("ui-button-disabled").attr("disabled","disabled"))}}),e}function s(e){r(),l.each(n(),function(e,t){x.eq(e).parent("li").hasClass("ig_li")||x.eq(e).removeClass().addClass(t.error[e]||0===t.error[e]?"error":t.empty.length?"half":"valid")}),x.filter(function(){return l(this).hasClass("valid")}).length!=C?y.hasClass("ui-button-disabled")||(y.addClass("ui-button-disabled").attr("disabled","disabled"),l("#submitleft").addClass("ui-button-disabled").attr("disabled","disabled")):(y.removeClass("ui-button-disabled").removeAttr("disabled"),l("#submitleft").removeClass("ui-button-disabled").removeAttr("disabled")),e&&"function"==typeof e&&e()}function o(e){var t=/^[\u4E00-\u9FA5]+$/;return t.test(e)?!0:!1}function c(){j.attr("disabled","disabled"),j.addClass("ui-button-litgray"),j.removeClass("ui-button-blue"),j.html(R+"("+I+")"),clearInterval(D),D=setInterval(function(){I>0?(j.html(R+"("+I+")"),I--):(clearInterval(D),j.html(R),j.removeClass("ui-button-litgray"),j.addClass("ui-button-blue"),j.removeAttr("disabled"))},1e3)}var l=e("common:widget/oui/lib/jquery/1.9.1/jquery"),d=e("common:widget/oui/lib/city/1.0.1/new-city"),u=e("common:widget/oui/arale/dialog/1.3.3/dialog"),p=(e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),e("common:widget/oui/arale/sticky/1.2.1/sticky")),f=e("common:widget/oui/widgets/widgets"),h=f.Form,m=[],v=[],b=l("#loanAppInfoForm"),y=l("#submitbt"),g=l("#nextbt"),k=l("#savebt"),_=l("#submsg"),x=l(".sidernav ul li span"),C=x.length,w=0;setInterval(function(){s()},1e3),new u({trigger:".auth",width:"600px",align:{baseXY:["50%",0],selfXY:["50%",0]},hasMask:{hideOnClick:!1}}).before("show",function(){k.trigger("click"),w=this.activeTrigger.parents(".listinfo ").index(),this.set("content","/upload/uploadMaterial!uploadPage.action?"+this.activeTrigger.attr("href")+"&tab="+w)}).after("hide",function(){location.href="/borrow/borrow.action?tab="+w}),l(".sidernav").on("click","li",function(){if(l(".sidernav ul>li").removeClass("cur"),l(this).addClass("cur"),l(".loanappinfo>li").removeClass("cur").eq(l(this).index()).addClass("cur"),s(),l(this).index()==C-1){var e="";g.hide(),y.show(),x.each(function(){"valid"!=l(this).attr("class")&&(e+=l(this).parent().text()+"，")}),e&&_.html("您的"+e+"没有填写完整，请补全后再进行提交！")}else g.show(),y.hide(),_.empty()}),d.init("#J_select_jiguan","#J_select_jiguan1"),d.init("#J_select_hukou","#J_select_hukou1"),d.init("#J_select_gongzuo","#J_select_gongzuo1"),d.readcity(),t(),s(function(){var e=location.href.split(/tab=(.*)/)[1];return e?void x.eq(parseInt(e,10)).parent().trigger("click"):void x.each(function(e){return"valid"!=this.className?(l(this).parent().trigger("click"),!1):void(e==C-1&&"valid"==this.className&&l(this).parent().trigger("click"))})}),setTimeout(function(){l("input[type='text']:disabled,input[type='radio']:disabled,select:disabled").filter(function(){return"radio"!=this.type||"radio"==this.type&&this.checked}).each(function(){this.value&&this.name&&y.before("<input type='hidden' name='"+l(this).attr("name")+"' value='"+l(this).val()+"'/>")})},500);var J=h.validate({target:"#loanAppInfoForm",before:function(e){e.setPhone("phonepre","phonesuf","phone"),e.setPhone("workPhonepre","workPhonesuf","workPhone")},validateData:{submitHandler:function(e){s(),h.ajaxSubmit(l(e),{extraData:{type:"save"},success:function(e){this.msg(e.message),g.data("next")&&A()}})}}}),P=[],T=function(){return l.each(J.settings.rules,function(e,t){t&&t.required&&P.push(l("[name='"+e+"']"))}),P},q=function(e){var t=P.length>0?P:T();l.each(t,function(){this.rules("add",{required:e})})},A=function(){var e=l(".sidernav li.cur").index();C-1>e&&(l(".sidernav li").eq(e+1).trigger("click"),document.body.scrollTop=230)};g.click(function(){var e=l(".sidernav li.cur").index();if(0===e){if("请选择"==l("#graduation").parent("div").find(".J_txt").text())return l("#graduation-error").css("display","block"),!1;if("请选择"==l("#homeProvince").parent("div").find(".J_txt").text())return l("#homeProvince-error").css("display","block"),!1;if(o(l("#homeProvince").parent("div").find(".J_txt").text())===!1)return l("#homeProvince-error").css("display","block"),!1;if("请选择"==l("#homeCity").parent("div").find(".J_txt").text())return l("#homeCity-error").css("display","block"),!1;if(o(l("#homeCity").parent("div").find(".J_txt").text())===!1)return l("#homeCity-error").css("display","block"),!1;if("请选择"==l("#liveProvince").parent("div").find(".J_txt").text())return l("#liveProvince-error").css("display","block"),!1;if(o(l("#liveProvince").parent("div").find(".J_txt").text())===!1)return l("#liveProvince-error").css("display","block"),!1;if("请选择"==l("#liveCity").parent("div").find(".J_txt").text())return l("#liveCity-error").css("display","block"),!1;if(o(l("#liveCity").parent("div").find(".J_txt").text())===!1)return l("#liveCity-error").css("display","block"),!1}if(2==e){if("请选择"==l("#salary").parent("div").find(".J_txt").text())return l("#salary-error").css("display","block"),!1;if("请选择"==l("#province").parent("div").find(".J_txt").text())return l("#province-error").css("display","block"),!1;if("请选择"==l("#city").parent("div").find(".J_txt").text())return l("#city-error").css("display","block"),!1;if("请选择"==l("#officeType").parent("div").find(".J_txt").text())return l("#officeType-error").css("display","block"),!1;if("请选择"==l("#officeDomain").parent("div").find(".J_txt").text())return l("#officeDomain-error").css("display","block"),!1;if("请选择"==l("#officeScale").parent("div").find(".J_txt").text())return l("#officeScale-error").css("display","block"),!1;if("请选择"==l("#workYears").parent("div").find(".J_txt").text())return l("#workYears-error").css("display","block"),!1;var t=l("#workPhonepre").val(),i=l("#workPhonesuf").val(),a=l("#workPhonepre").parent("div").find(".error");if(""===t||""===i)return a.text("公司电话不能为空"),a.css("display","block"),!1;if(l.isNumeric(t)===!1||l.isNumeric(i)===!1)return a.text("请输入正确的公司电话"),a.css("display","block"),!1}if(3==e){var r=l('input:radio[name="hasCar"]:checked').val();if("true"==r&&"请选择"==l("#carYear").parent("div").find(".J_txt").text())return l("#carYear-error").css("display","block"),!1;var n=l("#carBrand").val();if("true"===r&&""===n)return l("#carBrand").parent("div").find(".error").css("display","block"),!1}q(!0),l(this).data("next",!0)}),k.click(function(){q(!1),g.data("next",!1)}),l(".auth").click(function(){h.ajaxSubmit(l("#loanAppInfoForm"),{extraData:{type:"save"},success:function(e){this.msg(e.message)}})}),new u({trigger:".J_submit_btn",content:l("#J_conform_submit_div"),width:"500px",height:"360px",hasMask:!0}).before("show",function(){var t=e("common:widget/oui/protocol"),i=e("common:widget/oui/components/components.jscomponents"),a=i.Calculator,r=t.translator,n=l("#J_m1").attr("data"),s=l("#J_m2").attr("data"),o=l("#J_m3").attr("data"),c=a({repayDate:s,borrowAmount:n,yearRate:o,repayType:"DEBX",isShowTable:"false",mgmtAmount:"0.3"}),d=c.calc();l("#J_monthre").text("￥"+r._commaFloat(d.monthlyRepay+.003*n))}),p("#stick",0,function(){});var D=null,I=5,j=l("#J_loan_ok"),R=j.val();l("#submitleft").on("click",function(){clearInterval(D),I=5,c()}),l("#submitbt").on("click",function(){l("#submitleft").trigger("click")}),l("#J_loan_ok").click(function(){return l(this).attr("disabled")?!1:J.valid()?(b[0].submit(),!1):(alert("信息填写有误，请返回重新填写!"),!1)}),l("#J_loan_cancel").click(function(){clearInterval(D),l("#J_conform_submit_div").parent().parent(".ui-dialog").find(".ui-dialog-close").trigger("click")}),l(document).click(function(e){var t=e.target;l(t).parent("span").hasClass("arrow")||l(t).parent("div").hasClass("J_select_btn")||l(".J_popBox").css("display","none")}),l(".J_select_btn").click(function(e){if("disabled"!=l(e.currentTarget).attr("disabled")){l(".J_popBox").css("display","none");var t=l(e.currentTarget).parent().find("ul");"block"==t.css("display")?t.css("display","none"):t.css("display","block")}}),l(".J_popBox").delegate("li","mouseover",function(e){l(e.currentTarget).attr("class","selected")}),l(".J_popBox").delegate("li","mouseleave",function(e){l(e.currentTarget).attr("class","")}),l(".J_popBox").delegate("li","click",function(e){var t=l(e.currentTarget).attr("datavalue"),i=l(e.currentTarget).find("span").text(),a=l(e.currentTarget).parent().parent();a.find("input").attr("value",t),a.find(".J_txt").text(i),("RRGXD"==t||"RRSYD"==t||"RRWSD"==t)&&(location.href="/borrow/calculator.action?prodType="+t),"repayTimeul"==l(e.currentTarget).parent("ul").attr("id")&&(updateRepayDetail(),updateRateRange());var r=l(e.currentTarget).parent("ul").parent("div").find("input").attr("id");l("#"+r+"-error").css("display","none")}),l("div.J_select_btn").each(function(){"disabled"==l(this).attr("disabled")&&(l(this).css("border-color","#e0e0e0"),l(this).find(".arrow").css("background-color","#e0e0e0"))}),l(".J_ui_checkbox").bind("click",function(e){var t=l(e.currentTarget);t.hasClass("uncheck")?(t.removeClass("uncheck"),t.addClass("check")):(t.removeClass("check"),t.addClass("uncheck"))})});
;define("common:widget/oui/pages/borrow/loaninfo",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets"],function(e){function t(){var e=r("#productIdul");r.ajax({url:"/borrow/getProductsByUser.action",cache:!1,dataType:"JSON",success:function(t){e.empty();var a=t;a.vos.length<=1?e.parents(".ui-form-item").hide():e.parents(".ui-form-item").show(),r("#productId").attr("value",a.vos[0].id),r("#productId").parent("div").find(".J_txt").text(a.vos[0].productName),r.each(a.vos,function(t,a){i.push({id:a.id,name:a.productName,loanType:a.loanType,monthInte:r.parseJSON(a.monthlyMinInterest)}),r("<li datavalue='"+a.id+"'><span>"+a.productName+"</span></li>").appendTo(e)});var o=r("#productId").val();if(o){for(var n=0;n<i.length;n++)if(o==i[n].id){r("#loanType").html(i[n].loanType);for(var c=i[n].monthInte,s="",u=0,p=c.length;p>u;u++)s+=" <li datavalue='"+c[u].month+"'><span>"+c[u].month+"个月</span></li>";r("#repayTimeul").html(s),r("#repayTime").attr("value",c[0].month),r("#repayTime").parent("div").find(".J_txt").text(c[0].month+"个月");break}l()}}})}function a(e){jQuery.validator.addMethod("isBorrowAmount",function(e,t){return this.optional(t)||e>=parseInt(u[0],10)&&e<=parseInt(u[1],10)&&e%50===0&&/^(([1-9]{1}\d*)|([0]{1}))?$/.test(e)},"借款金额范围"+u[0]+"-"+u[1]+"，且为50的倍数"),jQuery.validator.addMethod("isRateOver",function(e){var t=parseFloat(Number(r("#minRate").html().replace("%",""))),a=parseFloat(Number(r("#maxRate").html().replace("%","")));return e=parseFloat(e),e>=t&&a>=e},e.err.isRateOver)}var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/widgets/widgets"),n=o.Form,i=[],c=function(){var e,t,a,o,n={};e=r.trim(r("#borrowAmount").val()),t=r.trim(r("#apr").val()),t=""===t?"":parseFloat(t),a=r("#repayTime").val(),o=r("#productId").val(),e&&t&&a&&o&&(n={amount:e,apr:t,repayTime:a,productId:o},r.ajax({url:"/borrow/getMonthlyInterest.action",data:r.param(n),type:"POST",dataType:"json",success:function(e){r("#monthRepayMoney").html("￥"+e.monthlyRepay.toFixed(2)),r("#managerFee").html("￥"+e.manageFee.toFixed(2))}}))},s=function(){var e,t,a,o;t=r("#ratetable tr"),e=r.trim(r("#borrowAmount").val()),a=t.eq(1).find("td").filter(function(){return"服务费率"!=r(this).text()}),o=t.eq(2).find("td").filter(function(){return"服务费"!=r(this).text()}),!e||e%50!==0||e>1e6?r.each(a,function(e){o.eq(e).html("")}):r.each(a,function(t){var a=parseFloat(r(this).text().replace("%",""));o.eq(t).html((a*e*.01).toFixed(0))})};r("#borrowAmount,#apr").keyup(function(){c(),l(),s()}),r("#repayTime").change(function(){c(),l()});var l=function(){for(var e=r("#productId").val(),t=r("#repayTime").val(),a=0;a<i.length;a++)if(e==i[a].id){for(var o=i[a].monthInte,n=0,c=o.length;c>n;n++)t==o[n].month&&(r("#minRate").html(o[n].minInterest+"%"),r("#maxRate").html(o[n].maxInterest+"%"));break}};t();var u=r("#borrowAmount").data("range").split(","),p=n.validate({showTip:!0,tip:{borrowTitle:"不超过14字"},before:function(e){a(e)}});r("form").submit(function(){return p.valid()?"true"!=r("#agree_contract").attr("value")?(r("#J_error_agree").css("display","block"),!1):(this.submit(),r(this).find(":submit").attr("disabled","disabled"),!1):!1}),r(document).click(function(e){var t=e.target;r(t).parent("span").hasClass("arrow")||r(t).parent("div").hasClass("J_select_btn")||r(".J_popBox").css("display","none")}),r(".J_select_btn").click(function(e){r(".J_popBox").css("display","none");var t=r(e.currentTarget).parent().find("ul");"block"==t.css("display")?t.css("display","none"):t.css("display","block")}),r(".J_popBox").delegate("li","mouseover",function(e){r(e.currentTarget).attr("class","selected")}),r(".J_popBox").delegate("li","mouseleave",function(e){r(e.currentTarget).attr("class","")}),r(".J_popBox").delegate("li","click",function(e){var t=r(e.currentTarget).attr("datavalue"),a=r(e.currentTarget).find("span").text(),o=r(e.currentTarget).parent().parent();if(o.find("input").attr("value",t),o.find(".J_txt").text(a),("RRGXD"==t||"RRSYD"==t||"RRWSD"==t)&&(location.href="/borrow/calculator.action?prodType="+t),"repayTimeul"==r(e.currentTarget).parent("ul").attr("id"))switch(t){case"3":r("#apr").val("10");break;case"6":r("#apr").val("11");break;case"9":r("#apr").val("12");break;case"12":r("#apr").val("12");break;case"15":r("#apr").val("13");break;case"18":r("#apr").val("13");break;case"24":r("#apr").val("13");break;case"36":r("#apr").val("13")}c(),l()}),r(".J_ui_checkbox").bind("click",function(e){var t=r(e.currentTarget);t.hasClass("uncheck")?(t.removeClass("uncheck"),t.addClass("check"),r("#agree_contract").attr("value","true"),r("#J_error_agree").css("display","none")):(t.removeClass("check"),t.addClass("uncheck"),r("#agree_contract").attr("value","false"),r("#J_error_agree").css("display","block"))}),r("#apr").on("focus",function(){r("#J_yearrate_pop").css("display","block")}),r("#apr").on("blur",function(){r("#J_yearrate_pop").css("display","none")}),r("#borrowAmount").on("focus",function(e){r("#J_amount_range").text("借款金额范围:"+r(e.currentTarget).attr("data-range").replace(",","-")+",且为50的倍数"),r("#J_borrowamount_pop").css("display","block")}),r("#borrowAmount").on("blur",function(){r("#J_borrowamount_pop").css("display","none")}),r(".extra-div-a").on("mouseenter",function(){r(".ui-poptip-bx").css("display","block")}),r(".extra-div-a").on("mouseleave",function(){r(".ui-poptip-bx").css("display","none")})});
;define("common:widget/oui/pages/borrow/preview",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol","common:widget/oui/arale/dialog/1.3.3/dialog"],function(e){function t(){var e=i("#J_loan-Amount").data("val"),t=i("#J_loan-Month").data("val"),o=i("#J_loan-Rate").data("val"),a=100*e;a=parseInt(Math.round(a/t+a*o/100),10)/100,a=a.toFixed(2),i("#J_loan-month-Pay").text(["￥",a].join(""))}var i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=(e("common:widget/oui/protocol"),e("common:widget/oui/arale/dialog/1.3.3/dialog"));new o({trigger:".auth",width:"600px",align:{baseXY:["50%",0],selfXY:["50%",0]},hasMask:{hideOnClick:!1}}).before("show",function(){index=this.activeTrigger.parents(".listinfo ").index(),this.set("content","/upload/uploadMaterial!uploadPage.action?"+this.activeTrigger.attr("href")+"&tab="+index)}).after("hide",function(){});var a=document.getElementById("J_marrige_status").innerHTML.replace(/(^\s*)|(\s*$)/g,"");document.getElementById("J_marrige_id").innerHTML="<span>婚姻状况</span>"+a,i("td").each(function(e,t){if(0!==i(t).find("span").length&&""!==i(t).find("span").text()){var o=i(t).html();">"==o[o.length-1]&&"n"==o[o.length-2]&&i(t).html(i(t).html()+"--")}}),t()});
;define("common:widget/oui/pages/borrow/product",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets"],function(e){function t(){var e=o("#J_product-type"),t=o("#J_product-list>div"),a=o("#loanProductType"),r=o("#J_product-title"),n="active",i="hide",s=a.length&&a.val();o("li",e).on("click",function(){o(this).siblings().removeClass(n).end().addClass(n),t.addClass(i).eq(o(this).index()).removeClass(i),r.text(" - "+o(this).find("span").text()),a.val(o(this).attr("data-type")).next().css("display","none")}).each(function(e,a){s&&s.length&&s==o(a).data("type")&&(o(a).addClass(n),t.addClass(i).eq(e).removeClass(i))})}function a(e){jQuery.validator.addMethod("isBorrowAmount",function(e,t){return this.optional(t)||e>=parseInt(d[0],10)&&e<=parseInt(d[1],10)&&e%50===0&&/^(([1-9]{1}\d*)|([0]{1}))?$/.test(e)},"借款金额范围"+d[0]+"-"+d[1]+"，且为50的倍数"),jQuery.validator.addMethod("isRateOver",function(e){var t=parseFloat(Number(o("#minRate").html().replace("%",""))),a=parseFloat(Number(o("#maxRate").html().replace("%","")));return e=parseFloat(e),e>=t&&a>=e},e.err.isRateOver)}function r(){var e=o("#borrowType"),t=o("#J_tip-borrowType"),a="hide";return console.log("valiBorrwType",e.val().length),e.val().length?(t.addClass(a),!0):(t.removeClass(a),!1)}var o=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/widgets/widgets"),i=n.Form,s=[],l="hide";t(),o(".extra-div-a").on("mouseenter",function(){o(".ui-poptip-bx").removeClass(l);var e=o(".extra-div .extra-div-a").position().left;o(".extra-div .ui-poptip").css("left",e+30)}),o(".extra-div-a").on("mouseleave",function(){o(".ui-poptip-bx").addClass(l)}),o("#borrowAmount").on("focus",function(){o("#J_amount_range").text("借款金额范围:3,000-500,000。且为50的倍数"),o("#J_borrowamount_pop").css("display","block")}),o("#borrowAmount").on("blur",function(){o("#J_borrowamount_pop").css("display","none")}),o("#apr").on("focus",function(){o("#J_yearrate_pop").css("display","block")}),o("#apr").on("blur",function(){o("#J_yearrate_pop").css("display","none")}),o(document).click(function(e){var t=e.target;o(t).parent("span").hasClass("arrow")||o(t).parent("div").hasClass("J_select_btn")||o(".J_popBox").css("display","none")}),o(".J_select_btn").click(function(e){o(".J_popBox").css("display","none");var t=o(e.currentTarget).parent().find("ul");"block"==t.css("display")?t.css("display","none"):t.css("display","block")}),o(".J_popBox").delegate("li","mouseover",function(e){o(e.currentTarget).attr("class","selected")}),o(".J_popBox").delegate("li","mouseleave",function(e){o(e.currentTarget).attr("class","")}),o(".J_popBox").delegate("li","click",function(e){var t=o(e.currentTarget).attr("datavalue"),a=o(e.currentTarget).find("span").text(),r=o(e.currentTarget).parent().parent();if(r.find("input").val(t),r.find(".J_txt").text(a),("RRGXD"==t||"RRSYD"==t||"RRWSD"==t)&&(location.href="/borrow/calculator.action?prodType="+t),"repayTimeul"==o(e.currentTarget).parent("ul").attr("id"))switch(t){case"3":o("#apr").val("10");break;case"6":o("#apr").val("11");break;case"9":o("#apr").val("12");break;case"12":o("#apr").val("12");break;case"15":o("#apr").val("13");break;case"18":o("#apr").val("13");break;case"24":o("#apr").val("13");break;case"36":o("#apr").val("13")}c(),p()}),o(".J_ui_checkbox").bind("click",function(e){var t=o(e.currentTarget);t.hasClass("uncheck")?(t.removeClass("uncheck"),t.addClass("check"),o("#agree_contract").attr("value","true"),o("#J_error_agree").css("display","none")):(t.removeClass("check"),t.addClass("uncheck"),o("#agree_contract").attr("value","false"),o("#J_error_agree").css("display","block"))});var c=function(){var e,t,a,r={},n=function(e){return Number(e).toFixed(2)};e=o.trim(o("#borrowAmount").val()),a=o("#repayTime").val(),e&&a&&(r={amount:e,apr:t,repayTime:a},o.ajax({url:"/borrow/getMonthlyInterest.action",data:o.param(r),type:"POST",dataType:"json",success:function(e){o("#monthRepayMoney").html("￥"+n(e.monthlyRepay)),o("#managerFee").html("￥"+n(e.manageFee)),o("#monthRepayAccont").html("￥"+n(e.totalMonthlyRepay)),o("#guaranteeFee").html("￥"+n(e.guaranteeFee))}}))},u=function(){var e,t,a,r;t=o("#ratetable tr"),e=o.trim(o("#borrowAmount").val()),a=t.eq(1).find("td").filter(function(){return"服务费率"!=o(this).text()}),r=t.eq(2).find("td").filter(function(){return"服务费"!=o(this).text()}),!e||e%50!==0||e>1e6?o.each(a,function(e){r.eq(e).html("")}):o.each(a,function(t){var a=parseFloat(o(this).text().replace("%",""));r.eq(t).html((a*e*.01).toFixed(0))})};o("#borrowAmount,#apr").keyup(function(){c(),p(),u()});var p=function(){for(var e=o("#productId").val(),t=o("#repayTime").val(),a=0;a<s.length;a++)if(e==s[a].id){for(var r=s[a].monthInte,n=0,i=r.length;i>n;n++)t==r[n].month&&(o("#minRate").html(r[n].minInterest+"%"),o("#maxRate").html(r[n].maxInterest+"%"));break}},d=o("#borrowAmount").data("range").split(","),m=i.validate({showTip:!0,tip:{borrowTitle:"不超过14字"},before:function(e){a(e)}});o("#repayTimeul").each(function(e,t){var a=o(t).parent(),r=o("#repayTime"),n=o(".J_txt",a),i=r&&r.val();i.length||(i=3,r.val(i)),o("li",t).each(function(e,t){return o(t).attr("datavalue")==i?void n.text(o(t).text()):void 0}),c(),p(),u()}),o("form").submit(function(){var e=r();return m.valid()&&e?"true"!=o("#agree_contract").attr("value")?(o("#J_error_agree").css("display","block"),!1):(this.submit(),o(this).find(":submit").attr("disabled","disabled"),!1):!1})});
;define("common:widget/oui/pages/borrow/uploads",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/lib/plupload/1.5.7/jquery.plupload.queue"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),l=[];e("common:widget/oui/lib/plupload/1.5.7/jquery.plupload.queue"),t(function(){var e=!1,i=t(t("#uploader").length>0?"#uploader":".uploader");i.pluploadQueue({runtimes:"html5,flash,silverlight",url:"/upload/uploadCreditMaterial_upload.action",max_file_size:"3mb",chunk_size:"1mb",mutlipart:!0,unique_names:!0,file_data_name:"upload",filters:[{title:"Image files",extensions:"jpg,gif,png,pdf"}],flash_swf_url:"../static/js/lib/plupload/1.5.7/plupload.flash.swf",silverlight_xap_url:"../static/js/lib/plupload/1.5.7/plupload.silverlight.xap",multipart_params:{},preinit:{FilesAdded:function(e,i){for(var o=0;o<i.length;o++){if(-1!=t.inArray(i[o].name,l))return alert("不允许上传同名文件或不允许上传该类型文件"),!1;l.push(i[o].name)}if(e.files.length>=30){for(alert("最多只能上传30个文件"),o=0;o<i.length;o++)e.removeFile(i[o]);return!1}return i.length>30?(alert("最多只能上传30个文件"),!1):void 0},FilesRemoved:function(e,t){for(var i=0;i<t.length;i++)l.splice(t[i].name,1)}},init:{UploadComplete:function(){l=[],e=!0}}}),t(".saveSettingBnt").click(function(){return"网商"==jQuery("#jobType").val()||e?void 0:(alert("请完成文件上传后提交审核。"),!1)})}),Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var l in t)new RegExp("("+l+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[l]:("00"+t[l]).substr((""+t[l]).length)));return e}});
;define("common:widget/oui/pages/borrow/verify",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(t,e,o){function i(t){var e=function(t){return Math.floor(Number(t))},o=function(t){return("00"+t).slice(-2)},i=e(t),n=e(i%60),a=e(i/60%60),r=e(i/3600%3600),m=[];m.push(r>99?"<em>"+r+"</em>时":"<em>"+o(r)+"</em>时"),m.push("<em>"+o(a)+"</em>分"),m.push("<em>"+o(n)+"</em>秒"),u("#J_count_time").html(m.join(""))}function n(){var t,e=function(){i(l),0>=l&&(clearInterval(t),u("#J_count-down-tip-div").html("<span class='dot'>●</span>补充上传资料时间已截止，我们将尽快检查您的资料，请耐心等待。"),u(".icon-noload ~ .auth, .icon-verify ~ .auth").addClass("hide")),l-=1};t=setInterval(e,1e3),e()}function a(){var t="hide";u(".extra-div-a").on("mouseenter",function(){var e=u(this).next(".ui-poptip-bx").removeClass(t),o=u(this).position();e.css({left:o.left+30,top:o.top-10,width:290})}),u(".extra-div-a").on("mouseleave",function(){u(this).next(".ui-poptip-bx").addClass(t)})}var r,u=t("common:widget/oui/lib/jquery/1.9.1/jquery"),m=t("common:widget/oui/arale/dialog/1.3.3/dialog"),l=0,c=function(){new m({trigger:".auth",width:"600px",align:{baseXY:["50%",0],selfXY:["50%",0]},hasMask:{hideOnClick:!1}}).before("show",function(){this.set("content","/upload/uploadMaterial!uploadPage.action?"+this.activeTrigger.attr("href"))}).after("hide",function(){})},d=function(){var t,e,o,i;e=u("#ratetable tr"),t=u.trim(u("#borrowAmount").text()),o=e.eq(1).find("td").filter(function(){return"服务费率"!=u(this).text()}),i=e.eq(2).find("td").filter(function(){return"服务费用"!=u(this).text()}),!t||t%50!==0||t>1e6?u.each(o,function(t){i.eq(t).html("")}):u.each(o,function(e){var o=parseFloat(u(this).text().replace("%",""));i.eq(e).html((o*t*.01).toFixed(0))})},s=function(){var t,e,o,i,n={};t=u.trim(u("#borrowAmount").text()),e=u.trim(u("#apr").text()),e=""===e?"":parseFloat(e),o=u.trim(u("#repayTime").text()),i=u.trim(u("#J_productid").text()),t&&e&&o&&i&&(n={amount:t,apr:e,repayTime:o,productId:i},u.ajax({url:"/borrow/getMonthlyInterest.action",data:u.param(n),type:"POST",dataType:"json",success:function(t){u("#monthRepayMoney").html("￥"+Number(t.monthlyRepay).toFixed(2)+" "),u("#managerFee").html("￥"+Number(t.manageFee).toFixed(2)+" "),u("#J_monthPay").html("￥"+Number(t.totalMonthlyRepay).toFixed(2)+" "),u("#J_origin_fee").html("￥"+Number(t.guaranteeFee).toFixed(2)+" ")}}))},h={init:function(t){r||(r=!0,c(),d(),s(),t&&(l=t),n(),a())}};o.exports=h});
;define("common:widget/oui/pages/borrow/zh-cn",function(){plupload.addI18n({"Select files":"选择文件","Add files to the upload queue and click the start button.":"将文件添加到上传队列，然后点击”开始上传“按钮。",Filename:"文件名",Status:"状态",Size:"大小","Add Files":"添加文件","Stop Upload":"停止上传","Start Upload":"开始上传","Add files":"添加文件","Add files.":"添加文件","Stop current upload":"停止当前文件的上传","Start uploading queue":"开始上传队列","Stop upload":"停止上传","Start upload":"开始上传","Uploaded %d/%d files":"开始上传第 %d/%d 个文件","N/A":"N/A","Drag files here.":"将文件在这里","File extension error.":"文件扩展名错误","File size error.":"文件大小错误","File count error.":"文件计数错误","Init error.":"初始化错误","HTTP Error.":"HTTP 错误","Security error.":"安全错误","Generic error.":"一般错误","IO error.":"IO 错误","File: %s":"文件: %s",Close:"关闭","%d files queued":"%d 个文件排队","Using runtime: ":"使用运行时: ","File: %f, size: %s, max file size: %m":"文件: %f, 大小: %s, 最大文件大小: %m","Upload element accepts only %d file(s) at a time. Extra files were stripped.":"上传的列表中只接受 %d 文件的时间。多余的文件被取消了","Upload URL might be wrong or doesn't exist":"上传的URL可能是错误的或不存在","Error: File too large: ":"错误：文件太大: ","Error: Invalid file extension: ":"错误：无效的文件扩展名: "})});
;(function(){define("common:widget/oui/pages/borrow/zion_index",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e,t,n){var i,o,r,a,s,l,u,d,f;return i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),d=window.userFeeRate||"HR",s=window.allFeeRate||{},o={},r={0:3e3,126:1e4,444:1e5,622:2e5,728:5e5},l={def:{offset:55,minoffset:0,maxoffset:728,min:3e3,max:5e5,step:1e3,delay:200,text:"#J_text_borrow-amount",holder:"#J_borrow-amount-slider",line:"#J_borrow-slider-line",trigger:"#J_borrow-slider-trigger",up:"#J_borrow-slider-right",down:"#J_borrow-slider-left"},increaseVal:function(){var e,t,n;return e=this,t=e.option,n=t.text.val()-0,n=e.sanitizeVal(n+t.step),e.setVal(n),e.money2silder()},decreaseVal:function(){var e,t,n;return e=this,t=e.option,n=t.text.val()-0,n=e.sanitizeVal(n-t.step),e.setVal(n),e.money2silder()},sanitizeVal:function(e){var t,n,i,o,r,a;return n=this,o=n.option,r=e,i=o.min,t=o.max,e=parseInt("0"+e,10),i>e&&(e=i),e>t&&(e=t),1e4>=e&&(o.step=1e3),e>1e4&&(o.step=5e3),e>1e5&&(o.step=1e4),e>2e5&&(o.step=5e4),a=o.step,e%a!==0&&(e=e-e%a+a),e},setVal:function(e){var t;return t=this,t.option.text.val(e)},setOffset:function(e){var t,n,i,o,r,a,s;return n=this,a=n.option,o=a.offset,r=36,t=a.maxoffset,i=a.minoffset,s=parseInt("0"+e,10),s-=o,s>t&&(s=t),i>s&&(s=i),a.line.css({width:s}),a.trigger.css({left:s+r})},silder2money:function(e){var t,n,i,o,a,s,l,u,d,f,c,h;a=this,d=a.option,u=d.offset,o=d.maxoffset,s=d.minoffset,e-=u,e>o&&(e=o),s>e&&(e=s),i=d.min,l=d.max,t=r,e===s&&a.setVal(a.sanitizeVal(d.min)),e===o&&a.setVal(a.sanitizeVal(d.max));for(n in t)if(c=t[n],e>=n&&(i=n),n>=e){l=n;break}return l===i?(a.setVal(a.sanitizeVal(t[l])),a.renderTable(),a):(f=(t[l]-t[i])/(l-i),h=(e-i)*f+t[i],a.setVal(a.sanitizeVal(h)),a.renderTable(),a)},money2silder:function(e){var t,n,i,o,a,s,l,u,d,f,c;o=this,l=o.option,s=l.offset,a=l.minoffset,i=l.maxoffset,t=r,f=parseInt("0"+l.text.val(),10),e&&(f%100!==0&&(f=100*Math.ceil(f/100)),f<l.min&&(f=3e3),f>l.max&&(f=5e5),o.setVal(f)),f=o.sanitizeVal(l.text.val());for(n in t)if(d=t[n],f>d&&(a=n),d>=f){i=n;break}return u=(t[i]-t[a])/(i-a),c=a,c=c-0+(f-t[a])/u,c+=s,o.setOffset(c),o.renderTable()},renderTable:function(){var e,t,n,r,l,u,f,c,h,m,p,v,b,g,x,w,_,y,V,C,k;u="J_borrow-table-tr",f=this,h=f.option,r=h.table,n=s,b=i(".icon-cash",r.parent("table")),v=i(".ui-poptip-content","#J_borrow-month-fee-rate"),m=parseInt("0"+i("#J_text_borrow-amount").val(),10),p={},e=function(e,t){var n;return n=100*m,n=parseInt(Math.round(n/e+m*t),10)/100,n.toFixed(2)},t=function(t,n){var i;return i=e(t,n),i=100*i*t/100,i.toFixed(2)},g=o[u]?o[u]:o[u]=a.compile(i("#"+u).html()),c=i(":radio:checked",r).val();for(l in n)w=n[l],-1!==l.indexOf(d+"_")&&(p[w.month]=w);for(r.html(""),y=!1,_=0,k=[3,6,12,24],V=0,C=k.length;C>V;V++)l=k[V],w=p[l],w&&(w.hasDiscount=y=w.discountRadio<100?!0:!1,w.monthFeeRate=w.finalMonthlyComprehensiveFeeRate,w.payment=m,w.monthPay=e(w.month,w.monthFeeRate),w.totalPay=t(w.month,w.monthFeeRate),w.monthFeeRate=w.monthFeeRate.toFixed(2),x=g(w),_=w.monthlyComprehensiveFeeRate,r.append(x));return y?(v.html(["借款费率大优惠。原始月综合费率为",_,"%。"].join("")),b.removeClass("fn-hide")):b.addClass("fn-hide")},_bindClickAndHold:function(e,t,n){var i,o;return o=null,i=function(){return o=setTimeout(function(){return t(),i()},n)},e.on("mousedown",function(){return i(),!1}).on("mouseup mouseout",function(){return clearTimeout(o),!1}).on("click dbclick",function(){return t(),!1})},_bindWheelEvent:function(){var e,t,n;return t=this,n=t.option,e=0},_bindTableEvent:function(){var e,t,n;return e=this,t=e.option,n=t.table=i("#J_borrow-table"),n.on("click","tr",function(){return i(":radio",this).get(0).checked=!0,i(this).addClass("active").siblings().removeClass("active")}).on("mouseenter","tr",function(){return i(this).addClass("active")}).on("mouseleave","tr",function(){return i(":radio",this).get(0).checked?void 0:i(this).removeClass("active")})},_bindDragEvent:function(){var e,t,n,o,r,a,s;return o=this,a=o.option,e=a.holder,s=a.trigger,n=a.line,t=0,r=function(n){var i;if(t)return i=n.pageX-e.offset().left,o.setOffset(i),o.silder2money(i)},s.on("mousedown",function(){return t=1,!1}).on("mouseup mouseout",function(){return t=0,!1}),e.on("mousedown",function(e){var t;return t=e.offsetX,o.setOffset(t),o.silder2money(t)}),i(document).on("mousemove",r)},bindEvent:function(){var e,t;return e=this,t=e.option,e._bindClickAndHold(t.up,function(){return e.increaseVal()},t.delay),e._bindClickAndHold(t.down,function(){return e.decreaseVal()},t.delay),e._bindDragEvent(),e._bindWheelEvent(),e._bindTableEvent(),t.text.on("keyup",function(){return e.money2silder()}),t.text.on("blur",function(){return e.money2silder(!0)}),e},init:function(e){var t,n,o,r,a;for(n=this,n.option=i.extend({},n.def,e),a=["text","line","holder","trigger","up","down"],o=0,r=a.length;r>o;o++)t=a[o],n.option[t]=i(n.option[t]);return n.bindEvent(),n.money2silder(),n}},u={def:{idx:0,trigger:"#J_borrow-step-trigger",holder:"#J_borrow-step-holder"},next:function(){var e,t;return e=this,t=e.option,e.switchTo(++t.idx)},last:function(){var e,t;return e=this,t=e.option,e.switchTo(--t.idx)},switchTo:function(e){var t,n,o,r,a,s,l;return o=this,r=o.option,s=r.trigger,l=i("li",s),n=l.length,t=r.holder,a=i("div:lt("+n+")",r.holder),e>=n&&(e=n-1),0>=e&&(e=0),r.idx=e,l.removeClass("ui-step-active ui-step-pass").filter(":lt("+e+")").addClass("ui-step-pass").end().eq(e).addClass("ui-step-active"),a.addClass("hide").eq(e).removeClass("hide"),o},bindEvent:function(){var e,t,n,o;return t=this,n=t.option,o=n.trigger,e=n.holder,o.on("click","li",function(){return t.switchTo(i("li",o).index(this))}),e.on("click",".arrow-left",function(){return t.last()}).on("click",".arrow-right",function(){return t.next()})},init:function(e){var t,n,o,r,a;for(n=this,n.option=i.extend({},n.def,e),a=["trigger","holder"],o=0,r=a.length;r>o;o++)t=a[o],n.option[t]=i(n.option[t]);return n.bindEvent(),n}},f=function(){return l.init(),u.init()},n.exports={init:f}})}).call(this);
;define("common:widget/oui/pages/help",["require","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e){function i(){for(var e,i,s=t(".pg-help-list-box a[href*=#]"),o=0;o<s.length;o++)i=s.eq(o).attr("href"),e=i.substring(i.lastIndexOf("#")),i==e&&a.push(t(e).offset().top)}function s(e,i){for(var s=0,t=i.length;t>s;s++)if(e<i[s])return 0===s?1:s}var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o={title:t(".pg-help-list-box ul>li h5"),snowTop:t(".pg-help-list-box .icon-snow-top")};o.title.hover(function(){"none"==t(this).siblings().css("display")&&t(this).parent("li").addClass("hover")},function(){t(this).parent("li").removeClass("hover")}).on("click",function(){var e=t(this);e.hasClass("active")?e.removeClass("active"):e.addClass("active"),e.siblings().toggle(),e.parent().removeClass("hover"),"none"==e.siblings().css("display")&&e.parent().addClass("hover")}),o.snowTop.on("click",function(){t(this).parents(".help-list-item").hide()});var n,l=t(".pg-help-list-box a[href*=#]"),a=[];l.click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname&&(n=t(this.hash),n=n.length&&n||t("[name="+this.hash.slice(1)+"]"),n.length)){var e=n.offset().top;return t("html,body").animate({scrollTop:e},500),n.parent().siblings().show(),!1}}),i(),t(window).scroll(function(){{var e=t(this).scrollTop();s(e,a)}});var h=window.location.hash;t(h).hasClass("active")||t(h).click()});
;define("common:widget/oui/pages/index",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/arale/dialog/1.3.3/dialog"],function(e){function t(){var e="";try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(i){e=""}}return""===e&&(e=document.referrer),e}function i(e,t,i,n){var r=parseInt(e,10),a=0,l=0,s=0;r>60&&(a=parseInt(r/60,0),r=parseInt(r%60,0),a>60&&(l=parseInt(a/60,0),a=parseInt(a%60,0)),l>24&&(s=parseInt(l/24,0),l=parseInt(l%24,0)));var c;c=s>0?parseInt(s,0)+"天"+parseInt(l,0)+"时":l>0?parseInt(l,0)+"时"+parseInt(a,0)+"分":parseInt(a,0)+"分"+parseInt(r,0)+"秒",0===i&&(c+="XJH"==n?"后加入":"后预定"),3===i&&(c+="后加入"),o(t).html(c)}function n(e){var t,n=o(e),r=parseInt(n.data("status"),10),a=n.data("wait")-0||0,l=n.data("type"),s=function(){a-=1,i(a,e,r,l),0>=a&&(clearInterval(t),location.reload())};return n.length<=0||-1===r||0>=a||3!==r&&0!==r?!1:(t=setInterval(s,1e3),void s.call(this))}var o=e("common:widget/oui/lib/jquery/1.9.1/jquery"),r=e("common:widget/oui/common"),a=e("common:widget/oui/protocol"),l=e("common:widget/oui/widgets/widgets"),s=e("common:widget/oui/arale/dialog/1.3.3/dialog");if(window.parent!=window){var c=t();-1==c.indexOf("tongji.baidu.com")&&(window.top.location.href=location.href)}o(function(){var e=o("#plan-status-open");new l.Slider,o("#openweixin").length&&o("#weixin").length&&new s({trigger:"#openweixin",width:"350px",content:o("#weixin")}),e.is(":visible")&&o(".ui-plan-latest ").on("mouseenter",function(){e.find(".plan-progress").hide(),e.find("a").show()}).on("mouseleave",function(){e.find(".plan-progress").show(),e.find("a").hide()})}),o("#notice-title").length>0&&o("#notice-title").click(function(e){var t=o("#notice-content");t.is(":visible")?(o(this).removeClass("rrdcolor-blue-text"),t.slideUp(200)):(o(this).addClass("rrdcolor-blue-text"),t.slideDown(200)),e.preventDefault()}),new l.List({name:"loan-list",api:a.API.getLoans,header:!0,more:!0,rendered:function(){this.container.find(".ui-list-item.last").removeClass("last"),this.container.find(".ui-list-title").removeClass("ui-list-title-sortable").removeClass("ui-list-title-sortable-1").removeClass("ui-list-title-sortable-2").removeClass("ui-list-title-sortable-3").removeClass("ui-list-title-sortable-4"),this.container.find(".ui-list-title").attr("next","-1"),this.container.find(".ui-list-title").children("em").remove(),this.container.find(".ui-list-title-refresh").text("").removeClass("ui-list-title-refresh")}}).init(r.loadJSON("#loan-list-rsp",!0)),r.initPoptips();var u=function(){o(".register-box-inner .btn-a, .intro-link").on("click",d),o(".index-fixed-item a").on("click",function(){m("000025")}),o(".plan-item-a .btn-link").on("click",function(){m("000026")}),o(".plan-item-b .btn-link").on("click",function(){m("000027")}),o(".plan-item-c .btn-link").on("click",function(){m("000028")})},d=function(e){var t,i=e.currentTarget,n=o(i).attr("href");switch(n){case"/regPage.action?registerSource=web_banner":t="000020",m(t);break;case"/account/index.action":t="000021",m(t);break;case"/guide":t="000022",m(t);break;case"/guide/borrow.action":t="000023",m(t);break;case"/guide/investSecurity.action":t="000024",m(t)}},m=function(e){o.get("../html/blank/blank.html?tag="+e,function(){})};n("#J_count_time_fixed"),n("#J_count_time_a"),n("#J_count_time_b"),n("#J_count_time_c"),u()});
;define("common:widget/oui/pages/invest/autoinvestdetails",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(t){function e(t,e,a){var n=parseInt(t,10),o=0,s=0,r=0;n>60&&(o=parseInt(n/60,10),n=parseInt(n%60,10),o>60&&(s=parseInt(o/60,10),o=parseInt(o%60,10)),s>24&&(r=parseInt(s/24,10),s=parseInt(s%24,10)));var l="";l=r>0?""+parseInt(r,10)+"天"+parseInt(s,10)+"时":s>0?""+parseInt(s,10)+"时"+parseInt(o,10)+"分":parseInt(o,10)+"分"+parseInt(n,10)+"秒","#J_WAIT_BUTTON"==e?(l="",l=r>0?""+parseInt(r,10)+"天"+parseInt(s,10)+"时"+parseInt(o,10)+"分":""+parseInt(s,10)+"时"+parseInt(o,10)+"分"+parseInt(n,10)+"秒",i(e).css("letter-spacing","0"),"0"===a&&(l+="后开始加入")):("0"===a&&(l+="后预定"),"3"===a&&(l+="后加入")),i(e).html(l)}function a(t){if(i(t).length<=0||"3"!==i(t).attr("data2")&&"0"!==i(t).attr("data2")||"-1"===i(t).attr("data1"))return!1;var a=i(t).attr("data1"),n=setInterval(function(){a-=1,e(a,t,i(t).attr("data2")),0>=a&&(clearInterval(n),location.reload())},1e3)}function n(){var t="#J_WAIT_BUTTON";if(i(t).length<=0||"3"!==i(t).attr("data")&&"0"!==i(t).attr("data")||"-1"===i(t).attr("data1"))return!1;var a=i(t).attr("data1"),n=setInterval(function(){a-=1,e(a,"#J_WAIT_BUTTON",i("#J_WAIT_BUTTON").attr("data")),0>=a&&(clearInterval(n),location.reload())},1e3)}var i=t("common:widget/oui/lib/jquery/1.9.1/jquery");i(function(){var e=t("common:widget/oui/arale/tip/1.1.4/tip"),a=t("common:widget/oui/common"),n=t("common:widget/oui/protocol"),o=t("common:widget/oui/widgets/widgets"),s=t("common:widget/oui/components/components.jscomponents"),r=t("common:widget/oui/arale/dialog/1.3.3/dialog"),l=(t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),o.GoTop(),{isIE6:function(){var t=(window.navigator.userAgent||"").toLowerCase();return-1!==t.indexOf("msie 6")},succeeMsg:function(t,e,n){var o,s=i("#joined-succee-message");s.length<1||(t="string"==typeof t?{message:t}:t,o=a.fillTemplate({template:s,data:t}),this.isIE6()?(i(".pg-container-content").prepend(o),i(".ui-message-close-button").click(function(){i(".ui-message-content").remove()})):new r({content:o}).after("hide",function(){this.destroy(),e&&i.isFunction(e)&&e.call(this)}).after("show",function(){var t=this;i(".ui-message-close-button").click(function(){t.hide()}),n&&i.isFunction(n)&&n.call(this)}).show())},failedMsg:function(t,e,n){var o,s=i("#joined-failed-message");s.length<1||(t="string"==typeof t?{message:t}:t,o=a.fillTemplate({template:s,data:t}),this.isIE6()?(i(".pg-container-content").prepend(o),i(".ui-message-close-button").click(function(){i(".ui-message-content").remove()})):new r({content:o}).after("hide",function(){this.destroy(),e&&i.isFunction(e)&&e.call(this)}).after("show",function(){var t=this;i(".ui-message-close-button").click(function(){t.hide()}),n&&i.isFunction(n)&&n.call(this)}).show())}}),u=i("#pg-helper-success-hint").html(),c=i("#pg-helper-fail-hint").html();if(u){var d=i.parseJSON(u);d&&(l.succeeMsg({title:"加入成功",planName:d.data.planName,lockPeriod:d.data.lockPeriod,finalAmount:d.data.finalAmount,labels:d.data.labels}),i(".J_target-list li").not(".target-ipt").on("click",function(){i(".J_target-list li").not(".target-ipt").removeClass("active"),i(this).addClass("active"),i("input[name='tagStr']").val(i(this).text()),i(this).hasClass("J_author-target")?i(".target-ipt").removeClass("fn-hide"):i(".target-ipt").addClass("fn-hide")}),i(".ui-message-sure-button").click(function(){if(i(".J_author-target").hasClass("active"))if(""==i(".target-ipt input").val())i("input[name='tagStr']").val("薪");else{if(i(".target-ipt input").val().length>64)return void i(".target-error").text("标签不能超过64个字").show();i("input[name='tagStr']").val(i(".target-ipt input").val())}i("input[name='tagStr']").val()?i.ajax({url:"/autoinvestplan/customNameAutoInvestPlan.action",type:"POST",data:{autoInvestPlanIdStr:i("input[name='autoInvestPlanSubPointIdStr']").val(),tagStr:i("input[name='tagStr']").val()},success:function(t){1==t.status?i(".target-error").text(t.message).show():location.reload()}}):location.reload()}))}if(c){var m=i.parseJSON(c);m&&l.failedMsg({title:"失败",failMsg:m.data.message})}var p,g="true"==i("#authenticated").text(),h="true"==i("#pg-helper-is-investor").text(),v=i("#pg-helper-be-investor-message").html(),f=i("#fullTime"),w=i("#university");if(f.length){var I=f.data("time"),_=I.match(/(\d+)天/);_=null!==_?Number(_[1]):_,f.html(_>0?I.split("分")[0]+"分":I.split("天")[1])}if(w.length){var b=w.data("data");w.html(b.length?b.length>6?b.substring(0,6)+"...":b:"--")}var T=i("#counter");T.length>0&&(new o.Counter({container:T,delta:parseInt(T.data("delta"),10)}).init(),i("#counter").hasClass("ui-counter-seconds")||i("#counter").parent().children(".suffix").show());parseFloat(i("#max-account").data("account"),10);if(i("#pg-helper-has-withdraw-password").length>0){var j="true"==i("#pg-helper-has-withdraw-password").text();h=j&&h}var J,x,C={container:i("#investment-terminal"),authenticated:g,qualified:h,qualifiedMessage:v},A=i("#plan-status").text(),J=parseInt(i("#max-amount-1").data("amount"),10),N=parseInt(i("#min-amount-1").data("amount"),10);if(x=i("#share-amount").attr("data-share-amount"),i.extend(C,{plan:{status:A},page:"autoinvest-join",unit:"amount",template:i("#confirm-autoinvest-in-template"),amountPerShare:x,maxAmount:J,minAmount:N}),new s.InvestmentTerminal(C).init(),i("#autoinvest-basic").length>0){var P=i("#autoinvest-basic-products").data("products").split(","),S={};i.each(P,function(t,e){e=i.trim(e),"信用认证标"==e||"信用标"==e?S.XYRZ="信用认证标":"机构担保标"==e?S.JGDB=e:"实地认证标"==e?S.SDRZ=e:"智能理财标"==e&&(S.ZNLC=e)}),p={products:[]},i.each(S,function(t,e){p.products.push({product:t,productName:e})}),a.fillTemplate({container:i("#autoinvest-basic-products"),template:i("#autoinvest-basic-products-template"),data:p});var k=i("#plan-begin-selling-time").data("time");k&&i("#plan-begin-selling-time").text(k.substring(0,19))}var y=function(t,e,a){var s=new o.List({name:t,api:e,title:!0,params:a,container:i("#"+t+"-records"),rendered:function(t){{var a=t.status,o=t.data;n.translator}if(0===a&&e==n.API.getAutoinvestJoinedRecords){i("#joined-count").text(o.jsonList.length);var s=0;i.each(o.jsonList,function(t,e){s+=Number(e.amount.replace(/,/g,""))});var r=Math.round(100*s/o.jsonList.length)/100;0==o.jsonList.length&&(r=0),i("#reserve-had-pay-amount").html(r)}}}).init();return s._update(s.getParams()),s};if(i("#autoinvest-basic").length>0){var O=i("#pg-helper-plan-id").text(),q=null,L=null;new o.Tab({name:"autoinvest",switched:function(t,e,a){return a?!0:("joined"==e&&(q=y("joined",n.API.getAutoinvestJoinedRecords,{autoInvestPlanId:O})),!0)},clicked:function(t,e){L||"joined"==t&&e&&q&&q._update(q.getParams()),L=window.setTimeout(function(){window.clearTimeout(L),L=null},750)}}).init()}i("#tipCon").length&&i("#tips").length&&new e({element:"#tipCon",trigger:"#tips",direction:"right"}),i("#tipCon_0").length&&i("#tips_0").length&&new e({element:"#tipCon_0",trigger:"#tips_0",direction:"right"}),i("#tipCon_1").length&&i("#tips_1").length&&new e({element:"#tipCon_1",trigger:"#tips_1",direction:"right"})}),a("#J_count_time_a"),a("#J_count_time_b"),a("#J_count_time_c"),n(),i(".J_click_p").on("click",function(t){var e="P"==i(t.target).get(0).tagName?i(t.target).attr("data"):i(t.target).parent(".J_click_p").attr("data");location.href="/financeplan/"+e})});
;define("common:widget/oui/pages/invest/autoinvestlist",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(o){var i,e,t=(o("common:widget/oui/lib/jquery/1.9.1/jquery"),o("common:widget/oui/common"),o("common:widget/oui/protocol")),n=o("common:widget/oui/widgets/widgets"),m=!0,u=null;i="autoinvest-list",e=t.API.getAutoinvestPlans,m=!1,new n.List({name:i,api:e,filter:m,header:!0,pagination:!0,rendered:u}).init()._update()});
;define("common:widget/oui/pages/invest/details",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e){function t(e,t,n){var o=parseInt(e,10),i=0,r=0,s=0;o>60&&(i=parseInt(o/60,10),o=parseInt(o%60,10),i>60&&(r=parseInt(i/60,10),i=parseInt(i%60,10)),r>24&&(s=parseInt(r/24,10),r=parseInt(r%24,10)));var m="",l="";m=s>0?""+parseInt(s,10)+"天"+parseInt(r,10)+"时":r>0?""+parseInt(r,10)+"时"+parseInt(i,10)+"分":parseInt(i,10)+"分"+parseInt(o,10)+"秒","#J_WAIT_BUTTON"==t?(m="",m=s>0?""+parseInt(s,10)+"天"+parseInt(r,10)+"时"+parseInt(i,10)+"分":""+parseInt(r,10)+"时"+parseInt(i,10)+"分"+parseInt(o,10)+"秒",a(t).css("letter-spacing","0"),"0"===n&&(l="后开始预定"),"3"===n&&(l="开始加入")):("0"===n&&(l="后开始预定"),"3"===n&&(l="开始加入")),m=trueTime.replace(/(\d)+/g,function(e){return"<i class='num-family font-30px'>"+e+"</i>"}),a(t).html(m),a("#J_WAIT_BUTTON_TEXT")&&a("#J_WAIT_BUTTON_TEXT").html(l)}function n(){var e="#J_WAIT_BUTTON";if(a(e).length<=0||"3"!==a(e).attr("data")&&"0"!==a(e).attr("data")||"-1"===a(e).attr("data1"))return!1;var n=a(e).attr("data1"),o=setInterval(function(){n-=1,t(n,"#J_WAIT_BUTTON",a("#J_WAIT_BUTTON").attr("data")),0>=n&&(clearInterval(o),location.reload())},1e3)}var a=e("common:widget/oui/lib/jquery/1.9.1/jquery");a(function(){{var t=e("common:widget/oui/arale/tip/1.1.4/tip"),n=e("common:widget/oui/common"),o=e("common:widget/oui/protocol"),i=e("common:widget/oui/widgets/widgets"),r=e("common:widget/oui/components/components.jscomponents");e("common:widget/oui/arale/dialog/1.3.3/dialog"),e("common:widget/oui/lib/handlebars/1.0.0/handlebars")}e("common:widget/oui/lib/handlebars/1.0.0/handlebars");var s=a("#pg-helper-success-hint").html();if(s){var m=a.parseJSON(s);m&&n.showMessage2({title:"U计划预定成功！",depositAmount:m.data.depositAmount,endPaymentTime:m.data.endPaymentTime,overplusAmount:m.data.overplusAmount,button:{link:"/account/invest!plan.action?planTab=RESERVATIONS",text:"立即支付"}})}var l,c=(i.GoTop(),"true"==a("#authenticated").text()),d="true"==a("#pg-helper-is-investor").text(),p=a("#pg-helper-be-investor-message").html(),u=a("#fullTime"),g=a("#university");if(u.length){var f=u.data("time"),h=f.match(/(\d+)天/);h=null!==h?Number(h[1]):h;var v=f;v=h>0?f.split("分")[0]+"分":f.split("天")[1],v=v.replace(/(\d)+/g,function(e){return"<i class='num-family font-30px'>"+e+"</i>"}),u.html(v)}if(g.length){var I=g.data("data");g.html(I.length?I.length>6?I.substring(0,6)+"...":I:"--")}var w=a("#counter");w.length>0&&(new i.Counter({container:w,delta:parseInt(w.data("delta"),10)}).init(),a("#counter").hasClass("ui-counter-seconds")||a("#counter").parent().children(".suffix").show());parseFloat(a("#max-account").data("account"),10);if(a("#pg-helper-has-withdraw-password").length>0){var b="true"==a("#pg-helper-has-withdraw-password").text();d=b&&d}var x,T,A,y={container:a("#investment-terminal"),authenticated:c,qualified:d,qualifiedMessage:p};if(a("#pg-loan-invest").length>0)x=parseInt(a("#max-amount").data("amount"),10),a.extend(y,{page:"loan-invest",unit:"amount",template:a("#confirm-loan-template"),amountPerShare:"cf"==a("#loan-type").val()?1e3:50,maxAmount:x,maxShares:x/A});else if(a("#pg-loan-transfer").length>0)T=parseInt(a("#max-shares").data("shares"),10),A=parseFloat(a("#amount-per-share").data("amount-per-share"),10),a.extend(y,{page:"loan-transfer",unit:"shares",template:a("#confirm-transfer-in-template"),amountPerShare:A,maxAmount:T*A,maxShares:T,utmSourceTransfer:"cf"==a("#loan-type-tr").val()?!0:!1});else if(a("#pg-plan-join, #pg-plan-index").length>0){var P=a("#plan-status").text(),_=parseInt(a("#max-amount-1").data("amount"),10),R=parseInt(a("#max-amount-2").data("amount"),10);x=_>R?R:_,A=a("#share-amount").attr("data-share-amount");var L=parseFloat(a("#fee-rate").data("fee-rate"),10)/100,C=parseFloat(a("#deposit-rate").data("deposit-rate"),10)/100,k=Number(a("#J_thisMaxDepositAmount").attr("data")),N=Number(a("#J_maxDepositAmount").attr("data"));C>k?C=k:C>N&&(C=N),a.extend(y,{plan:{status:P},page:"plan-join",unit:"amount",template:a("RSV"==P?"#confirm-plan-reserve-template":"#confirm-plan-join-template"),amountPerShare:A,maxAmount:x,maxShares:x/A,fee:L,deposit:C})}if(new r.InvestmentTerminal(y).init(),a("#plan-basic").length>0){var S=a("#plan-basic-products").data("products").split(","),J={};if(a.each(S,function(e,t){t=a.trim(t),"信用认证标"==t||"信用标"==t?J.XYRZ="信用认证标":"机构担保标"==t?J.JGDB=t:"实地认证标"==t?J.SDRZ=t:"智能理财标"==t&&(J.ZNLC=t)}),l={products:[]},a.each(J,function(e,t){l.products.push({product:e,productName:t})}),n.fillTemplate({container:a("#plan-basic-products"),template:a("#plan-basic-products-template"),data:l}),c){var j=o.translator.translate(o.API.getUserBankInfo,n.loadJSON("#account-info-rsp",!0).data);n.fillTemplate({container:a("#select-bank-accounts"),template:a("#select-bank-accounts-template"),data:j})}var O=a("#plan-begin-selling-time").data("time");O&&a("#plan-begin-selling-time").text(O.substring(0,19))}var F=function(e,t,n){var r=new i.List({name:e,api:t,title:!0,params:n,container:a("#"+e+"-records"),rendered:function(e){var n=e.status,i=e.data,r=o.translator;if(0===n&&t==o.API.getLoanInvestmentRecords&&a("#investor-count").text(i.lenderRecords.length),0===n&&t==o.API.getLoanLenderRecords&&a("#loan-buyer-count").text(i.lenders.length),0===n&&t==o.API.getLoanTransferRecords&&(a("#loan-done-amount").text(r._commaFloat(i.account)),a("#loan-left-amount").text(r._commaFloat(i.noAccount))),0===n&&t==o.API.getLoanCollectionRecords&&0===i.dunInfoList.length&&a("#collection-records").parent().remove(),0===n&&t==o.API.getLoanRepaymentRecords&&(a("#repayment-done-amount").text(r._commaFloat(i.repaid)),a("#repayment-left-amount").text(r._commaFloat(i.unRepaid))),0===n&&t==o.API.getPlanJoinedRecords){a("#joined-count").text(i.jsonList.length);var s=0;a.each(i.jsonList,function(e,t){s+=Number(t.amount.replace(/,/g,""))}),a("#reserve-had-pay-amount").html(s)}if(0===n&&t==o.API.getPlanReserveRecords){var m=0;a.each(i.rsvList,function(e,t){"未支付"==t.status&&(m+=t.planAmountNotComma)}),a("#reserve-not-pay-amount").html(m),a("#reserve-count").text(i.rsvList.length)}}}).init();return r._update(r.getParams()),r};if(a("#loan-details").length>0){var M=a("#pg-helper-loan-id").text();a.each(a(".pg-helper.large-number"),function(e,t){var n=a("#"+a(t).data("name")),i=a(t).text(),r=n.children("em"),s=n.children(".prefix"),m=n.children(".suffix");if(i){var l=parseFloat(i,10),c=parseInt(100*o.translator._bankersRound(l/100),10);(c!=l||l>=1e5)&&s.text("约"),c>=1e5?(s.length>0?(c=Math.floor(c/1e4),r.text(c)):r.text(o.translator._fixedFloat2(c/1e4)),m.text("万元")):r.text(c)}else r.text("0")}),a.each(a(".maybe-empty"),function(e,t){a(t).text()||a(t).text("-")}),n.fillTemplate({container:a("#verification-container"),template:a("#credit-info-template"),data:a("#credit-info-data"),api:o.API.getCreditInfo,isResponse:!0}),n.fillTemplate({container:a("#verification-container2"),template:a("#credit-info-template2"),data:a("#credit-info-data"),api:o.API.getCreditInfo,isResponse:!0});var B,U;B=n.loadJSON("#comments-data",!0),U=a("#comments").length?new i.List({api:o.API.getCommentsOnLoan,name:"comments",container:a("#comments"),template:a("#comments-template"),params:{loanId:M},pagination:!0}).init(B):new i.List({api:o.API.getCommentsOnLoan,name:"comment",container:a("#comments2"),template:a("#comments-template2"),params:{loanId:M},pagination:!0}).init(B);var q=a("#comment-post"),W=a("#comment-content");W.focus(function(){a(".comment-msg").empty()}),q.click(function(){var e=W.val(),t=a(this).siblings(".comment-msg");if(!q.hasClass("disabled")){if(!d)return void n.showMessage({info:!0,title:"请完善安全设置",message:"在使用该功能前，请先完成<em>实名认证</em>和<em>交易密码</em>设置。",button:{link:"/account/info!security.action",text:"去设置"}});if(!e)return void t.text("留言内容不能为空！");if(e.length>500)return void t.text("留言字数不能超过500字！");var i={id:M,threadId:"0",comment:e};q.addClass("disabled");var r=a('<li><img src="/static/img/loading.gif" /> </li>');a("#comments").prepend(r),o.postCommentOnLoan(i,function(e,t,o){0===e?(U.add(o.comment,!0,a("#comment-template")),W.val("")):n.showMessage(t),r.remove(),q.removeClass("disabled")})}});var D=a("#comment-post2"),$=a("#comment-content2");D.click(function(){var e=$.val();if(!D.hasClass("disabled")){if(!d)return void n.showMessage({info:!0,title:"请完善安全设置",message:"在使用该功能前，请先完成<em>实名认证</em>和<em>交易密码</em>设置。",button:{link:"/account/info!security.action",text:"去设置"}});if(e){var t={id:M,threadId:"0",comment:e};q.addClass("disabled"),o.postCommentOnLoan(t,function(e,t,o){0===e?(U.add(o.comment,!0,a("#comment-template2")),$.val("")):n.showMessage(t),D.removeClass("disabled")})}}}),a(document).on("focus",".ui-reply-textarea",function(){a(".msg").empty()}),a(document).on("click",".ui-comments-reply",function(){if(!d)return void n.showMessage({info:!0,title:"请完善安全设置",message:"在使用该功能前，请先完成<em>实名认证</em>和<em>交易密码</em>设置。",button:{link:"/account/info!security.action",text:"去设置"}});var e=a(this).data("commentid");a(this).hide().siblings(".ui-comments-cancel").show(),$form=a(this).parents(".comments-message-info").find("form").show(),$form.find(".replaybt").unbind().on("click",function(t){var i=a(this),r=a.trim($form.find("textarea").val());if(t.preventDefault(),!r)return void i.siblings(".msg").html("回复不能为空！");if(r.length>500)return void i.siblings(".msg").html("回复字数不能超过500字！");i.attr("disabled","disabled");var s={id:M,threadId:e,comment:r},m=a('<li><img src="/static/img/loading.gif" /> </li>'),l=$form.parents(".comments-message-info").find("dl").prepend(m);o.postCommentOnLoan(s,function(e,t,o){if(0===e){var r=n.fillTemplate({data:o.comment,template:a("#replay-template")});l.prepend(r)}else n.showMessage(t);m.remove(),a(".ui-reply-textarea").val(""),i.removeAttr("disabled").siblings(".msg").empty(),$form.hide().parent().find(".ui-comments-cancel").hide().end().find(".ui-comments-reply").show()})})}),a(document).on("click",".ui-comments-cancel",function(){a(this).hide().siblings(".ui-comments-reply").show().parent().siblings("form").hide()}),new i.Tab({name:"loan",switched:function(e,t,n){return n?!0:("investment"==t&&F("investment",o.API.getLoanInvestmentRecords,{loanId:M}),"repayment"==t&&(F("repayment",o.API.getLoanRepaymentRecords,{loanId:M}),F("collection",o.API.getLoanCollectionRecords,{loanId:M})),"transferred"==t&&F("lender",o.API.getLoanLenderRecords,{loanId:M}),"transfer"==t&&F("transferred",o.API.getLoanTransferRecords,{loanId:M}),!0)}}).init(),new i.Tab({name:"loan",switched:function(e,t,n){return n?!0:("investment2"==t&&F("investment2",o.API.getLoanInvestmentRecords,{loanId:M}),"repayment2"==t&&(F("repayment2",o.API.getLoanRepaymentRecords,{loanId:M}),F("collection2",o.API.getLoanCollectionRecords,{loanId:M})),"transferred2"==t&&(F("lender2",o.API.getLoanLenderRecords,{loanId:M}),F("transferred2",o.API.getLoanTransferRecords,{loanId:M}),a(".transfer-info-switch").click(function(){a(this).children("span").toggle(),a(".summary-lenders, .summary-transrec").toggle(),a("#lender2-records, #transferred2-records").toggle()})),!0)}}).init()}if(a("#plan-details").length>0){var E=a("#pg-helper-plan-id").text(),X=null,Z=null;new i.Tab({name:"plan",switched:function(e,t,n){return n?!0:("reserve"==t&&(X=F("reserve",o.API.getPlanReserveRecords,{financePlanStr:E})),"joined"==t&&(X=F("joined",o.API.getPlanJoinedRecords,{financePlanStr:E})),"performance"==t&&new r.PlanPerformance({name:"performance",planId:E}).init(),!0)},clicked:function(e,t){Z||"joined"==e&&t&&X&&X._update(X.getParams()),Z=window.setTimeout(function(){window.clearTimeout(Z),Z=null},750)}}).init()}a("#tipCon").length&&a("#tips").length&&new t({element:"#tipCon",trigger:"#tips",direction:"right"}),a("#tipCon_0").length&&a("#tips_0").length&&new t({element:"#tipCon_0",trigger:"#tips_0",direction:"right"}),a("#tipCon_1").length&&a("#tips_1").length&&new t({element:"#tipCon_1",trigger:"#tips_1",direction:"right"}),a("#tipCon_2").length&&a("#tips_2").length&&new t({element:"#tipCon_2",trigger:"#tips_2",direction:"down",arrowShift:-22})}),n(),a(".J_click_p").on("click",function(e){var t="P"==a(e.target).get(0).tagName?a(e.target).attr("data"):a(e.target).parent(".J_click_p").attr("data");location.href="/financeplan/"+t})});
;define("common:widget/oui/pages/invest/investlist",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(t){var e,n=t("common:widget/oui/lib/jquery/1.9.1/jquery"),a=t("common:widget/oui/arale/dialog/1.3.3/dialog"),s=function(t,e){return e.test(t)?unescape(RegExp.$2.replace(/\+/g," ")):null},i=function(t,e,n){var a=new Date;a.setDate(a.getDate()+n),document.cookie=t+"="+escape(e)+(null==n?"":";expires="+a.toGMTString()+";path=/")},l=function(){var t=new RegExp("(^|\\s|;)tested=([^;]*)(\\s|;|$)","i"),e=s(document.cookie,t);return e},c=function(t){i("tested",t,365)},o=function(t){var e,a,s="ui-tab-item-current",i=n("#calcu-tab li"),l=n("#J_tab_uplan,#J_tab_loan,#J_tab_fixed"),c="#calcResult_u",o="#calcResult_fixed",u="#calcResult,#J_calculator-article",r=[c,o,u].join(","),d=function(t){n(t).css("display","none")},h=function(t){n(t).css("display","block")};e=i.filter("."+s),t&&(e=n(t.currentTarget)),i.removeClass(s),e.addClass(s),a=e.attr("data-name"),d(l),h("#"+a),d(r),n(".ui-tab-items [data-name='"+a+"']").addClass(s),"J_tab_uplan"==a&&h(c),"J_tab_loan"==a&&h(u),"J_tab_fixed"==a&&h(o)},u=n("span.A").text(),r=n("span.B").text(),d=n("span.C").text(),h={A:{name:"U计划-A",text:"U计划-A是一款3个月投资期限的理财产品，1000元起投，符合您现阶段“小有盈余”的资金状态，同时达到您短期理财的个人预期。加入U计划-A，实现财富快速增值！",button:"去加入",href:"/financeplan/"+u,cl:"u"},B:{name:"U计划-B",text:"U计划-B是一款6个月投资期限的理财产品，10000元起投，将充裕资金最大化运转实现资金高效增值，同时契合您理财规划的时间范围。加入U计划-B，半年就有好收益！",button:"去加入",href:"/financeplan/"+r,cl:"u"},C:{name:"U计划-C",text:"U计划-C是一款12个月投资期限的理财产品，10000元起投，在满足您长期投资需求的同时，带来稳定高额收益。加入U计划-C，您财富增值的快车道！",button:"去加入",href:"/financeplan/"+d,cl:"u"},X:{name:"薪计划",text:"薪计划是一款12个月投资期限的定投产品，500元起投，每月固定日期加入固定金额，符合您现在每月有所盈余的资金状态。每月攒小钱，年底变大钱，薪计划帮您快速攒钱，助您实现每个心愿！",button:"去加入",href:"/autoinvestplan",cl:"x"},S:{name:"散标",text:"散标是将资金出借给真实的借款需求以获取利息回报，50元起投，灵活便捷，更契合还在积累初始资产阶段的您，同时满足您对对资金流动性的诉求。投资散标，加速财富原始积累！",button:"去投资",href:"/loan",cl:"s"}},f=function(){var t=n("#test-02 input:checked").closest("p").index()+n("#test-03 input:checked").closest("p").index(),a=n("#test-01 input:checked").closest("p").index();switch(a){case 1:e=t>2?"A":"S";break;case 2:e=t>=4?"B":"A";break;case 3:e=t>=4?"C":"X"}if(h[e]){var s=h[e].name,i=h[e].text,l=h[e].button,o=h[e].href,u=h[e].cl;n("#testresult .title").text(s),n("#testresult .text p").text(i),n("#testresult a.ui-button-blue").text(l),n("#testresult a.ui-button-blue").attr("href",o),n("#testresult a.ui-button-blue").attr("t",u),n(".tested .test-left span").text(s),n(".tested .test-right p").html(i+"<a t='"+u+"' href='"+o+"'>"+l+" ></a>"),n(".tested").removeClass("hide"),n(".untest").addClass("hide"),c(e)}else resultdialog.hide()},b=function(t){var e=t.currentTarget,a=n(e).attr("t");switch(a){case"u":n.get("../html/blank/blank.html?tag=000002",function(){});break;case"x":n.get("../html/blank/blank.html?tag=000001",function(){});break;case"s":n.get("../html/blank/blank.html?tag=000003",function(){});break;case"z":n.get("../html/blank/blank.html?tag=000004",function(){})}};n(function(){var t=l();if(t&&h[t]){var e=h[t].name,s=h[t].text,i=h[t].button,c=h[t].href,u=h[t].cl;n(".tested .test-left span").text(e),n(".tested .test-right p").html(s+"<a t='"+u+"' href='"+c+"'>"+i+" ></a>"),n(".tested").removeClass("hide"),n(".untest").addClass("hide")}else n(".untest").removeClass("hide"),n(".tested").addClass("hide");n(".procategories-list a[data-name]").on("click",o),n(".untest .test-left a").on("click",function(){n.get("../html/blank/blank.html?tag=000005",function(){})}),n(".tested .test-left a").on("click",function(){n.get("../html/blank/blank.html?tag=000006",function(){})}),n(".tested .test-right p a").on("click",b),n("#testresult a").on("click",b),n(".products-link .review-button a").on("click",b);var r=new a({trigger:".test-left a",content:n("#test-01"),width:"580px"}),d=new a({content:n("#test-02"),width:"580px"}),m=new a({content:n("#test-03"),width:"580px"}),p=new a({content:n("#testresult"),width:"580px"});n("#test-01 a").on("click",function(){r.hide(),d.show()}),n("#test-02 a.w7").on("click",function(){d.hide(),r.show()}),n("#test-02 .ui-button-blue").on("click",function(){d.hide(),m.show()}),n("#test-03 a.w7").on("click",function(){m.hide(),d.show()}),n("#test-03 .ui-button-blue").on("click",function(){m.hide(),p.show(),f()})})});
;define("common:widget/oui/pages/invest/list",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(o){var i,e,t=o("common:widget/oui/lib/jquery/1.9.1/jquery"),n=o("common:widget/oui/common"),l=o("common:widget/oui/protocol"),s=o("common:widget/oui/widgets/widgets"),m=!0,r=null;t("#pg-loan-list").length>0?(i="loan-list",e=l.API.getLoans):t("#pg-loan-list-transfer").length>0?(i="transfer-list",e=l.API.getLoansTransfer):(i="plan-list",e=l.API.getPlans,m=!1,t(".ui-plan-latest").length<1&&t("#plan-latest-container").remove()),rsp=n.loadJSON("#"+i+"-rsp",!0),new s.List({name:i,api:e,filter:m,header:!0,pagination:!0,rendered:r}).init(rsp),n.initPoptips()});
;define("common:widget/oui/pages/invest/ulist",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(i){var e,t,n,o=i("common:widget/oui/lib/jquery/1.9.1/jquery"),a=(i("common:widget/oui/common"),i("common:widget/oui/protocol")),m=i("common:widget/oui/widgets/widgets"),u=!0,c=null;e="uplan-list-a",t=a.API.getPlans,u=!1,new m.List({name:e,api:t,filter:u,header:!0,pagination:!0,rendered:c,params:{category:"A"}}).init()._update({category:"A"}),o("#pg-plan-list").length>0&&new m.Tab({name:"uplan",switched:function(i,e,t){return t?!0:("UB"==e&&new m.List({name:"uplan-list-b",api:a.API.getPlans,title:!0,pagination:!0,params:{category:"B"}}).init()._update({category:"B"}),"UC"==e&&new m.List({name:"uplan-list-c",api:a.API.getPlans,title:!0,pagination:!0,params:{category:"C"}}).init()._update({category:"C"}),!0)},clicked:function(){n=window.setTimeout(function(){window.clearTimeout(n),n=null},750)}}).init()});
;define("common:widget/oui/rsa/RSAencript",function(){document.write('<script type="text/javascript" src="/static/js/rsa/pidcrypt.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/pidcrypt_util.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/asn1.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/jsbn.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/rng.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/prng4.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/rsa.js"></script>')});
;define("common:widget/oui/rsa/asn1",function(){function t(e,r){e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=r)}t.prototype.parseStringHex=function(t,e){"undefined"==typeof e&&(e=this.enc.length);for(var r="",s=t;e>s;++s){var n=this.get(s);r+=this.hexDigits.charAt(n>>4)+this.hexDigits.charAt(15&n)}return r},t.prototype.get=function(t){if(void 0==t&&(t=this.pos++),t>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]},t.prototype.hexDigits="0123456789ABCDEF",t.prototype.hexDump=function(t,e){for(var r="",s=t;e>s;++s){var n=this.get(s);r+=this.hexDigits.charAt(n>>4)+this.hexDigits.charAt(15&n),7==(15&s)&&(r+=" "),r+=15==(15&s)?"\n":" "}return r},t.prototype.parseStringISO=function(t,e){for(var r="",s=t;e>s;++s)r+=String.fromCharCode(this.get(s));return r},t.prototype.parseStringUTF=function(t,e){for(var r="",s=0,n=t;e>n;){var s=this.get(n++);r+=String.fromCharCode(128>s?s:s>191&&224>s?(31&s)<<6|63&this.get(n++):(15&s)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return r},t.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,t.prototype.parseTime=function(t,e){var r=this.parseStringISO(t,e),s=this.reTime.exec(r);return s?(r=s[1]+"-"+s[2]+"-"+s[3]+" "+s[4],s[5]&&(r+=":"+s[5],s[6]&&(r+=":"+s[6],s[7]&&(r+="."+s[7]))),s[8]&&(r+=" UTC","Z"!=s[8]&&(r+=s[8],s[9]&&(r+=":"+s[9]))),r):"Unrecognized time: "+r},t.prototype.parseInteger=function(t,e){if(e-t>4)return void 0;for(var r=0,s=t;e>s;++s)r=r<<8|this.get(s);return r},t.prototype.parseOID=function(t,e){for(var r,s=0,n=0,i=t;e>i;++i){var a=this.get(i);s=s<<7|127&a,n+=7,128&a||(void 0==r?r=parseInt(s/40)+"."+s%40:r+="."+(n>=31?"big":s),s=n=0),r+=String.fromCharCode()}return r},"undefined"!=typeof pidCrypt&&(pidCrypt.ASN1=function(t,e,r,s,n){this.stream=t,this.header=e,this.length=r,this.tag=s,this.sub=n},pidCrypt.ASN1.prototype.toHexTree=function(){var t={};if(t.type=this.typeName(),"SEQUENCE"!=t.type&&(t.value=this.stream.parseStringHex(this.posContent(),this.posEnd())),null!=this.sub){t.sub=[];for(var e=0,r=this.sub.length;r>e;++e)t.sub[e]=this.sub[e].toHexTree()}return t},pidCrypt.ASN1.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var t=this.tag>>6;1&this.tag>>5;var e=31&this.tag;switch(t){case 0:switch(e){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+e.toString(16)}case 1:return"Application_"+e.toString(16);case 2:return"["+e+"]";case 3:return"Private_"+e.toString(16)}},pidCrypt.ASN1.prototype.content=function(){if(void 0==this.tag)return null;var t=this.tag>>6;if(0!=t)return null;var e=31&this.tag,r=this.posContent(),s=Math.abs(this.length);switch(e){case 1:return 0==this.stream.get(r)?"false":"true";case 2:return this.stream.parseInteger(r,r+s);case 6:return this.stream.parseOID(r,r+s);case 12:return this.stream.parseStringUTF(r,r+s);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(r,r+s);case 23:case 24:return this.stream.parseTime(r,r+s)}return null},pidCrypt.ASN1.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},pidCrypt.ASN1.prototype.print=function(t){if(void 0==t&&(t=""),document.writeln(t+this),null!=this.sub){t+="  ";for(var e=0,r=this.sub.length;r>e;++e)this.sub[e].print(t)}},pidCrypt.ASN1.prototype.toPrettyString=function(t){void 0==t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,32&this.tag?e+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(e+=" (encapsulates)"),e+="\n",null!=this.sub){t+="  ";for(var r=0,s=this.sub.length;s>r;++r)e+=this.sub[r].toPrettyString(t)}return e},pidCrypt.ASN1.prototype.toDOM=function(){var t=document.createElement("div");t.className="node",t.asn1=this;var e=document.createElement("div");e.className="head";var r=this.typeName();e.innerHTML=r,t.appendChild(e),this.head=e;var s=document.createElement("div");s.className="value",r="Offset: "+this.stream.pos+"<br/>",r+="Length: "+this.header+"+",r+=this.length>=0?this.length:-this.length+" (undefined)",32&this.tag?r+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(r+="<br/>(encapsulates)");var n=this.content();if(null!=n&&(r+="<br/>Value:<br/><b>"+n+"</b>","object"==typeof oids&&6==this.tag)){var i=oids[n];i&&(i.d&&(r+="<br/>"+i.d),i.c&&(r+="<br/>"+i.c),i.w&&(r+="<br/>(warning!)"))}s.innerHTML=r,t.appendChild(s);var a=document.createElement("div");if(a.className="sub",null!=this.sub)for(var o=0,h=this.sub.length;h>o;++o)a.appendChild(this.sub[o].toDOM());return t.appendChild(a),e.switchNode=t,e.onclick=function(){var t=this.switchNode;t.className="node collapsed"==t.className?"node":"node collapsed"},t},pidCrypt.ASN1.prototype.posStart=function(){return this.stream.pos},pidCrypt.ASN1.prototype.posContent=function(){return this.stream.pos+this.header},pidCrypt.ASN1.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},pidCrypt.ASN1.prototype.toHexDOM_sub=function(t,e,r,s,n){if(!(s>=n)){var i=document.createElement("span");i.className=e,i.appendChild(document.createTextNode(r.hexDump(s,n))),t.appendChild(i)}},pidCrypt.ASN1.prototype.toHexDOM=function(){var t=document.createElement("span");if(t.className="hex",this.head.hexNode=t,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},this.toHexDOM_sub(t,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(t,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null==this.sub)t.appendChild(document.createTextNode(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var e=this.sub[0],r=this.sub[this.sub.length-1];this.toHexDOM_sub(t,"intro",this.stream,this.posContent(),e.posStart());for(var s=0,n=this.sub.length;n>s;++s)t.appendChild(this.sub[s].toHexDOM());this.toHexDOM_sub(t,"outro",this.stream,r.posEnd(),this.posEnd())}return t},pidCrypt.ASN1.decodeLength=function(t){var e=t.get(),r=127&e;if(r==e)return r;if(r>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0==r)return-1;e=0;for(var s=0;r>s;++s)e=e<<8|t.get();return e},pidCrypt.ASN1.hasContent=function(e,r,s){if(32&e)return!0;if(3>e||e>4)return!1;var n=new t(s);3==e&&n.get();var i=n.get();if(1&i>>6)return!1;try{var a=pidCrypt.ASN1.decodeLength(n);return n.pos-s.pos+a==r}catch(o){return!1}},pidCrypt.ASN1.decode=function(e){e instanceof t||(e=new t(e,0));var r=new t(e),s=e.get(),n=pidCrypt.ASN1.decodeLength(e),i=e.pos-r.pos,a=null;if(pidCrypt.ASN1.hasContent(s,n,e)){var o=e.pos;if(3==s&&e.get(),a=[],n>=0){for(var h=o+n;e.pos<h;)a[a.length]=pidCrypt.ASN1.decode(e);if(e.pos!=h)throw"Content size is not correct for container starting at offset "+o}else try{for(;;){var p=pidCrypt.ASN1.decode(e);if(0==p.tag)break;a[a.length]=p}n=o-e.pos}catch(u){throw"Exception while decoding undefined length content: "+u}}else e.pos+=n;return new pidCrypt.ASN1(r,i,n,s,a)},pidCrypt.ASN1.test=function(){for(var e=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],r=0,s=e.length;s>r;++r){var n=new t(e[r].value,0),i=pidCrypt.ASN1.decodeLength(n);i!=e[r].expected&&document.write("In test["+r+"] expected "+e[r].expected+" got "+i+"\n")}})});
;define("common:widget/oui/rsa/jsbn",function(){function t(t,i,o){null!=t&&("number"==typeof t?this.fromNumber(t,i,o):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function i(){return new t(null)}function o(t,i,o,r,s,h){for(;--h>=0;){var e=i*this[t++]+o[r]+s;s=Math.floor(e/67108864),o[r++]=67108863&e}return s}function r(t,i,o,r,s,h){for(var e=32767&i,n=i>>15;--h>=0;){var u=32767&this[t],f=this[t++]>>15,p=n*u+f*e;u=e*u+((32767&p)<<15)+o[r]+(1073741823&s),s=(u>>>30)+(p>>>15)+n*f+(s>>>30),o[r++]=1073741823&u}return s}function s(t,i,o,r,s,h){for(var e=16383&i,n=i>>14;--h>=0;){var u=16383&this[t],f=this[t++]>>14,p=n*u+f*e;u=e*u+((16383&p)<<14)+o[r]+s,s=(u>>28)+(p>>14)+n*f,o[r++]=268435455&u}return s}function h(t){return ro.charAt(t)}function e(t,i){var o=so[t.charCodeAt(i)];return null==o?-1:o}function n(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function u(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function f(t){var o=i();return o.fromInt(t),o}function p(i,o){var r;if(16==o)r=4;else if(8==o)r=3;else if(256==o)r=8;else if(2==o)r=1;else if(32==o)r=5;else{if(4!=o)return void this.fromRadix(i,o);r=2}this.t=0,this.s=0;for(var s=i.length,h=!1,n=0;--s>=0;){var u=8==r?255&i[s]:e(i,s);0>u?"-"==i.charAt(s)&&(h=!0):(h=!1,0==n?this[this.t++]=u:n+r>this.DB?(this[this.t-1]|=(u&(1<<this.DB-n)-1)<<n,this[this.t++]=u>>this.DB-n):this[this.t-1]|=u<<n,n+=r,n>=this.DB&&(n-=this.DB))}8==r&&0!=(128&i[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),h&&t.ZERO.subTo(this,this)}function a(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function c(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var o,r=(1<<i)-1,s=!1,e="",n=this.t,u=this.DB-n*this.DB%i;if(n-->0)for(u<this.DB&&(o=this[n]>>u)>0&&(s=!0,e=h(o));n>=0;)i>u?(o=(this[n]&(1<<u)-1)<<i-u,o|=this[--n]>>(u+=this.DB-i)):(o=this[n]>>(u-=i)&r,0>=u&&(u+=this.DB,--n)),o>0&&(s=!0),s&&(e+=h(o));return s?e:"0"}function m(){var o=i();return t.ZERO.subTo(this,o),o}function l(){return this.s<0?this.negate():this}function T(t){var i=this.s-t.s;if(0!=i)return i;var o=this.t;if(i=o-t.t,0!=i)return i;for(;--o>=0;)if(0!=(i=this[o]-t[o]))return i;return 0}function v(t){var i,o=1;return 0!=(i=t>>>16)&&(t=i,o+=16),0!=(i=t>>8)&&(t=i,o+=8),0!=(i=t>>4)&&(t=i,o+=4),0!=(i=t>>2)&&(t=i,o+=2),0!=(i=t>>1)&&(t=i,o+=1),o}function y(){return this.t<=0?0:this.DB*(this.t-1)+v(this[this.t-1]^this.s&this.DM)}function d(t,i){var o;for(o=this.t-1;o>=0;--o)i[o+t]=this[o];for(o=t-1;o>=0;--o)i[o]=0;i.t=this.t+t,i.s=this.s}function D(t,i){for(var o=t;o<this.t;++o)i[o-t]=this[o];i.t=Math.max(this.t-t,0),i.s=this.s}function b(t,i){var o,r=t%this.DB,s=this.DB-r,h=(1<<s)-1,e=Math.floor(t/this.DB),n=this.s<<r&this.DM;for(o=this.t-1;o>=0;--o)i[o+e+1]=this[o]>>s|n,n=(this[o]&h)<<r;for(o=e-1;o>=0;--o)i[o]=0;i[e]=n,i.t=this.t+e+1,i.s=this.s,i.clamp()}function B(t,i){i.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)return void(i.t=0);var r=t%this.DB,s=this.DB-r,h=(1<<r)-1;i[0]=this[o]>>r;for(var e=o+1;e<this.t;++e)i[e-o-1]|=(this[e]&h)<<s,i[e-o]=this[e]>>r;r>0&&(i[this.t-o-1]|=(this.s&h)<<s),i.t=this.t-o,i.clamp()}function g(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);s>o;)r+=this[o]-t[o],i[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;o<this.t;)r+=this[o],i[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r-=t[o],i[o++]=r&this.DM,r>>=this.DB;r-=t.s}i.s=0>r?-1:0,-1>r?i[o++]=this.DV+r:r>0&&(i[o++]=r),i.t=o,i.clamp()}function S(i,o){var r=this.abs(),s=i.abs(),h=r.t;for(o.t=h+s.t;--h>=0;)o[h]=0;for(h=0;h<s.t;++h)o[h+r.t]=r.am(0,s[h],o,h,0,r.t);o.s=0,o.clamp(),this.s!=i.s&&t.ZERO.subTo(o,o)}function M(t){for(var i=this.abs(),o=t.t=2*i.t;--o>=0;)t[o]=0;for(o=0;o<i.t-1;++o){var r=i.am(o,i[o],t,2*o,0,1);(t[o+i.t]+=i.am(o+1,2*i[o],t,2*o+1,r,i.t-o-1))>=i.DV&&(t[o+i.t]-=i.DV,t[o+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(o,i[o],t,2*o,0,1)),t.s=0,t.clamp()}function w(o,r,s){var h=o.abs();if(!(h.t<=0)){var e=this.abs();if(e.t<h.t)return null!=r&&r.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=i());var n=i(),u=this.s,f=o.s,p=this.DB-v(h[h.t-1]);p>0?(h.lShiftTo(p,n),e.lShiftTo(p,s)):(h.copyTo(n),e.copyTo(s));var a=n.t,c=n[a-1];if(0!=c){var m=c*(1<<this.F1)+(a>1?n[a-2]>>this.F2:0),l=this.FV/m,T=(1<<this.F1)/m,y=1<<this.F2,d=s.t,D=d-a,b=null==r?i():r;for(n.dlShiftTo(D,b),s.compareTo(b)>=0&&(s[s.t++]=1,s.subTo(b,s)),t.ONE.dlShiftTo(a,b),b.subTo(n,n);n.t<a;)n[n.t++]=0;for(;--D>=0;){var B=s[--d]==c?this.DM:Math.floor(s[d]*l+(s[d-1]+y)*T);if((s[d]+=n.am(0,B,s,D,0,a))<B)for(n.dlShiftTo(D,b),s.subTo(b,s);s[d]<--B;)s.subTo(b,s)}null!=r&&(s.drShiftTo(a,r),u!=f&&t.ZERO.subTo(r,r)),s.t=a,s.clamp(),p>0&&s.rShiftTo(p,s),0>u&&t.ZERO.subTo(s,s)}}}function E(o){var r=i();return this.abs().divRemTo(o,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&o.subTo(r,r),r}function R(t){this.m=t}function O(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function V(t){return t}function A(t){t.divRemTo(this.m,null,t)}function q(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function N(t,i){t.squareTo(i),this.reduce(i)}function L(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=15&i*(2-(15&t)*i),i=255&i*(2-(255&t)*i),i=65535&i*(2-(65535&(65535&t)*i)),i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i}function x(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function I(o){var r=i();return o.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),o.s<0&&r.compareTo(t.ZERO)>0&&this.m.subTo(r,r),r}function Z(t){var o=i();return t.copyTo(o),this.reduce(o),o}function F(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var o=32767&t[i],r=o*this.mpl+((o*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(o=i+this.m.t,t[o]+=this.m.am(0,r,t,i,0,this.m.t);t[o]>=t.DV;)t[o]-=t.DV,t[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function P(t,i){t.squareTo(i),this.reduce(i)}function C(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function k(){return 0==(this.t>0?1&this[0]:this.s)}function z(o,r){if(o>4294967295||1>o)return t.ONE;var s=i(),h=i(),e=r.convert(this),n=v(o)-1;for(e.copyTo(s);--n>=0;)if(r.sqrTo(s,h),(o&1<<n)>0)r.mulTo(h,e,s);else{var u=s;s=h,h=u}return r.revert(s)}function j(t,i){var o;return o=256>t||i.isEven()?new R(i):new x(i),this.exp(t,o)}function U(){var t=i();return this.copyTo(t),t}function G(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function H(){return 0==this.t?this.s:this[0]<<24>>24}function J(){return 0==this.t?this.s:this[0]<<16>>16}function K(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Q(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function W(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var o=this.chunkSize(t),r=Math.pow(t,o),s=f(r),h=i(),e=i(),n="";for(this.divRemTo(s,h,e);h.signum()>0;)n=(r+e.intValue()).toString(t).substr(1)+n,h.divRemTo(s,h,e);return e.intValue().toString(t)+n}function X(i,o){this.fromInt(0),null==o&&(o=10);for(var r=this.chunkSize(o),s=Math.pow(o,r),h=!1,n=0,u=0,f=0;f<i.length;++f){var p=e(i,f);0>p?"-"==i.charAt(f)&&0==this.signum()&&(h=!0):(u=o*u+p,++n>=r&&(this.dMultiply(s),this.dAddOffset(u,0),n=0,u=0))}n>0&&(this.dMultiply(Math.pow(o,n)),this.dAddOffset(u,0)),h&&t.ZERO.subTo(this,this)}function Y(i,o,r){if("number"==typeof o)if(2>i)this.fromInt(1);else for(this.fromNumber(i,r),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),hi,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(o);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(t.ONE.shiftLeft(i-1),this);else{var s=new Array,h=7&i;s.length=(i>>3)+1,o.nextBytes(s),h>0?s[0]&=(1<<h)-1:s[0]=0,this.fromString(s,256)}}function $(){var t=this.t,i=new Array;i[0]=this.s;var o,r=this.DB-t*this.DB%8,s=0;if(t-->0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)8>r?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=255&this[t]>>(r-=8),0>=r&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function _(t){return 0==this.compareTo(t)}function ti(t){return this.compareTo(t)<0?this:t}function ii(t){return this.compareTo(t)>0?this:t}function oi(t,i,o){var r,s,h=Math.min(t.t,this.t);for(r=0;h>r;++r)o[r]=i(this[r],t[r]);if(t.t<this.t){for(s=t.s&this.DM,r=h;r<this.t;++r)o[r]=i(this[r],s);o.t=this.t}else{for(s=this.s&this.DM,r=h;r<t.t;++r)o[r]=i(s,t[r]);o.t=t.t}o.s=i(this.s,t.s),o.clamp()}function ri(t,i){return t&i}function si(t){var o=i();return this.bitwiseTo(t,ri,o),o}function hi(t,i){return t|i}function ei(t){var o=i();return this.bitwiseTo(t,hi,o),o}function ni(t,i){return t^i}function ui(t){var o=i();return this.bitwiseTo(t,ni,o),o}function fi(t,i){return t&~i}function pi(t){var o=i();return this.bitwiseTo(t,fi,o),o}function ai(){for(var t=i(),o=0;o<this.t;++o)t[o]=this.DM&~this[o];return t.t=this.t,t.s=~this.s,t}function ci(t){var o=i();return 0>t?this.rShiftTo(-t,o):this.lShiftTo(t,o),o}function mi(t){var o=i();return 0>t?this.lShiftTo(-t,o):this.rShiftTo(t,o),o}function li(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function Ti(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+li(this[t]);return this.s<0?this.t*this.DB:-1}function vi(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function yi(){for(var t=0,i=this.s&this.DM,o=0;o<this.t;++o)t+=vi(this[o]^i);return t}function di(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)}function Di(i,o){var r=t.ONE.shiftLeft(i);return this.bitwiseTo(r,o,r),r}function bi(t){return this.changeBit(t,hi)}function Bi(t){return this.changeBit(t,fi)}function gi(t){return this.changeBit(t,ni)}function Si(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);s>o;)r+=this[o]+t[o],i[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;o<this.t;)r+=this[o],i[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r+=t[o],i[o++]=r&this.DM,r>>=this.DB;r+=t.s}i.s=0>r?-1:0,r>0?i[o++]=r:-1>r&&(i[o++]=this.DV+r),i.t=o,i.clamp()}function Mi(t){var o=i();return this.addTo(t,o),o}function wi(t){var o=i();return this.subTo(t,o),o}function Ei(t){var o=i();return this.multiplyTo(t,o),o}function Ri(t){var o=i();return this.divRemTo(t,o,null),o}function Oi(t){var o=i();return this.divRemTo(t,null,o),o}function Vi(t){var o=i(),r=i();return this.divRemTo(t,o,r),new Array(o,r)}function Ai(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function qi(t,i){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}function Ni(){}function Li(t){return t}function xi(t,i,o){t.multiplyTo(i,o)}function Ii(t,i){t.squareTo(i)}function Zi(t){return this.exp(t,new Ni)}function Fi(t,i,o){var r=Math.min(this.t+t.t,i);for(o.s=0,o.t=r;r>0;)o[--r]=0;var s;for(s=o.t-this.t;s>r;++r)o[r+this.t]=this.am(0,t[r],o,r,0,this.t);for(s=Math.min(t.t,i);s>r;++r)this.am(0,t[r],o,r,0,i-r);o.clamp()}function Pi(t,i,o){--i;var r=o.t=this.t+t.t-i;for(o.s=0;--r>=0;)o[r]=0;for(r=Math.max(i-this.t,0);r<t.t;++r)o[this.t+r-i]=this.am(i-r,t[r],o,0,0,this.t+r-i);o.clamp(),o.drShiftTo(1,o)}function Ci(o){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*o.t,this.r2),this.mu=this.r2.divide(o),this.m=o}function ki(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var o=i();return t.copyTo(o),this.reduce(o),o}function zi(t){return t}function ji(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Ui(t,i){t.squareTo(i),this.reduce(i)}function Gi(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function Hi(t,o){var r,s,h=t.bitLength(),e=f(1);if(0>=h)return e;r=18>h?1:48>h?3:144>h?4:768>h?5:6,s=8>h?new R(o):o.isEven()?new Ci(o):new x(o);var n=new Array,u=3,p=r-1,a=(1<<r)-1;if(n[1]=s.convert(this),r>1){var c=i();for(s.sqrTo(n[1],c);a>=u;)n[u]=i(),s.mulTo(c,n[u-2],n[u]),u+=2}var m,l,T=t.t-1,y=!0,d=i();for(h=v(t[T])-1;T>=0;){for(h>=p?m=t[T]>>h-p&a:(m=(t[T]&(1<<h+1)-1)<<p-h,T>0&&(m|=t[T-1]>>this.DB+h-p)),u=r;0==(1&m);)m>>=1,--u;if((h-=u)<0&&(h+=this.DB,--T),y)n[m].copyTo(e),y=!1;else{for(;u>1;)s.sqrTo(e,d),s.sqrTo(d,e),u-=2;u>0?s.sqrTo(e,d):(l=e,e=d,d=l),s.mulTo(d,n[m],e)}for(;T>=0&&0==(t[T]&1<<h);)s.sqrTo(e,d),l=e,e=d,d=l,--h<0&&(h=this.DB-1,--T)}return s.revert(e)}function Ji(t){var i=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(i.compareTo(o)<0){var r=i;i=o,o=r}var s=i.getLowestSetBit(),h=o.getLowestSetBit();if(0>h)return i;for(h>s&&(h=s),h>0&&(i.rShiftTo(h,i),o.rShiftTo(h,o));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=o.getLowestSetBit())>0&&o.rShiftTo(s,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o));return h>0&&o.lShiftTo(h,o),o}function Ki(t){if(0>=t)return 0;var i=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(0==i)o=this[0]%t;else for(var r=this.t-1;r>=0;--r)o=(i*o+this[r])%t;return o}function Qi(i){var o=i.isEven();if(this.isEven()&&o||0==i.signum())return t.ZERO;for(var r=i.clone(),s=this.clone(),h=f(1),e=f(0),n=f(0),u=f(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),o?(h.isEven()&&e.isEven()||(h.addTo(this,h),e.subTo(i,e)),h.rShiftTo(1,h)):e.isEven()||e.subTo(i,e),e.rShiftTo(1,e);for(;s.isEven();)s.rShiftTo(1,s),o?(n.isEven()&&u.isEven()||(n.addTo(this,n),u.subTo(i,u)),n.rShiftTo(1,n)):u.isEven()||u.subTo(i,u),u.rShiftTo(1,u);r.compareTo(s)>=0?(r.subTo(s,r),o&&h.subTo(n,h),e.subTo(u,e)):(s.subTo(r,s),o&&n.subTo(h,n),u.subTo(e,u))}return 0!=s.compareTo(t.ONE)?t.ZERO:u.compareTo(i)>=0?u.subtract(i):u.signum()<0?(u.addTo(i,u),u.signum()<0?u.add(i):u):u}function Wi(t){var i,o=this.abs();if(1==o.t&&o[0]<=ho[ho.length-1]){for(i=0;i<ho.length;++i)if(o[0]==ho[i])return!0;return!1}if(o.isEven())return!1;for(i=1;i<ho.length;){for(var r=ho[i],s=i+1;s<ho.length&&eo>r;)r*=ho[s++];for(r=o.modInt(r);s>i;)if(0==r%ho[i++])return!1}return o.millerRabin(t)}function Xi(o){var r=this.subtract(t.ONE),s=r.getLowestSetBit();if(0>=s)return!1;var h=r.shiftRight(s);o=o+1>>1,o>ho.length&&(o=ho.length);for(var e=i(),n=0;o>n;++n){e.fromInt(ho[n]);var u=e.modPow(h,this);if(0!=u.compareTo(t.ONE)&&0!=u.compareTo(r)){for(var f=1;f++<s&&0!=u.compareTo(r);)if(u=u.modPowInt(2,this),0==u.compareTo(t.ONE))return!1;if(0!=u.compareTo(r))return!1}}return!0}var Yi,$i=0xdeadbeefcafe,_i=15715070==(16777215&$i);_i&&"Microsoft Internet Explorer"==navigator.appName?(t.prototype.am=r,Yi=30):_i&&"Netscape"!=navigator.appName?(t.prototype.am=o,Yi=26):(t.prototype.am=s,Yi=28),t.prototype.DB=Yi,t.prototype.DM=(1<<Yi)-1,t.prototype.DV=1<<Yi;var to=52;t.prototype.FV=Math.pow(2,to),t.prototype.F1=to-Yi,t.prototype.F2=2*Yi-to;var io,oo,ro="0123456789abcdefghijklmnopqrstuvwxyz",so=new Array;for(io="0".charCodeAt(0),oo=0;9>=oo;++oo)so[io++]=oo;for(io="a".charCodeAt(0),oo=10;36>oo;++oo)so[io++]=oo;for(io="A".charCodeAt(0),oo=10;36>oo;++oo)so[io++]=oo;R.prototype.convert=O,R.prototype.revert=V,R.prototype.reduce=A,R.prototype.mulTo=q,R.prototype.sqrTo=N,x.prototype.convert=I,x.prototype.revert=Z,x.prototype.reduce=F,x.prototype.mulTo=C,x.prototype.sqrTo=P,t.prototype.copyTo=n,t.prototype.fromInt=u,t.prototype.fromString=p,t.prototype.clamp=a,t.prototype.dlShiftTo=d,t.prototype.drShiftTo=D,t.prototype.lShiftTo=b,t.prototype.rShiftTo=B,t.prototype.subTo=g,t.prototype.multiplyTo=S,t.prototype.squareTo=M,t.prototype.divRemTo=w,t.prototype.invDigit=L,t.prototype.isEven=k,t.prototype.exp=z,t.prototype.toString=c,t.prototype.negate=m,t.prototype.abs=l,t.prototype.compareTo=T,t.prototype.bitLength=y,t.prototype.mod=E,t.prototype.modPowInt=j,t.ZERO=f(0),t.ONE=f(1),Ni.prototype.convert=Li,Ni.prototype.revert=Li,Ni.prototype.mulTo=xi,Ni.prototype.sqrTo=Ii,Ci.prototype.convert=ki,Ci.prototype.revert=zi,Ci.prototype.reduce=ji,Ci.prototype.mulTo=Gi,Ci.prototype.sqrTo=Ui;var ho=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],eo=(1<<26)/ho[ho.length-1];t.prototype.chunkSize=K,t.prototype.toRadix=W,t.prototype.fromRadix=X,t.prototype.fromNumber=Y,t.prototype.bitwiseTo=oi,t.prototype.changeBit=Di,t.prototype.addTo=Si,t.prototype.dMultiply=Ai,t.prototype.dAddOffset=qi,t.prototype.multiplyLowerTo=Fi,t.prototype.multiplyUpperTo=Pi,t.prototype.modInt=Ki,t.prototype.millerRabin=Xi,t.prototype.clone=U,t.prototype.intValue=G,t.prototype.byteValue=H,t.prototype.shortValue=J,t.prototype.signum=Q,t.prototype.toByteArray=$,t.prototype.equals=_,t.prototype.min=ti,t.prototype.max=ii,t.prototype.and=si,t.prototype.or=ei,t.prototype.xor=ui,t.prototype.andNot=pi,t.prototype.not=ai,t.prototype.shiftLeft=ci,t.prototype.shiftRight=mi,t.prototype.getLowestSetBit=Ti,t.prototype.bitCount=yi,t.prototype.testBit=di,t.prototype.setBit=bi,t.prototype.clearBit=Bi,t.prototype.flipBit=gi,t.prototype.add=Mi,t.prototype.subtract=wi,t.prototype.multiply=Ei,t.prototype.divide=Ri,t.prototype.remainder=Oi,t.prototype.divideAndRemainder=Vi,t.prototype.modPow=Hi,t.prototype.modInverse=Qi,t.prototype.pow=Zi,t.prototype.gcd=Ji,t.prototype.isProbablePrime=Wi});
;define("common:widget/oui/rsa/pidcrypt",function(){});
;define("common:widget/oui/rsa/pidcrypt_util",function(){pidCryptUtil={},pidCryptUtil.encodeBase64=function(r,t){r||(r="");var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t="undefined"==typeof t?!1:t;var n,o,i,a,d,f,c,u,C,h,p,l=[],g="";if(h=t?pidCryptUtil.encodeUTF8(r):r,C=h.length%3,C>0)for(;C++<3;)g+="=",h+="\x00";for(C=0;C<h.length;C+=3)n=h.charCodeAt(C),o=h.charCodeAt(C+1),i=h.charCodeAt(C+2),a=n<<16|o<<8|i,d=63&a>>18,f=63&a>>12,c=63&a>>6,u=63&a,l[C/3]=e.charAt(d)+e.charAt(f)+e.charAt(c)+e.charAt(u);return p=l.join(""),p=p.slice(0,p.length-g.length)+g},pidCryptUtil.decodeBase64=function(r,t){r||(r="");var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t="undefined"==typeof t?!1:t;var n,o,i,a,d,f,c,u,C,h,p=[];h=t?pidCryptUtil.decodeUTF8(r):r;for(var l=0;l<h.length;l+=4)a=e.indexOf(h.charAt(l)),d=e.indexOf(h.charAt(l+1)),f=e.indexOf(h.charAt(l+2)),c=e.indexOf(h.charAt(l+3)),u=a<<18|d<<12|f<<6|c,n=255&u>>>16,o=255&u>>>8,i=255&u,p[l/4]=String.fromCharCode(n,o,i),64==c&&(p[l/4]=String.fromCharCode(n,o)),64==f&&(p[l/4]=String.fromCharCode(n));return C=p.join(""),C=t?pidCryptUtil.decodeUTF8(C):C},pidCryptUtil.encodeUTF8=function(r){return r||(r=""),r=r.replace(/[\u0080-\u07ff]/g,function(r){var t=r.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)}),r=r.replace(/[\u0800-\uffff]/g,function(r){var t=r.charCodeAt(0);return String.fromCharCode(224|t>>12,128|63&t>>6,128|63&t)})},pidCryptUtil.decodeUTF8=function(r){return r||(r=""),r=r.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(r){var t=(31&r.charCodeAt(0))<<6|63&r.charCodeAt(1);return String.fromCharCode(t)}),r=r.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(r){var t=(15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2);return String.fromCharCode(t)})},pidCryptUtil.convertToHex=function(r){r||(r="");for(var t="",e="",n=0;n<r.length;n++)e=r.charCodeAt(n).toString(16),t+=1==e.length?"0"+e:e;return t},pidCryptUtil.convertFromHex=function(r){r||(r="");for(var t="",e=0;e<r.length;e+=2)t+=String.fromCharCode(parseInt(r.substring(e,e+2),16));return t},pidCryptUtil.stripLineFeeds=function(r){r||(r="");var t="";return t=r.replace(/\n/g,""),t=t.replace(/\r/g,"")},pidCryptUtil.toByteArray=function(r){r||(r="");for(var t=[],e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t},pidCryptUtil.fragment=function(r,t,e){if(r||(r=""),!t||t>=r.length)return r;e||(e="\n");for(var n="",o=0;o<r.length;o+=t)n+=r.substr(o,t)+e;return n},pidCryptUtil.formatHex=function(r,t){r||(r=""),t||(t=45);for(var e="",n=r.toLowerCase(),o=0;o<n.length;o+=2)e+=n.substr(o,2)+":";return n=this.fragment(e,t)},pidCryptUtil.byteArray2String=function(r){for(var t="",e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return t}});
;define("common:widget/oui/rsa/prng4",function(){function i(){this.i=0,this.j=0,this.S=new Array}function t(i){var t,h,s;for(t=0;256>t;++t)this.S[t]=t;for(h=0,t=0;256>t;++t)h=255&h+this.S[t]+i[t%i.length],s=this.S[t],this.S[t]=this.S[h],this.S[h]=s;this.i=0,this.j=0}function h(){var i;return this.i=255&this.i+1,this.j=255&this.j+this.S[this.i],i=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=i,this.S[255&i+this.S[this.i]]}i.prototype.init=t,i.prototype.next=h});
;define("common:widget/oui/rsa/rng",function(){});
;define("common:widget/oui/rsa/rsa",function(){function t(t,e){return new BigInteger(t,e)}function e(t,e){for(var i=t.toByteArray(),r=0;r<i.length&&0==i[r];)++r;if(i.length-r!=e-1||2!=i[r])return null;for(++r;0!=i[r];)if(++r>=i.length)return null;for(var n="";++r<i.length;)n+=String.fromCharCode(i[r]);return n}function i(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var i=new Array,r=t.length-1;r>=0&&e>0;)i[--e]=t.charCodeAt(r--);i[--e]=0;for(var n=new SecureRandom,o=new Array;e>2;){for(o[0]=0;0==o[0];)n.nextBytes(o);i[--e]=o[0]}return i[--e]=2,i[--e]=0,new BigInteger(i)}"undefined"!=typeof pidCrypt&&"undefined"!=typeof BigInteger&&"undefined"!=typeof SecureRandom&&"undefined"!=typeof Arcfour&&(pidCrypt.RSA=function(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null},pidCrypt.RSA.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(i)<0;)e=e.add(this.p);return e.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},pidCrypt.RSA.prototype.setPublic=function(e,i,r){"undefined"==typeof r&&(r=16),null!=e&&null!=i&&e.length>0&&i.length>0?(this.n=t(e,r),this.e=parseInt(i,r)):alert("Invalid RSA public key")},pidCrypt.RSA.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},pidCrypt.RSA.prototype.encryptRaw=function(t){var e=i(t,this.n.bitLength()+7>>3);if(null==e)return null;var r=this.doPublic(e);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},pidCrypt.RSA.prototype.encrypt=function(t){return t=pidCryptUtil.encodeBase64(t),this.encryptRaw(t)},pidCrypt.RSA.prototype.decryptRaw=function(i){var r=t(i,16),n=this.doPrivate(r);return null==n?null:e(n,this.n.bitLength()+7>>3)},pidCrypt.RSA.prototype.decrypt=function(t){var e=this.decryptRaw(t);return e=e?pidCryptUtil.decodeBase64(e):""},pidCrypt.RSA.prototype.setPrivate=function(e,i,r,n){"undefined"==typeof n&&(n=16),null!=e&&null!=i&&e.length>0&&i.length>0?(this.n=t(e,n),this.e=parseInt(i,n),this.d=t(r,n)):alert("Invalid RSA private key")},pidCrypt.RSA.prototype.setPrivateEx=function(e,i,r,n,o,s,p,h,l){"undefined"==typeof l&&(l=16),null!=e&&null!=i&&e.length>0&&i.length>0?(this.n=t(e,l),this.e=parseInt(i,l),this.d=t(r,l),this.p=t(n,l),this.q=t(o,l),this.dmp1=t(s,l),this.dmq1=t(p,l),this.coeff=t(h,l)):alert("Invalid RSA private key")},pidCrypt.RSA.prototype.generate=function(t,e){var i=new SecureRandom,r=t>>1;this.e=parseInt(e,16);for(var n=new BigInteger(e,16);;){for(;this.p=new BigInteger(t-r,1,i),0!=this.p.subtract(BigInteger.ONE).gcd(n).compareTo(BigInteger.ONE)||!this.p.isProbablePrime(10););for(;this.q=new BigInteger(r,1,i),0!=this.q.subtract(BigInteger.ONE).gcd(n).compareTo(BigInteger.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.subtract(BigInteger.ONE),p=this.q.subtract(BigInteger.ONE),h=s.multiply(p);if(0==h.gcd(n).compareTo(BigInteger.ONE)){this.n=this.p.multiply(this.q),this.d=n.modInverse(h),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(p),this.coeff=this.q.modInverse(this.p);break}}},pidCrypt.RSA.prototype.getASNData=function(t){var e=[],i=0;if(t.value&&"INTEGER"==t.type&&(e[i++]=t.value),t.sub)for(var r=0;r<t.sub.length;r++)e=e.concat(this.getASNData(t.sub[r]));return e},pidCrypt.RSA.prototype.setKeyFromASN=function(t,e){var i=["N","E","D","P","Q","DP","DQ","C"],r={},n=this.getASNData(e);switch(t){case"Public":case"public":for(var o=0;o<n.length;o++)r[i[o]]=n[o].toLowerCase();this.setPublic(r.N,r.E,16);break;case"Private":case"private":for(var o=1;o<n.length;o++)r[i[o-1]]=n[o].toLowerCase();this.setPrivateEx(r.N,r.E,r.D,r.P,r.Q,r.DP,r.DQ,r.C,16)}},pidCrypt.RSA.prototype.setPublicKeyFromASN=function(t){this.setKeyFromASN("public",t)},pidCrypt.RSA.prototype.setPrivateKeyFromASN=function(t){this.setKeyFromASN("private",t)},pidCrypt.RSA.prototype.getParameters=function(){var t={};return null!=this.n&&(t.n=this.n),t.e=this.e,null!=this.d&&(t.d=this.d),null!=this.p&&(t.p=this.p),null!=this.q&&(t.q=this.q),null!=this.dmp1&&(t.dmp1=this.dmp1),null!=this.dmq1&&(t.dmq1=this.dmq1),null!=this.coeff&&(t.c=this.coeff),t})});
;define("common:widget/oui/seajs/2.0.0/plugin-nocache",function(){!function(e){var n="seajs-nocache="+(new Date).getTime(),i={};e.on("fetch",function(e){var u=e.requestUri||e.uri;-1===u.indexOf("seajs-nocache=")&&(u+=(-1===u.indexOf("?")?"?":"&")+n,i[u]=e.uri,e.requestUri=u)}),e.on("define",function(e){i[e.uri]&&(e.uri=i[e.uri])})}(seajs)});
;define("common:widget/oui/seajs/2.0.0/plugin-shim",function(){!function(n,i){function o(o){if(o){o=o.alias;for(var e in o)(function(o){o.src&&(o.deps&&define(o.src,o.deps),define("common:widget/oui/seajs/2.0.0/plugin-shim",e,[n.resolve(o.src)],function(){var n=o.exports;return"function"==typeof n?n():"string"==typeof n?i[n]:n}))})(o[e])}}n.on("config",o),o(n.config.data)}(seajs,"undefined"==typeof global?this:global)});
;define("common:widget/oui/seajs/2.0.0/sea",function(){!function(e,t){function r(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}function n(e){for(e=e.replace(N,"/"),e=e.replace(O,"$1/");e.match(U);)e=e.replace(U,"/");return e}function i(e){return e=n(e),_.test(e)?e=e.slice(0,-1):C.test(e)||(e+=".js"),e.replace(":80/","/")}function a(e,t){return D.test(e)?e:K.test(e)?(t||G).match(k)[0]+e:M.test(e)?(G.match(W)||["/"])[0]+e.substring(1):mt.base+e}function s(e,t){if(!e)return"";var r,n=e,s=mt.alias,n=e=s&&q(s[n])?s[n]:n,s=mt.paths;s&&(r=n.match(F))&&q(s[r[1]])&&(n=s[r[1]]+r[2]),r=n;var u=mt.vars;u&&-1<r.indexOf("{")&&(r=r.replace(I,function(e,t){return q(u[t])?u[t]:e})),e=a(r,t),r=e=i(e);var n=mt.map,o=r;if(n)for(s=0;s<n.length&&(o=n[s],o=R(o)?o(r)||r:r.replace(o[0],o[1]),!(o!==r));s++);return o}function u(e,t){var r,n=e.sheet;if(tt)n&&(r=!0);else if(n)try{n.cssRules&&(r=!0)}catch(i){"NS_ERROR_DOM_SECURITY_ERR"===i.name&&(r=!0)}setTimeout(function(){r?t():u(e,t)},20)}function o(){if(L)return L;if(P&&"interactive"===P.readyState)return P;for(var e=V.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var r=e[t];if("interactive"===r.readyState)return P=r}}function c(e){this.uri=e,this.dependencies=[],this.exports=null,this.status=0}function f(e,t){if(x(e)){for(var r=[],n=0;n<e.length;n++)r[n]=f(e[n],t);return r}return r={id:e,refUri:t},B("resolve",r),r.uri||s(r.id,t)}function l(t,r){x(t)||(t=[t]),d(t,function(){for(var n=[],i=0;i<t.length;i++)n[i]=y(it[t[i]]);r&&r.apply(e,n)})}function d(e,t){var r=m(e);if(0===r.length)t();else{B("load",r);for(var n=r.length,i=n,a=0;n>a;a++)(function(e){function r(t){t||(t=n);var r=m(a.dependencies);0===r.length?t():b(a)?(r=pt,r.push(r[0]),T("Circular dependencies: "+r.join(" -> ")),pt.length=0,t(!0)):(ot[e]=r,d(r,t))}function n(e){!e&&a.status<lt&&(a.status=lt),0===--i&&t()}var a=it[e];a.dependencies.length?r(function(t){function r(){n(t)}a.status<ft?h(e,r):r()}):a.status<ft?h(e,r):n()})(r[a])}}function h(e,r){function n(){delete at[a],st[a]=!0,Q&&(g(e,Q),Q=t);var r,n=ut[a];for(delete ut[a];r=n.shift();)r()}it[e].status=ct;var i={uri:e};B("fetch",i);var a=i.requestUri||e;if(st[a])r();else if(at[a])ut[a].push(r);else{at[a]=!0,ut[a]=[r];var s=mt.charset;if(B("request",i={uri:e,requestUri:a,callback:n,charset:s}),!i.requested){var i=i.requestUri,o=Z.test(i),c=Y.createElement(o?"link":"script");s&&(s=R(s)?s(i):s)&&(c.charset=s);var f=c;!o||!tt&&"onload"in f?f.onload=f.onerror=f.onreadystatechange=function(){et.test(f.readyState)&&(f.onload=f.onerror=f.onreadystatechange=null,!o&&!mt.debug&&V.removeChild(f),f=t,n())}:setTimeout(function(){u(f,n)},1),o?(c.rel="stylesheet",c.href=i):(c.async=!0,c.src=i),L=c,X?V.insertBefore(c,X):V.appendChild(c),L=t}}}function p(e,r,n){if(1===arguments.length&&(n=e,e=t),!x(r)&&R(n)){var i=[];n.toString().replace(nt,"").replace(rt,function(e,t,r){r&&i.push(r)}),r=i}var a={id:e,uri:f(e),deps:r,factory:n};if(!a.uri&&Y.attachEvent){var s=o();s?a.uri=s.src:T("Failed to derive: "+n)}B("define",a),a.uri?g(a.uri,a):Q=a}function g(e,r){var n=it[e]||(it[e]=new c(e));n.status<ft&&(n.id=r.id||e,n.dependencies=f(r.deps||[],e),n.factory=r.factory,n.factory!==t&&(n.status=ft))}function v(e){function r(t){return f(t,e.uri)}function n(e){return y(it[r(e)])}if(!e)return null;if(e.status>=dt)return e.exports;e.status=dt,n.resolve=r,n.async=function(e,t){return l(r(e),t),n};var i=e.factory,i=R(i)?i(n,e.exports={},e):i;return e.exports=i===t?e.exports:i,e.status=ht,e.exports}function m(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n&&(it[n]||(it[n]=new c(n))).status<lt&&t.push(n)}return t}function y(e){var t=v(e);return null===t&&(!e||!Z.test(e.uri))&&B("error",e),t}function b(e){var t=ot[e.uri]||[];if(0===t.length)return!1;pt.push(e.uri);e:{for(e=0;e<t.length;e++)for(var r=0;r<pt.length;r++)if(pt[r]===t[e]){e=!0;break e}e=!1}if(e){for(e=pt[0],r=t.length-1;r>=0;r--)if(t[r]===e){t.splice(r,1);break}return!0}for(e=0;e<t.length;e++)if(b(it[t[e]]))return!0;return pt.pop(),!1}function j(e){var t=mt.preload,r=t.length;r?l(f(t),function(){t.splice(0,r),j(e)}):e()}function $(e){for(var t in e){var r=e[t];if(r&&"plugins"===t){t="preload";for(var n=[],s=void 0;s=r.shift();)n.push(J+"plugin-"+s);r=n}if((n=mt[t])&&S(n))for(var u in r)n[u]=r[u];else x(n)?r=n.concat(r):"base"===t&&(r=i(a(r+"/"))),mt[t]=r}return B("config",e),A}var E=e.seajs;if(!E||!E.version){var A=e.seajs={version:"2.0.0"},S=r("Object"),q=r("String"),x=Array.isArray||r("Array"),R=r("Function"),T=A.log=function(t,r){e.console&&(r||mt.debug)&&console[r||(r="log")]&&console[r](t)},w=A.events={};A.on=function(e,t){return t?((w[e]||(w[e]=[])).push(t),A):A},A.off=function(e,t){if(!e&&!t)return A.events=w={},A;var r=w[e];if(r)if(t)for(var n=r.length-1;n>=0;n--)r[n]===t&&r.splice(n,1);else delete w[e];return A};var B=A.emit=function(e,t){var r,n=w[e];if(n)for(n=n.slice();r=n.shift();)r(t);return A},k=/[^?#]*\//,N=/\/\.\//g,O=/([^:\/])\/\/+/g,U=/\/[^/]+\/\.\.\//g,C=/\?|\.(?:css|js)$|\/$/,_=/#$/,F=/^([^/:]+)(\/.+)$/,I=/{([^{]+)}/g,D=/:\//,K=/^\./,M=/^\//,W=/^.*?\/\/.*?\//,Y=document,z=location,G=z.href.match(k)[0],H=Y.getElementsByTagName("script"),H=Y.getElementById("seajsnode")||H[H.length-1],J=(H.hasAttribute?H.src:H.getAttribute("src",4)).match(k)[0]||G;A.cwd=function(e){return e?G=n(e+"/"):G};var L,P,Q,V=Y.getElementsByTagName("head")[0]||Y.documentElement,X=V.getElementsByTagName("base")[0],Z=/\.css(?:\?|$)/i,et=/^(?:loaded|complete|undefined)$/,tt=536>1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"),rt=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,nt=/\\\\/g,it=A.cache={},at={},st={},ut={},ot={},ct=1,ft=2,lt=3,dt=4,ht=5;c.prototype.destroy=function(){delete it[this.uri],delete st[this.uri]};var pt=[];A.use=function(e,t){return j(function(){l(f(e),t)}),A},c.load=l,A.resolve=s,e.define=p,A.require=function(e){return(it[s(e)]||{}).exports};var gt=J,vt=gt.match(/^(.+?\/)(?:seajs\/)+(?:\d[^/]+\/)?$/);vt&&(gt=vt[1]);var mt=$.data={base:gt,charset:"utf-8",preload:[]};A.config=$;var yt,z=z.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),z=z+(" "+Y.cookie);if(z.replace(/seajs-(\w+)=1/g,function(e,t){(yt||(yt=[])).push(t)}),$({plugins:yt}),z=H.getAttribute("data-config"),H=H.getAttribute("data-main"),z&&mt.preload.push(z),H&&A.use(H),E&&E.args)for(H=["define","config","use"],E=E.args,z=0;z<E.length;z+=2)A[H[E[z]]].apply(A,E[z+1])}}(this)});
;define("common:widget/oui/seajs/2.1.0/sea-debug",function(){!function(e,t){function r(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}function n(){return O++}function i(e){return e.match(I)[0]}function a(e){for(e=e.replace(G,"/");e.match(R);)e=e.replace(R,"/");return e}function s(e){var t=e.length-1;return"#"===e.charAt(t)?e.substring(0,t):".js"===e.substring(t-2)||e.indexOf("?")>0||".css"===e.substring(t-3)?e:e+".js"}function o(e){var t=T.alias;return t&&D(t[e])?t[e]:e}function u(e){var t,r=T.paths;return r&&(t=e.match($))&&D(r[t[1]])&&(e=r[t[1]]+t[2]),e}function c(e){var t=T.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(k,function(e,r){return D(t[r])?t[r]:e})),e}function f(e){var t=T.map,r=e;if(t)for(var n=0,i=t.length;i>n;n++){var a=t[n];if(r=N(a)?a(e)||e:e.replace(a[0],a[1]),r!==e)break}return r}function l(e,t){var r,n=e.charAt(0);if(L.test(e))r=e;else if("."===n)r=a((t?i(t):T.cwd)+e);else if("/"===n){var s=T.cwd.match(B);r=s?s[0]+e.substring(1):e}else r=T.base+e;return r}function d(e,t){if(!e)return"";e=o(e),e=u(e),e=c(e),e=s(e);var r=l(e,t);return r=f(r)}function v(e){return e.hasAttribute?e.src:e.getAttribute("src",4)}function h(e,t,r){var n=Y.test(e),i=X.createElement(n?"link":"script");if(r){var a=N(r)?r(e):r;a&&(i.charset=a)}p(i,t,n),n?(i.rel="stylesheet",i.href=e):(i.async=!0,i.src=e),x=i,W?K.insertBefore(i,W):K.appendChild(i),x=null}function p(e,t,r){var n=r&&(J||!("onload"in e));return n?void setTimeout(function(){g(e,t)},1):void(e.onload=e.onerror=e.onreadystatechange=function(){z.test(e.readyState)&&(e.onload=e.onerror=e.onreadystatechange=null,r||T.debug||K.removeChild(e),e=null,t())})}function g(e,t){var r,n=e.sheet;if(J)n&&(r=!0);else if(n)try{n.cssRules&&(r=!0)}catch(i){"NS_ERROR_DOM_SECURITY_ERR"===i.name&&(r=!0)}setTimeout(function(){r?t():g(e,t)},20)}function m(){if(x)return x;if(U&&"interactive"===U.readyState)return U;for(var e=K.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var r=e[t];if("interactive"===r.readyState)return U=r}}function E(e){var t=[];return e.replace(Z,"").replace(Q,function(e,r,n){n&&t.push(n)}),t}function y(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function b(e,t){var r={id:e,refUri:t};return C("resolve",r),r.uri||d(r.id,t)}function _(e,t){var r=y.get(e);r.status<it.SAVED&&(r.id=t.id||e,r.dependencies=t.deps||[],r.factory=t.factory,r.status=it.SAVED)}if(!e.seajs){var A=e.seajs={version:"2.1.0"},T=A.data={},w=r("Object"),D=r("String"),S=Array.isArray||r("Array"),N=r("Function"),O=0,j=T.events={};A.on=function(e,t){var r=j[e]||(j[e]=[]);return r.push(t),A},A.off=function(e,t){if(!e&&!t)return j=T.events={},A;var r=j[e];if(r)if(t)for(var n=r.length-1;n>=0;n--)r[n]===t&&r.splice(n,1);else delete j[e];return A};var x,U,q,C=A.emit=function(e,t){var r,n=j[e];if(n)for(n=n.slice();r=n.shift();)r(t);return A},I=/[^?#]*\//,G=/\/\.\//g,R=/\/[^/]+\/\.\.\//,$=/^([^/:]+)(\/.+)$/,k=/{([^{]+)}/g,L=/^\/\/.|:\//,B=/^.*?\/\/.*?\//,X=document,F=location,V=i(F.href),H=X.getElementsByTagName("script"),M=X.getElementById("seajsnode")||H[H.length-1],P=i(v(M)||V),K=X.getElementsByTagName("head")[0]||X.documentElement,W=K.getElementsByTagName("base")[0],Y=/\.css(?:\?|$)/i,z=/^(?:loaded|complete|undefined)$/,J=1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536,Q=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,Z=/\\\\/g,et=A.cache={},tt={},rt={},nt={},it=y.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};y.prototype.resolve=function(){for(var e=this,t=e.dependencies,r=[],n=0,i=t.length;i>n;n++)r[n]=b(t[n],e.uri);return r},y.prototype.load=function(){var e=this;if(!(e.status>=it.LOADING)){e.status=it.LOADING;var t=e.resolve();C("load",t);for(var r,n=e._remain=t.length,i=0;n>i;i++)r=y.get(t[i]),r.status<it.LOADED?r._waitings[e.uri]=(r._waitings[e.uri]||0)+1:e._remain--;if(0===e._remain)return void e.onload();var a={};for(i=0;n>i;i++)r=et[t[i]],r.status<it.FETCHING?r.fetch(a):r.status===it.SAVED&&r.load();for(var s in a)a.hasOwnProperty(s)&&a[s]()}},y.prototype.onload=function(){var e=this;e.status=it.LOADED,e.callback&&e.callback();var t,r,n=e._waitings;for(t in n)n.hasOwnProperty(t)&&(r=et[t],r._remain-=n[t],0===r._remain&&r.onload());delete e._waitings,delete e._remain},y.prototype.fetch=function(e){function t(){h(a.requestUri,a.onRequest,a.charset)}function r(){delete tt[s],rt[s]=!0,q&&(_(i,q),q=null);var e,t=nt[s];for(delete nt[s];e=t.shift();)e.load()}var n=this,i=n.uri;n.status=it.FETCHING;var a={uri:i};C("fetch",a);var s=a.requestUri||i;return!s||rt[s]?void n.load():tt[s]?void nt[s].push(n):(tt[s]=!0,nt[s]=[n],C("request",a={uri:i,requestUri:s,onRequest:r,charset:T.charset}),void(a.requested||(e?e[a.requestUri]=t:t())))},y.prototype.exec=function(){function e(t){return et[e.resolve(t)].exec()}var r=this;if(r.status>=it.EXECUTING)return r.exports;r.status=it.EXECUTING;var i=r.uri;e.resolve=function(e){return b(e,i)},e.async=function(t,r){return y.use(t,r,i+"_async_"+n()),e};var a=r.factory,s=N(a)?a(e,r.exports={},r):a;return s===t&&(s=r.exports),null!==s||Y.test(i)||C("error",r),delete r.factory,r.exports=s,r.status=it.EXECUTED,C("exec",r),s},y.define=function(e,r,n){var i=arguments.length;1===i?(n=e,e=t):2===i&&(n=r,S(e)?(r=e,e=t):r=t),!S(r)&&N(n)&&(r=E(n.toString()));var a={id:e,uri:b(e),deps:r,factory:n};if(!a.uri&&X.attachEvent){var s=m();s&&(a.uri=s.src)}C("define",a),a.uri?_(a.uri,a):q=a},y.get=function(e,t){return et[e]||(et[e]=new y(e,t))},y.use=function(t,r,n){var i=y.get(n,S(t)?t:[t]);i.callback=function(){for(var t=[],n=i.resolve(),a=0,s=n.length;s>a;a++)t[a]=et[n[a]].exec();r&&r.apply(e,t),delete i.callback},i.load()},y.preload=function(e){var t=T.preload,r=t.length;r?y.use(t,function(){t.splice(0,r),y.preload(e)},T.cwd+"_preload_"+n()):e()},A.use=function(e,t){return y.preload(function(){y.use(e,t,T.cwd+"_use_"+n())}),A},y.define.cmd={},e.define=y.define,A.Module=y,T.fetchedList=rt,T.cid=n,A.resolve=d,A.require=function(e){return(et[b(e)]||{}).exports};var at=/^(.+?\/)(\?\?)?(seajs\/)+/;T.base=(P.match(at)||["",P])[1],T.dir=P,T.cwd=V,T.charset="utf-8",T.preload=function(){var e=[],t=F.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return t+=" "+X.cookie,t.replace(/(seajs-\w+)=1/g,function(t,r){e.push(r)}),e}(),A.config=function(e){for(var t in e){var r=e[t],n=T[t];if(n&&w(n))for(var i in r)n[i]=r[i];else S(n)?r=n.concat(r):"base"===t&&("/"===r.slice(-1)||(r+="/"),r=l(r)),T[t]=r}return C("config",e),A}}}(this)});
;define("common:widget/oui/seajs/2.1.0/sea",function(){!function(e,t){function r(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}function n(){return m++}function i(e,t){var r;if(r=e.charAt(0),O.test(e))r=e;else if("."===r)for(r=(t?t.match(T)[0]:h.cwd)+e,r=r.replace(w,"/");r.match(D);)r=r.replace(D,"/");else r="/"===r?(r=h.cwd.match(j))?r[0]+e.substring(1):e:h.base+e;return r}function s(e,t){if(!e)return"";var r,n=e,s=h.alias,n=e=s&&p(s[n])?s[n]:n,s=h.paths;s&&(r=n.match(S))&&p(s[r[1]])&&(n=s[r[1]]+r[2]),r=n;var a=h.vars;a&&-1<r.indexOf("{")&&(r=r.replace(N,function(e,t){return p(a[t])?a[t]:e})),n=r.length-1,e="#"===r.charAt(n)?r.substring(0,n):".js"===r.substring(n-2)||0<r.indexOf("?")||".css"===r.substring(n-3)?r:r+".js",r=i(e,t);var n=h.map,o=r;if(n)for(var s=0,u=n.length;u>s&&(o=n[s],o=g(o)?o(r)||r:r.replace(o[0],o[1]),!(o!==r));s++);return o}function a(e,t){var r,n=e.sheet;if(L)n&&(r=!0);else if(n)try{n.cssRules&&(r=!0)}catch(i){"NS_ERROR_DOM_SECURITY_ERR"===i.name&&(r=!0)}setTimeout(function(){r?t():a(e,t)},20)}function o(){if(y)return y;if(_&&"interactive"===_.readyState)return _;for(var e=I.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var r=e[t];if("interactive"===r.readyState)return _=r}}function u(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function c(e,t){var r={id:e,refUri:t};return A("resolve",r),r.uri||s(r.id,t)}function f(e,t){var r=u.get(e);r.status<M.SAVED&&(r.id=t.id||e,r.dependencies=t.deps||[],r.factory=t.factory,r.status=M.SAVED)}if(!e.seajs){var l=e.seajs={version:"2.1.0"},h=l.data={},d=r("Object"),p=r("String"),v=Array.isArray||r("Array"),g=r("Function"),m=0,E=h.events={};l.on=function(e,t){return(E[e]||(E[e]=[])).push(t),l},l.off=function(e,t){if(!e&&!t)return E=h.events={},l;var r=E[e];if(r)if(t)for(var n=r.length-1;n>=0;n--)r[n]===t&&r.splice(n,1);else delete E[e];return l};var y,_,b,A=l.emit=function(e,t){var r,n=E[e];if(n)for(n=n.slice();r=n.shift();)r(t);return l},T=/[^?#]*\//,w=/\/\.\//g,D=/\/[^/]+\/\.\.\//,S=/^([^/:]+)(\/.+)$/,N=/{([^{]+)}/g,O=/^\/\/.|:\//,j=/^.*?\/\/.*?\//,x=document,U=location,q=U.href.match(T)[0],C=x.getElementsByTagName("script"),C=x.getElementById("seajsnode")||C[C.length-1],C=((C.hasAttribute?C.src:C.getAttribute("src",4))||q).match(T)[0],I=x.getElementsByTagName("head")[0]||x.documentElement,G=I.getElementsByTagName("base")[0],R=/\.css(?:\?|$)/i,$=/^(?:loaded|complete|undefined)$/,L=536>1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"),k=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,B=/\\\\/g,X=l.cache={},F={},V={},H={},M=u.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};u.prototype.resolve=function(){for(var e=this.dependencies,t=[],r=0,n=e.length;n>r;r++)t[r]=c(e[r],this.uri);return t},u.prototype.load=function(){if(!(this.status>=M.LOADING)){this.status=M.LOADING;var e=this.resolve();A("load",e);for(var t,r=this._remain=e.length,n=0;r>n;n++)t=u.get(e[n]),t.status<M.LOADED?t._waitings[this.uri]=(t._waitings[this.uri]||0)+1:this._remain--;if(0===this._remain)this.onload();else{for(var i={},n=0;r>n;n++)t=X[e[n]],t.status<M.FETCHING?t.fetch(i):t.status===M.SAVED&&t.load();for(var s in i)i.hasOwnProperty(s)&&i[s]()}}},u.prototype.onload=function(){this.status=M.LOADED,this.callback&&this.callback();var e,t,r=this._waitings;for(e in r)r.hasOwnProperty(e)&&(t=X[e],t._remain-=r[e],0===t._remain)&&t.onload();delete this._waitings,delete this._remain},u.prototype.fetch=function(e){function t(){var e=i.requestUri,t=i.onRequest,r=i.charset,n=R.test(e),s=x.createElement(n?"link":"script");r&&(r=g(r)?r(e):r)&&(s.charset=r);var o=s;!n||!L&&"onload"in o?o.onload=o.onerror=o.onreadystatechange=function(){$.test(o.readyState)&&(o.onload=o.onerror=o.onreadystatechange=null,!n&&!h.debug&&I.removeChild(o),o=null,t())}:setTimeout(function(){a(o,t)},1),n?(s.rel="stylesheet",s.href=e):(s.async=!0,s.src=e),y=s,G?I.insertBefore(s,G):I.appendChild(s),y=null}function r(){delete F[s],V[s]=!0,b&&(f(n,b),b=null);var e,t=H[s];for(delete H[s];e=t.shift();)e.load()}var n=this.uri;this.status=M.FETCHING;var i={uri:n};A("fetch",i);var s=i.requestUri||n;!s||V[s]?this.load():F[s]?H[s].push(this):(F[s]=!0,H[s]=[this],A("request",i={uri:n,requestUri:s,onRequest:r,charset:h.charset}),i.requested||(e?e[i.requestUri]=t:t()))},u.prototype.exec=function(){function e(t){return X[e.resolve(t)].exec()}if(this.status>=M.EXECUTING)return this.exports;this.status=M.EXECUTING;var r=this.uri;e.resolve=function(e){return c(e,r)},e.async=function(t,n){return u.use(t,n,r+"_async_"+m++),e};var n=this.factory,n=g(n)?n(e,this.exports={},this):n;return n===t&&(n=this.exports),null===n&&!R.test(r)&&A("error",this),delete this.factory,this.exports=n,this.status=M.EXECUTED,A("exec",this),n},u.define=function(e,r,n){var i=arguments.length;if(1===i?(n=e,e=t):2===i&&(n=r,v(e)?(r=e,e=t):r=t),!v(r)&&g(n)){var s=[];n.toString().replace(B,"").replace(k,function(e,t,r){r&&s.push(r)}),r=s}if(i={id:e,uri:c(e),deps:r,factory:n},!i.uri&&x.attachEvent){var a=o();a&&(i.uri=a.src)}A("define",i),i.uri?f(i.uri,i):b=i},u.get=function(e,t){return X[e]||(X[e]=new u(e,t))},u.use=function(t,r,n){var i=u.get(n,v(t)?t:[t]);i.callback=function(){for(var t=[],n=i.resolve(),s=0,a=n.length;a>s;s++)t[s]=X[n[s]].exec();r&&r.apply(e,t),delete i.callback},i.load()},u.preload=function(e){var t=h.preload,r=t.length;r?u.use(t,function(){t.splice(0,r),u.preload(e)},h.cwd+"_preload_"+m++):e()},l.use=function(e,t){return u.preload(function(){u.use(e,t,h.cwd+"_use_"+m++)}),l},u.define.cmd={},e.define=u.define,l.Module=u,h.fetchedList=V,h.cid=n,l.resolve=s,l.require=function(e){return(X[c(e)]||{}).exports},h.base=(C.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",C])[1],h.dir=C,h.cwd=q,h.charset="utf-8";var q=h,P=[],U=U.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),U=U+(" "+x.cookie);U.replace(/(seajs-\w+)=1/g,function(e,t){P.push(t)}),q.preload=P,l.config=function(e){for(var t in e){var r=e[t],n=h[t];if(n&&d(n))for(var s in r)n[s]=r[s];else v(n)?r=n.concat(r):"base"===t&&("/"===r.slice(-1)||(r+="/"),r=i(r)),h[t]=r}return A("config",e),l}}}(this)});
;define("common:widget/oui/seajs/2.1.0/seajs-text",function(){!function(){function e(e){i[e.name]=e}function n(e){return e&&i.hasOwnProperty(e)}function t(e){for(var t in i)if(n(t)){var r=","+i[t].ext.join(",")+",";if(r.indexOf(","+e+",")>-1)return t}}function r(e,n){var t=s.ActiveXObject?new s.ActiveXObject("Microsoft.XMLHTTP"):new s.XMLHttpRequest;return t.open("GET",e,!0),t.onreadystatechange=function(){if(4===t.readyState){if(t.status>399&&t.status<600)throw new Error("Could not load: "+e+", status = "+t.status);n(t.responseText)}},t.send(null)}function a(e){e&&/\S/.test(e)&&(s.execScript||function(e){(s.eval||eval).call(s,e)})(e)}function o(e){return e.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")}var s=window,i={},u={};e({name:"text",ext:[".tpl",".html"],exec:function(e,n){a('define("'+e+'#", [], "'+o(n)+'")')}}),e({name:"json",ext:[".json"],exec:function(e,n){a('define("'+e+'#", [], '+n+")")}}),e({name:"handlebars",ext:[".handlebars"],exec:function(e,n){var t=['define("'+e+'#", ["handlebars"], function(require, exports, module) {','  var source = "'+o(n)+'"','  var Handlebars = require("handlebars")',"  module.exports = function(data, options) {","    options || (options = {})","    options.helpers || (options.helpers = {})","    for (var key in Handlebars.helpers) {","      options.helpers[key] = options.helpers[key] || Handlebars.helpers[key]","    }","    return Handlebars.compile(source)(data, options)","  }","})"].join("\n");a(t)}}),seajs.on("resolve",function(e){var r=e.id;if(!r)return"";var a,o;(o=r.match(/^(\w+)!(.+)$/))&&n(o[1])?(a=o[1],r=o[2]):(o=r.match(/[^?]+(\.\w+)(?:\?|#|$)/))&&(a=t(o[1])),a&&-1===r.indexOf("#")&&(r+="#");var s=seajs.resolve(r,e.refUri);a&&(u[s]=a),e.uri=s}),seajs.on("request",function(e){var n=u[e.uri];n&&(r(e.requestUri,function(t){i[n].exec(e.uri,t),e.onRequest()}),e.requested=!0)}),define("seajs/seajs-text/1.0.2/seajs-text",[],{})}()});
;define("common:widget/ui/lib/eventEmitter",function(t,e,n){function i(){}i.prototype.on=function(t,e,n){this._listeners||(this._listeners={}),this._listeners[t]||(this._listeners[t]=[]);for(var i=!0,r=this._listeners[t],s=0,f=r.length;f>s;s++){var h=r[s];if(h.fn===e){i=!1;break}}return i&&r.push({fn:e,context:n?n:null}),this},i.prototype.off=function(t,e){if(!this._listeners)return this;if(!t)return this._listeners=null,this;var n=this._listeners[t];if(!n||n.length<1)return this;for(var i=0,r=n.length;r>i;i++){var s=n[i];if(s.fn===e)return n.splice(i,1),this}return this},i.prototype.trigger=function(t,e){if(!this._listeners)return this;var n=this._listeners[t];if(!n||n.length<1)return this;n=n.slice();for(var i=0,r=n.length;r>i;i++){var s=n[i];"function"==typeof s.fn&&s.fn.call(s.context,e)}return this},i.eventCenter=new i,n.exports=i});
;define("common:widget/ui/mask/mask",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/lib/eventEmitter"],function(i,t,e){function o(i){var t=n.extend({cssClass:"",width:"100%",height:"100%",zIndex:9888,parentNode:document.body},i||{});this.config=t,this.$el=null}var n=i("common:widget/oui/lib/jquery/1.9.1/jquery"),s=i("common:widget/ui/lib/eventEmitter");n.extend(o.prototype,s.prototype),n.extend(o.prototype,{_setup:function(){var i=this.config,t=n('<div class="j-mask '+i.cssClass+'"></div>').css({width:i.width,height:i.height,"z-index":i.zIndex}),e=this;this.onClick=function(){e.trigger("click")},t.on("click",this.onClick),t.appendTo(i.parentNode),this.$el=t},show:function(){return this.$el||this._setup(),this.$el.show(),this},hide:function(){return this.$el&&this.$el.hide(),this},destroy:function(){this.$el&&(this.$el.off("click",this.onClick),this.onClick=null,this.$el.remove(),this.$el=null)}}),e.exports=o});
;define("common:widget/ui/dialog/dialog",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/lib/eventEmitter","common:widget/ui/mask/mask"],function(i,t,e){function n(i){this.config=l.extend({title:"",header:"",content:"",btnContainer:"",footer:"",cssClass:"",width:"700px",zIndex:9999,autoInit:!0},i||{}),this.$el=null,this.$closeBtn=null,this._destroyed=!1,this.config.autoInit&&this.init()}function s(i){this.config=l.extend(!0,{zIndex:9999,autoInit:!0,clickMaskHide:!0,maskConfig:{}},i||{}),this._dialog=null,this._mask=null,this._destroyed=!1,this.config.autoInit&&this.init()}function o(i){var t=i.contentWindow.document;return t.body.scrollHeight&&t.documentElement.scrollHeight?Math.min(t.body.scrollHeight,t.documentElement.scrollHeight):t.documentElement.scrollHeight?t.documentElement.scrollHeight:t.body.scrollHeight?t.body.scrollHeight:void 0}var l=i("common:widget/oui/lib/jquery/1.9.1/jquery"),h=i("common:widget/ui/lib/eventEmitter"),r=i("common:widget/ui/mask/mask"),d='<div class="j-dialog" style="display: none;"><header class="j-dialog-title-con"><h1 class="j-dialog-title"></h1><span class="j-dialog-close-btn">&times;</span></header><div class="j-dialog-header"></div><div class="j-dialog-content"></div><div class="j-dialog-btn-con"></div><div class="j-dialog-footer"></div></div>',a="300px",c=50,g=l(window);l.extend(n.prototype,h.prototype),l.extend(n.prototype,{init:function(){if(this.$el)return this;var i=this,t=l(d),e=t.find(".j-dialog-title"),n=t.find(".j-dialog-close-btn"),s=t.find(".j-dialog-header"),o=t.find(".j-dialog-content"),h=t.find(".j-dialog-btn-con"),r=t.find(".j-dialog-footer"),a=this.config;this.onCloseClick=function(){i.trigger("close.click")},n.on("click",this.onCloseClick),a.header?s.append(a.header):s.hide(),a.content?o.append(a.content):o.hide(),a.btnContainer?h.append(a.btnContainer):h.hide(),a.footer?r.append(a.footer):r.hide(),a.title||(a.title=o.find(".data-dialog-title").html()),e.html(a.title),a.cssClass&&t.addClass(a.cssClass);var c={width:a.width,"z-index":a.zIndex};a.height&&(c.height=a.height),t.css(c).appendTo(document.body),this.$title=e,this.$el=t,this.$closeBtn=n},show:function(){return this._destroyed?this:(this.$el||this.init(),this.trigger("before.show"),this.center(),this.$el.show(),this.trigger("after.show"),this)},center:function(){if(!this._destroyed&&this.$el){var i=this.$el,t=!0;"block"===i.css("display")?t=!1:i.css({display:"block",visibility:"hidden"});var e=g.scrollTop(),n=g.width(),s=g.height(),o=i.width(),l=i.height(),h=e+Math.max((s-l)/2,50),r=(n-o)/2;t&&i.css({display:"none"}),i.css({visibility:"visible",top:h+"px",left:r+"px"})}return this},hide:function(){return this.$el&&(this.trigger("before.hide"),this.$el.hide(),this.trigger("after.hide")),this},resize:function(i){if(!i||!this.$el)return this;var t={};return i.width&&(t.width=i.width),i.height&&(t.height=i.height),this.$el.css(t),this},setTitle:function(i){return this.$title&&this.$title.text(i),this},destroy:function(){this.$el&&(this.$closeBtn.off("click",this.onCloseClick),this.onCloseClick=null,this.off(),this.$closeBtn=null,this.$el.remove(),this.$el=null,this.config=null,this._destroyed=!0)}});var u={};u.before=function(i,t){return this.on("before."+i,t,this),this},u.after=function(i,t){return this.on("after."+i,t,this),this},l.extend(s.prototype,h.prototype,u),l.extend(s.prototype,{init:function(){var i=this,t=this.config,e=parseInt(t.zIndex,10);e>0&&!t.maskConfig.zIndex&&(t.maskConfig.zIndex=e-1),this._dialog=new n(l.extend({},t)),this._dialog.init(),this.onCloseClick=function(){i.hide()},this._dialog.on("close.click",this.onCloseClick),this._mask=new r(t.maskConfig),this.onMaskClick=function(){i.config.clickMaskHide&&i.hide()},this._mask.on("click",this.onMaskClick)},resize:function(i){return this._dialog.resize(i),this},setTitle:function(i){return this._dialog&&this._dialog.setTitle(i),this},show:function(){return this._destroyed?this:(this._dialog||this.init(),this.trigger("before.show"),this._dialog.show(),this._mask.show(),this.trigger("after.show"),this)},hide:function(){return this._destroyed?this:(this.trigger("before.hide"),this._dialog&&(this._dialog.hide(),this._mask.hide()),this.trigger("after.hide"),this)},destroy:function(){this._dialog&&(this._dialog.off("close.click",this.onCloseClick),this.onCloseClick=null,this._mask.off("click",this.onMaskClick),this.onMaskClick=null,this._dialog.destroy(),this._mask.destroy(),this._dialog=null,this._mask=null,this.config=null,this._destroyed=!0)}});var f={};f.modalDialog=function(i){return i.url?f.iframeDialog(i):new s(i)},f.iframeDialog=function(i){function t(){u||(u=!0,r.attr("src",e.url),g.off("before.show",t),r.one("load",function(){e.height||(clearInterval(d),d=setInterval(function(){g.syncHeight()},300),g.syncHeight())}))}var e=l.extend({},i),n="100%",h=parseInt(e.height,10);h>0&&(n=h-c+"px");var r=l("<iframe></iframe>",{src:"javascript:'';",scrolling:"no",frameborder:"no",allowTransparency:"true",css:{position:"relative",border:"none",width:"100%",display:"block",height:n,overflow:"hidden"}});e.content=r;var d,g=new s(e),u=!1,f=0,m=g.destroy,k="";g.syncHeight=function(){var i;try{i=o(r[0])+"px"}catch(t){f=(f||0)+1,f>=6&&(i=a,clearInterval(d))}return k===i?void clearInterval(d):(k=i,r.css({height:k}),void g.resize({height:"auto"}))};var p=g.resize;g.resize=function(i){return this._dialog&&r&&(i.height&&r.css(i),p.call(this,i)),this},g.on("before.show",t);var v;return g.showTitleMask=function(){v||(v=l('<div class="j-dialog-title-mask"></div>'),v.appendTo(this._dialog.$el)),v.show()},g.hideTitleMask=function(){v&&v.hide()},g.destroy=function(){clearInterval(d),r.attr("src",null),r=null,v=null,m.call(g),g=null},g},f.alertDialog=function(i){var t=l.extend(!0,{okText:"确 认",autoInit:!0},i||{}),e=l('<span class="j-btn j-btn-orange j-btn-big">'+i.okText+"</span>"),n=l('<div class="btns-con-inner"></div>').append(e);t.btnContainer=n;var s=f.modalDialog(t),o=function(){s.hide(),s.trigger("ok")};e.on("click",o),n=null;var h=s.destroy;return s.destroy=function(){e.off("click",o),o=null,h.call(s),s=null},s},e.exports=f});
;define("common:widget/common-cmbc-dialog/common-cmbc-dialog",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/dialog/dialog"],function(o,i,n){var m=o("common:widget/oui/lib/jquery/1.9.1/jquery"),c=o("common:widget/ui/dialog/dialog"),e={cmbcCommonDilogObj:null,show:function(o){var i=this;i.cmbcCommonDilogObj||(i.cmbcCommonDilogObj=c.modalDialog({header:null,content:m("#commonCMBCDialog"),width:721,cssClass:"common-CMBC-dialog-wrapper",clickMaskHide:!1})),m(".common-CMBC-dialog-wrapper").css({background:"none"}),m("#commonCMBCDialog").show(),i.cmbcCommonDilogObj.show(),i.setFirstLoginFalse(o)},hide:function(){this.cmbcCommonDilogObj.hide()},setFirstLoginFalse:function(o){"firstLogin"==o&&m.post("/rrdRegist!setFirstLoginFalse.action",{},function(){})},init:function(o){e.show(o),m("#commonCMBCDilogCloseBtn , #cmbcCloseBtn").on("click",function(){e.hide()})},smartShow:function(o){e.cmbcCommonDilogObj?e.show(o):e.init(o)}};n.exports=e});
;define("common:widget/footer/footer",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(o){function e(){var o=null;clearInterval(o);var e=0,n=0;o=setInterval(function(){n=document.documentElement.scrollTop||document.body.scrollTop,e=Math.floor((0-n)/8),0==n?clearInterval(o):document.documentElement.scrollTop=document.body.scrollTop=n+e},10)}var n=o("common:widget/oui/lib/jquery/1.9.1/jquery"),t=o("common:widget/oui/arale/dialog/1.3.3/dialog"),i=null;n(".fixed-download").hover(function(){n(this).addClass("hover"),clearTimeout(i),n(".download-app-wrap").show(),n(".download-app-wrap-opacity").show()},function(){i=setTimeout(function(){n(".download-app-wrap").hide(),n(".download-app-wrap-opacity").hide(),n(".fixed-download").removeClass("hover")},100)}),window.onscroll=function(){var o=document.documentElement.scrollTop||document.body.scrollTop;o>=100?n(".fixed-goTop").show():n(".fixed-goTop").hide()},n(function(){var o=document.documentElement.scrollTop||document.body.scrollTop;o>=100&&n(".fixed-goTop").show(),n("#wexinBtn").length&&n("#weixin-content").length&&new t({trigger:"#wexinBtn",width:"350px",content:n("#weixin-content")})}),n(".fixed-goTop").click(function(){e(n(this)[0])});var d,l=n(".friendlink").height(),a=n(".ui-footer-narrow-hide").height(),r="icon-footer-snow-top",c=n(".maincontent");n(".icon-footer-snow-down").on("click",function(){d=l-a,n(this).hasClass(r)?(n(".ui-footer-narrow-hide").animate({height:a}),c.animate({paddingBottom:330})):(n(".ui-footer-narrow-hide").animate({height:l}),c.animate({paddingBottom:330+d})),n(this).toggleClass(r)})});
;define("common:widget/ui/utils/utils",function(e,t,n){function a(e,t,n){try{if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,n);else if(e.createTextRange){var a=e.createTextRange();a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a.select()}}catch(r){}}var r={};r.moveCursorEnd=function(e){if(e){var t=e.value;t&&a(e,t.length,t.length)}},r.query2json=function(e){e=e.replace(/^\?/,"");for(var t={},n=e.split("&"),a=0,r=n.length;r>a;a++){var o=n[a],u=o.split("=");if(2===u.length)try{t[u[0]]=decodeURIComponent(u[1])}catch(i){}}return t},r.getSearchConf=function(){return r.query2json(location.search)},r.fixFloat1=function(e){return"string"==typeof e&&(e=parseFloat(e,10)),parseFloat(Math.round(100*e)/100,10).toFixed(1)},r.fixFloat2=function(e){return"string"==typeof e&&(e=parseFloat(e,10)),parseFloat(Math.round(100*e)/100,10).toFixed(2)},r.fixFloat4=function(e){return"string"==typeof e&&(e=parseFloat(e,10)),parseFloat(Math.round(1e4*e)/1e4,10).toFixed(4)},r.commaInteger=function(e){return e=parseInt(e,10),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},r.commaFloat=function(e){return e?r.fixFloat2(e).replace(/\B(?=(\d{3})+(?!\d))/g,","):0},r.isNumber=function(e){return e=e||"",/^\d+(\.\d+)?$/.test(e)},r.formatYearMonthDate=function(e){var t="";if(e&&e instanceof Date){var n=e.getMonth()+1,a=e.getDate(),r=e.getFullYear();10>n&&(n="0"+n),10>a&&(a="0"+a),t=r+"-"+n+"-"+a}return t},r.formatMonthDate=function(e){var t="";if(e&&e instanceof Date){var n=e.getMonth()+1,a=e.getDate();10>n&&(n="0"+n),10>a&&(a="0"+a),t=n+"-"+a}return t},r.getFundTypeString=function(e){var t="",n=!1,a=!1;switch(e){case"1":t="股票型";break;case"2":t="债券型";break;case"3":t="混合型";break;case"4":t="货币型",n=!0;break;case"5":t="保本型",a=!0;break;case"6":t="指数型";break;default:t=""}return{typeString:t,isMoneyFund:n,isSafeFund:a}},r.isMoneyFund=function(e){return"FUND_MONEY"===e};var o="YM",u="QJ";r.canBuyFund=function(e,t,n){var a=!1,r=!1,i="";if("1"===t)switch(e){case"0":case"6":a=!0,i="立即申购";break;case"1":a=!0,i="立即认购";break;case"4":case"5":case"8":a=!1,i="停止申购";break;case"9":a=!1,i="封闭期"}else i="暂不销售";return n===o?("0"===e||"5"===e)&&(r=!0):n===u&&(r=!0),{canBuyFund:a,canRedemption:r,fundBuyText:i}},r.adaptFundInfo=function(e){var t=r.getFundTypeString(e.fundType),n=t.isMoneyFund,a=t.typeString,o=r.canBuyFund(e.fundStatus,e.onSale,e.fundChannel),u="";switch(e.riskLevel){case"1":u="低";break;case"2":u="中";break;case"3":u="高";break;default:u="--"}var i="--";if(e.calcDate){var c=new Date(parseInt(e.calcDate,10));i=r.formatMonthDate(c)}var s=parseInt(e.riskLevel,10),f=parseInt(e.riskability,10),l=s>f;return{isOverUserRisk:l,shareScale:r.commaFloat(e.shareScale),marketValue:r.commaFloat(e.marketValue/1e8),isMoneyFund:n,isSafeFund:t.isSafeFund,typeString:a,canBuyFund:o.canBuyFund,canRedemption:o.canRedemption,fundBuyText:o.fundBuyText,riskLevelText:u,calcDateText:i}},r.adaptUserFundInfo=function(e){var t=r.getFundTypeString(e.fundType),n=r.canBuyFund(e.fundStatus,e.onSale,e.fundChannel),a=t.isMoneyFund,o=t.typeString,u="";if(e.calcDate){var i=new Date(parseInt(e.calcDate,10));u=r.formatMonthDate(i)}e.freezeShare=e.freezeShare||"0.00";var c=parseFloat(e.totalShare,10),s=parseFloat(e.freezeShare,10),f=r.fixFloat2(c-s);return{isMoneyFund:a,typeString:o,canBuyFund:n.canBuyFund,canRedemption:n.canRedemption,calcDateText:u,availableShare:f}},r.setCookie=function(e,t,n){var a=new Date;a.setTime(a.getTime()+n),document.cookie=e+"="+escape(t)+(null==n?"":";expires="+a.toGMTString()+";path=/")};var i={"00":"305","01":"102","02":"104","03":"105","04":"103","05":"301","06":"308","07":"309","08":"302","09":"303",10:"307",11:"304",12:"403",13:"",14:"306",15:"310",16:"316",17:"319",18:"",19:"",20:"",21:"",22:"",23:"",24:"",25:"",26:"",27:"",28:"",29:"318",30:"",31:"",32:""},c={"00":"民生银行","01":"工商银行","02":"中国银行","03":"建设银行","04":"农业银行","05":"交通银行","06":"招商银行","07":"兴业银行","08":"中信银行","09":"光大银行",10:"平安银行",11:"华夏银行",12:"储蓄银行",13:"北京银行",14:"广发银行",15:"浦发银行",16:"浙商银行",17:"徽商银行",18:"",19:"江苏银行",20:"上海银行",21:"南京银行",22:"杭州银行",23:"苏州银行",24:"宁波银行",25:"温州银行",26:"台州银行",27:"包商银行",28:"哈尔滨银行",29:"渤海银行",30:"东亚银行",31:"上海农商行",32:"北京农商行"};r.minshengBankCode2rrd=function(e){var t=i[""+e]||"minsheng-"+e;return t},r.longName2shortName=function(e){var t=c[""+e];return t},r.getArgs=function(e){for(var t=new Object,n=location.search.substring(1),a=n.split("&"),r=0;r<a.length;r++){var o=a[r].indexOf("=");if(-1!=o){var u=a[r].substring(0,o),i=a[r].substring(o+1);i=decodeURIComponent(i),t[u]=i}}return t[e]},n.exports=r});
;define("common:widget/ui/jselect/jselect",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/lib/eventEmitter"],function(t,i,e){function o(t){var i=n(t.el);this.$indicator=i.find(".j-select-indicator"),this.$text=this.$indicator.find(".text-holder"),this.$list=i.find(".j-select-list"),this.$el=i,this.init()}var n=t("common:widget/oui/lib/jquery/1.9.1/jquery"),s=t("common:widget/ui/lib/eventEmitter");n.extend(o.prototype,s.prototype,{init:function(){var t=this;this.onBodyClick=function(){t.hideList()},n(document).on("click",this.onBodyClick),this.indicatorClick=function(i){i.stopPropagation(),t.toggleList()},this.$indicator.on("click",this.indicatorClick),this.onItemClick=function(i){i.stopPropagation();var e=n(i.currentTarget),o=e.attr("data-value"),s=e.text();t.trigger("change",{value:o,text:s}),t.$text.text(s),t.hideList()},this.$list.on("click",".j-select-item",this.onItemClick)},hideList:function(){return this.$list.hide(),this},showList:function(){return this.$list.show(),this},toggleList:function(){return"block"===this.$list.css("display")?this.hideList():this.showList()},destroy:function(){this.$el&&(this.off(),n(document).off("click",this.onBodyClick),this.$indicator.off("click",this.indicatorClick),this.$list.off("click",".j-select-item",this.onItemClick),this.onBodyClick=null,this.indicatorClick=null,this.onItemClick=null,this.$indicator=null,this.$text=null,this.$list=null,this.$el.remove(),this.$el=null)}}),o.make=function(t){return new o({el:t})},e.exports=o});
;define("common:widget/second-header/second-header",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol"],function(e,t,o){var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/protocol"),s="/static/common/widget/second-header/assets/default-avatar-78_2d91526.png",n={init:function(){var e="true"==r.trim(r("#header-helper-authenticated").text());e&&(c.initMsg(),c.initUserInfo())}},c={getHomePageUserInfoCallBack:function(e,t,o){"success"==o.retResult&&"-1"!=e&&(r.trim(o.userAvatar)?(r("#he-userAvatar").attr("src",o.userAvatar),r(".he-userAvatar-class").attr("src",o.userAvatar)):(r("#he-userAvatar").attr("src",s),r(".he-userAvatar-class").attr("src",s)))},initUserInfo:function(){"https:"==document.location.protocol.toLowerCase()?a.getHomePageUserInfoHttps({timeout:5e3},c.getHomePageUserInfoCallBack):a.getHomePageUserInfoHttp({timeout:5e3},c.getHomePageUserInfoCallBack)},initMsg:function(){var e=r("#header-msgcount"),t=r(".account-menu .org");a.getUnreadMsgCount(null,function(o,r,a){var s=a.count;s>=100?(e.text(""),e.removeClass("msgcount-icon").addClass("msgcountmore-icon"),e.show()):s>0&&100>s&&(e.text(s),e.show()),s>0&&(t.show(),t.text("（"+s+"）"))})}};o.exports=n});
;define("common:widget/ui/lib/echarts.source",["require","exports","module"],function(t,e,i){!function(t){var e,i;!function(){function t(t,e){if(!e)return t;if(0===t.indexOf(".")){var i=e.split("/"),o=t.split("/"),r=i.length-1,n=o.length,s=0,a=0;t:for(var h=0;n>h;h++)switch(o[h]){case"..":if(!(r>s))break t;s++,a++;break;case".":a++;break;default:break t}return i.length=r-s,o=o.slice(a),i.concat(o).join("/")}return t}function o(e){function i(i,s){if("string"==typeof i){var a=o[i];return a||(a=n(t(i,e)),o[i]=a),a}i instanceof Array&&(s=s||function(){},s.apply(this,r(i,s,e)))}var o={};return i}function r(i,o,r){for(var a=[],h=s[r],l=0,c=Math.min(i.length,o.length);c>l;l++){var d,u=t(i[l],r);switch(u){case"require":d=h&&h.require||e;break;case"exports":d=h.exports;break;case"module":d=h;break;default:d=n(u)}a.push(d)}return a}function n(t){var e=s[t];if(!e)throw new Error("No "+t);if(!e.defined){var i=e.factory,o=i.apply(this,r(e.deps||[],i,t));"undefined"!=typeof o&&(e.exports=o),e.defined=1}return e.exports}var s={};i=function(t,e,i){s[t]={id:t,deps:e,factory:i,defined:0,exports:{},require:o(t)}},e=o("")}(),i("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","zrender/tool/color","./component/timeline","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/macarons","./theme/infographic"],function(t){function e(){s.Dispatcher.call(this)}function i(t){t.innerHTML="",this._themeConfig={},this.dom=t,this._connected=!1,this._status={dragIn:!1,dragOut:!1,needRefresh:!1},this._curEventType=!1,this._chartList=[],this._messageCenter=new e,this._messageCenterOutSide=new e,this.resize=this.resize(),this._init()}function o(t,e,i,o,r){for(var n=t._chartList,s=n.length;s--;){var a=n[s];"function"==typeof a[e]&&a[e](i,o,r)}}var r=t("./config"),n=t("zrender/tool/util"),s=t("zrender/tool/event"),a={},h=t("zrender/tool/env").canvasSupported,l=new Date-0,c={},d="_echarts_instance_";a.version="2.2.6",a.dependencies={zrender:"2.1.1"},a.init=function(e,o){var r=t("zrender");r.version.replace(".","")-0<a.dependencies.zrender.replace(".","")-0&&console.error("ZRender "+r.version+" is too old for ECharts "+a.version+". Current version need ZRender "+a.dependencies.zrender+"+"),e=e instanceof Array?e[0]:e;var n=e.getAttribute(d);return n||(n=l++,e.setAttribute(d,n)),c[n]&&c[n].dispose(),c[n]=new i(e),c[n].id=n,c[n].canvasSupported=h,c[n].setTheme(o),c[n]},a.getInstanceById=function(t){return c[t]},n.merge(e.prototype,s.Dispatcher.prototype,!0);var u=t("zrender/config").EVENT,p=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];return i.prototype={_init:function(){var e=this,i=t("zrender").init(this.dom);this._zr=i,this._messageCenter.dispatch=function(t,i,o,r){o=o||{},o.type=t,o.event=i,e._messageCenter.dispatchWithContext(t,o,r),e._messageCenterOutSide.dispatchWithContext(t,o,r)},this._onevent=function(t){return e.__onevent(t)};for(var o in r.EVENT)"CLICK"!=o&&"DBLCLICK"!=o&&"HOVER"!=o&&"MOUSEOUT"!=o&&"MAP_ROAM"!=o&&this._messageCenter.bind(r.EVENT[o],this._onevent,this);var n={};this._onzrevent=function(t){return e[n[t.type]](t)};for(var s=0,a=p.length;a>s;s++){var h=p[s],l=u[h];n[l]="_on"+h.toLowerCase(),i.on(l,this._onzrevent)}this.chart={},this.component={};var c=t("./chart/island");this._island=new c(this._themeConfig,this._messageCenter,i,{},this),this.chart.island=this._island;var d=t("./component/toolbox");this._toolbox=new d(this._themeConfig,this._messageCenter,i,{},this),this.component.toolbox=this._toolbox;var f=t("./component");f.define("title",t("./component/title")),f.define("tooltip",t("./component/tooltip")),f.define("legend",t("./component/legend")),(0===i.getWidth()||0===i.getHeight())&&console.error("Dom’s width & height should be ready before init.")},__onevent:function(t){t.__echartsId=t.__echartsId||this.id;var e=t.__echartsId===this.id;switch(this._curEventType||(this._curEventType=t.type),t.type){case r.EVENT.LEGEND_SELECTED:this._onlegendSelected(t);break;case r.EVENT.DATA_ZOOM:if(!e){var i=this.component.dataZoom;i&&(i.silence(!0),i.absoluteZoom(t.zoom),i.silence(!1))}this._ondataZoom(t);break;case r.EVENT.DATA_RANGE:e&&this._ondataRange(t);break;case r.EVENT.MAGIC_TYPE_CHANGED:if(!e){var o=this.component.toolbox;o&&(o.silence(!0),o.setMagicType(t.magicType),o.silence(!1))}this._onmagicTypeChanged(t);break;case r.EVENT.DATA_VIEW_CHANGED:e&&this._ondataViewChanged(t);break;case r.EVENT.TOOLTIP_HOVER:e&&this._tooltipHover(t);break;case r.EVENT.RESTORE:this._onrestore();break;case r.EVENT.REFRESH:e&&this._onrefresh(t);break;case r.EVENT.TOOLTIP_IN_GRID:case r.EVENT.TOOLTIP_OUT_GRID:if(e){if(this._connected){var n=this.component.grid;n&&(t.x=(t.event.zrenderX-n.getX())/n.getWidth(),t.y=(t.event.zrenderY-n.getY())/n.getHeight())}}else{var n=this.component.grid;n&&this._zr.trigger("mousemove",{connectTrigger:!0,zrenderX:n.getX()+t.x*n.getWidth(),zrenderY:n.getY()+t.y*n.getHeight()})}}if(this._connected&&e&&this._curEventType===t.type){for(var s in this._connected)this._connected[s].connectedEventHandler(t);this._curEventType=null}(!e||!this._connected&&e)&&(this._curEventType=null)},_onclick:function(t){if(o(this,"onclick",t),t.target){var e=this._eventPackage(t.target);e&&null!=e.seriesIndex&&this._messageCenter.dispatch(r.EVENT.CLICK,t.event,e,this)}},_ondblclick:function(t){if(o(this,"ondblclick",t),t.target){var e=this._eventPackage(t.target);e&&null!=e.seriesIndex&&this._messageCenter.dispatch(r.EVENT.DBLCLICK,t.event,e,this)}},_onmouseover:function(t){if(t.target){var e=this._eventPackage(t.target);e&&null!=e.seriesIndex&&this._messageCenter.dispatch(r.EVENT.HOVER,t.event,e,this)}},_onmouseout:function(t){if(t.target){var e=this._eventPackage(t.target);e&&null!=e.seriesIndex&&this._messageCenter.dispatch(r.EVENT.MOUSEOUT,t.event,e,this)}},_ondragstart:function(t){this._status={dragIn:!1,dragOut:!1,needRefresh:!1},o(this,"ondragstart",t)},_ondragenter:function(t){o(this,"ondragenter",t)},_ondragover:function(t){o(this,"ondragover",t)},_ondragleave:function(t){o(this,"ondragleave",t)},_ondrop:function(t){o(this,"ondrop",t,this._status),this._island.ondrop(t,this._status)},_ondragend:function(t){if(o(this,"ondragend",t,this._status),this._timeline&&this._timeline.ondragend(t,this._status),this._island.ondragend(t,this._status),this._status.needRefresh){this._syncBackupData(this._option);var e=this._messageCenter;e.dispatch(r.EVENT.DATA_CHANGED,t.event,this._eventPackage(t.target),this),e.dispatch(r.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(t){this._status.needRefresh=!1,o(this,"onlegendSelected",t,this._status),this._status.needRefresh&&this._messageCenter.dispatch(r.EVENT.REFRESH,null,null,this)},_ondataZoom:function(t){this._status.needRefresh=!1,o(this,"ondataZoom",t,this._status),this._status.needRefresh&&this._messageCenter.dispatch(r.EVENT.REFRESH,null,null,this)},_ondataRange:function(t){this._clearEffect(),this._status.needRefresh=!1,o(this,"ondataRange",t,this._status),this._status.needRefresh&&this._zr.refreshNextFrame()},_onmagicTypeChanged:function(){this._clearEffect(),this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(t){this._syncBackupData(t.option),this._messageCenter.dispatch(r.EVENT.DATA_CHANGED,null,t,this),this._messageCenter.dispatch(r.EVENT.REFRESH,null,null,this)},_tooltipHover:function(t){var e=[];o(this,"ontooltipHover",t,e)},_onrestore:function(){this.restore()},_onrefresh:function(t){this._refreshInside=!0,this.refresh(t),this._refreshInside=!1},_syncBackupData:function(t){this.component.dataZoom&&this.component.dataZoom.syncBackupData(t)},_eventPackage:function(e){if(e){var i=t("./util/ecData"),o=i.get(e,"seriesIndex"),r=i.get(e,"dataIndex");return r=-1!=o&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(o,r):r,{seriesIndex:o,seriesName:(i.get(e,"series")||{}).name,dataIndex:r,data:i.get(e,"data"),name:i.get(e,"name"),value:i.get(e,"value"),special:i.get(e,"special")}}},_noDataCheck:function(t){for(var e=t.series,i=0,o=e.length;o>i;i++)if(e[i].type==r.CHART_TYPE_MAP||e[i].data&&e[i].data.length>0||e[i].markPoint&&e[i].markPoint.data&&e[i].markPoint.data.length>0||e[i].markLine&&e[i].markLine.data&&e[i].markLine.data.length>0||e[i].nodes&&e[i].nodes.length>0||e[i].links&&e[i].links.length>0||e[i].matrix&&e[i].matrix.length>0||e[i].eventList&&e[i].eventList.length>0)return!1;var n=this._option&&this._option.noDataLoadingOption||this._themeConfig.noDataLoadingOption||r.noDataLoadingOption||{text:this._option&&this._option.noDataText||this._themeConfig.noDataText||r.noDataText,effect:this._option&&this._option.noDataEffect||this._themeConfig.noDataEffect||r.noDataEffect};return this.clear(),this.showLoading(n),!0},_render:function(e){if(this._mergeGlobalConifg(e),!this._noDataCheck(e)){var i=e.backgroundColor;if(i)if(h||-1==i.indexOf("rgba"))this.dom.style.backgroundColor=i;else{var o=i.split(",");this.dom.style.filter="alpha(opacity="+100*o[3].substring(0,o[3].lastIndexOf(")"))+")",o.length=3,o[0]=o[0].replace("a",""),this.dom.style.backgroundColor=o.join(",")+")"}this._zr.clearAnimation(),this._chartList=[];var n=t("./chart"),s=t("./component");(e.xAxis||e.yAxis)&&(e.grid=e.grid||{},e.dataZoom=e.dataZoom||{});for(var a,l,c,d=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"],u=0,p=d.length;p>u;u++)l=d[u],c=this.component[l],e[l]?(c?c.refresh&&c.refresh(e):(a=s.get(/^[xy]Axis$/.test(l)?"axis":l),c=new a(this._themeConfig,this._messageCenter,this._zr,e,this,l),this.component[l]=c),this._chartList.push(c)):c&&(c.dispose(),this.component[l]=null,delete this.component[l]);for(var f,g,m,_={},u=0,p=e.series.length;p>u;u++)g=e.series[u].type,g?_[g]||(_[g]=!0,f=n.get(g),f?(this.chart[g]?(m=this.chart[g],m.refresh(e)):m=new f(this._themeConfig,this._messageCenter,this._zr,e,this),this._chartList.push(m),this.chart[g]=m):console.error(g+" has not been required.")):console.error("series["+u+"] chart type has not been defined.");for(g in this.chart)g==r.CHART_TYPE_ISLAND||_[g]||(this.chart[g].dispose(),this.chart[g]=null,delete this.chart[g]);this.component.grid&&this.component.grid.refixAxisShape(this.component),this._island.refresh(e),this._toolbox.refresh(e),e.animation&&!e.renderAsImage?this._zr.refresh():this._zr.render();var y="IMG"+this.id,v=document.getElementById(y);e.renderAsImage&&h?(v?v.src=this.getDataURL(e.renderAsImage):(v=this.getImage(e.renderAsImage),v.id=y,v.style.position="absolute",v.style.left=0,v.style.top=0,this.dom.firstChild.appendChild(v)),this.un(),this._zr.un(),this._disposeChartList(),this._zr.clear()):v&&v.parentNode.removeChild(v),v=null,this._option=e}},restore:function(){this._clearEffect(),this._option=n.clone(this._optionRestore),this._disposeChartList(),this._island.clear(),this._toolbox.reset(this._option,!0),this._render(this._option)},refresh:function(t){this._clearEffect(),t=t||{};var e=t.option;!this._refreshInside&&e&&(e=this.getOption(),n.merge(e,t.option,!0),n.merge(this._optionRestore,t.option,!0),this._toolbox.reset(e)),this._island.refresh(e),this._toolbox.refresh(e),this._zr.clearAnimation();for(var i=0,o=this._chartList.length;o>i;i++)this._chartList[i].refresh&&this._chartList[i].refresh(e);this.component.grid&&this.component.grid.refixAxisShape(this.component),this._zr.refresh()},_disposeChartList:function(){this._clearEffect(),this._zr.clearAnimation();for(var t=this._chartList.length;t--;){var e=this._chartList[t];if(e){var i=e.type;this.chart[i]&&delete this.chart[i],this.component[i]&&delete this.component[i],e.dispose&&e.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(e){for(var i=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationDurationUpdate","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"],o=i.length;o--;){var n=i[o];null==e[n]&&(e[n]=null!=this._themeConfig[n]?this._themeConfig[n]:r[n])}var s=e.color;s&&s.length||(s=this._themeConfig.color||r.color),this._zr.getColor=function(e){var i=t("zrender/tool/color");return i.getColor(e,s)},h||(e.animation=!1,e.addDataAnimation=!1)},setOption:function(t,e){return t.timeline?this._setTimelineOption(t):this._setOption(t,e)},_setOption:function(t,e,i){return!e&&this._option?this._option=n.merge(this.getOption(),n.clone(t),!0):(this._option=n.clone(t),!i&&this._timeline&&this._timeline.dispose()),this._optionRestore=n.clone(this._option),this._option.series&&0!==this._option.series.length?(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)&&this.component.dataZoom.syncOption(this._option),this._toolbox.reset(this._option),this._render(this._option),this):void this._zr.clear()},getOption:function(){function t(t){var o=i._optionRestore[t];if(o)if(o instanceof Array)for(var r=o.length;r--;)e[t][r].data=n.clone(o[r].data);else e[t].data=n.clone(o.data)}var e=n.clone(this._option),i=this;return t("xAxis"),t("yAxis"),t("series"),e},setSeries:function(t,e){return e?(this._option.series=t,this.setOption(this._option,e)):this.setOption({series:t}),this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(e){this._timeline&&this._timeline.dispose();var i=t("./component/timeline"),o=new i(this._themeConfig,this._messageCenter,this._zr,e,this);return this._timeline=o,this.component.timeline=this._timeline,this},addData:function(t,e,i,o,s){function a(){if(d._zr){d._zr.clearAnimation();for(var t=0,e=E.length;e>t;t++)E[t].motionlessOnce=l.addDataAnimation&&E[t].addDataAnimation;d._messageCenter.dispatch(r.EVENT.REFRESH,null,{option:l},d)}}for(var h=t instanceof Array?t:[[t,e,i,o,s]],l=this.getOption(),c=this._optionRestore,d=this,u=0,p=h.length;p>u;u++){t=h[u][0],e=h[u][1],i=h[u][2],o=h[u][3],s=h[u][4];var f=c.series[t],g=i?"unshift":"push",m=i?"pop":"shift";if(f){var _=f.data,y=l.series[t].data;if(_[g](e),y[g](e),o||(_[m](),e=y[m]()),null!=s){var v,x;if(f.type===r.CHART_TYPE_PIE&&(v=c.legend)&&(x=v.data)){var b=l.legend.data;if(x[g](s),b[g](s),!o){var T=n.indexOf(x,e.name);-1!=T&&x.splice(T,1),T=n.indexOf(b,e.name),-1!=T&&b.splice(T,1)}}else if(null!=c.xAxis&&null!=c.yAxis){var S,z,C=f.xAxisIndex||0;(null==c.xAxis[C].type||"category"===c.xAxis[C].type)&&(S=c.xAxis[C].data,z=l.xAxis[C].data,S[g](s),z[g](s),o||(S[m](),z[m]())),C=f.yAxisIndex||0,"category"===c.yAxis[C].type&&(S=c.yAxis[C].data,z=l.yAxis[C].data,S[g](s),z[g](s),o||(S[m](),z[m]()))}}this._option.series[t].data=l.series[t].data}}this._zr.clearAnimation();for(var E=this._chartList,w=0,L=function(){w--,0===w&&a()},u=0,p=E.length;p>u;u++)l.addDataAnimation&&E[u].addDataAnimation&&(w++,E[u].addDataAnimation(h,L));return this.component.dataZoom&&this.component.dataZoom.syncOption(l),this._option=l,l.addDataAnimation||setTimeout(a,0),this},addMarkPoint:function(t,e){return this._addMark(t,e,"markPoint")},addMarkLine:function(t,e){return this._addMark(t,e,"markLine")},_addMark:function(t,e,i){var o,r=this._option.series;if(r&&(o=r[t])){var s=this._optionRestore.series,a=s[t],h=o[i],l=a[i];h=o[i]=h||{data:[]},l=a[i]=l||{data:[]};for(var c in e)"data"===c?(h.data=h.data.concat(e.data),l.data=l.data.concat(e.data)):"object"!=typeof e[c]||null==h[c]?h[c]=l[c]=e[c]:(n.merge(h[c],e[c],!0),n.merge(l[c],e[c],!0));var d=this.chart[o.type];d&&d.addMark(t,e,i)}return this},delMarkPoint:function(t,e){return this._delMark(t,e,"markPoint")},delMarkLine:function(t,e){return this._delMark(t,e,"markLine")},_delMark:function(t,e,i){var o,r,n,s=this._option.series;if(!(s&&(o=s[t])&&(r=o[i])&&(n=r.data)))return this;e=e.split(" > ");for(var a=-1,h=0,l=n.length;l>h;h++){var c=n[h];if(c instanceof Array){if(c[0].name===e[0]&&c[1].name===e[1]){a=h;break}}else if(c.name===e[0]){a=h;break}}if(a>-1){n.splice(a,1),this._optionRestore.series[t][i].data.splice(a,1);var d=this.chart[o.type];d&&d.delMark(t,e.join(" > "),i)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(t){if(!h)return"";if(0===this._chartList.length){var e="IMG"+this.id,i=document.getElementById(e);if(i)return i.src}var o=this.component.tooltip;switch(o&&o.hideTip(),t){case"jpeg":break;default:t="png"}var r=this._option.backgroundColor;return r&&"rgba(0,0,0,0)"===r.replace(" ","")&&(r="#fff"),this._zr.toDataURL("image/"+t,r)},getImage:function(t){var e=this._optionRestore.title,i=document.createElement("img");return i.src=this.getDataURL(t),i.title=e&&e.text||"ECharts",i},getConnectedDataURL:function(e){if(!this.isConnected())return this.getDataURL(e);var i=this.dom,o={self:{img:this.getDataURL(e),left:i.offsetLeft,top:i.offsetTop,right:i.offsetLeft+i.offsetWidth,bottom:i.offsetTop+i.offsetHeight}},r=o.self.left,n=o.self.top,s=o.self.right,a=o.self.bottom;for(var h in this._connected)i=this._connected[h].getDom(),o[h]={img:this._connected[h].getDataURL(e),left:i.offsetLeft,top:i.offsetTop,right:i.offsetLeft+i.offsetWidth,bottom:i.offsetTop+i.offsetHeight},r=Math.min(r,o[h].left),n=Math.min(n,o[h].top),s=Math.max(s,o[h].right),a=Math.max(a,o[h].bottom);var l=document.createElement("div");l.style.position="absolute",l.style.left="-4000px",l.style.width=s-r+"px",l.style.height=a-n+"px",document.body.appendChild(l);var c=t("zrender").init(l),d=t("zrender/shape/Image");for(var h in o)c.addShape(new d({style:{x:o[h].left-r,y:o[h].top-n,image:o[h].img}}));c.render();var u=this._option.backgroundColor;u&&"rgba(0,0,0,0)"===u.replace(/ /g,"")&&(u="#fff");var p=c.toDataURL("image/png",u);return setTimeout(function(){c.dispose(),l.parentNode.removeChild(l),l=null},100),p},getConnectedImage:function(t){var e=this._optionRestore.title,i=document.createElement("img");return i.src=this.getConnectedDataURL(t),i.title=e&&e.text||"ECharts",i},on:function(t,e){return this._messageCenterOutSide.bind(t,e,this),this},un:function(t,e){return this._messageCenterOutSide.unbind(t,e),this},connect:function(t){if(!t)return this;if(this._connected||(this._connected={}),t instanceof Array)for(var e=0,i=t.length;i>e;e++)this._connected[t[e].id]=t[e];else this._connected[t.id]=t;return this},disConnect:function(t){if(!t||!this._connected)return this;if(t instanceof Array)for(var e=0,i=t.length;i>e;e++)delete this._connected[t[e].id];else delete this._connected[t.id];for(var o in this._connected)return this;return this._connected=!1,this},connectedEventHandler:function(t){t.__echartsId!=this.id&&this._onevent(t)},isConnected:function(){return!!this._connected},showLoading:function(e){var i={bar:t("zrender/loadingEffect/Bar"),bubble:t("zrender/loadingEffect/Bubble"),dynamicLine:t("zrender/loadingEffect/DynamicLine"),ring:t("zrender/loadingEffect/Ring"),spin:t("zrender/loadingEffect/Spin"),whirling:t("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView(),e=e||{};var o=e.textStyle||{};e.textStyle=o;var s=n.merge(n.merge(n.clone(o),this._themeConfig.textStyle),r.textStyle);o.textFont=s.fontStyle+" "+s.fontWeight+" "+s.fontSize+"px "+s.fontFamily,o.text=e.text||this._option&&this._option.loadingText||this._themeConfig.loadingText||r.loadingText,null!=e.x&&(o.x=e.x),null!=e.y&&(o.y=e.y),e.effectOption=e.effectOption||{},e.effectOption.textStyle=o;var a=e.effect;return("string"==typeof a||null==a)&&(a=i[e.effect||this._option&&this._option.loadingEffect||this._themeConfig.loadingEffect||r.loadingEffect]||i.spin),this._zr.showLoading(new a(e.effectOption)),this},hideLoading:function(){return this._zr.hideLoading(),this},setTheme:function(e){if(e){if("string"==typeof e)switch(e){case"macarons":e=t("./theme/macarons");break;case"infographic":e=t("./theme/infographic");break;default:e={}}else e=e||{};this._themeConfig=e}if(!h){var i=this._themeConfig.textStyle;i&&i.fontFamily&&i.fontFamily2&&(i.fontFamily=i.fontFamily2),i=r.textStyle,i.fontFamily=i.fontFamily2}this._timeline&&this._timeline.setTheme(!0),this._optionRestore&&this.restore()},resize:function(){var t=this;return function(){if(t._clearEffect(),t._zr.resize(),t._option&&t._option.renderAsImage&&h)return t._render(t._option),t;t._zr.clearAnimation(),t._island.resize(),t._toolbox.resize(),t._timeline&&t._timeline.resize();for(var e=0,i=t._chartList.length;i>e;e++)t._chartList[e].resize&&t._chartList[e].resize();return t.component.grid&&t.component.grid.refixAxisShape(t.component),t._zr.refresh(),t._messageCenter.dispatch(r.EVENT.RESIZE,null,null,t),t}},_clearEffect:function(){this._zr.modLayer(r.EFFECT_ZLEVEL,{motionBlur:!1}),this._zr.painter.clearLayer(r.EFFECT_ZLEVEL)},clear:function(){return this._disposeChartList(),this._zr.clear(),this._option={},this._optionRestore={},this.dom.style.backgroundColor=null,this},dispose:function(){var t=this.dom.getAttribute(d);t&&delete c[t],this._island.dispose(),this._toolbox.dispose(),this._timeline&&this._timeline.dispose(),this._messageCenter.unbind(),this.clear(),this._zr.dispose(),this._zr=null}},a}),i("echarts/chart/line",["require","./base","zrender/shape/Polyline","../util/shape/Icon","../util/shape/HalfSmoothPolygon","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(t){function e(t,e,i,r,n){o.call(this,t,e,i,r,n),this.refresh(r)}function i(t,e,i){var o=e.x,r=e.y,s=e.width,a=e.height,h=a/2;e.symbol.match("empty")&&(t.fillStyle="#fff"),e.brushType="both";var l=e.symbol.replace("empty","").toLowerCase();l.match("star")?(h=l.replace("star","")-0||5,r-=1,l="star"):("rectangle"===l||"arrow"===l)&&(o+=(s-a)/2,s=a);var c="";if(l.match("image")&&(c=l.replace(new RegExp("^image:\\/\\/"),""),l="image",o+=Math.round((s-a)/2)-1,s=a+=2),l=n.prototype.iconLibrary[l]){var d=e.x,u=e.y;t.moveTo(d,u+h),t.lineTo(d+5,u+h),t.moveTo(d+e.width-5,u+h),t.lineTo(d+e.width,u+h);var p=this;l(t,{x:o+4,y:r+4,width:s-8,height:a-8,n:h,image:c},function(){p.modSelf(),i()})}else t.moveTo(o,r+h),t.lineTo(o+s,r+h)}var o=t("./base"),r=t("zrender/shape/Polyline"),n=t("../util/shape/Icon"),s=t("../util/shape/HalfSmoothPolygon");t("../component/axis"),t("../component/grid"),t("../component/dataZoom");var a=t("../config");a.line={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,dataFilter:"nearest",itemStyle:{normal:{label:{show:!1},lineStyle:{width:2,type:"solid",shadowColor:"rgba(0,0,0,0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}},emphasis:{label:{show:!1}}},symbolSize:2,showAllSymbol:!1};var h=t("../util/ecData"),l=t("zrender/tool/util"),c=t("zrender/tool/color");return e.prototype={type:a.CHART_TYPE_LINE,_buildShape:function(){this.finalPLMap={},this._buildPosition()},_buildHorizontal:function(t,e,i,o){for(var r,n,s,a,h,l,c,d,u,p=this.series,f=i[0][0],g=p[f],m=this.component.xAxis.getAxis(g.xAxisIndex||0),_={},y=0,v=e;v>y&&null!=m.getNameByIndex(y);y++){n=m.getCoordByIndex(y);for(var x=0,b=i.length;b>x;x++){r=this.component.yAxis.getAxis(p[i[x][0]].yAxisIndex||0),h=a=c=l=r.getCoord(0);for(var T=0,S=i[x].length;S>T;T++)f=i[x][T],g=p[f],d=g.data[y],u=this.getDataFromOption(d,"-"),_[f]=_[f]||[],o[f]=o[f]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"!==u?(u>=0?(a-=T>0?r.getCoordSize(u):h-r.getCoord(u),s=a):0>u&&(l+=T>0?r.getCoordSize(u):r.getCoord(u)-c,s=l),_[f].push([n,s,y,m.getNameByIndex(y),n,h]),o[f].min>u&&(o[f].min=u,o[f].minY=s,o[f].minX=n),o[f].max<u&&(o[f].max=u,o[f].maxY=s,o[f].maxX=n),o[f].sum+=u,o[f].counter++):_[f].length>0&&(this.finalPLMap[f]=this.finalPLMap[f]||[],this.finalPLMap[f].push(_[f]),_[f]=[])}a=this.component.grid.getY();for(var z,x=0,b=i.length;b>x;x++)for(var T=0,S=i[x].length;S>T;T++)f=i[x][T],g=p[f],d=g.data[y],u=this.getDataFromOption(d,"-"),"-"==u&&this.deepQuery([d,g,this.option],"calculable")&&(z=this.deepQuery([d,g],"symbolSize"),a+=2*z+5,s=a,this.shapeList.push(this._getCalculableItem(f,y,m.getNameByIndex(y),n,s,"horizontal")))}for(var C in _)_[C].length>0&&(this.finalPLMap[C]=this.finalPLMap[C]||[],this.finalPLMap[C].push(_[C]),_[C]=[]);this._calculMarkMapXY(o,i,"y"),this._buildBorkenLine(t,this.finalPLMap,m,"horizontal")},_buildVertical:function(t,e,i,o){for(var r,n,s,a,h,l,c,d,u,p=this.series,f=i[0][0],g=p[f],m=this.component.yAxis.getAxis(g.yAxisIndex||0),_={},y=0,v=e;v>y&&null!=m.getNameByIndex(y);y++){s=m.getCoordByIndex(y);for(var x=0,b=i.length;b>x;x++){r=this.component.xAxis.getAxis(p[i[x][0]].xAxisIndex||0),h=a=c=l=r.getCoord(0);for(var T=0,S=i[x].length;S>T;T++)f=i[x][T],g=p[f],d=g.data[y],u=this.getDataFromOption(d,"-"),_[f]=_[f]||[],o[f]=o[f]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"!==u?(u>=0?(a+=T>0?r.getCoordSize(u):r.getCoord(u)-h,n=a):0>u&&(l-=T>0?r.getCoordSize(u):c-r.getCoord(u),n=l),_[f].push([n,s,y,m.getNameByIndex(y),h,s]),o[f].min>u&&(o[f].min=u,o[f].minX=n,o[f].minY=s),o[f].max<u&&(o[f].max=u,o[f].maxX=n,o[f].maxY=s),o[f].sum+=u,o[f].counter++):_[f].length>0&&(this.finalPLMap[f]=this.finalPLMap[f]||[],this.finalPLMap[f].push(_[f]),_[f]=[])}a=this.component.grid.getXend();for(var z,x=0,b=i.length;b>x;x++)for(var T=0,S=i[x].length;S>T;T++)f=i[x][T],g=p[f],d=g.data[y],u=this.getDataFromOption(d,"-"),"-"==u&&this.deepQuery([d,g,this.option],"calculable")&&(z=this.deepQuery([d,g],"symbolSize"),a-=2*z+5,n=a,this.shapeList.push(this._getCalculableItem(f,y,m.getNameByIndex(y),n,s,"vertical")))}for(var C in _)_[C].length>0&&(this.finalPLMap[C]=this.finalPLMap[C]||[],this.finalPLMap[C].push(_[C]),_[C]=[]);this._calculMarkMapXY(o,i,"x"),this._buildBorkenLine(t,this.finalPLMap,m,"vertical")},_buildOther:function(t,e,i,o){for(var r,n=this.series,s={},a=0,h=i.length;h>a;a++)for(var l=0,c=i[a].length;c>l;l++){var d=i[a][l],u=n[d];r=this.component.xAxis.getAxis(u.xAxisIndex||0);var p=this.component.yAxis.getAxis(u.yAxisIndex||0),f=p.getCoord(0);s[d]=s[d]||[],o[d]=o[d]||{min0:Number.POSITIVE_INFINITY,min1:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum0:0,sum1:0,counter0:0,counter1:0,average0:0,average1:0};for(var g=0,m=u.data.length;m>g;g++){var _=u.data[g],y=this.getDataFromOption(_,"-");if(y instanceof Array){var v=r.getCoord(y[0]),x=p.getCoord(y[1]);s[d].push([v,x,g,y[0],v,f]),o[d].min0>y[0]&&(o[d].min0=y[0],o[d].minY0=x,o[d].minX0=v),o[d].max0<y[0]&&(o[d].max0=y[0],o[d].maxY0=x,o[d].maxX0=v),o[d].sum0+=y[0],o[d].counter0++,o[d].min1>y[1]&&(o[d].min1=y[1],o[d].minY1=x,o[d].minX1=v),o[d].max1<y[1]&&(o[d].max1=y[1],o[d].maxY1=x,o[d].maxX1=v),o[d].sum1+=y[1],o[d].counter1++}}}for(var b in s)s[b].length>0&&(this.finalPLMap[b]=this.finalPLMap[b]||[],this.finalPLMap[b].push(s[b]),s[b]=[]);this._calculMarkMapXY(o,i,"xy"),this._buildBorkenLine(t,this.finalPLMap,r,"other")},_buildBorkenLine:function(t,e,i,o){for(var n,a="other"==o?"horizontal":o,d=this.series,u=t.length-1;u>=0;u--){var p=t[u],f=d[p],g=e[p];if(f.type===this.type&&null!=g)for(var m=this._getBbox(p,a),_=this._sIndex2ColorMap[p],y=this.query(f,"itemStyle.normal.lineStyle.width"),v=this.query(f,"itemStyle.normal.lineStyle.type"),x=this.query(f,"itemStyle.normal.lineStyle.color"),b=this.getItemStyleColor(this.query(f,"itemStyle.normal.color"),p,-1),T=null!=this.query(f,"itemStyle.normal.areaStyle"),S=this.query(f,"itemStyle.normal.areaStyle.color"),z=0,C=g.length;C>z;z++){var E=g[z],w="other"!=o&&this._isLarge(a,E);if(w)E=this._getLargePointList(a,E,f.dataFilter);else for(var L=0,A=E.length;A>L;L++)n=f.data[E[L][2]],(this.deepQuery([n,f,this.option],"calculable")||this.deepQuery([n,f],"showAllSymbol")||"categoryAxis"===i.type&&i.isMainAxis(E[L][2])&&"none"!=this.deepQuery([n,f],"symbol"))&&this.shapeList.push(this._getSymbol(p,E[L][2],E[L][3],E[L][0],E[L][1],a));var M=new r({zlevel:f.zlevel,z:f.z,style:{miterLimit:y,pointList:E,strokeColor:x||b||_,lineWidth:y,lineType:v,smooth:this._getSmooth(f.smooth),smoothConstraint:m,shadowColor:this.query(f,"itemStyle.normal.lineStyle.shadowColor"),shadowBlur:this.query(f,"itemStyle.normal.lineStyle.shadowBlur"),shadowOffsetX:this.query(f,"itemStyle.normal.lineStyle.shadowOffsetX"),shadowOffsetY:this.query(f,"itemStyle.normal.lineStyle.shadowOffsetY")},hoverable:!1,_main:!0,_seriesIndex:p,_orient:a});if(h.pack(M,d[p],p,0,z,d[p].name),this.shapeList.push(M),T){var k=new s({zlevel:f.zlevel,z:f.z,style:{miterLimit:y,pointList:l.clone(E).concat([[E[E.length-1][4],E[E.length-1][5]],[E[0][4],E[0][5]]]),brushType:"fill",smooth:this._getSmooth(f.smooth),smoothConstraint:m,color:S?S:c.alpha(_,.5)},highlightStyle:{brushType:"fill"},hoverable:!1,_main:!0,_seriesIndex:p,_orient:a});h.pack(k,d[p],p,0,z,d[p].name),this.shapeList.push(k)}}}},_getBbox:function(t,e){var i=this.component.grid.getBbox(),o=this.xMarkMap[t];return null!=o.minX0?[[Math.min(o.minX0,o.maxX0,o.minX1,o.maxX1),Math.min(o.minY0,o.maxY0,o.minY1,o.maxY1)],[Math.max(o.minX0,o.maxX0,o.minX1,o.maxX1),Math.max(o.minY0,o.maxY0,o.minY1,o.maxY1)]]:("horizontal"===e?(i[0][1]=Math.min(o.minY,o.maxY),i[1][1]=Math.max(o.minY,o.maxY)):(i[0][0]=Math.min(o.minX,o.maxX),i[1][0]=Math.max(o.minX,o.maxX)),i)},_isLarge:function(t,e){return e.length<2?!1:"horizontal"===t?Math.abs(e[0][0]-e[1][0])<.5:Math.abs(e[0][1]-e[1][1])<.5},_getLargePointList:function(t,e,i){var o;o="horizontal"===t?this.component.grid.getWidth():this.component.grid.getHeight();var r=e.length,n=[];if("function"!=typeof i)switch(i){case"min":i=function(t){return Math.max.apply(null,t)};break;case"max":i=function(t){return Math.min.apply(null,t)};break;case"average":i=function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];return e/t.length};break;default:i=function(t){return t[0]}}for(var s=[],a=0;o>a;a++){var h=Math.floor(r/o*a),l=Math.min(Math.floor(r/o*(a+1)),r);if(!(h>=l)){for(var c=h;l>c;c++)s[c-h]="horizontal"===t?e[c][1]:e[c][0];s.length=l-h;for(var d=i(s),u=-1,p=1/0,c=h;l>c;c++){var f="horizontal"===t?e[c][1]:e[c][0],g=Math.abs(f-d);p>g&&(u=c,p=g)}var m=e[u].slice();"horizontal"===t?m[1]=d:m[0]=d,n.push(m)}}return n},_getSmooth:function(t){return t?.3:0},_getCalculableItem:function(t,e,i,o,r,n){var s=this.series,h=s[t].calculableHolderColor||this.ecTheme.calculableHolderColor||a.calculableHolderColor,l=this._getSymbol(t,e,i,o,r,n);return l.style.color=h,l.style.strokeColor=h,l.rotation=[0,0],l.hoverable=!1,l.draggable=!1,l.style.text=void 0,l},_getSymbol:function(t,e,i,o,r,n){var s=this.series,a=s[t],h=a.data[e],l=this.getSymbolShape(a,t,h,e,i,o,r,this._sIndex2ShapeMap[t],this._sIndex2ColorMap[t],"#fff","vertical"===n?"horizontal":"vertical");return l.zlevel=a.zlevel,l.z=a.z+1,this.deepQuery([h,a,this.option],"calculable")&&(this.setCalculable(l),l.draggable=!0),l},getMarkCoord:function(t,e){var i=this.series[t],o=this.xMarkMap[t],r=this.component.xAxis.getAxis(i.xAxisIndex),n=this.component.yAxis.getAxis(i.yAxisIndex);if(e.type&&("max"===e.type||"min"===e.type||"average"===e.type)){var s=null!=e.valueIndex?e.valueIndex:null!=o.maxX0?"1":"";return[o[e.type+"X"+s],o[e.type+"Y"+s],o[e.type+"Line"+s],o[e.type+s]]}return["string"!=typeof e.xAxis&&r.getCoordByIndex?r.getCoordByIndex(e.xAxis||0):r.getCoord(e.xAxis||0),"string"!=typeof e.yAxis&&n.getCoordByIndex?n.getCoordByIndex(e.yAxis||0):n.getCoord(e.yAxis||0)]},refresh:function(t){t&&(this.option=t,this.series=t.series),this.backupShapeList(),this._buildShape()},ontooltipHover:function(t,e){for(var i,o,r=t.seriesIndex,n=t.dataIndex,s=r.length;s--;)if(i=this.finalPLMap[r[s]])for(var a=0,h=i.length;h>a;a++){o=i[a];for(var l=0,c=o.length;c>l;l++)n===o[l][2]&&e.push(this._getSymbol(r[s],o[l][2],o[l][3],o[l][0],o[l][1],"horizontal"))}},addDataAnimation:function(t,e){function i(){g--,0===g&&e&&e()}function o(t){t.style.controlPointList=null
}for(var r=this.series,n={},s=0,a=t.length;a>s;s++)n[t[s][0]]=t[s];for(var h,l,c,d,u,p,f,g=0,s=this.shapeList.length-1;s>=0;s--)if(u=this.shapeList[s]._seriesIndex,n[u]&&!n[u][3]){if(this.shapeList[s]._main&&this.shapeList[s].style.pointList.length>1){if(p=this.shapeList[s].style.pointList,l=Math.abs(p[0][0]-p[1][0]),d=Math.abs(p[0][1]-p[1][1]),f="horizontal"===this.shapeList[s]._orient,n[u][2]){if("half-smooth-polygon"===this.shapeList[s].type){var m=p.length;this.shapeList[s].style.pointList[m-3]=p[m-2],this.shapeList[s].style.pointList[m-3][f?0:1]=p[m-4][f?0:1],this.shapeList[s].style.pointList[m-2]=p[m-1]}this.shapeList[s].style.pointList.pop(),f?(h=l,c=0):(h=0,c=-d)}else{if(this.shapeList[s].style.pointList.shift(),"half-smooth-polygon"===this.shapeList[s].type){var _=this.shapeList[s].style.pointList.pop();f?_[0]=p[0][0]:_[1]=p[0][1],this.shapeList[s].style.pointList.push(_)}f?(h=-l,c=0):(h=0,c=d)}this.shapeList[s].style.controlPointList=null,this.zr.modShape(this.shapeList[s])}else{if(n[u][2]&&this.shapeList[s]._dataIndex===r[u].data.length-1){this.zr.delShape(this.shapeList[s].id);continue}if(!n[u][2]&&0===this.shapeList[s]._dataIndex){this.zr.delShape(this.shapeList[s].id);continue}}this.shapeList[s].position=[0,0],g++,this.zr.animate(this.shapeList[s].id,"").when(this.query(this.option,"animationDurationUpdate"),{position:[h,c]}).during(o).done(i).start()}g||e&&e()}},n.prototype.iconLibrary.legendLineIcon=i,l.inherits(e,o),t("../chart").define("line",e),e}),i("echarts/chart/pie",["require","./base","zrender/shape/Text","zrender/shape/Ring","zrender/shape/Circle","zrender/shape/Sector","zrender/shape/Polyline","../config","../util/ecData","zrender/tool/util","zrender/tool/math","zrender/tool/color","../chart"],function(t){function e(t,e,o,r,n){i.call(this,t,e,o,r,n);var s=this;s.shapeHandler.onmouseover=function(t){var e=t.target,i=l.get(e,"seriesIndex"),o=l.get(e,"dataIndex"),r=l.get(e,"special"),n=[e.style.x,e.style.y],a=e.style.startAngle,h=e.style.endAngle,c=((h+a)/2+360)%360,d=e.highlightStyle.color,u=s.getLabel(i,o,r,n,c,d,!0);u&&s.zr.addHoverShape(u);var p=s.getLabelLine(i,o,n,e.style.r0,e.style.r,c,d,!0);p&&s.zr.addHoverShape(p)},this.refresh(r)}var i=t("./base"),o=t("zrender/shape/Text"),r=t("zrender/shape/Ring"),n=t("zrender/shape/Circle"),s=t("zrender/shape/Sector"),a=t("zrender/shape/Polyline"),h=t("../config");h.pie={zlevel:0,z:2,clickable:!0,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockWise:!0,startAngle:90,minAngle:0,selectedOffset:10,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!1},labelLine:{show:!1,length:20,lineStyle:{width:1,type:"solid"}}}}};var l=t("../util/ecData"),c=t("zrender/tool/util"),d=t("zrender/tool/math"),u=t("zrender/tool/color");return e.prototype={type:h.CHART_TYPE_PIE,_buildShape:function(){var t=this.series,e=this.component.legend;this.selectedMap={},this._selected={};var i,o,s;this._selectedMode=!1;for(var a,c=0,d=t.length;d>c;c++)if(t[c].type===h.CHART_TYPE_PIE){if(t[c]=this.reformOption(t[c]),this.legendHoverLink=t[c].legendHoverLink||this.legendHoverLink,a=t[c].name||"",this.selectedMap[a]=e?e.isSelected(a):!0,!this.selectedMap[a])continue;i=this.parseCenter(this.zr,t[c].center),o=this.parseRadius(this.zr,t[c].radius),this._selectedMode=this._selectedMode||t[c].selectedMode,this._selected[c]=[],this.deepQuery([t[c],this.option],"calculable")&&(s={zlevel:t[c].zlevel,z:t[c].z,hoverable:!1,style:{x:i[0],y:i[1],r0:o[0]<=10?0:o[0]-10,r:o[1]+10,brushType:"stroke",lineWidth:1,strokeColor:t[c].calculableHolderColor||this.ecTheme.calculableHolderColor||h.calculableHolderColor}},l.pack(s,t[c],c,void 0,-1),this.setCalculable(s),s=o[0]<=10?new n(s):new r(s),this.shapeList.push(s)),this._buildSinglePie(c),this.buildMark(c)}this.addShapeList()},_buildSinglePie:function(t){for(var e,i=this.series,o=i[t],r=o.data,n=this.component.legend,s=0,a=0,h=0,l=Number.NEGATIVE_INFINITY,c=[],d=0,u=r.length;u>d;d++)e=r[d].name,this.selectedMap[e]=n?n.isSelected(e):!0,this.selectedMap[e]&&!isNaN(r[d].value)&&(0!==+r[d].value?s++:a++,h+=+r[d].value,l=Math.max(l,+r[d].value));if(0!==h){for(var p,f,g,m,_,y,v=100,x=o.clockWise,b=(o.startAngle.toFixed(2)-0+360)%360,T=o.minAngle||.01,S=360-T*s-.01*a,z=o.roseType,d=0,u=r.length;u>d;d++)if(e=r[d].name,this.selectedMap[e]&&!isNaN(r[d].value)){if(f=n?n.getColor(e):this.zr.getColor(d),v=r[d].value/h,p="area"!=z?x?b-v*S-(0!==v?T:.01):v*S+b+(0!==v?T:.01):x?b-360/u:360/u+b,p=p.toFixed(2)-0,v=(100*v).toFixed(2),g=this.parseCenter(this.zr,o.center),m=this.parseRadius(this.zr,o.radius),_=+m[0],y=+m[1],"radius"===z?y=r[d].value/l*(y-_)*.8+.2*(y-_)+_:"area"===z&&(y=Math.sqrt(r[d].value/l)*(y-_)+_),x){var C;C=b,b=p,p=C}this._buildItem(c,t,d,v,r[d].selected,g,_,y,b,p,f),x||(b=p)}this._autoLabelLayout(c,g,y);for(var d=0,u=c.length;u>d;d++)this.shapeList.push(c[d]);c=null}},_buildItem:function(t,e,i,o,r,n,s,a,h,c,d){var u=this.series,p=((c+h)/2+360)%360,f=this.getSector(e,i,o,r,n,s,a,h,c,d);l.pack(f,u[e],e,u[e].data[i],i,u[e].data[i].name,o),t.push(f);var g=this.getLabel(e,i,o,n,p,d,!1),m=this.getLabelLine(e,i,n,s,a,p,d,!1);m&&(l.pack(m,u[e],e,u[e].data[i],i,u[e].data[i].name,o),t.push(m)),g&&(l.pack(g,u[e],e,u[e].data[i],i,u[e].data[i].name,o),g._labelLine=m,t.push(g))},getSector:function(t,e,i,o,r,n,a,h,l,c){var p=this.series,f=p[t],g=f.data[e],m=[g,f],_=this.deepMerge(m,"itemStyle.normal")||{},y=this.deepMerge(m,"itemStyle.emphasis")||{},v=this.getItemStyleColor(_.color,t,e,g)||c,x=this.getItemStyleColor(y.color,t,e,g)||("string"==typeof v?u.lift(v,-.2):v),b={zlevel:f.zlevel,z:f.z,clickable:this.deepQuery(m,"clickable"),style:{x:r[0],y:r[1],r0:n,r:a,startAngle:h,endAngle:l,brushType:"both",color:v,lineWidth:_.borderWidth,strokeColor:_.borderColor,lineJoin:"round"},highlightStyle:{color:x,lineWidth:y.borderWidth,strokeColor:y.borderColor,lineJoin:"round"},_seriesIndex:t,_dataIndex:e};if(o){var T=((b.style.startAngle+b.style.endAngle)/2).toFixed(2)-0;b.style._hasSelected=!0,b.style._x=b.style.x,b.style._y=b.style.y;var S=this.query(f,"selectedOffset");b.style.x+=d.cos(T,!0)*S,b.style.y-=d.sin(T,!0)*S,this._selected[t][e]=!0}else this._selected[t][e]=!1;return this._selectedMode&&(b.onclick=this.shapeHandler.onclick),this.deepQuery([g,f,this.option],"calculable")&&(this.setCalculable(b),b.draggable=!0),(this._needLabel(f,g,!0)||this._needLabelLine(f,g,!0))&&(b.onmouseover=this.shapeHandler.onmouseover),b=new s(b)},getLabel:function(t,e,i,r,n,s,a){var h=this.series,l=h[t],u=l.data[e];if(this._needLabel(l,u,a)){var p,f,g,m=a?"emphasis":"normal",_=c.merge(c.clone(u.itemStyle)||{},l.itemStyle),y=_[m].label,v=y.textStyle||{},x=r[0],b=r[1],T=this.parseRadius(this.zr,l.radius),S="middle";y.position=y.position||_.normal.label.position,"center"===y.position?(p=x,f=b,g="center"):"inner"===y.position||"inside"===y.position?(T=(T[0]+T[1])*(y.distance||.5),p=Math.round(x+T*d.cos(n,!0)),f=Math.round(b-T*d.sin(n,!0)),s="#fff",g="center"):(T=T[1]- -_[m].labelLine.length,p=Math.round(x+T*d.cos(n,!0)),f=Math.round(b-T*d.sin(n,!0)),g=n>=90&&270>=n?"right":"left"),"center"!=y.position&&"inner"!=y.position&&"inside"!=y.position&&(p+="left"===g?20:-20),u.__labelX=p-("left"===g?5:-5),u.__labelY=f;var z=new o({zlevel:l.zlevel,z:l.z+1,hoverable:!1,style:{x:p,y:f,color:v.color||s,text:this.getLabelText(t,e,i,m),textAlign:v.align||g,textBaseline:v.baseline||S,textFont:this.getFont(v)},highlightStyle:{brushType:"fill"}});return z._radius=T,z._labelPosition=y.position||"outer",z._rect=z.getRect(z.style),z._seriesIndex=t,z._dataIndex=e,z}},getLabelText:function(t,e,i,o){var r=this.series,n=r[t],s=n.data[e],a=this.deepQuery([s,n],"itemStyle."+o+".label.formatter");return a?"function"==typeof a?a.call(this.myChart,{seriesIndex:t,seriesName:n.name||"",series:n,dataIndex:e,data:s,name:s.name,value:s.value,percent:i}):"string"==typeof a?(a=a.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}"),a=a.replace("{a0}",n.name).replace("{b0}",s.name).replace("{c0}",s.value).replace("{d0}",i)):void 0:s.name},getLabelLine:function(t,e,i,o,r,n,s,h){var l=this.series,u=l[t],p=u.data[e];if(this._needLabelLine(u,p,h)){var f=h?"emphasis":"normal",g=c.merge(c.clone(p.itemStyle)||{},u.itemStyle),m=g[f].labelLine,_=m.lineStyle||{},y=i[0],v=i[1],x=r,b=this.parseRadius(this.zr,u.radius)[1]- -m.length,T=d.cos(n,!0),S=d.sin(n,!0);return new a({zlevel:u.zlevel,z:u.z+1,hoverable:!1,style:{pointList:[[y+x*T,v-x*S],[y+b*T,v-b*S],[p.__labelX,p.__labelY]],strokeColor:_.color||s,lineType:_.type,lineWidth:_.width},_seriesIndex:t,_dataIndex:e})}},_needLabel:function(t,e,i){return this.deepQuery([e,t],"itemStyle."+(i?"emphasis":"normal")+".label.show")},_needLabelLine:function(t,e,i){return this.deepQuery([e,t],"itemStyle."+(i?"emphasis":"normal")+".labelLine.show")},_autoLabelLayout:function(t,e,i){for(var o=[],r=[],n=0,s=t.length;s>n;n++)("outer"===t[n]._labelPosition||"outside"===t[n]._labelPosition)&&(t[n]._rect._y=t[n]._rect.y,t[n]._rect.x<e[0]?o.push(t[n]):r.push(t[n]));this._layoutCalculate(o,e,i,-1),this._layoutCalculate(r,e,i,1)},_layoutCalculate:function(t,e,i,o){function r(e,i,o){for(var r=e;i>r;r++)if(t[r]._rect.y+=o,t[r].style.y+=o,t[r]._labelLine&&(t[r]._labelLine.style.pointList[1][1]+=o,t[r]._labelLine.style.pointList[2][1]+=o),r>e&&i>r+1&&t[r+1]._rect.y>t[r]._rect.y+t[r]._rect.height)return void n(r,o/2);n(i-1,o/2)}function n(e,i){for(var o=e;o>=0&&(t[o]._rect.y-=i,t[o].style.y-=i,t[o]._labelLine&&(t[o]._labelLine.style.pointList[1][1]-=i,t[o]._labelLine.style.pointList[2][1]-=i),!(o>0&&t[o]._rect.y>t[o-1]._rect.y+t[o-1]._rect.height));o--);}function s(t,e,i,o,r){for(var n,s,a,h=i[0],l=i[1],c=r>0?e?Number.MAX_VALUE:0:e?Number.MAX_VALUE:0,d=0,u=t.length;u>d;d++)s=Math.abs(t[d]._rect.y-l),a=t[d]._radius-o,n=o+a>s?Math.sqrt((o+a+20)*(o+a+20)-Math.pow(t[d]._rect.y-l,2)):Math.abs(t[d]._rect.x+(r>0?0:t[d]._rect.width)-h),e&&n>=c&&(n=c-10),!e&&c>=n&&(n=c+10),t[d]._rect.x=t[d].style.x=h+n*r,t[d]._labelLine&&(t[d]._labelLine.style.pointList[2][0]=h+(n-5)*r,t[d]._labelLine.style.pointList[1][0]=h+(n-20)*r),c=n}t.sort(function(t,e){return t._rect.y-e._rect.y});for(var a,h=0,l=t.length,c=[],d=[],u=0;l>u;u++)a=t[u]._rect.y-h,0>a&&r(u,l,-a,o),h=t[u]._rect.y+t[u]._rect.height;this.zr.getHeight()-h<0&&n(l-1,h-this.zr.getHeight());for(var u=0;l>u;u++)t[u]._rect.y>=e[1]?d.push(t[u]):c.push(t[u]);s(d,!0,e,i,o),s(c,!1,e,i,o)},reformOption:function(t){var e=c.merge;return t=e(e(t||{},c.clone(this.ecTheme.pie||{})),c.clone(h.pie)),t.itemStyle.normal.label.textStyle=this.getTextStyle(t.itemStyle.normal.label.textStyle),t.itemStyle.emphasis.label.textStyle=this.getTextStyle(t.itemStyle.emphasis.label.textStyle),this.z=t.z,this.zlevel=t.zlevel,t},refresh:function(t){t&&(this.option=t,this.series=t.series),this.backupShapeList(),this._buildShape()},addDataAnimation:function(t,e){function i(){a--,0===a&&e&&e()}for(var o=this.series,r={},n=0,s=t.length;s>n;n++)r[t[n][0]]=t[n];var a=0,l={},c={},d={},u=this.shapeList;this.shapeList=[];for(var p,f,g,m={},n=0,s=t.length;s>n;n++)p=t[n][0],f=t[n][2],g=t[n][3],o[p]&&o[p].type===h.CHART_TYPE_PIE&&(f?(g||(l[p+"_"+o[p].data.length]="delete"),m[p]=1):g?m[p]=0:(l[p+"_-1"]="delete",m[p]=-1),this._buildSinglePie(p));for(var _,y,n=0,s=this.shapeList.length;s>n;n++)switch(p=this.shapeList[n]._seriesIndex,_=this.shapeList[n]._dataIndex,y=p+"_"+_,this.shapeList[n].type){case"sector":l[y]=this.shapeList[n];break;case"text":c[y]=this.shapeList[n];break;case"polyline":d[y]=this.shapeList[n]}this.shapeList=[];for(var v,n=0,s=u.length;s>n;n++)if(p=u[n]._seriesIndex,r[p]){if(_=u[n]._dataIndex+m[p],y=p+"_"+_,v=l[y],!v)continue;if("sector"===u[n].type)"delete"!=v?(a++,this.zr.animate(u[n].id,"style").when(400,{startAngle:v.style.startAngle,endAngle:v.style.endAngle}).done(i).start()):(a++,this.zr.animate(u[n].id,"style").when(400,m[p]<0?{startAngle:u[n].style.startAngle}:{endAngle:u[n].style.endAngle}).done(i).start());else if("text"===u[n].type||"polyline"===u[n].type)if("delete"===v)this.zr.delShape(u[n].id);else switch(u[n].type){case"text":a++,v=c[y],this.zr.animate(u[n].id,"style").when(400,{x:v.style.x,y:v.style.y}).done(i).start();break;case"polyline":a++,v=d[y],this.zr.animate(u[n].id,"style").when(400,{pointList:v.style.pointList}).done(i).start()}}this.shapeList=u,a||e&&e()},onclick:function(t){var e=this.series;if(this.isClick&&t.target){this.isClick=!1;for(var i,o=t.target,r=o.style,n=l.get(o,"seriesIndex"),s=l.get(o,"dataIndex"),a=0,c=this.shapeList.length;c>a;a++)if(this.shapeList[a].id===o.id){if(n=l.get(o,"seriesIndex"),s=l.get(o,"dataIndex"),r._hasSelected)o.style.x=o.style._x,o.style.y=o.style._y,o.style._hasSelected=!1,this._selected[n][s]=!1;else{var u=((r.startAngle+r.endAngle)/2).toFixed(2)-0;o.style._hasSelected=!0,this._selected[n][s]=!0,o.style._x=o.style.x,o.style._y=o.style.y,i=this.query(e[n],"selectedOffset"),o.style.x+=d.cos(u,!0)*i,o.style.y-=d.sin(u,!0)*i}this.zr.modShape(o.id)}else this.shapeList[a].style._hasSelected&&"single"===this._selectedMode&&(n=l.get(this.shapeList[a],"seriesIndex"),s=l.get(this.shapeList[a],"dataIndex"),this.shapeList[a].style.x=this.shapeList[a].style._x,this.shapeList[a].style.y=this.shapeList[a].style._y,this.shapeList[a].style._hasSelected=!1,this._selected[n][s]=!1,this.zr.modShape(this.shapeList[a].id));this.messageCenter.dispatch(h.EVENT.PIE_SELECTED,t.event,{selected:this._selected,target:l.get(o,"name")},this.myChart),this.zr.refreshNextFrame()}}},c.inherits(e,i),t("../chart").define("pie",e),e}),i("zrender/tool/event",["require","../mixin/Eventful"],function(t){"use strict";function e(t){return"undefined"!=typeof t.zrenderX&&t.zrenderX||"undefined"!=typeof t.offsetX&&t.offsetX||"undefined"!=typeof t.layerX&&t.layerX||"undefined"!=typeof t.clientX&&t.clientX}function i(t){return"undefined"!=typeof t.zrenderY&&t.zrenderY||"undefined"!=typeof t.offsetY&&t.offsetY||"undefined"!=typeof t.layerY&&t.layerY||"undefined"!=typeof t.clientY&&t.clientY}function o(t){return"undefined"!=typeof t.zrenderDelta&&t.zrenderDelta||"undefined"!=typeof t.wheelDelta&&t.wheelDelta||"undefined"!=typeof t.detail&&-t.detail}var r=t("../mixin/Eventful"),n="function"==typeof window.addEventListener?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};return{getX:e,getY:i,getDelta:o,stop:n,Dispatcher:r}}),i("echarts/config",[],function(){var t={CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_VENN:"venn",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_TREE:"tree",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",CHART_TYPE_EVENTRIVER:"eventRiver",CHART_TYPE_WORDCLOUD:"wordCloud",CHART_TYPE_HEATMAP:"heatmap",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],markPoint:{clickable:!0,symbol:"pin",symbolSize:10,large:!1,effect:{show:!1,loop:!0,period:15,type:"scale",scaleSize:2,bounceDistance:10},itemStyle:{normal:{borderWidth:2,label:{show:!0,position:"inside"}},emphasis:{label:{show:!0}}}},markLine:{clickable:!0,symbol:["circle","arrow"],symbolSize:[2,4],smoothness:.2,precision:2,effect:{show:!1,loop:!0,period:15,scaleSize:2},bundling:{enable:!1,maxTurningAngle:45},itemStyle:{normal:{borderWidth:1.5,label:{show:!0,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:!1},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"微软雅黑",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",DATA_RANGE_SELECTED:"dataRangeSelected",DATA_RANGE_HOVERLINK:"dataRangeHoverLink",LEGEND_SELECTED:"legendSelected",LEGEND_HOVERLINK:"legendHoverLink",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",FORCE_LAYOUT_END:"forceLayoutEnd",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:10,effectBlendAlpha:.95,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingEffect:"spin",loadingText:"数据读取中...",noDataEffect:"bubble",noDataText:"暂无数据",calculable:!1,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:!0,addDataAnimation:!0,animationThreshold:2e3,animationDuration:2e3,animationDurationUpdate:500,animationEasing:"ExponentialOut"};return t}),i("zrender/tool/util",["require","../dep/excanvas"],function(t){function e(t){return t&&1===t.nodeType&&"string"==typeof t.nodeName}function i(t){if("object"==typeof t&&null!==t){var o=t;if(t instanceof Array){o=[];for(var r=0,n=t.length;n>r;r++)o[r]=i(t[r])}else if(!_[y.call(t)]&&!e(t)){o={};for(var s in t)t.hasOwnProperty(s)&&(o[s]=i(t[s]))}return o}return t}function o(t,i,o,n){if(i.hasOwnProperty(o)){var s=t[o];"object"!=typeof s||_[y.call(s)]||e(s)?!n&&o in t||(t[o]=i[o]):r(t[o],i[o],n)}}function r(t,e,i){for(var r in e)o(t,e,r,i);return t}function n(){if(!u)if(t("../dep/excanvas"),window.G_vmlCanvasManager){var e=document.createElement("div");e.style.position="absolute",e.style.top="-1000px",document.body.appendChild(e),u=G_vmlCanvasManager.initElement(e).getContext("2d")}else u=document.createElement("canvas").getContext("2d");return u}function s(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1}function a(t,e){function i(){}var o=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var r in o)t.prototype[r]=o[r];t.constructor=t}function h(t,e,i){if(t&&e)if(t.forEach&&t.forEach===f)t.forEach(e,i);else if(t.length===+t.length)for(var o=0,r=t.length;r>o;o++)e.call(i,t[o],o,t);else for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function l(t,e,i){if(t&&e){if(t.map&&t.map===g)return t.map(e,i);for(var o=[],r=0,n=t.length;n>r;r++)o.push(e.call(i,t[r],r,t));return o}}function c(t,e,i){if(t&&e){if(t.filter&&t.filter===m)return t.filter(e,i);for(var o=[],r=0,n=t.length;n>r;r++)e.call(i,t[r],r,t)&&o.push(t[r]);return o}}function d(t,e){return function(){t.apply(e,arguments)}}var u,p=Array.prototype,f=p.forEach,g=p.map,m=p.filter,_={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},y=Object.prototype.toString;return{inherits:a,clone:i,merge:r,getContext:n,indexOf:s,each:h,map:l,filter:c,bind:d}}),i("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(t){function e(t){return function(){t._needsRefreshNextFrame&&t.refresh()}}t("./dep/excanvas");var i=t("./tool/util"),o=t("./tool/log"),r=t("./tool/guid"),n=t("./Handler"),s=t("./Painter"),a=t("./Storage"),h=t("./animation/Animation"),l={},c={};c.version="2.1.1",c.init=function(t){var e=new d(r(),t);return l[e.id]=e,e},c.dispose=function(t){if(t)t.dispose();else{for(var e in l)l[e].dispose();l={}}return c},c.getInstance=function(t){return l[t]},c.delInstance=function(t){return delete l[t],c};var d=function(i,o){this.id=i,this.env=t("./tool/env"),this.storage=new a,this.painter=new s(o,this.storage),this.handler=new n(o,this.storage,this.painter),this.animation=new h({stage:{update:e(this)}}),this.animation.start();var r=this;this.painter.refreshNextFrame=function(){r.refreshNextFrame()},this._needsRefreshNextFrame=!1;var r=this,l=this.storage,c=l.delFromMap;l.delFromMap=function(t){var e=l.get(t);r.stopAnimation(e),c.call(l,t)}};return d.prototype.getId=function(){return this.id},d.prototype.addShape=function(t){return this.addElement(t),this},d.prototype.addGroup=function(t){return this.addElement(t),this},d.prototype.delShape=function(t){return this.delElement(t),this},d.prototype.delGroup=function(t){return this.delElement(t),this},d.prototype.modShape=function(t,e){return this.modElement(t,e),this},d.prototype.modGroup=function(t,e){return this.modElement(t,e),this},d.prototype.addElement=function(t){return this.storage.addRoot(t),this._needsRefreshNextFrame=!0,this},d.prototype.delElement=function(t){return this.storage.delRoot(t),this._needsRefreshNextFrame=!0,this},d.prototype.modElement=function(t,e){return this.storage.mod(t,e),this._needsRefreshNextFrame=!0,this},d.prototype.modLayer=function(t,e){return this.painter.modLayer(t,e),this._needsRefreshNextFrame=!0,this},d.prototype.addHoverShape=function(t){return this.storage.addHover(t),this},d.prototype.render=function(t){return this.painter.render(t),this._needsRefreshNextFrame=!1,this},d.prototype.refresh=function(t){return this.painter.refresh(t),this._needsRefreshNextFrame=!1,this},d.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},d.prototype.refreshHover=function(t){return this.painter.refreshHover(t),this},d.prototype.refreshShapes=function(t,e){return this.painter.refreshShapes(t,e),this},d.prototype.resize=function(){return this.painter.resize(),this},d.prototype.animate=function(t,e,r){var n=this;if("string"==typeof t&&(t=this.storage.get(t)),t){var s;if(e){for(var a=e.split("."),h=t,l=0,c=a.length;c>l;l++)h&&(h=h[a[l]]);h&&(s=h)}else s=t;if(!s)return void o('Property "'+e+'" is not existed in element '+t.id);null==t.__animators&&(t.__animators=[]);var d=t.__animators,u=this.animation.animate(s,{loop:r}).during(function(){n.modShape(t)}).done(function(){var e=i.indexOf(t.__animators,u);e>=0&&d.splice(e,1)});return d.push(u),u}o("Element not existed")},d.prototype.stopAnimation=function(t){if(t.__animators){for(var e=t.__animators,i=e.length,o=0;i>o;o++)e[o].stop();e.length=0}return this},d.prototype.clearAnimation=function(){return this.animation.clear(),this},d.prototype.showLoading=function(t){return this.painter.showLoading(t),this},d.prototype.hideLoading=function(){return this.painter.hideLoading(),this},d.prototype.getWidth=function(){return this.painter.getWidth()},d.prototype.getHeight=function(){return this.painter.getHeight()},d.prototype.toDataURL=function(t,e,i){return this.painter.toDataURL(t,e,i)},d.prototype.shapeToImage=function(t,e,i){var o=r();return this.painter.shapeToImage(o,t,e,i)},d.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},d.prototype.un=function(t,e){return this.handler.un(t,e),this},d.prototype.trigger=function(t,e){return this.handler.trigger(t,e),this},d.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},d.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,c.delInstance(this.id)},c}),i("zrender/config",[],function(){var t={EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},elementClassName:"zr-element",catchBrushException:!1,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)};return t}),i("echarts/chart/island",["require","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(t){function e(t,e,o,r,s){i.call(this,t,e,o,r,s),this._nameConnector,this._valueConnector,this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth();var h=this;h.shapeHandler.onmousewheel=function(t){var e=t.target,i=t.event,o=a.getDelta(i);o=o>0?-1:1,e.style.r-=o,e.style.r=e.style.r<5?5:e.style.r;var r=n.get(e,"value"),s=r*h.option.island.calculateStep;r=s>1?Math.round(r-s*o):+(r-s*o).toFixed(2);var l=n.get(e,"name");e.style.text=l+":"+r,n.set(e,"value",r),n.set(e,"name",l),h.zr.modShape(e.id),h.zr.refreshNextFrame(),a.stop(i)}}var i=t("./base"),o=t("zrender/shape/Circle"),r=t("../config");r.island={zlevel:0,z:5,r:15,calculateStep:.1};var n=t("../util/ecData"),s=t("zrender/tool/util"),a=t("zrender/tool/event");return e.prototype={type:r.CHART_TYPE_ISLAND,_combine:function(e,i){var o=t("zrender/tool/color"),r=t("../util/accMath"),s=r.accAdd(n.get(e,"value"),n.get(i,"value")),a=n.get(e,"name")+this._nameConnector+n.get(i,"name");e.style.text=a+this._valueConnector+s,n.set(e,"value",s),n.set(e,"name",a),e.style.r=this.option.island.r,e.style.color=o.mix(e.style.color,i.style.color)},refresh:function(t){t&&(t.island=this.reformOption(t.island),this.option=t,this._nameConnector=this.option.nameConnector,this._valueConnector=this.option.valueConnector)},getOption:function(){return this.option},resize:function(){var t=this.zr.getWidth(),e=this.zr.getHeight(),i=t/(this._zrWidth||t),o=e/(this._zrHeight||e);if(1!==i||1!==o){this._zrWidth=t,this._zrHeight=e;for(var r=0,n=this.shapeList.length;n>r;r++)this.zr.modShape(this.shapeList[r].id,{style:{x:Math.round(this.shapeList[r].style.x*i),y:Math.round(this.shapeList[r].style.y*o)}})}},add:function(t){var e=n.get(t,"name"),i=n.get(t,"value"),r=null!=n.get(t,"series")?n.get(t,"series").name:"",s=this.getFont(this.option.island.textStyle),a=this.option.island,h={zlevel:a.zlevel,z:a.z,style:{x:t.style.x,y:t.style.y,r:this.option.island.r,color:t.style.color||t.style.strokeColor,text:e+this._valueConnector+i,textFont:s},draggable:!0,hoverable:!0,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};"#fff"===h.style.color&&(h.style.color=t.style.strokeColor),this.setCalculable(h),h.dragEnableTime=0,n.pack(h,{name:r},-1,i,-1,e),h=new o(h),this.shapeList.push(h),this.zr.addShape(h)},del:function(t){this.zr.delShape(t.id);for(var e=[],i=0,o=this.shapeList.length;o>i;i++)this.shapeList[i].id!=t.id&&e.push(this.shapeList[i]);this.shapeList=e},ondrop:function(t,e){if(this.isDrop&&t.target){var i=t.target,o=t.dragged;this._combine(i,o),this.zr.modShape(i.id),e.dragIn=!0,this.isDrop=!1}},ondragend:function(t,e){var i=t.target;this.isDragend?e.dragIn&&(this.del(i),e.needRefresh=!0):e.dragIn||(i.style.x=a.getX(t.event),i.style.y=a.getY(t.event),this.add(i),e.needRefresh=!0),this.isDragend=!1}},s.inherits(e,i),t("../chart").define("island",e),e}),i("zrender/tool/env",[],function(){function t(t){var e=this.os={},i=this.browser={},o=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=t.match(/(Android);?[\s\/]+([\d.]+)?/),n=t.match(/(iPad).*OS\s([\d_]+)/),s=t.match(/(iPod)(.*OS\s([\d_]+))?/),a=!n&&t.match(/(iPhone\sOS)\s([\d_]+)/),h=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),l=h&&t.match(/TouchPad/),c=t.match(/Kindle\/([\d.]+)/),d=t.match(/Silk\/([\d._]+)/),u=t.match(/(BlackBerry).*Version\/([\d.]+)/),p=t.match(/(BB10).*Version\/([\d.]+)/),f=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=t.match(/PlayBook/),m=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),_=t.match(/Firefox\/([\d.]+)/),y=t.match(/MSIE ([\d.]+)/),v=o&&t.match(/Mobile\//)&&!m,x=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!m,y=t.match(/MSIE\s([\d.]+)/);return(i.webkit=!!o)&&(i.version=o[1]),r&&(e.android=!0,e.version=r[2]),a&&!s&&(e.ios=e.iphone=!0,e.version=a[2].replace(/_/g,".")),n&&(e.ios=e.ipad=!0,e.version=n[2].replace(/_/g,".")),s&&(e.ios=e.ipod=!0,e.version=s[3]?s[3].replace(/_/g,"."):null),h&&(e.webos=!0,e.version=h[2]),l&&(e.touchpad=!0),u&&(e.blackberry=!0,e.version=u[2]),p&&(e.bb10=!0,e.version=p[2]),f&&(e.rimtabletos=!0,e.version=f[2]),g&&(i.playbook=!0),c&&(e.kindle=!0,e.version=c[1]),d&&(i.silk=!0,i.version=d[1]),!d&&e.android&&t.match(/Kindle Fire/)&&(i.silk=!0),m&&(i.chrome=!0,i.version=m[1]),_&&(i.firefox=!0,i.version=_[1]),y&&(i.ie=!0,i.version=y[1]),v&&(t.match(/Safari/)||e.ios)&&(i.safari=!0),x&&(i.webview=!0),y&&(i.ie=!0,i.version=y[1]),e.tablet=!!(n||g||r&&!t.match(/Mobile/)||_&&t.match(/Tablet/)||y&&!t.match(/Phone/)&&t.match(/Touch/)),e.phone=!(e.tablet||e.ipod||!(r||a||h||u||p||m&&t.match(/Android/)||m&&t.match(/CriOS\/([\d.]+)/)||_&&t.match(/Mobile/)||y&&t.match(/Touch/))),{browser:i,os:e,canvasSupported:document.createElement("canvas").getContext?!0:!1}}return t(navigator.userAgent)}),i("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(t){function e(t,e,o,r,n){i.call(this,t,e,o,r,n),this.dom=n.dom,this._magicType={},this._magicMap={},this._isSilence=!1,this._iconList,this._iconShapeMap={},this._featureTitle={},this._featureIcon={},this._featureColor={},this._featureOption={},this._enableColor="red",this._disableColor="#ccc",this._markShapeList=[];var s=this;s._onMark=function(t){s.__onMark(t)},s._onMarkUndo=function(t){s.__onMarkUndo(t)},s._onMarkClear=function(t){s.__onMarkClear(t)},s._onDataZoom=function(t){s.__onDataZoom(t)},s._onDataZoomReset=function(t){s.__onDataZoomReset(t)},s._onDataView=function(t){s.__onDataView(t)},s._onRestore=function(t){s.__onRestore(t)},s._onSaveAsImage=function(t){s.__onSaveAsImage(t)},s._onMagicType=function(t){s.__onMagicType(t)},s._onCustomHandler=function(t){s.__onCustomHandler(t)},s._onmousemove=function(t){return s.__onmousemove(t)},s._onmousedown=function(t){return s.__onmousedown(t)},s._onmouseup=function(t){return s.__onmouseup(t)},s._onclick=function(t){return s.__onclick(t)}}var i=t("./base"),o=t("zrender/shape/Line"),r=t("zrender/shape/Image"),n=t("zrender/shape/Rectangle"),s=t("../util/shape/Icon"),a=t("../config");a.toolbox={zlevel:0,z:6,show:!1,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:!0,feature:{mark:{show:!1,title:{mark:"辅助线开关",markUndo:"删除辅助线",markClear:"清空辅助线"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:!1,title:{dataZoom:"区域缩放",dataZoomReset:"区域缩放后退"}},dataView:{show:!1,title:"数据视图",readOnly:!1,lang:["数据视图","关闭","刷新"]},magicType:{show:!1,title:{line:"折线图切换",bar:"柱形图切换",stack:"堆积",tiled:"平铺",force:"力导向布局图切换",chord:"和弦图切换",pie:"饼图切换",funnel:"漏斗图切换"},type:[]},restore:{show:!1,title:"还原"},saveAsImage:{show:!1,title:"保存为图片",type:"png",lang:["点击保存"]}}};var h=t("zrender/tool/util"),l=t("zrender/config"),c=t("zrender/tool/event"),d="stack",u="tiled";return e.prototype={type:a.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var t=this.option.toolbox;this._enableColor=t.effectiveColor,this._disableColor=t.disableColor;var e=t.feature,i=[];for(var o in e)if(e[o].show)switch(o){case"mark":i.push({key:o,name:"mark"}),i.push({key:o,name:"markUndo"}),i.push({key:o,name:"markClear"});break;case"magicType":for(var r=0,n=e[o].type.length;n>r;r++)e[o].title[e[o].type[r]+"Chart"]=e[o].title[e[o].type[r]],e[o].option&&(e[o].option[e[o].type[r]+"Chart"]=e[o].option[e[o].type[r]]),i.push({key:o,name:e[o].type[r]+"Chart"});
break;case"dataZoom":i.push({key:o,name:"dataZoom"}),i.push({key:o,name:"dataZoomReset"});break;case"saveAsImage":this.canvasSupported&&i.push({key:o,name:"saveAsImage"});break;default:i.push({key:o,name:o})}if(i.length>0){for(var s,o,r=0,n=i.length;n>r;r++)s=i[r].name,o=i[r].key,this._iconList.push(s),this._featureTitle[s]=e[o].title[s]||e[o].title,e[o].icon&&(this._featureIcon[s]=e[o].icon[s]||e[o].icon),e[o].color&&(this._featureColor[s]=e[o].color[s]||e[o].color),e[o].option&&(this._featureOption[s]=e[o].option[s]||e[o].option);this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var r=0,n=this.shapeList.length;n>r;r++)this.zr.addShape(this.shapeList[r]);this._iconShapeMap.mark&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear)),this._iconShapeMap.dataZoomReset&&0===this._zoomQueue.length&&this._iconDisable(this._iconShapeMap.dataZoomReset)}},_buildItem:function(){var e,i,o,n,a=this.option.toolbox,h=this._iconList.length,l=this._itemGroupLocation.x,c=this._itemGroupLocation.y,d=a.itemSize,u=a.itemGap,p=a.color instanceof Array?a.color:[a.color],f=this.getFont(a.textStyle);"horizontal"===a.orient?(i=this._itemGroupLocation.y/this.zr.getHeight()<.5?"bottom":"top",o=this._itemGroupLocation.x/this.zr.getWidth()<.5?"left":"right",n=this._itemGroupLocation.y/this.zr.getHeight()<.5?"top":"bottom"):i=this._itemGroupLocation.x/this.zr.getWidth()<.5?"right":"left",this._iconShapeMap={};for(var g=this,m=0;h>m;m++){switch(e={type:"icon",zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:l,y:c,width:d,height:d,iconType:this._iconList[m],lineWidth:1,strokeColor:this._featureColor[this._iconList[m]]||p[m%p.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:a.showTitle?this._featureTitle[this._iconList[m]]:void 0,textFont:f,textPosition:i,strokeColor:this._featureColor[this._iconList[m]]||p[m%p.length]},hoverable:!0,clickable:!0},this._featureIcon[this._iconList[m]]&&(e.style.image=this._featureIcon[this._iconList[m]].replace(new RegExp("^image:\\/\\/"),""),e.style.opacity=.8,e.highlightStyle.opacity=1,e.type="image"),"horizontal"===a.orient&&(0===m&&"left"===o&&(e.highlightStyle.textPosition="specific",e.highlightStyle.textAlign=o,e.highlightStyle.textBaseline=n,e.highlightStyle.textX=l,e.highlightStyle.textY="top"===n?c+d+10:c-10),m===h-1&&"right"===o&&(e.highlightStyle.textPosition="specific",e.highlightStyle.textAlign=o,e.highlightStyle.textBaseline=n,e.highlightStyle.textX=l+d,e.highlightStyle.textY="top"===n?c+d+10:c-10)),this._iconList[m]){case"mark":e.onclick=g._onMark;break;case"markUndo":e.onclick=g._onMarkUndo;break;case"markClear":e.onclick=g._onMarkClear;break;case"dataZoom":e.onclick=g._onDataZoom;break;case"dataZoomReset":e.onclick=g._onDataZoomReset;break;case"dataView":if(!this._dataView){var _=t("./dataView");this._dataView=new _(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}e.onclick=g._onDataView;break;case"restore":e.onclick=g._onRestore;break;case"saveAsImage":e.onclick=g._onSaveAsImage;break;default:this._iconList[m].match("Chart")?(e._name=this._iconList[m].replace("Chart",""),e.onclick=g._onMagicType):e.onclick=g._onCustomHandler}"icon"===e.type?e=new s(e):"image"===e.type&&(e=new r(e)),this.shapeList.push(e),this._iconShapeMap[this._iconList[m]]=e,"horizontal"===a.orient?l+=d+u:c+=d+u}},_buildBackground:function(){var t=this.option.toolbox,e=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new n({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-e[3],y:this._itemGroupLocation.y-e[0],width:this._itemGroupLocation.width+e[3]+e[1],height:this._itemGroupLocation.height+e[0]+e[2],brushType:0===t.borderWidth?"fill":"both",color:t.backgroundColor,strokeColor:t.borderColor,lineWidth:t.borderWidth}}))},_getItemGroupLocation:function(){var t=this.option.toolbox,e=this.reformCssArray(this.option.toolbox.padding),i=this._iconList.length,o=t.itemGap,r=t.itemSize,n=0,s=0;"horizontal"===t.orient?(n=(r+o)*i-o,s=r):(s=(r+o)*i-o,n=r);var a,h=this.zr.getWidth();switch(t.x){case"center":a=Math.floor((h-n)/2);break;case"left":a=e[3]+t.borderWidth;break;case"right":a=h-n-e[1]-t.borderWidth;break;default:a=t.x-0,a=isNaN(a)?0:a}var l,c=this.zr.getHeight();switch(t.y){case"top":l=e[0]+t.borderWidth;break;case"bottom":l=c-s-e[2]-t.borderWidth;break;case"center":l=Math.floor((c-s)/2);break;default:l=t.y-0,l=isNaN(l)?0:l}return{x:a,y:l,width:n,height:s}},__onmousemove:function(t){this._marking&&(this._markShape.style.xEnd=c.getX(t.event),this._markShape.style.yEnd=c.getY(t.event),this.zr.addHoverShape(this._markShape)),this._zooming&&(this._zoomShape.style.width=c.getX(t.event)-this._zoomShape.style.x,this._zoomShape.style.height=c.getY(t.event)-this._zoomShape.style.y,this.zr.addHoverShape(this._zoomShape),this.dom.style.cursor="crosshair",c.stop(t.event)),this._zoomStart&&"pointer"!=this.dom.style.cursor&&"move"!=this.dom.style.cursor&&(this.dom.style.cursor="crosshair")},__onmousedown:function(t){if(!t.target){this._zooming=!0;var e=c.getX(t.event),i=c.getY(t.event),o=this.option.dataZoom||{};return this._zoomShape=new n({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:e,y:i,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:o.fillerColor||a.dataZoom.fillerColor,strokeColor:o.handleColor||a.dataZoom.handleColor,brushType:"both"}}),this.zr.addHoverShape(this._zoomShape),!0}},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10)return this._zooming=!1,!0;if(this._zooming&&this.component.dataZoom){this._zooming=!1;var t=this.component.dataZoom.rectZoom(this._zoomShape.style);t&&(this._zoomQueue.push({start:t.start,end:t.end,start2:t.start2,end2:t.end2}),this._iconEnable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame())}return!0},__onclick:function(t){if(!t.target)if(this._marking)this._marking=!1,this._markShapeList.push(this._markShape),this._iconEnable(this._iconShapeMap.markUndo),this._iconEnable(this._iconShapeMap.markClear),this.zr.addShape(this._markShape),this.zr.refreshNextFrame();else if(this._markStart){this._marking=!0;var e=c.getX(t.event),i=c.getY(t.event);this._markShape=new o({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:e,yStart:i,xEnd:e,yEnd:i,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}}),this.zr.addHoverShape(this._markShape)}},__onMark:function(t){var e=t.target;if(this._marking||this._markStart)this._resetMark(),this.zr.refreshNextFrame();else{this._resetZoom(),this.zr.modShape(e.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._markStart=!0;var i=this;setTimeout(function(){i.zr&&i.zr.on(l.EVENT.CLICK,i._onclick)&&i.zr.on(l.EVENT.MOUSEMOVE,i._onmousemove)},10)}return!0},__onMarkUndo:function(){if(this._marking)this._marking=!1;else{var t=this._markShapeList.length;if(t>=1){var e=this._markShapeList[t-1];this.zr.delShape(e.id),this.zr.refreshNextFrame(),this._markShapeList.pop(),1===t&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear))}}return!0},__onMarkClear:function(){this._marking&&(this._marking=!1);var t=this._markShapeList.length;if(t>0){for(;t--;)this.zr.delShape(this._markShapeList.pop().id);this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear),this.zr.refreshNextFrame()}return!0},__onDataZoom:function(t){var e=t.target;if(this._zooming||this._zoomStart)this._resetZoom(),this.zr.refreshNextFrame(),this.dom.style.cursor="default";else{this._resetMark(),this.zr.modShape(e.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._zoomStart=!0;var i=this;setTimeout(function(){i.zr&&i.zr.on(l.EVENT.MOUSEDOWN,i._onmousedown)&&i.zr.on(l.EVENT.MOUSEUP,i._onmouseup)&&i.zr.on(l.EVENT.MOUSEMOVE,i._onmousemove)},10),this.dom.style.cursor="crosshair"}return!0},__onDataZoomReset:function(){return this._zooming&&(this._zooming=!1),this._zoomQueue.pop(),this._zoomQueue.length>0?this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1]):(this.component.dataZoom.rectZoom(),this._iconDisable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame()),!0},_resetMark:function(){this._marking=!1,this._markStart&&(this._markStart=!1,this._iconShapeMap.mark&&this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}}),this.zr.un(l.EVENT.CLICK,this._onclick),this.zr.un(l.EVENT.MOUSEMOVE,this._onmousemove))},_resetZoom:function(){this._zooming=!1,this._zoomStart&&(this._zoomStart=!1,this._iconShapeMap.dataZoom&&this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}}),this.zr.un(l.EVENT.MOUSEDOWN,this._onmousedown),this.zr.un(l.EVENT.MOUSEUP,this._onmouseup),this.zr.un(l.EVENT.MOUSEMOVE,this._onmousemove))},_iconDisable:function(t){"image"!=t.type?this.zr.modShape(t.id,{hoverable:!1,clickable:!1,style:{strokeColor:this._disableColor}}):this.zr.modShape(t.id,{hoverable:!1,clickable:!1,style:{opacity:.3}})},_iconEnable:function(t){"image"!=t.type?this.zr.modShape(t.id,{hoverable:!0,clickable:!0,style:{strokeColor:t.highlightStyle.strokeColor}}):this.zr.modShape(t.id,{hoverable:!0,clickable:!0,style:{opacity:.8}})},__onDataView:function(){return this._dataView.show(this.option),!0},__onRestore:function(){return this._resetMark(),this._resetZoom(),this.messageCenter.dispatch(a.EVENT.RESTORE,null,null,this.myChart),!0},__onSaveAsImage:function(){var t=this.option.toolbox.feature.saveAsImage,e=t.type||"png";"png"!=e&&"jpeg"!=e&&(e="png");var i;i=this.myChart.isConnected()?this.myChart.getConnectedDataURL(e):this.zr.toDataURL("image/"+e,this.option.backgroundColor&&"rgba(0,0,0,0)"===this.option.backgroundColor.replace(" ","")?"#fff":this.option.backgroundColor);var o=document.createElement("div");o.id="__echarts_download_wrap__",o.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var r=document.createElement("a");r.href=i,r.setAttribute("download",(t.name?t.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+e),r.innerHTML='<img style="vertical-align:middle" src="'+i+'" title="'+(window.ActiveXObject||"ActiveXObject"in window?"右键->图片另存为":t.lang?t.lang[0]:"点击保存")+'"/>',o.appendChild(r),document.body.appendChild(o),r=null,o=null,setTimeout(function(){var t=document.getElementById("__echarts_download_wrap__");t&&(t.onclick=function(){var t=document.getElementById("__echarts_download_wrap__");t.onclick=null,t.innerHTML="",document.body.removeChild(t),t=null},t=null)},500)},__onMagicType:function(t){this._resetMark();var e=t.target._name;return this._magicType[e]||(this._magicType[e]=!0,e===a.CHART_TYPE_LINE?this._magicType[a.CHART_TYPE_BAR]=!1:e===a.CHART_TYPE_BAR&&(this._magicType[a.CHART_TYPE_LINE]=!1),e===a.CHART_TYPE_PIE?this._magicType[a.CHART_TYPE_FUNNEL]=!1:e===a.CHART_TYPE_FUNNEL&&(this._magicType[a.CHART_TYPE_PIE]=!1),e===a.CHART_TYPE_FORCE?this._magicType[a.CHART_TYPE_CHORD]=!1:e===a.CHART_TYPE_CHORD&&(this._magicType[a.CHART_TYPE_FORCE]=!1),e===d?this._magicType[u]=!1:e===u&&(this._magicType[d]=!1),this.messageCenter.dispatch(a.EVENT.MAGIC_TYPE_CHANGED,t.event,{magicType:this._magicType},this.myChart)),!0},setMagicType:function(t){this._resetMark(),this._magicType=t,!this._isSilence&&this.messageCenter.dispatch(a.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(t){var e=t.target.style.iconType,i=this.option.toolbox.feature[e].onclick;"function"==typeof i&&i.call(this,this.option)},reset:function(t,e){if(e&&this.clear(),this.query(t,"toolbox.show")&&this.query(t,"toolbox.feature.magicType.show")){var i=t.toolbox.feature.magicType.type,o=i.length;for(this._magicMap={};o--;)this._magicMap[i[o]]=!0;o=t.series.length;for(var r,n;o--;)r=t.series[o].type,this._magicMap[r]&&(n=t.xAxis instanceof Array?t.xAxis[t.series[o].xAxisIndex||0]:t.xAxis,n&&"category"===(n.type||"category")&&(n.__boundaryGap=null!=n.boundaryGap?n.boundaryGap:!0),n=t.yAxis instanceof Array?t.yAxis[t.series[o].yAxisIndex||0]:t.yAxis,n&&"category"===n.type&&(n.__boundaryGap=null!=n.boundaryGap?n.boundaryGap:!0),t.series[o].__type=r,t.series[o].__itemStyle=h.clone(t.series[o].itemStyle||{})),(this._magicMap[d]||this._magicMap[u])&&(t.series[o].__stack=t.series[o].stack)}this._magicType=e?{}:this._magicType||{};for(var s in this._magicType)if(this._magicType[s]){this.option=t,this.getMagicOption();break}var a=t.dataZoom;if(a&&a.show){var l=null!=a.start&&a.start>=0&&a.start<=100?a.start:0,c=null!=a.end&&a.end>=0&&a.end<=100?a.end:100;l>c&&(l+=c,c=l-c,l-=c),this._zoomQueue=[{start:l,end:c,start2:0,end2:100}]}else this._zoomQueue=[]},getMagicOption:function(){var t,e;if(this._magicType[a.CHART_TYPE_LINE]||this._magicType[a.CHART_TYPE_BAR]){for(var i=this._magicType[a.CHART_TYPE_LINE]?!1:!0,o=0,r=this.option.series.length;r>o;o++)e=this.option.series[o].type,(e==a.CHART_TYPE_LINE||e==a.CHART_TYPE_BAR)&&(t=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[o].xAxisIndex||0]:this.option.xAxis,t&&"category"===(t.type||"category")&&(t.boundaryGap=i?!0:t.__boundaryGap),t=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[o].yAxisIndex||0]:this.option.yAxis,t&&"category"===t.type&&(t.boundaryGap=i?!0:t.__boundaryGap));this._defaultMagic(a.CHART_TYPE_LINE,a.CHART_TYPE_BAR)}if(this._defaultMagic(a.CHART_TYPE_CHORD,a.CHART_TYPE_FORCE),this._defaultMagic(a.CHART_TYPE_PIE,a.CHART_TYPE_FUNNEL),this._magicType[d]||this._magicType[u])for(var o=0,r=this.option.series.length;r>o;o++)this._magicType[d]?(this.option.series[o].stack="_ECHARTS_STACK_KENER_2014_",e=d):this._magicType[u]&&(this.option.series[o].stack=null,e=u),this._featureOption[e+"Chart"]&&h.merge(this.option.series[o],this._featureOption[e+"Chart"]||{},!0);return this.option},_defaultMagic:function(t,e){if(this._magicType[t]||this._magicType[e])for(var i=0,o=this.option.series.length;o>i;i++){var r=this.option.series[i].type;(r==t||r==e)&&(this.option.series[i].type=this._magicType[t]?t:e,this.option.series[i].itemStyle=h.clone(this.option.series[i].__itemStyle),r=this.option.series[i].type,this._featureOption[r+"Chart"]&&h.merge(this.option.series[i],this._featureOption[r+"Chart"]||{},!0))}},silence:function(t){this._isSilence=t},resize:function(){this._resetMark(),this.clear(),this.option&&this.option.toolbox&&this.option.toolbox.show&&this._buildShape(),this._dataView&&this._dataView.resize()},hideDataView:function(){this._dataView&&this._dataView.hide()},clear:function(t){this.zr&&(this.zr.delShape(this.shapeList),this.shapeList=[],t||(this.zr.delShape(this._markShapeList),this._markShapeList=[]))},onbeforDispose:function(){this._dataView&&(this._dataView.dispose(),this._dataView=null),this._markShapeList=null},refresh:function(t){t&&(this._resetMark(),this._resetZoom(),t.toolbox=this.reformOption(t.toolbox),this.option=t,this.clear(!0),t.toolbox.show&&this._buildShape(),this.hideDataView())}},h.inherits(e,i),t("../component").define("toolbox",e),e}),i("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(t){function e(t,e,o,r,n){if(!this.query(r,"legend.data"))return void console.error("option.legend.data has not been defined.");i.call(this,t,e,o,r,n);var s=this;s._legendSelected=function(t){s.__legendSelected(t)},s._dispatchHoverLink=function(t){return s.__dispatchHoverLink(t)},this._colorIndex=0,this._colorMap={},this._selectedMap={},this._hasDataMap={},this.refresh(r)}var i=t("./base"),o=t("zrender/shape/Text"),r=t("zrender/shape/Rectangle"),n=t("zrender/shape/Sector"),s=t("../util/shape/Icon"),a=t("../util/shape/Candle"),h=t("../config");h.legend={zlevel:0,z:4,show:!0,orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0};var l=t("zrender/tool/util"),c=t("zrender/tool/area");e.prototype={type:h.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(this.legendOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t])}},_buildItem:function(){var t,e,i,r,n,a,h,d,u=this.legendOption.data,p=u.length,f=this.legendOption.textStyle,g=this.zr.getWidth(),m=this.zr.getHeight(),_=this._itemGroupLocation.x,y=this._itemGroupLocation.y,v=this.legendOption.itemWidth,x=this.legendOption.itemHeight,b=this.legendOption.itemGap;"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(_=this._itemGroupLocation.x+this._itemGroupLocation.width-v);for(var T=0;p>T;T++)n=l.merge(u[T].textStyle||{},f),a=this.getFont(n),t=this._getName(u[T]),h=this._getFormatterName(t),""!==t?(e=u[T].icon||this._getSomethingByName(t).type,d=this.getColor(t),"horizontal"===this.legendOption.orient?200>g-_&&v+5+c.getTextWidth(h,a)+(T===p-1||""===u[T+1]?0:b)>=g-_&&(_=this._itemGroupLocation.x,y+=x+b):200>m-y&&x+(T===p-1||""===u[T+1]?0:b)>=m-y&&("right"===this.legendOption.x?_-=this._itemGroupLocation.maxWidth+b:_+=this._itemGroupLocation.maxWidth+b,y=this._itemGroupLocation.y),i=this._getItemShapeByType(_,y,v,x,this._selectedMap[t]&&this._hasDataMap[t]?d:"#ccc",e,d),i._name=t,i=new s(i),r={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:_+v+5,y:y+x/2,color:this._selectedMap[t]?"auto"===n.color?d:n.color:"#ccc",text:h,textFont:a,textBaseline:"middle"},highlightStyle:{color:d,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode},"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(r.style.x-=v+10,r.style.textAlign="right"),r._name=t,r=new o(r),this.legendOption.selectedMode&&(i.onclick=r.onclick=this._legendSelected,i.onmouseover=r.onmouseover=this._dispatchHoverLink,i.hoverConnect=r.id,r.hoverConnect=i.id),this.shapeList.push(i),this.shapeList.push(r),"horizontal"===this.legendOption.orient?_+=v+5+c.getTextWidth(h,a)+b:y+=x+b):"horizontal"===this.legendOption.orient?(_=this._itemGroupLocation.x,y+=x+b):("right"===this.legendOption.x?_-=this._itemGroupLocation.maxWidth+b:_+=this._itemGroupLocation.maxWidth+b,y=this._itemGroupLocation.y);"horizontal"===this.legendOption.orient&&"center"===this.legendOption.x&&y!=this._itemGroupLocation.y&&this._mLineOptimize()},_getName:function(t){return"undefined"!=typeof t.name?t.name:t},_getFormatterName:function(t){var e,i=this.legendOption.formatter;return e="function"==typeof i?i.call(this.myChart,t):"string"==typeof i?i.replace("{name}",t):t},_getFormatterNameFromData:function(t){var e=this._getName(t);return this._getFormatterName(e)},_mLineOptimize:function(){for(var t=[],e=this._itemGroupLocation.x,i=2,o=this.shapeList.length;o>i;i++)this.shapeList[i].style.x===e?t.push((this._itemGroupLocation.width-(this.shapeList[i-1].style.x+c.getTextWidth(this.shapeList[i-1].style.text,this.shapeList[i-1].style.textFont)-e))/2):i===o-1&&t.push((this._itemGroupLocation.width-(this.shapeList[i].style.x+c.getTextWidth(this.shapeList[i].style.text,this.shapeList[i].style.textFont)-e))/2);for(var r=-1,i=1,o=this.shapeList.length;o>i;i++)this.shapeList[i].style.x===e&&r++,0!==t[r]&&(this.shapeList[i].style.x+=t[r])},_buildBackground:function(){var t=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new r({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-t[3],y:this._itemGroupLocation.y-t[0],width:this._itemGroupLocation.width+t[3]+t[1],height:this._itemGroupLocation.height+t[0]+t[2],brushType:0===this.legendOption.borderWidth?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var t=this.legendOption.data,e=t.length,i=this.legendOption.itemGap,o=this.legendOption.itemWidth+5,r=this.legendOption.itemHeight,n=this.legendOption.textStyle,s=this.getFont(n),a=0,h=0,d=this.reformCssArray(this.legendOption.padding),u=this.zr.getWidth()-d[1]-d[3],p=this.zr.getHeight()-d[0]-d[2],f=0,g=0;if("horizontal"===this.legendOption.orient){h=r;for(var m=0;e>m;m++)if(""!==this._getName(t[m])){var _=c.getTextWidth(this._getFormatterNameFromData(t[m]),t[m].textStyle?this.getFont(l.merge(t[m].textStyle||{},n)):s);f+o+_+i>u?(f-=i,a=Math.max(a,f),h+=r+i,f=0):(f+=o+_+i,a=Math.max(a,f-i))}else f-=i,a=Math.max(a,f),h+=r+i,f=0}else{for(var m=0;e>m;m++)g=Math.max(g,c.getTextWidth(this._getFormatterNameFromData(t[m]),t[m].textStyle?this.getFont(l.merge(t[m].textStyle||{},n)):s));g+=o,a=g;for(var m=0;e>m;m++)""!==this._getName(t[m])?f+r+i>p?(a+=g+i,f-=i,h=Math.max(h,f),f=0):(f+=r+i,h=Math.max(h,f-i)):(a+=g+i,f-=i,h=Math.max(h,f),f=0)}u=this.zr.getWidth(),p=this.zr.getHeight();var y;switch(this.legendOption.x){case"center":y=Math.floor((u-a)/2);break;case"left":y=d[3]+this.legendOption.borderWidth;break;case"right":y=u-a-d[1]-d[3]-2*this.legendOption.borderWidth;break;default:y=this.parsePercent(this.legendOption.x,u)}var v;switch(this.legendOption.y){case"top":v=d[0]+this.legendOption.borderWidth;break;case"bottom":v=p-h-d[0]-d[2]-2*this.legendOption.borderWidth;break;case"center":v=Math.floor((p-h)/2);break;default:v=this.parsePercent(this.legendOption.y,p)}return{x:y,y:v,width:a,height:h,maxWidth:g}},_getSomethingByName:function(t){for(var e,i=this.option.series,o=0,r=i.length;r>o;o++){if(i[o].name===t)return{type:i[o].type,series:i[o],seriesIndex:o,data:null,dataIndex:-1};if(i[o].type===h.CHART_TYPE_PIE||i[o].type===h.CHART_TYPE_RADAR||i[o].type===h.CHART_TYPE_CHORD||i[o].type===h.CHART_TYPE_FORCE||i[o].type===h.CHART_TYPE_FUNNEL||i[o].type===h.CHART_TYPE_TREEMAP){e=i[o].categories||i[o].data||i[o].nodes;for(var n=0,s=e.length;s>n;n++)if(e[n].name===t)return{type:i[o].type,series:i[o],seriesIndex:o,data:e[n],dataIndex:n}}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(t,e,i,o,r,n,s){var a,l="#ccc"===r?s:r,c={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{iconType:"legendicon"+n,x:t,y:e,width:i,height:o,color:r,strokeColor:r,lineWidth:2},highlightStyle:{color:l,strokeColor:l,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};if(n.match("image")){var a=n.replace(new RegExp("^image:\\/\\/"),"");n="image"}switch(n){case"line":c.style.brushType="stroke",c.highlightStyle.lineWidth=3;break;case"radar":case"venn":case"tree":case"treemap":case"scatter":c.highlightStyle.lineWidth=3;break;case"k":c.style.brushType="both",c.highlightStyle.lineWidth=3,c.highlightStyle.color=c.style.color=this.deepQuery([this.ecTheme,h],"k.itemStyle.normal.color")||"#fff",c.style.strokeColor="#ccc"!=r?this.deepQuery([this.ecTheme,h],"k.itemStyle.normal.lineStyle.color")||"#ff3200":r;break;case"image":c.style.iconType="image",c.style.image=a,"#ccc"===r&&(c.style.opacity=.5)}return c},__legendSelected:function(t){var e=t.target._name;if("single"===this.legendOption.selectedMode)for(var i in this._selectedMap)this._selectedMap[i]=!1;this._selectedMap[e]=!this._selectedMap[e],this.messageCenter.dispatch(h.EVENT.LEGEND_SELECTED,t.event,{selected:this._selectedMap,target:e},this.myChart)},__dispatchHoverLink:function(t){this.messageCenter.dispatch(h.EVENT.LEGEND_HOVERLINK,t.event,{target:t.target._name},this.myChart)},refresh:function(t){if(t){this.option=t||this.option,this.option.legend=this.reformOption(this.option.legend),this.legendOption=this.option.legend;var e,i,o,r,n=this.legendOption.data||[];if(this.legendOption.selected)for(var s in this.legendOption.selected)this._selectedMap[s]="undefined"!=typeof this._selectedMap[s]?this._selectedMap[s]:this.legendOption.selected[s];for(var a=0,l=n.length;l>a;a++)e=this._getName(n[a]),""!==e&&(i=this._getSomethingByName(e),i.series?(this._hasDataMap[e]=!0,r=!i.data||i.type!==h.CHART_TYPE_PIE&&i.type!==h.CHART_TYPE_FORCE&&i.type!==h.CHART_TYPE_FUNNEL?[i.series]:[i.data,i.series],o=this.getItemStyleColor(this.deepQuery(r,"itemStyle.normal.color"),i.seriesIndex,i.dataIndex,i.data),o&&i.type!=h.CHART_TYPE_K&&this.setColor(e,o),this._selectedMap[e]=null!=this._selectedMap[e]?this._selectedMap[e]:!0):this._hasDataMap[e]=!1)}this.clear(),this._buildShape()},getRelatedAmount:function(t){for(var e,i=0,o=this.option.series,r=0,n=o.length;n>r;r++)if(o[r].name===t&&i++,o[r].type===h.CHART_TYPE_PIE||o[r].type===h.CHART_TYPE_RADAR||o[r].type===h.CHART_TYPE_CHORD||o[r].type===h.CHART_TYPE_FORCE||o[r].type===h.CHART_TYPE_FUNNEL){e=o[r].type!=h.CHART_TYPE_FORCE?o[r].data:o[r].categories;for(var s=0,a=e.length;a>s;s++)e[s].name===t&&"-"!=e[s].value&&i++}return i},setColor:function(t,e){this._colorMap[t]=e},getColor:function(t){return this._colorMap[t]||(this._colorMap[t]=this.zr.getColor(this._colorIndex++)),this._colorMap[t]},hasColor:function(t){return this._colorMap[t]?this._colorMap[t]:!1},add:function(t,e){for(var i=this.legendOption.data,o=0,r=i.length;r>o;o++)if(this._getName(i[o])===t)return;this.legendOption.data.push(t),this.setColor(t,e),this._selectedMap[t]=!0,this._hasDataMap[t]=!0},del:function(t){for(var e=this.legendOption.data,i=0,o=e.length;o>i;i++)if(this._getName(e[i])===t)return this.legendOption.data.splice(i,1)},getItemShape:function(t){if(null!=t)for(var e,i=0,o=this.shapeList.length;o>i;i++)if(e=this.shapeList[i],e._name===t&&"text"!=e.type)return e},setItemShape:function(t,e){for(var i,o=0,r=this.shapeList.length;r>o;o++)i=this.shapeList[o],i._name===t&&"text"!=i.type&&(this._selectedMap[t]||(e.style.color="#ccc",e.style.strokeColor="#ccc"),this.zr.modShape(i.id,e))},isSelected:function(t){return"undefined"!=typeof this._selectedMap[t]?this._selectedMap[t]:!0},getSelectedMap:function(){return this._selectedMap},setSelected:function(t,e){if("single"===this.legendOption.selectedMode)for(var i in this._selectedMap)this._selectedMap[i]=!1;this._selectedMap[t]=e,this.messageCenter.dispatch(h.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:t},this.myChart)},onlegendSelected:function(t,e){var i=t.selected;for(var o in i)this._selectedMap[o]!=i[o]&&(e.needRefresh=!0),this._selectedMap[o]=i[o]}};var d={line:function(t,e){var i=e.height/2;t.moveTo(e.x,e.y+i),t.lineTo(e.x+e.width,e.y+i)},pie:function(t,e){var i=e.x,o=e.y,r=e.width,s=e.height;n.prototype.buildPath(t,{x:i+r/2,y:o+s+2,r:s,r0:6,startAngle:45,endAngle:135})},eventRiver:function(t,e){var i=e.x,o=e.y,r=e.width,n=e.height;t.moveTo(i,o+n),t.bezierCurveTo(i+r,o+n,i,o+4,i+r,o+4),t.lineTo(i+r,o),t.bezierCurveTo(i,o,i+r,o+n-4,i,o+n-4),t.lineTo(i,o+n)},k:function(t,e){var i=e.x,o=e.y,r=e.width,n=e.height;a.prototype.buildPath(t,{x:i+r/2,y:[o+1,o+1,o+n-6,o+n],width:r-6})},bar:function(t,e){var i=e.x,o=e.y+1,r=e.width,n=e.height-2,s=3;t.moveTo(i+s,o),t.lineTo(i+r-s,o),t.quadraticCurveTo(i+r,o,i+r,o+s),t.lineTo(i+r,o+n-s),t.quadraticCurveTo(i+r,o+n,i+r-s,o+n),t.lineTo(i+s,o+n),t.quadraticCurveTo(i,o+n,i,o+n-s),t.lineTo(i,o+s),t.quadraticCurveTo(i,o,i+s,o)},force:function(t,e){s.prototype.iconLibrary.circle(t,e)},radar:function(t,e){var i=6,o=e.x+e.width/2,r=e.y+e.height/2,n=e.height/2,s=2*Math.PI/i,a=-Math.PI/2,h=o+n*Math.cos(a),l=r+n*Math.sin(a);t.moveTo(h,l),a+=s;for(var c=0,d=i-1;d>c;c++)t.lineTo(o+n*Math.cos(a),r+n*Math.sin(a)),a+=s;t.lineTo(h,l)}};d.chord=d.pie,d.map=d.bar;for(var u in d)s.prototype.iconLibrary["legendicon"+u]=d[u];return l.inherits(e,i),t("../component").define("legend",e),e}),i("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(t){function e(t,e,o,r,n){i.call(this,t,e,o,r,n),this.refresh(r)}var i=t("./base"),o=t("zrender/shape/Text"),r=t("zrender/shape/Rectangle"),n=t("../config");n.title={zlevel:0,z:6,show:!0,text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}};var s=t("zrender/tool/util"),a=t("zrender/tool/area"),h=t("zrender/tool/color");return e.prototype={type:n.COMPONENT_TYPE_TITLE,_buildShape:function(){if(this.titleOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t])}},_buildItem:function(){var t=this.titleOption.text,e=this.titleOption.link,i=this.titleOption.target,r=this.titleOption.subtext,n=this.titleOption.sublink,s=this.titleOption.subtarget,a=this.getFont(this.titleOption.textStyle),l=this.getFont(this.titleOption.subtextStyle),c=this._itemGroupLocation.x,d=this._itemGroupLocation.y,u=this._itemGroupLocation.width,p=this._itemGroupLocation.height,f={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:d,color:this.titleOption.textStyle.color,text:t,textFont:a,textBaseline:"top"},highlightStyle:{color:h.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:!1};e&&(f.hoverable=!0,f.clickable=!0,f.onclick=function(){i&&"self"==i?window.location=e:window.open(e)});var g={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:d+p,color:this.titleOption.subtextStyle.color,text:r,textFont:l,textBaseline:"bottom"},highlightStyle:{color:h.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:!1};switch(n&&(g.hoverable=!0,g.clickable=!0,g.onclick=function(){s&&"self"==s?window.location=n:window.open(n)}),this.titleOption.x){case"center":f.style.x=g.style.x=c+u/2,f.style.textAlign=g.style.textAlign="center";break;case"left":f.style.x=g.style.x=c,f.style.textAlign=g.style.textAlign="left";break;case"right":f.style.x=g.style.x=c+u,f.style.textAlign=g.style.textAlign="right";break;default:c=this.titleOption.x-0,c=isNaN(c)?0:c,f.style.x=g.style.x=c}this.titleOption.textAlign&&(f.style.textAlign=g.style.textAlign=this.titleOption.textAlign),this.shapeList.push(new o(f)),""!==r&&this.shapeList.push(new o(g))},_buildBackground:function(){var t=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new r({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-t[3],y:this._itemGroupLocation.y-t[0],width:this._itemGroupLocation.width+t[3]+t[1],height:this._itemGroupLocation.height+t[0]+t[2],brushType:0===this.titleOption.borderWidth?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var t,e=this.reformCssArray(this.titleOption.padding),i=this.titleOption.text,o=this.titleOption.subtext,r=this.getFont(this.titleOption.textStyle),n=this.getFont(this.titleOption.subtextStyle),s=Math.max(a.getTextWidth(i,r),a.getTextWidth(o,n)),h=a.getTextHeight(i,r)+(""===o?0:this.titleOption.itemGap+a.getTextHeight(o,n)),l=this.zr.getWidth();switch(this.titleOption.x){case"center":t=Math.floor((l-s)/2);break;case"left":t=e[3]+this.titleOption.borderWidth;break;case"right":t=l-s-e[1]-this.titleOption.borderWidth;break;default:t=this.titleOption.x-0,t=isNaN(t)?0:t}var c,d=this.zr.getHeight();switch(this.titleOption.y){case"top":c=e[0]+this.titleOption.borderWidth;break;case"bottom":c=d-h-e[2]-this.titleOption.borderWidth;break;case"center":c=Math.floor((d-h)/2);break;default:c=this.titleOption.y-0,c=isNaN(c)?0:c}return{x:t,y:c,width:s,height:h}
},refresh:function(t){t&&(this.option=t,this.option.title=this.reformOption(this.option.title),this.titleOption=this.option.title,this.titleOption.textStyle=this.getTextStyle(this.titleOption.textStyle),this.titleOption.subtextStyle=this.getTextStyle(this.titleOption.subtextStyle)),this.clear(),this._buildShape()}},s.inherits(e,i),t("../component").define("title",e),e}),i("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(t){function e(t,e,n,s,a){i.call(this,t,e,n,s,a),this.dom=a.dom;var h=this;h._onmousemove=function(t){return h.__onmousemove(t)},h._onglobalout=function(t){return h.__onglobalout(t)},this.zr.on(l.EVENT.MOUSEMOVE,h._onmousemove),this.zr.on(l.EVENT.GLOBALOUT,h._onglobalout),h._hide=function(t){return h.__hide(t)},h._tryShow=function(t){return h.__tryShow(t)},h._refixed=function(t){return h.__refixed(t)},h._setContent=function(t,e){return h.__setContent(t,e)},this._tDom=this._tDom||document.createElement("div"),this._tDom.onselectstart=function(){return!1},this._tDom.onmouseover=function(){h._mousein=!0},this._tDom.onmouseout=function(){h._mousein=!1},this._tDom.className="echarts-tooltip",this._tDom.style.position="absolute",this.hasAppend=!1,this._axisLineShape&&this.zr.delShape(this._axisLineShape.id),this._axisLineShape=new r({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisLineShape),this.zr.addShape(this._axisLineShape),this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id),this._axisShadowShape=new r({zlevel:this.getZlevelBase(),z:1,invisible:!0,hoverable:!1}),this.shapeList.push(this._axisShadowShape),this.zr.addShape(this._axisShadowShape),this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id),this._axisCrossShape=new o({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisCrossShape),this.zr.addShape(this._axisCrossShape),this.showing=!1,this.refresh(s)}var i=t("./base"),o=t("../util/shape/Cross"),r=t("zrender/shape/Line"),n=t("zrender/shape/Rectangle"),s=new n({}),a=t("../config");a.tooltip={zlevel:1,z:8,show:!0,showContent:!0,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}};var h=t("../util/ecData"),l=t("zrender/config"),c=t("zrender/tool/event"),d=t("zrender/tool/area"),u=t("zrender/tool/color"),p=t("zrender/tool/util"),f=t("zrender/shape/Base");return e.prototype={type:a.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(t){if(!t)return"";var e=[];if(t.transitionDuration){var i="left "+t.transitionDuration+"s,top "+t.transitionDuration+"s";e.push("transition:"+i),e.push("-moz-transition:"+i),e.push("-webkit-transition:"+i),e.push("-o-transition:"+i)}t.backgroundColor&&(e.push("background-Color:"+u.toHex(t.backgroundColor)),e.push("filter:alpha(opacity=70)"),e.push("background-Color:"+t.backgroundColor)),null!=t.borderWidth&&e.push("border-width:"+t.borderWidth+"px"),null!=t.borderColor&&e.push("border-color:"+t.borderColor),null!=t.borderRadius&&(e.push("border-radius:"+t.borderRadius+"px"),e.push("-moz-border-radius:"+t.borderRadius+"px"),e.push("-webkit-border-radius:"+t.borderRadius+"px"),e.push("-o-border-radius:"+t.borderRadius+"px"));var o=t.textStyle;o&&(o.color&&e.push("color:"+o.color),o.decoration&&e.push("text-decoration:"+o.decoration),o.align&&e.push("text-align:"+o.align),o.fontFamily&&e.push("font-family:"+o.fontFamily),o.fontSize&&e.push("font-size:"+o.fontSize+"px"),o.fontSize&&e.push("line-height:"+Math.round(3*o.fontSize/2)+"px"),o.fontStyle&&e.push("font-style:"+o.fontStyle),o.fontWeight&&e.push("font-weight:"+o.fontWeight));var r=t.padding;return null!=r&&(r=this.reformCssArray(r),e.push("padding:"+r[0]+"px "+r[1]+"px "+r[2]+"px "+r[3]+"px")),e=e.join(";")+";"},__hide:function(){this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,this._tDom&&(this._tDom.style.display="none");var t=!1;this._axisLineShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),t=!0),this._axisShadowShape.invisible||(this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),t=!0),this._axisCrossShape.invisible||(this._axisCrossShape.invisible=!0,this.zr.modShape(this._axisCrossShape.id),t=!0),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2),t&&this.zr.refreshNextFrame(),this.showing=!1},_show:function(t,e,i,o){var r=this._tDom.offsetHeight,n=this._tDom.offsetWidth;t&&("function"==typeof t&&(t=t([e,i])),t instanceof Array&&(e=t[0],i=t[1])),e+n>this._zrWidth&&(e-=n+40),i+r>this._zrHeight&&(i-=r-20),20>i&&(i=0),this._tDom.style.cssText=this._gCssText+this._defaultCssText+(o?o:"")+"left:"+e+"px;top:"+i+"px;",(10>r||10>n)&&setTimeout(this._refixed,20),this.showing=!0},__refixed:function(){if(this._tDom){var t="",e=this._tDom.offsetHeight,i=this._tDom.offsetWidth;this._tDom.offsetLeft+i>this._zrWidth&&(t+="left:"+(this._zrWidth-i-20)+"px;"),this._tDom.offsetTop+e>this._zrHeight&&(t+="top:"+(this._zrHeight-e-10)+"px;"),""!==t&&(this._tDom.style.cssText+=t)}},__tryShow:function(){var t,e;if(this._curTarget){if("island"===this._curTarget._type&&this.option.tooltip.show)return void this._showItemTrigger();var i=h.get(this._curTarget,"series"),o=h.get(this._curTarget,"data");t=this.deepQuery([o,i,this.option],"tooltip.show"),null!=i&&null!=o&&t?(e=this.deepQuery([o,i,this.option],"tooltip.trigger"),"axis"===e?this._showAxisTrigger(i.xAxisIndex,i.yAxisIndex,h.get(this._curTarget,"dataIndex")):this._showItemTrigger()):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}else this._findPolarTrigger()||this._findAxisTrigger()},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis)return void(this._hidingTicket=setTimeout(this._hide,this._hideDelay));for(var t,e,i=this.option.series,o=0,r=i.length;r>o;o++)if("axis"===this.deepQuery([i[o],this.option],"tooltip.trigger"))return t=i[o].xAxisIndex||0,e=i[o].yAxisIndex||0,this.component.xAxis.getAxis(t)&&this.component.xAxis.getAxis(t).type===a.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(t,e,this._getNearestDataIndex("x",this.component.xAxis.getAxis(t))):this.component.yAxis.getAxis(e)&&this.component.yAxis.getAxis(e).type===a.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(t,e,this._getNearestDataIndex("y",this.component.yAxis.getAxis(e))):void this._showAxisTrigger(t,e,-1);"cross"===this.option.tooltip.axisPointer.type&&this._showAxisTrigger(-1,-1,-1)},_findPolarTrigger:function(){if(!this.component.polar)return!1;var t,e=c.getX(this._event),i=c.getY(this._event),o=this.component.polar.getNearestIndex([e,i]);return o?(t=o.valueIndex,o=o.polarIndex):o=-1,-1!=o?this._showPolarTrigger(o,t):!1},_getNearestDataIndex:function(t,e){var i=-1,o=c.getX(this._event),r=c.getY(this._event);if("x"===t){for(var n,s,a=this.component.grid.getXend(),h=e.getCoordByIndex(i);a>h&&(s=h,o>=h);)n=h,h=e.getCoordByIndex(++i);return 0>=i?i=0:s-o>=o-n?i-=1:null==e.getNameByIndex(i)&&(i-=1),i}for(var l,d,u=this.component.grid.getY(),h=e.getCoordByIndex(i);h>u&&(l=h,h>=r);)d=h,h=e.getCoordByIndex(++i);return 0>=i?i=0:r-l>=d-r?i-=1:null==e.getNameByIndex(i)&&(i-=1),i},_showAxisTrigger:function(t,e,i){if(!this._event.connectTrigger&&this.messageCenter.dispatch(a.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart),null==this.component.xAxis||null==this.component.yAxis||null==t||null==e)return clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),void(this._hidingTicket=setTimeout(this._hide,this._hideDelay));var o,r,n,s,h=this.option.series,l=[],d=[],u="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show)return;r=this.option.tooltip.formatter,n=this.option.tooltip.position}var p,f,g=-1!=t&&this.component.xAxis.getAxis(t).type===a.COMPONENT_TYPE_AXIS_CATEGORY?"xAxis":-1!=e&&this.component.yAxis.getAxis(e).type===a.COMPONENT_TYPE_AXIS_CATEGORY?"yAxis":!1;if(g){var m="xAxis"==g?t:e;o=this.component[g].getAxis(m);for(var _=0,y=h.length;y>_;_++)this._isSelected(h[_].name)&&h[_][g+"Index"]===m&&"axis"===this.deepQuery([h[_],this.option],"tooltip.trigger")&&(s=this.query(h[_],"tooltip.showContent")||s,r=this.query(h[_],"tooltip.formatter")||r,n=this.query(h[_],"tooltip.position")||n,u+=this._style(this.query(h[_],"tooltip")),null!=h[_].stack&&"xAxis"==g?(l.unshift(h[_]),d.unshift(_)):(l.push(h[_]),d.push(_)));this.messageCenter.dispatch(a.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:d,dataIndex:i},this.myChart);var v;"xAxis"==g?(p=this.subPixelOptimize(o.getCoordByIndex(i),this._axisLineWidth),f=c.getY(this._event),v=[p,this.component.grid.getY(),p,this.component.grid.getYend()]):(p=c.getX(this._event),f=this.subPixelOptimize(o.getCoordByIndex(i),this._axisLineWidth),v=[this.component.grid.getX(),f,this.component.grid.getXend(),f]),this._styleAxisPointer(l,v[0],v[1],v[2],v[3],o.getGap(),p,f)}else p=c.getX(this._event),f=c.getY(this._event),this._styleAxisPointer(h,this.component.grid.getX(),f,this.component.grid.getXend(),f,0,p,f),i>=0?this._showItemTrigger(!0):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._tDom.style.display="none");if(l.length>0){if(this._lastItemTriggerId=-1,this._lastDataIndex!=i||this._lastSeriesIndex!=d[0]){this._lastDataIndex=i,this._lastSeriesIndex=d[0];var x,b;if("function"==typeof r){for(var T=[],_=0,y=l.length;y>_;_++)x=l[_].data[i],b=this.getDataFromOption(x,"-"),T.push({seriesIndex:d[_],seriesName:l[_].name||"",series:l[_],dataIndex:i,data:x,name:o.getNameByIndex(i),value:b,0:l[_].name||"",1:o.getNameByIndex(i),2:b,3:x});this._curTicket="axis:"+i,this._tDom.innerHTML=r.call(this.myChart,T,this._curTicket,this._setContent)}else if("string"==typeof r){this._curTicket=0/0,r=r.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");for(var _=0,y=l.length;y>_;_++)r=r.replace("{a"+_+"}",this._encodeHTML(l[_].name||"")),r=r.replace("{b"+_+"}",this._encodeHTML(o.getNameByIndex(i))),x=l[_].data[i],x=this.getDataFromOption(x,"-"),r=r.replace("{c"+_+"}",x instanceof Array?x:this.numAddCommas(x));this._tDom.innerHTML=r}else{this._curTicket=0/0,r=this._encodeHTML(o.getNameByIndex(i));for(var _=0,y=l.length;y>_;_++)r+="<br/>"+this._encodeHTML(l[_].name||"")+" : ",x=l[_].data[i],x=this.getDataFromOption(x,"-"),r+=x instanceof Array?x:this.numAddCommas(x);this._tDom.innerHTML=r}}if(s===!1||!this.option.tooltip.showContent)return;this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(n,p+10,f+10,u)}},_showPolarTrigger:function(t,e){if(null==this.component.polar||null==t||null==e||0>e)return!1;var i,o,r,n=this.option.series,s=[],a=[],h="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show)return!1;i=this.option.tooltip.formatter,o=this.option.tooltip.position}for(var l=this.option.polar[t].indicator[e].text,d=0,u=n.length;u>d;d++)this._isSelected(n[d].name)&&n[d].polarIndex===t&&"axis"===this.deepQuery([n[d],this.option],"tooltip.trigger")&&(r=this.query(n[d],"tooltip.showContent")||r,i=this.query(n[d],"tooltip.formatter")||i,o=this.query(n[d],"tooltip.position")||o,h+=this._style(this.query(n[d],"tooltip")),s.push(n[d]),a.push(d));if(s.length>0){for(var p,f,g,m=[],d=0,u=s.length;u>d;d++){p=s[d].data;for(var _=0,y=p.length;y>_;_++)f=p[_],this._isSelected(f.name)&&(f=null!=f?f:{name:"",value:{dataIndex:"-"}},g=this.getDataFromOption(f.value[e]),m.push({seriesIndex:a[d],seriesName:s[d].name||"",series:s[d],dataIndex:e,data:f,name:f.name,indicator:l,value:g,0:s[d].name||"",1:f.name,2:g,3:l}))}if(m.length<=0)return;if(this._lastItemTriggerId=-1,this._lastDataIndex!=e||this._lastSeriesIndex!=a[0])if(this._lastDataIndex=e,this._lastSeriesIndex=a[0],"function"==typeof i)this._curTicket="axis:"+e,this._tDom.innerHTML=i.call(this.myChart,m,this._curTicket,this._setContent);else if("string"==typeof i){i=i.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");for(var d=0,u=m.length;u>d;d++)i=i.replace("{a"+d+"}",this._encodeHTML(m[d].seriesName)),i=i.replace("{b"+d+"}",this._encodeHTML(m[d].name)),i=i.replace("{c"+d+"}",this.numAddCommas(m[d].value)),i=i.replace("{d"+d+"}",this._encodeHTML(m[d].indicator));this._tDom.innerHTML=i}else{i=this._encodeHTML(m[0].name)+"<br/>"+this._encodeHTML(m[0].indicator)+" : "+this.numAddCommas(m[0].value);for(var d=1,u=m.length;u>d;d++)i+="<br/>"+this._encodeHTML(m[d].name)+"<br/>",i+=this._encodeHTML(m[d].indicator)+" : "+this.numAddCommas(m[d].value);this._tDom.innerHTML=i}if(r===!1||!this.option.tooltip.showContent)return;return this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(o,c.getX(this._event),c.getY(this._event),h),!0}},_showItemTrigger:function(t){if(this._curTarget){var e,i,o,r=h.get(this._curTarget,"series"),n=h.get(this._curTarget,"seriesIndex"),s=h.get(this._curTarget,"data"),l=h.get(this._curTarget,"dataIndex"),d=h.get(this._curTarget,"name"),u=h.get(this._curTarget,"value"),p=h.get(this._curTarget,"special"),f=h.get(this._curTarget,"special2"),g=[s,r,this.option],m="";if("island"!=this._curTarget._type){var _=t?"axis":"item";this.option.tooltip.trigger===_&&(e=this.option.tooltip.formatter,i=this.option.tooltip.position),this.query(r,"tooltip.trigger")===_&&(o=this.query(r,"tooltip.showContent")||o,e=this.query(r,"tooltip.formatter")||e,i=this.query(r,"tooltip.position")||i,m+=this._style(this.query(r,"tooltip"))),o=this.query(s,"tooltip.showContent")||o,e=this.query(s,"tooltip.formatter")||e,i=this.query(s,"tooltip.position")||i,m+=this._style(this.query(s,"tooltip"))}else this._lastItemTriggerId=0/0,o=this.deepQuery(g,"tooltip.showContent"),e=this.deepQuery(g,"tooltip.islandFormatter"),i=this.deepQuery(g,"tooltip.islandPosition");this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId!==this._curTarget.id&&(this._lastItemTriggerId=this._curTarget.id,"function"==typeof e?(this._curTicket=(r.name||"")+":"+l,this._tDom.innerHTML=e.call(this.myChart,{seriesIndex:n,seriesName:r.name||"",series:r,dataIndex:l,data:s,name:d,value:u,percent:p,indicator:p,value2:f,indicator2:f,0:r.name||"",1:d,2:u,3:p,4:f,5:s,6:n,7:l},this._curTicket,this._setContent)):"string"==typeof e?(this._curTicket=0/0,e=e.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),e=e.replace("{a0}",this._encodeHTML(r.name||"")).replace("{b0}",this._encodeHTML(d)).replace("{c0}",u instanceof Array?u:this.numAddCommas(u)),e=e.replace("{d}","{d0}").replace("{d0}",p||""),e=e.replace("{e}","{e0}").replace("{e0}",h.get(this._curTarget,"special2")||""),this._tDom.innerHTML=e):(this._curTicket=0/0,this._tDom.innerHTML=r.type===a.CHART_TYPE_RADAR&&p?this._itemFormatter.radar.call(this,r,d,u,p):r.type===a.CHART_TYPE_EVENTRIVER?this._itemFormatter.eventRiver.call(this,r,d,u,s):""+(null!=r.name?this._encodeHTML(r.name)+"<br/>":"")+(""===d?"":this._encodeHTML(d)+" : ")+(u instanceof Array?u:this.numAddCommas(u))));var y=c.getX(this._event),v=c.getY(this._event);this.deepQuery(g,"tooltip.axisPointer.show")&&this.component.grid?this._styleAxisPointer([r],this.component.grid.getX(),v,this.component.grid.getXend(),v,0,y,v):this._hide(),o!==!1&&this.option.tooltip.showContent&&(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(i,y+20,v-20,m))}},_itemFormatter:{radar:function(t,e,i,o){var r="";r+=this._encodeHTML(""===e?t.name||"":e),r+=""===r?"":"<br />";for(var n=0;n<o.length;n++)r+=this._encodeHTML(o[n].text)+" : "+this.numAddCommas(i[n])+"<br />";return r},chord:function(t,e,i,o,r){if(null==r)return this._encodeHTML(e)+" ("+this.numAddCommas(i)+")";var n=this._encodeHTML(e),s=this._encodeHTML(o);return""+(null!=t.name?this._encodeHTML(t.name)+"<br/>":"")+n+" -> "+s+" ("+this.numAddCommas(i)+")<br />"+s+" -> "+n+" ("+this.numAddCommas(r)+")"},eventRiver:function(t,e,i,o){var r="";r+=this._encodeHTML(""===t.name?"":t.name+" : "),r+=this._encodeHTML(e),r+=""===r?"":"<br />",o=o.evolution;for(var n=0,s=o.length;s>n;n++)r+='<div style="padding-top:5px;">',o[n].detail&&(o[n].detail.img&&(r+='<img src="'+o[n].detail.img+'" style="float:left;width:40px;height:40px;">'),r+='<div style="margin-left:45px;">'+o[n].time+"<br/>",r+='<a href="'+o[n].detail.link+'" target="_blank">',r+=o[n].detail.text+"</a></div>",r+="</div>");return r}},_styleAxisPointer:function(t,e,i,o,r,n,s,a){if(t.length>0){var h,l,c=this.option.tooltip.axisPointer,d=c.type,u={line:{},cross:{},shadow:{}};for(var p in u)u[p].color=c[p+"Style"].color,u[p].width=c[p+"Style"].width,u[p].type=c[p+"Style"].type;for(var f=0,g=t.length;g>f;f++)h=t[f],l=this.query(h,"tooltip.axisPointer.type"),d=l||d,l&&(u[l].color=this.query(h,"tooltip.axisPointer."+l+"Style.color")||u[l].color,u[l].width=this.query(h,"tooltip.axisPointer."+l+"Style.width")||u[l].width,u[l].type=this.query(h,"tooltip.axisPointer."+l+"Style.type")||u[l].type);if("line"===d){var m=u.line.width,_=e==o;this._axisLineShape.style={xStart:_?this.subPixelOptimize(e,m):e,yStart:_?i:this.subPixelOptimize(i,m),xEnd:_?this.subPixelOptimize(o,m):o,yEnd:_?r:this.subPixelOptimize(r,m),strokeColor:u.line.color,lineWidth:m,lineType:u.line.type},this._axisLineShape.invisible=!1,this.zr.modShape(this._axisLineShape.id)}else if("cross"===d){var y=u.cross.width;this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:this.subPixelOptimize(s,y),y:this.subPixelOptimize(a,y),text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(s)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(a)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:u.cross.color,lineWidth:y,lineType:u.cross.type},this.component.grid.getXend()-s>100?(this._axisCrossShape.style.textAlign="left",this._axisCrossShape.style.textX=s+10):(this._axisCrossShape.style.textAlign="right",this._axisCrossShape.style.textX=s-10),a-this.component.grid.getY()>50?(this._axisCrossShape.style.textBaseline="bottom",this._axisCrossShape.style.textY=a-10):(this._axisCrossShape.style.textBaseline="top",this._axisCrossShape.style.textY=a+10),this._axisCrossShape.invisible=!1,this.zr.modShape(this._axisCrossShape.id)}else"shadow"===d&&((null==u.shadow.width||"auto"===u.shadow.width||isNaN(u.shadow.width))&&(u.shadow.width=n),e===o?Math.abs(this.component.grid.getX()-e)<2?(u.shadow.width/=2,e=o+=u.shadow.width/2):Math.abs(this.component.grid.getXend()-e)<2&&(u.shadow.width/=2,e=o-=u.shadow.width/2):i===r&&(Math.abs(this.component.grid.getY()-i)<2?(u.shadow.width/=2,i=r+=u.shadow.width/2):Math.abs(this.component.grid.getYend()-i)<2&&(u.shadow.width/=2,i=r-=u.shadow.width/2)),this._axisShadowShape.style={xStart:e,yStart:i,xEnd:o,yEnd:r,strokeColor:u.shadow.color,lineWidth:u.shadow.width},this._axisShadowShape.invisible=!1,this.zr.modShape(this._axisShadowShape.id));this.zr.refreshNextFrame()}},__onmousemove:function(t){if(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),!this._mousein||!this._enterable){var e=t.target,i=c.getX(t.event),o=c.getY(t.event);if(e){this._curTarget=e,this._event=t.event,this._event.zrenderX=i,this._event.zrenderY=o;var r;if(this._needAxisTrigger&&this.component.polar&&-1!=(r=this.component.polar.isInside([i,o])))for(var n=this.option.series,h=0,l=n.length;l>h;h++)if(n[h].polarIndex===r&&"axis"===this.deepQuery([n[h],this.option],"tooltip.trigger")){this._curTarget=null;break}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else this._curTarget=!1,this._event=t.event,this._event.zrenderX=i,this._event.zrenderY=o,this._needAxisTrigger&&this.component.grid&&d.isInside(s,this.component.grid.getArea(),i,o)?this._showingTicket=setTimeout(this._tryShow,this._showDelay):this._needAxisTrigger&&this.component.polar&&-1!=this.component.polar.isInside([i,o])?this._showingTicket=setTimeout(this._tryShow,this._showDelay):(!this._event.connectTrigger&&this.messageCenter.dispatch(a.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}},__onglobalout:function(){clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(t,e){this._tDom&&(t===this._curTicket&&(this._tDom.innerHTML=e),setTimeout(this._refixed,20))},ontooltipHover:function(t,e){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=t.dataIndex){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this.shapeList.length=2);for(var i=0,o=e.length;o>i;i++)e[i].zlevel=this.getZlevelBase(),e[i].z=this.getZBase(),e[i].style=f.prototype.getHighlightStyle(e[i].style,e[i].highlightStyle),e[i].draggable=!1,e[i].hoverable=!1,e[i].clickable=!1,e[i].ondragend=null,e[i].ondragover=null,e[i].ondrop=null,this.shapeList.push(e[i]),this.zr.addShape(e[i]);this._lastTipShape={dataIndex:t.dataIndex,tipShape:e}}},ondragend:function(){this._hide()},onlegendSelected:function(t){this._selectedMap=t.selected},_setSelectedMap:function(){this._selectedMap=this.component.legend?p.clone(this.component.legend.getSelectedMap()):{}},_isSelected:function(t){return null!=this._selectedMap[t]?this._selectedMap[t]:!0},showTip:function(t){if(t){var e,i=this.option.series;if(null!=t.seriesIndex)e=t.seriesIndex;else for(var o=t.seriesName,r=0,n=i.length;n>r;r++)if(i[r].name===o){e=r;break}var s=i[e];if(null!=s){var c=this.myChart.chart[s.type],d="axis"===this.deepQuery([s,this.option],"tooltip.trigger");if(c)if(d){var u=t.dataIndex;switch(c.type){case a.CHART_TYPE_LINE:case a.CHART_TYPE_BAR:case a.CHART_TYPE_K:case a.CHART_TYPE_RADAR:if(null==this.component.polar||s.data[0].value.length<=u)return;var p=s.polarIndex||0,f=this.component.polar.getVector(p,u,"max");this._event={zrenderX:f[0],zrenderY:f[1]},this._showPolarTrigger(p,u)}}else{var g,m,_=c.shapeList;switch(c.type){case a.CHART_TYPE_LINE:case a.CHART_TYPE_BAR:case a.CHART_TYPE_K:case a.CHART_TYPE_TREEMAP:case a.CHART_TYPE_SCATTER:for(var u=t.dataIndex,r=0,n=_.length;n>r;r++)if(null==_[r]._mark&&h.get(_[r],"seriesIndex")==e&&h.get(_[r],"dataIndex")==u){this._curTarget=_[r],g=_[r].style.x,m=c.type!=a.CHART_TYPE_K?_[r].style.y:_[r].style.y[0];break}break;case a.CHART_TYPE_RADAR:for(var u=t.dataIndex,r=0,n=_.length;n>r;r++)if("polygon"===_[r].type&&h.get(_[r],"seriesIndex")==e&&h.get(_[r],"dataIndex")==u){this._curTarget=_[r];var f=this.component.polar.getCenter(s.polarIndex||0);g=f[0],m=f[1];break}break;case a.CHART_TYPE_PIE:for(var y=t.name,r=0,n=_.length;n>r;r++)if("sector"===_[r].type&&h.get(_[r],"seriesIndex")==e&&h.get(_[r],"name")==y){this._curTarget=_[r];var v=this._curTarget.style,x=(v.startAngle+v.endAngle)/2*Math.PI/180;g=this._curTarget.style.x+Math.cos(x)*v.r/1.5,m=this._curTarget.style.y-Math.sin(x)*v.r/1.5;break}break;case a.CHART_TYPE_MAP:for(var y=t.name,b=s.mapType,r=0,n=_.length;n>r;r++)if("text"===_[r].type&&_[r]._mapType===b&&_[r].style._name===y){this._curTarget=_[r],g=this._curTarget.style.x+this._curTarget.position[0],m=this._curTarget.style.y+this._curTarget.position[1];break}break;case a.CHART_TYPE_CHORD:for(var y=t.name,r=0,n=_.length;n>r;r++)if("sector"===_[r].type&&h.get(_[r],"name")==y){this._curTarget=_[r];var v=this._curTarget.style,x=(v.startAngle+v.endAngle)/2*Math.PI/180;return g=this._curTarget.style.x+Math.cos(x)*(v.r-2),m=this._curTarget.style.y-Math.sin(x)*(v.r-2),void this.zr.trigger(l.EVENT.MOUSEMOVE,{zrenderX:g,zrenderY:m})}break;case a.CHART_TYPE_FORCE:for(var y=t.name,r=0,n=_.length;n>r;r++)if("circle"===_[r].type&&h.get(_[r],"name")==y){this._curTarget=_[r],g=this._curTarget.position[0],m=this._curTarget.position[1];break}}null!=g&&null!=m&&(this._event={zrenderX:g,zrenderY:m},this.zr.addHoverShape(this._curTarget),this.zr.refreshHover(),this._showItemTrigger())}}}},hideTip:function(){this._hide()},refresh:function(t){if(this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2,this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,t){this.option=t,this.option.tooltip=this.reformOption(this.option.tooltip),this.option.tooltip.textStyle=p.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle),this._needAxisTrigger=!1,"axis"===this.option.tooltip.trigger&&(this._needAxisTrigger=!0);for(var e=this.option.series,i=0,o=e.length;o>i;i++)if("axis"===this.query(e[i],"tooltip.trigger")){this._needAxisTrigger=!0;break}this._showDelay=this.option.tooltip.showDelay,this._hideDelay=this.option.tooltip.hideDelay,this._defaultCssText=this._style(this.option.tooltip),this._setSelectedMap(),this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width,this._enterable=this.option.tooltip.enterable,!this._enterable&&this._tDom.className.indexOf(l.elementClassName)<0&&(this._tDom.className+=" "+l.elementClassName)}if(this.showing){var r=this;setTimeout(function(){r.zr.trigger(l.EVENT.MOUSEMOVE,r.zr.handler._event)},50)}},onbeforDispose:function(){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this.zr.un(l.EVENT.MOUSEMOVE,this._onmousemove),this.zr.un(l.EVENT.GLOBALOUT,this._onglobalout),this.hasAppend&&this.dom.firstChild&&this.dom.firstChild.removeChild(this._tDom),this._tDom=null},_encodeHTML:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},p.inherits(e,i),t("../component").define("tooltip",e),e}),i("echarts/component",[],function(){var t={},e={};return t.define=function(i,o){return e[i]=o,t},t.get=function(t){return e[t]},t}),i("echarts/util/ecData",[],function(){function t(t,e,i,o,r,n,s,a){var h;return"undefined"!=typeof o&&(h=null==o.value?o:o.value),t._echartsData={_series:e,_seriesIndex:i,_data:o,_dataIndex:r,_name:n,_value:h,_special:s,_special2:a},t._echartsData}function e(t,e){var i=t._echartsData;if(!e)return i;switch(e){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return i&&i["_"+e]}return null}function i(t,e,i){switch(t._echartsData=t._echartsData||{},e){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":t._echartsData["_"+e]=i}}function o(t,e){e._echartsData={_series:t._echartsData._series,_seriesIndex:t._echartsData._seriesIndex,_data:t._echartsData._data,_dataIndex:t._echartsData._dataIndex,_name:t._echartsData._name,_value:t._echartsData._value,_special:t._echartsData._special,_special2:t._echartsData._special2}}return{pack:t,set:i,get:e,clone:o}}),i("zrender/tool/color",["require","../tool/util"],function(t){function e(t){W=t}function i(){W=X}function o(t,e){return t=0|t,e=e||W,e[t%e.length]}function r(t){q=t}function n(){G=q}function s(){return q}function a(t,e,i,o,r,n,s){N||(N=Y.getContext());for(var a=N.createRadialGradient(t,e,i,o,r,n),h=0,l=s.length;l>h;h++)a.addColorStop(s[h][0],s[h][1]);return a.__nonRecursion=!0,a}function h(t,e,i,o,r){N||(N=Y.getContext());for(var n=N.createLinearGradient(t,e,i,o),s=0,a=r.length;a>s;s++)n.addColorStop(r[s][0],r[s][1]);return n.__nonRecursion=!0,n}function l(t,e,i){t=f(t),e=f(e),t=M(t),e=M(e);for(var o=[],r=(e[0]-t[0])/i,n=(e[1]-t[1])/i,s=(e[2]-t[2])/i,a=(e[3]-t[3])/i,h=0,l=t[0],c=t[1],u=t[2],p=t[3];i>h;h++)o[h]=d([P(Math.floor(l),[0,255]),P(Math.floor(c),[0,255]),P(Math.floor(u),[0,255]),p.toFixed(4)-0],"rgba"),l+=r,c+=n,u+=s,p+=a;return l=e[0],c=e[1],u=e[2],p=e[3],o[h]=d([l,c,u,p],"rgba"),o}function c(t,e){var i=[],o=t.length;if(void 0===e&&(e=20),1===o)i=l(t[0],t[0],e);else if(o>1)for(var r=0,n=o-1;n>r;r++){var s=l(t[r],t[r+1],e);n-1>r&&s.pop(),i=i.concat(s)}return i}function d(t,e){if(e=e||"rgb",t&&(3===t.length||4===t.length)){if(t=I(t,function(t){return t>1?Math.ceil(t):t}),e.indexOf("hex")>-1)return"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1);if(e.indexOf("hs")>-1){var i=I(t.slice(1,3),function(t){return t+"%"});t[1]=i[0],t[2]=i[1]}return e.indexOf("a")>-1?(3===t.length&&t.push(1),t[3]=P(t[3],[0,1]),e+"("+t.slice(0,4).join(",")+")"):e+"("+t.slice(0,3).join(",")+")"}}function u(t){t=z(t),t.indexOf("rgba")<0&&(t=f(t));var e=[],i=0;return t.replace(/[\d.]+/g,function(t){t=3>i?0|t:+t,e[i++]=t}),e}function p(t,e){if(!O(t))return t;var i=M(t),o=i[3];return"undefined"==typeof o&&(o=1),t.indexOf("hsb")>-1?i=D(i):t.indexOf("hsl")>-1&&(i=R(i)),e.indexOf("hsb")>-1||e.indexOf("hsv")>-1?i=F(i):e.indexOf("hsl")>-1&&(i=B(i)),i[3]=o,d(i,e)}function f(t){return p(t,"rgba")}function g(t){return p(t,"rgb")}function m(t){return p(t,"hex")}function _(t){return p(t,"hsva")}function y(t){return p(t,"hsv")}function v(t){return p(t,"hsba")}function x(t){return p(t,"hsb")}function b(t){return p(t,"hsla")}function T(t){return p(t,"hsl")}function S(t){for(var e in Z)if(m(Z[e])===m(t))return e;return null}function z(t){return String(t).replace(/\s+/g,"")}function C(t){if(Z[t]&&(t=Z[t]),t=z(t),t=t.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(t)){t=parseInt(t.slice(1),16);var e=(3840&t)<<8,i=(240&t)<<4,o=15&t;t="#"+((1<<24)+(e<<4)+e+(i<<4)+i+(o<<4)+o).toString(16).slice(1)}return t}function E(t,e){if(!O(t))return t;var i=e>0?1:-1;"undefined"==typeof e&&(e=0),e=Math.abs(e)>1?1:Math.abs(e),t=g(t);for(var o=M(t),r=0;3>r;r++)o[r]=1===i?o[r]*(1-e)|0:(255-o[r])*e+o[r]|0;return"rgb("+o.join(",")+")"}function w(t){if(!O(t))return t;var e=M(f(t));return e=I(e,function(t){return 255-t}),d(e,"rgb")}function L(t,e,i){if(!O(t)||!O(e))return t;"undefined"==typeof i&&(i=.5),i=1-P(i,[0,1]);for(var o=2*i-1,r=M(f(t)),n=M(f(e)),s=r[3]-n[3],a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,h=1-a,l=[],c=0;3>c;c++)l[c]=r[c]*a+n[c]*h;var u=r[3]*i+n[3]*(1-i);return u=Math.max(0,Math.min(1,u)),1===r[3]&&1===n[3]?d(l,"rgb"):(l[3]=u,d(l,"rgba"))}function A(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)}function M(t){t=C(t);var e=t.match(V);if(null===e)throw new Error("The color format error");var i,o,r,n=[];if(e[2])i=e[2].replace("#","").split(""),r=[i[0]+i[1],i[2]+i[3],i[4]+i[5]],n=I(r,function(t){return P(parseInt(t,16),[0,255])});else if(e[4]){var s=e[4].split(",");o=s[3],r=s.slice(0,3),n=I(r,function(t){return t=Math.floor(t.indexOf("%")>0?2.55*parseInt(t,0):t),P(t,[0,255])}),"undefined"!=typeof o&&n.push(P(parseFloat(o),[0,1]))}else if(e[5]||e[6]){var a=(e[5]||e[6]).split(","),h=parseInt(a[0],0)/360,l=a[1],c=a[2];o=a[3],n=I([l,c],function(t){return P(parseFloat(t)/100,[0,1])}),n.unshift(h),"undefined"!=typeof o&&n.push(P(parseFloat(o),[0,1]))}return n}function k(t,e){if(!O(t))return t;null===e&&(e=1);var i=M(f(t));return i[3]=P(Number(e).toFixed(4),[0,1]),d(i,"rgba")}function I(t,e){if("function"!=typeof e)throw new TypeError;for(var i=t?t.length:0,o=0;i>o;o++)t[o]=e(t[o]);return t}function P(t,e){return t<=e[0]?t=e[0]:t>=e[1]&&(t=e[1]),t}function O(t){return t instanceof Array||"string"==typeof t}function D(t){var e,i,o,r=t[0],n=t[1],s=t[2];if(0===n)e=255*s,i=255*s,o=255*s;
else{var a=6*r;6===a&&(a=0);var h=0|a,l=s*(1-n),c=s*(1-n*(a-h)),d=s*(1-n*(1-(a-h))),u=0,p=0,f=0;0===h?(u=s,p=d,f=l):1===h?(u=c,p=s,f=l):2===h?(u=l,p=s,f=d):3===h?(u=l,p=c,f=s):4===h?(u=d,p=l,f=s):(u=s,p=l,f=c),e=255*u,i=255*p,o=255*f}return[e,i,o]}function R(t){var e,i,o,r=t[0],n=t[1],s=t[2];if(0===n)e=255*s,i=255*s,o=255*s;else{var a;a=.5>s?s*(1+n):s+n-n*s;var h=2*s-a;e=255*H(h,a,r+1/3),i=255*H(h,a,r),o=255*H(h,a,r-1/3)}return[e,i,o]}function H(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function F(t){var e,i,o=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.min(o,r,n),a=Math.max(o,r,n),h=a-s,l=a;if(0===h)e=0,i=0;else{i=h/a;var c=((a-o)/6+h/2)/h,d=((a-r)/6+h/2)/h,u=((a-n)/6+h/2)/h;o===a?e=u-d:r===a?e=1/3+c-u:n===a&&(e=2/3+d-c),0>e&&(e+=1),e>1&&(e-=1)}return e=360*e,i=100*i,l=100*l,[e,i,l]}function B(t){var e,i,o=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.min(o,r,n),a=Math.max(o,r,n),h=a-s,l=(a+s)/2;if(0===h)e=0,i=0;else{i=.5>l?h/(a+s):h/(2-a-s);var c=((a-o)/6+h/2)/h,d=((a-r)/6+h/2)/h,u=((a-n)/6+h/2)/h;o===a?e=u-d:r===a?e=1/3+c-u:n===a&&(e=2/3+d-c),0>e&&(e+=1),e>1&&(e-=1)}return e=360*e,i=100*i,l=100*l,[e,i,l]}var N,Y=t("../tool/util"),W=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],X=W,q="rgba(255,255,0,0.5)",G=q,V=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,Z={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:e,resetPalette:i,getColor:o,getHighlightColor:s,customHighlight:r,resetHighlight:n,getRadialGradient:a,getLinearGradient:h,getGradientColors:c,getStepColors:l,reverse:w,mix:L,lift:E,trim:z,random:A,toRGB:g,toRGBA:f,toHex:m,toHSL:T,toHSLA:b,toHSB:x,toHSBA:v,toHSV:y,toHSVA:_,toName:S,toColor:d,toArray:u,alpha:k,getData:M}}),i("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),o=t("../tool/util"),r=t("../tool/color"),n=t("../shape/Rectangle");return o.inherits(e,i),e.prototype._start=function(t,e){var i=o.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}}),s=this.createTextShape(i.textStyle),a=this.createBackgroundShape(i.backgroundColor),h=i.effectOption,l=new n({highlightStyle:o.clone(h)});return l.highlightStyle.color=h.color||r.getLinearGradient(h.x,h.y,h.x+h.width,h.y+h.height,[[0,"#ff6400"],[.5,"#ffe100"],[1,"#b1ff00"]]),null!=i.progress?(t(a),l.highlightStyle.width=this.adjust(i.progress,[0,1])*i.effectOption.width,t(l),t(s),void e()):(l.highlightStyle.width=0,setInterval(function(){t(a),l.highlightStyle.width<h.width?l.highlightStyle.width+=8:l.highlightStyle.width=0,t(l),t(s),e()},h.timeInterval))},e}),i("echarts/chart",[],function(){var t={},e={};return t.define=function(i,o){return e[i]=o,t},t.get=function(t){return e[t]},t}),i("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(t){function e(t,e,i,r,n){o.call(this,t,e,i,r,n);var s=this;if(s._onclick=function(t){return s.__onclick(t)},s._ondrift=function(t,e){return s.__ondrift(this,t,e)},s._ondragend=function(){return s.__ondragend()},s._setCurrentOption=function(){var t=s.timelineOption;s.currentIndex%=t.data.length;var e=s.options[s.currentIndex]||{};s.myChart._setOption(e,t.notMerge,!0),s.messageCenter.dispatch(a.EVENT.TIMELINE_CHANGED,null,{currentIndex:s.currentIndex,data:null!=t.data[s.currentIndex].name?t.data[s.currentIndex].name:t.data[s.currentIndex]},s.myChart)},s._onFrame=function(){s._setCurrentOption(),s._syncHandleShape(),s.timelineOption.autoPlay&&(s.playTicket=setTimeout(function(){return s.currentIndex+=1,!s.timelineOption.loop&&s.currentIndex>=s.timelineOption.data.length?(s.currentIndex=s.timelineOption.data.length-1,void s.stop()):void s._onFrame()},s.timelineOption.playInterval))},this.setTheme(!1),this.options=this.option.options,this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length,this.timelineOption.notMerge||0===this.currentIndex||(this.options[this.currentIndex]=h.merge(this.options[this.currentIndex],this.options[0])),this.timelineOption.show&&(this._buildShape(),this._syncHandleShape()),this._setCurrentOption(),this.timelineOption.autoPlay){var s=this;this.playTicket=setTimeout(function(){s.play()},null!=this.ecTheme.animationDuration?this.ecTheme.animationDuration:a.animationDuration)}}function i(t,e){var i=2,o=e.x+i,r=e.y+i+2,s=e.width-i,a=e.height-i,h=e.symbol;if("last"===h)t.moveTo(o+s-2,r+a/3),t.lineTo(o+s-2,r),t.lineTo(o+2,r+a/2),t.lineTo(o+s-2,r+a),t.lineTo(o+s-2,r+a/3*2),t.moveTo(o,r),t.lineTo(o,r);else if("next"===h)t.moveTo(o+2,r+a/3),t.lineTo(o+2,r),t.lineTo(o+s-2,r+a/2),t.lineTo(o+2,r+a),t.lineTo(o+2,r+a/3*2),t.moveTo(o,r),t.lineTo(o,r);else if("play"===h)if("stop"===e.status)t.moveTo(o+2,r),t.lineTo(o+s-2,r+a/2),t.lineTo(o+2,r+a),t.lineTo(o+2,r);else{var l="both"===e.brushType?2:3;t.rect(o+2,r,l,a),t.rect(o+s-l-2,r,l,a)}else if(h.match("image")){var c="";c=h.replace(new RegExp("^image:\\/\\/"),""),h=n.prototype.iconLibrary.image,h(t,{x:o,y:r,width:s,height:a,image:c})}}var o=t("./base"),r=t("zrender/shape/Rectangle"),n=t("../util/shape/Icon"),s=t("../util/shape/Chain"),a=t("../config");a.timeline={zlevel:0,z:4,show:!0,type:"time",notMerge:!1,realtime:!0,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:!1,loop:!0,playInterval:2e3,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:!1,textStyle:{color:"auto"}}},controlStyle:{itemSize:15,itemGap:5,normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0};var h=t("zrender/tool/util"),l=t("zrender/tool/area"),c=t("zrender/tool/event");return e.prototype={type:a.COMPONENT_TYPE_TIMELINE,_buildShape:function(){if(this._location=this._getLocation(),this._buildBackground(),this._buildControl(),this._chainPoint=this._getChainPoint(),this.timelineOption.label.show)for(var t=this._getInterval(),e=0,i=this._chainPoint.length;i>e;e+=t)this._chainPoint[e].showLabel=!0;this._buildChain(),this._buildHandle();for(var e=0,o=this.shapeList.length;o>e;e++)this.zr.addShape(this.shapeList[e])},_getLocation:function(){var t,e=this.timelineOption,i=this.reformCssArray(this.timelineOption.padding),o=this.zr.getWidth(),r=this.parsePercent(e.x,o),n=this.parsePercent(e.x2,o);null==e.width?(t=o-r-n,n=o-n):(t=this.parsePercent(e.width,o),n=r+t);var s,a,h=this.zr.getHeight(),l=this.parsePercent(e.height,h);return null!=e.y?(s=this.parsePercent(e.y,h),a=s+l):(a=h-this.parsePercent(e.y2,h),s=a-l),{x:r+i[3],y:s+i[0],x2:n-i[1],y2:a-i[2],width:t-i[1]-i[3],height:l-i[0]-i[2]}},_getReformedLabel:function(t){var e=this.timelineOption,i=null!=e.data[t].name?e.data[t].name:e.data[t],o=e.data[t].formatter||e.label.formatter;return o&&("function"==typeof o?i=o.call(this.myChart,i):"string"==typeof o&&(i=o.replace("{value}",i))),i},_getInterval:function(){var t=this._chainPoint,e=this.timelineOption,i=e.label.interval;if("auto"===i){var o=e.label.textStyle.fontSize,r=e.data,n=e.data.length;if(n>3){var s,a,h=!1;for(i=0;!h&&n>i;){i++,h=!0;for(var c=i;n>c;c+=i){if(s=t[c].x-t[c-i].x,0!==e.label.rotate)a=o;else if(r[c].textStyle)a=l.getTextWidth(t[c].name,t[c].textFont);else{var d=t[c].name+"",u=(d.match(/\w/g)||"").length,p=d.length-u;a=u*o*2/3+p*o}if(a>s){h=!1;break}}}}else i=1}else i=i-0+1;return i},_getChainPoint:function(){function t(t){return null!=l[t].name?l[t].name:l[t]+""}var e,i=this.timelineOption,o=i.symbol.toLowerCase(),r=i.symbolSize,n=i.label.rotate,s=i.label.textStyle,a=this.getFont(s),l=i.data,c=this._location.x,d=this._location.y+this._location.height/4*3,u=this._location.x2-this._location.x,p=l.length,f=[];if(p>1){var g=u/p;if(g=g>50?50:20>g?5:g,u-=2*g,"number"===i.type)for(var m=0;p>m;m++)f.push(c+g+u/(p-1)*m);else{f[0]=new Date(t(0).replace(/-/g,"/")),f[p-1]=new Date(t(p-1).replace(/-/g,"/"))-f[0];for(var m=1;p>m;m++)f[m]=c+g+u*(new Date(t(m).replace(/-/g,"/"))-f[0])/f[p-1];f[0]=c+g}}else f.push(c+u/2);for(var _,y,v,x,b,T=[],m=0;p>m;m++)c=f[m],_=l[m].symbol&&l[m].symbol.toLowerCase()||o,_.match("empty")?(_=_.replace("empty",""),v=!0):v=!1,_.match("star")&&(y=_.replace("star","")-0||5,_="star"),e=l[m].textStyle?h.merge(l[m].textStyle||{},s):s,x=e.align||"center",n?(x=n>0?"right":"left",b=[n*Math.PI/180,c,d-5]):b=!1,T.push({x:c,n:y,isEmpty:v,symbol:_,symbolSize:l[m].symbolSize||r,color:l[m].color,borderColor:l[m].borderColor,borderWidth:l[m].borderWidth,name:this._getReformedLabel(m),textColor:e.color,textAlign:x,textBaseline:e.baseline||"middle",textX:c,textY:d-(n?5:0),textFont:l[m].textStyle?this.getFont(e):a,rotation:b,showLabel:!1});return T},_buildBackground:function(){var t=this.timelineOption,e=this.reformCssArray(this.timelineOption.padding),i=this._location.width,o=this._location.height;(0!==t.borderWidth||"rgba(0,0,0,0)"!=t.backgroundColor.replace(/\s/g,""))&&this.shapeList.push(new r({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x-e[3],y:this._location.y-e[0],width:i+e[1]+e[3],height:o+e[0]+e[2],brushType:0===t.borderWidth?"fill":"both",color:t.backgroundColor,strokeColor:t.borderColor,lineWidth:t.borderWidth}}))},_buildControl:function(){var t=this,e=this.timelineOption,i=e.lineStyle,o=e.controlStyle;if("none"!==e.controlPosition){var r,s=o.itemSize,a=o.itemGap;"left"===e.controlPosition?(r=this._location.x,this._location.x+=3*(s+a)):(r=this._location.x2-(3*(s+a)-a),this._location.x2-=3*(s+a));var l=this._location.y,c={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{iconType:"timelineControl",symbol:"last",x:r,y:l,width:s,height:s,brushType:"stroke",color:o.normal.color,strokeColor:o.normal.color,lineWidth:i.width},highlightStyle:{color:o.emphasis.color,strokeColor:o.emphasis.color,lineWidth:i.width+1},clickable:!0};this._ctrLastShape=new n(c),this._ctrLastShape.onclick=function(){t.last()},this.shapeList.push(this._ctrLastShape),r+=s+a,this._ctrPlayShape=new n(h.clone(c)),this._ctrPlayShape.style.brushType="fill",this._ctrPlayShape.style.symbol="play",this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop",this._ctrPlayShape.style.x=r,this._ctrPlayShape.onclick=function(){"stop"===t._ctrPlayShape.style.status?t.play():t.stop()},this.shapeList.push(this._ctrPlayShape),r+=s+a,this._ctrNextShape=new n(h.clone(c)),this._ctrNextShape.style.symbol="next",this._ctrNextShape.style.x=r,this._ctrNextShape.onclick=function(){t.next()},this.shapeList.push(this._ctrNextShape)}},_buildChain:function(){var t=this.timelineOption,e=t.lineStyle;this._timelineShae={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,e.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:e.color,lineWidth:e.width,lineType:e.type},hoverable:!1,clickable:!0,onclick:this._onclick},this._timelineShae=new s(this._timelineShae),this.shapeList.push(this._timelineShae)},_buildHandle:function(){var t=this._chainPoint[this.currentIndex],e=t.symbolSize+1;e=5>e?5:e,this._handleShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:!1,draggable:!0,style:{iconType:"diamond",n:t.n,x:t.x-e,y:this._location.y+this._location.height/4-e,width:2*e,height:2*e,brushType:"both",textPosition:"specific",textX:t.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend},this._handleShape=new n(this._handleShape),this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(this.timelineOption.show){var t=this.timelineOption,e=t.checkpointStyle,i=this._chainPoint[this.currentIndex];this._handleShape.style.text=e.label.show?i.name:"",this._handleShape.style.textFont=i.textFont,this._handleShape.style.n=i.n,"auto"===e.symbol?this._handleShape.style.iconType="none"!=i.symbol?i.symbol:"diamond":(this._handleShape.style.iconType=e.symbol,e.symbol.match("star")&&(this._handleShape.style.n=e.symbol.replace("star","")-0||5,this._handleShape.style.iconType="star"));var o;"auto"===e.symbolSize?(o=i.symbolSize+2,o=5>o?5:o):o=e.symbolSize-0,this._handleShape.style.color="auto"===e.color?i.color?i.color:t.controlStyle.emphasis.color:e.color,this._handleShape.style.textColor="auto"===e.label.textStyle.color?this._handleShape.style.color:e.label.textStyle.color,this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor="auto"===e.borderColor?i.borderColor?i.borderColor:"#fff":e.borderColor,this._handleShape.style.lineWidth="auto"===e.borderWidth?i.borderWidth?i.borderWidth:0:e.borderWidth-0,this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1,this.zr.animate(this._handleShape.id,"style").when(500,{x:i.x-o,textX:i.x,y:this._location.y+this._location.height/4-o,width:2*o,height:2*o}).start("ExponentialOut")}},_findChainIndex:function(t){var e=this._chainPoint,i=e.length;if(t<=e[0].x)return 0;if(t>=e[i-1].x)return i-1;for(var o=0;i-1>o;o++)if(t>=e[o].x&&t<=e[o+1].x)return Math.abs(t-e[o].x)<Math.abs(t-e[o+1].x)?o:o+1},__onclick:function(t){var e=c.getX(t.event),i=this._findChainIndex(e);return i===this.currentIndex?!0:(this.currentIndex=i,this.timelineOption.autoPlay&&this.stop(),clearTimeout(this.playTicket),void this._onFrame())},__ondrift:function(t,e){this.timelineOption.autoPlay&&this.stop();var i,o=this._chainPoint,r=o.length;t.style.x+e<=o[0].x-o[0].symbolSize?(t.style.x=o[0].x-o[0].symbolSize,i=0):t.style.x+e>=o[r-1].x-o[r-1].symbolSize?(t.style.x=o[r-1].x-o[r-1].symbolSize,i=r-1):(t.style.x+=e,i=this._findChainIndex(t.style.x));var n=o[i],s=n.symbolSize+2;if(t.style.iconType=n.symbol,t.style.n=n.n,t.style.textX=t.style.x+s/2,t.style.y=this._location.y+this._location.height/4-s,t.style.width=2*s,t.style.height=2*s,t.style.text=n.name,i===this.currentIndex)return!0;if(this.currentIndex=i,this.timelineOption.realtime){clearTimeout(this.playTicket);var a=this;this.playTicket=setTimeout(function(){a._setCurrentOption()},200)}return!0},__ondragend:function(){this.isDragend=!0},ondragend:function(t,e){this.isDragend&&t.target&&(!this.timelineOption.realtime&&this._setCurrentOption(),e.dragOut=!0,e.dragIn=!0,e.needRefresh=!1,this.isDragend=!1,this._syncHandleShape())},last:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex-=1,this.currentIndex<0&&(this.currentIndex=this.timelineOption.data.length-1),this._onFrame(),this.currentIndex},next:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex+=1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},play:function(t,e){return this._ctrPlayShape&&"playing"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="playing",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=null!=e?e:!0,this.timelineOption.autoPlay||clearTimeout(this.playTicket),this.currentIndex=null!=t?t:this.currentIndex+1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},stop:function(){return this._ctrPlayShape&&"stop"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="stop",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=!1,clearTimeout(this.playTicket),this.currentIndex},resize:function(){this.timelineOption.show&&(this.clear(),this._buildShape(),this._syncHandleShape())},setTheme:function(t){this.timelineOption=this.reformOption(h.clone(this.option.timeline)),this.timelineOption.label.textStyle=this.getTextStyle(this.timelineOption.label.textStyle),this.timelineOption.checkpointStyle.label.textStyle=this.getTextStyle(this.timelineOption.checkpointStyle.label.textStyle),this.myChart.canvasSupported||(this.timelineOption.realtime=!1),this.timelineOption.show&&t&&(this.clear(),this._buildShape(),this._syncHandleShape())},onbeforDispose:function(){clearTimeout(this.playTicket)}},n.prototype.iconLibrary.timelineControl=i,h.inherits(e,o),t("../component").define("timeline",e),e}),i("zrender/shape/Image",["require","./Base","../tool/util"],function(t){var e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={type:"image",brush:function(t,e,i){var o=this.style||{};e&&(o=this.getHighlightStyle(o,this.highlightStyle||{}));var r=o.image,n=this;if(this._imageCache||(this._imageCache={}),"string"==typeof r){var s=r;this._imageCache[s]?r=this._imageCache[s]:(r=new Image,r.onload=function(){r.onload=null,n.modSelf(),i()},r.src=s,this._imageCache[s]=r)}if(r){if("IMG"==r.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=r.readyState)return}else if(!r.complete)return;var a=o.width||r.width,h=o.height||r.height,l=o.x,c=o.y;if(!r.width||!r.height)return;if(t.save(),this.doClip(t),this.setContext(t,o),this.setTransform(t),o.sWidth&&o.sHeight){var d=o.sx||0,u=o.sy||0;t.drawImage(r,d,u,o.sWidth,o.sHeight,l,c,a,h)}else if(o.sx&&o.sy){var d=o.sx,u=o.sy,p=a-d,f=h-u;t.drawImage(r,d,u,p,f,l,c,a,h)}else t.drawImage(r,l,c,a,h);o.width||(o.width=a),o.height||(o.height=h),this.style.width||(this.style.width=a),this.style.height||(this.style.height=h),this.drawText(t,o,this.style),t.restore()}},getRect:function(t){return{x:t.x,y:t.y,width:t.width,height:t.height}},clearCache:function(){this._imageCache={}}},t("../tool/util").inherits(i,e),i}),i("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),o=t("../tool/util"),r=t("../tool/color"),n=t("../shape/Circle");return o.inherits(e,i),e.prototype._start=function(t,e){for(var i=o.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),s=this.createTextShape(i.textStyle),a=this.createBackgroundShape(i.backgroundColor),h=i.effect,l=h.n,c=h.brushType,d=h.lineWidth,u=[],p=this.canvasWidth,f=this.canvasHeight,g=0;l>g;g++){var m="random"==h.color?r.alpha(r.random(),.3):h.color;u[g]=new n({highlightStyle:{x:Math.ceil(Math.random()*p),y:Math.ceil(Math.random()*f),r:Math.ceil(40*Math.random()),brushType:c,color:m,strokeColor:m,lineWidth:d},animationY:Math.ceil(20*Math.random())})}return setInterval(function(){t(a);for(var i=0;l>i;i++){var o=u[i].highlightStyle;o.y-u[i].animationY+o.r<=0&&(u[i].highlightStyle.y=f+o.r,u[i].highlightStyle.x=Math.ceil(Math.random()*p)),u[i].highlightStyle.y-=u[i].animationY,t(u[i])}t(s),e()},h.timeInterval)},e}),i("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),o=t("../tool/util"),r=t("../tool/color"),n=t("../shape/Line");return o.inherits(e,i),e.prototype._start=function(t,e){for(var i=o.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}}),s=this.createTextShape(i.textStyle),a=this.createBackgroundShape(i.backgroundColor),h=i.effectOption,l=h.n,c=h.lineWidth,d=[],u=this.canvasWidth,p=this.canvasHeight,f=0;l>f;f++){var g=-Math.ceil(1e3*Math.random()),m=Math.ceil(400*Math.random()),_=Math.ceil(Math.random()*p),y="random"==h.color?r.random():h.color;d[f]=new n({highlightStyle:{xStart:g,yStart:_,xEnd:g+m,yEnd:_,strokeColor:y,lineWidth:c},animationX:Math.ceil(100*Math.random()),len:m})}return setInterval(function(){t(a);for(var i=0;l>i;i++){var o=d[i].highlightStyle;o.xStart>=u&&(d[i].len=Math.ceil(400*Math.random()),o.xStart=-400,o.xEnd=-400+d[i].len,o.yStart=Math.ceil(Math.random()*p),o.yEnd=o.yStart),o.xStart+=d[i].animationX,o.xEnd+=d[i].animationX,t(d[i])}t(s),e()},h.timeInterval)},e}),i("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),o=t("../tool/util"),r=t("../tool/color"),n=t("../tool/area"),s=t("../shape/Sector");return o.inherits(e,i),e.prototype._start=function(t,e){var i=o.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"}),a=this.createTextShape(i.textStyle),h=10,l=n.getTextWidth(a.highlightStyle.text,a.highlightStyle.textFont),c=n.getTextHeight(a.highlightStyle.text,a.highlightStyle.textFont),d=o.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100}),u=this.getLocation(this.options.textStyle,l+h+2*d.r,Math.max(2*d.r,c));d.x=u.x+d.r,d.y=a.highlightStyle.y=u.y+u.height/2,a.highlightStyle.x=d.x+d.r+h;for(var p=this.createBackgroundShape(i.backgroundColor),f=d.n,g=d.x,m=d.y,_=d.r0,y=d.r,v=d.color,x=[],b=Math.round(180/f),T=0;f>T;T++)x[T]=new s({highlightStyle:{x:g,y:m,r0:_,r:y,startAngle:b*T*2,endAngle:b*T*2+b,color:r.alpha(v,(T+1)/f),brushType:"fill"}});var S=[0,g,m];return setInterval(function(){t(p),S[0]-=.3;for(var i=0;f>i;i++)x[i].rotation=S,t(x[i]);t(a),e()},d.timeInterval)},e}),i("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),o=t("../tool/util"),r=t("../tool/area"),n=t("../shape/Ring"),s=t("../shape/Droplet"),a=t("../shape/Circle");return o.inherits(e,i),e.prototype._start=function(t,e){var i=o.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"}),h=this.createTextShape(i.textStyle),l=10,c=r.getTextWidth(h.highlightStyle.text,h.highlightStyle.textFont),d=r.getTextHeight(h.highlightStyle.text,h.highlightStyle.textFont),u=o.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50}),p=this.getLocation(this.options.textStyle,c+l+2*u.r,Math.max(2*u.r,d));u.x=p.x+u.r,u.y=h.highlightStyle.y=p.y+p.height/2,h.highlightStyle.x=u.x+u.r+l;var f=this.createBackgroundShape(i.backgroundColor),g=new s({highlightStyle:{a:Math.round(u.r/2),b:Math.round(u.r-u.r/6),brushType:"fill",color:u.colorWhirl}}),m=new a({highlightStyle:{r:Math.round(u.r/6),brushType:"fill",color:u.colorIn}}),_=new n({highlightStyle:{r0:Math.round(u.r-u.r/3),r:u.r,brushType:"fill",color:u.colorOut}}),y=[0,u.x,u.y];return g.highlightStyle.x=m.highlightStyle.x=_.highlightStyle.x=y[1],g.highlightStyle.y=m.highlightStyle.y=_.highlightStyle.y=y[2],setInterval(function(){t(f),t(_),y[0]-=.3,g.rotation=y,t(g),t(m),t(h),e()},u.timeInterval)},e}),i("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),o=t("../tool/util"),r=t("../tool/color"),n=t("../shape/Ring"),s=t("../shape/Sector");return o.inherits(e,i),e.prototype._start=function(t,e){var i=o.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),a=i.effect,h=i.textStyle;null==h.x&&(h.x=a.x),null==h.y&&(h.y=a.y+(a.r0+a.r)/2-5);for(var l=this.createTextShape(i.textStyle),c=this.createBackgroundShape(i.backgroundColor),d=a.x,u=a.y,p=a.r0+6,f=a.r-6,g=a.color,m=r.lift(g,.1),_=new n({highlightStyle:o.clone(a)}),y=[],v=r.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),x=15,b=240,T=0;16>T;T++)y.push(new s({highlightStyle:{x:d,y:u,r0:p,r:f,startAngle:b-x,endAngle:b,brushType:"fill",color:m},_color:r.getLinearGradient(d+p*Math.cos(b,!0),u-p*Math.sin(b,!0),d+p*Math.cos(b-x,!0),u-p*Math.sin(b-x,!0),[[0,v[2*T]],[1,v[2*T+1]]])})),b-=x;b=360;for(var T=0;4>T;T++)y.push(new s({highlightStyle:{x:d,y:u,r0:p,r:f,startAngle:b-x,endAngle:b,brushType:"fill",color:m},_color:r.getLinearGradient(d+p*Math.cos(b,!0),u-p*Math.sin(b,!0),d+p*Math.cos(b-x,!0),u-p*Math.sin(b-x,!0),[[0,v[2*T+32]],[1,v[2*T+33]]])})),b-=x;var S=0;if(null!=i.progress){t(c),S=100*this.adjust(i.progress,[0,1]).toFixed(2)/5,_.highlightStyle.text=5*S+"%",t(_);for(var T=0;20>T;T++)y[T].highlightStyle.color=S>T?y[T]._color:m,t(y[T]);return t(l),void e()}return setInterval(function(){t(c),S+=S>=20?-20:1,t(_);for(var i=0;20>i;i++)y[i].highlightStyle.color=S>i?y[i]._color:m,t(y[i]);t(l),e()},a.timeInterval)},e}),i("echarts/theme/macarons",[],function(){var t={color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{textStyle:{fontWeight:"normal",color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return t}),i("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","zrender/shape/Polyline","zrender/shape/ShapeBundle","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","../component/base","../layout/EdgeBundling","zrender/tool/util","zrender/tool/area"],function(t){function e(t){return null!=t.x&&null!=t.y}function i(t,e,i,o,r){f.call(this,t,e,i,o,r);var n=this;this.selectedMap={},this.lastShapeList=[],this.shapeHandler={onclick:function(){n.isClick=!0},ondragover:function(t){var e=t.target;e.highlightStyle=e.highlightStyle||{};var i=e.highlightStyle,o=i.brushTyep,r=i.strokeColor,s=i.lineWidth;i.brushType="stroke",i.strokeColor=n.ecTheme.calculableColor||l.calculableColor,i.lineWidth="icon"===e.type?30:10,n.zr.addHoverShape(e),setTimeout(function(){i&&(i.brushType=o,i.strokeColor=r,i.lineWidth=s)},20)},ondrop:function(t){null!=c.get(t.dragged,"data")&&(n.isDrop=!0)},ondragend:function(){n.isDragend=!0}}}var o=t("zrender/shape/Image"),r=t("../util/shape/Icon"),n=t("../util/shape/MarkLine"),s=t("../util/shape/Symbol"),a=t("zrender/shape/Polyline"),h=t("zrender/shape/ShapeBundle"),l=t("../config"),c=t("../util/ecData"),d=t("../util/ecAnimation"),u=t("../util/ecEffect"),p=t("../util/accMath"),f=t("../component/base"),g=t("../layout/EdgeBundling"),m=t("zrender/tool/util"),_=t("zrender/tool/area");return i.prototype={setCalculable:function(t){return t.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME||l.DRAG_ENABLE_TIME,t.ondragover=this.shapeHandler.ondragover,t.ondragend=this.shapeHandler.ondragend,t.ondrop=this.shapeHandler.ondrop,t
},ondrop:function(t,e){if(this.isDrop&&t.target&&!e.dragIn){var i,o=t.target,r=t.dragged,n=c.get(o,"seriesIndex"),s=c.get(o,"dataIndex"),a=this.series,h=this.component.legend;if(-1===s){if(c.get(r,"seriesIndex")==n)return e.dragOut=e.dragIn=e.needRefresh=!0,void(this.isDrop=!1);i={value:c.get(r,"value"),name:c.get(r,"name")},this.type===l.CHART_TYPE_PIE&&i.value<0&&(i.value=0);for(var d=!1,u=a[n].data,f=0,g=u.length;g>f;f++)u[f].name===i.name&&"-"===u[f].value&&(a[n].data[f].value=i.value,d=!0);!d&&a[n].data.push(i),h&&h.add(i.name,r.style.color||r.style.strokeColor)}else i=a[n].data[s]||"-",null!=i.value?(a[n].data[s].value="-"!=i.value?p.accAdd(a[n].data[s].value,c.get(r,"value")):c.get(r,"value"),(this.type===l.CHART_TYPE_FUNNEL||this.type===l.CHART_TYPE_PIE)&&(h&&1===h.getRelatedAmount(i.name)&&this.component.legend.del(i.name),i.name+=this.option.nameConnector+c.get(r,"name"),h&&h.add(i.name,r.style.color||r.style.strokeColor))):a[n].data[s]="-"!=i?p.accAdd(a[n].data[s],c.get(r,"value")):c.get(r,"value");e.dragIn=e.dragIn||!0,this.isDrop=!1;var m=this;setTimeout(function(){m.zr.trigger("mousemove",t.event)},300)}},ondragend:function(t,e){if(this.isDragend&&t.target&&!e.dragOut){var i=t.target,o=c.get(i,"seriesIndex"),r=c.get(i,"dataIndex"),n=this.series;if(null!=n[o].data[r].value){n[o].data[r].value="-";var s=n[o].data[r].name,a=this.component.legend;a&&0===a.getRelatedAmount(s)&&a.del(s)}else n[o].data[r]="-";e.dragOut=!0,e.needRefresh=!0,this.isDragend=!1}},onlegendSelected:function(t,e){var i=t.selected;for(var o in this.selectedMap)this.selectedMap[o]!=i[o]&&(e.needRefresh=!0),this.selectedMap[o]=i[o]},_buildPosition:function(){this._symbol=this.option.symbolList,this._sIndex2ShapeMap={},this._sIndex2ColorMap={},this.selectedMap={},this.xMarkMap={};for(var t,e,i,o,r=this.series,n={top:[],bottom:[],left:[],right:[],other:[]},s=0,a=r.length;a>s;s++)r[s].type===this.type&&(r[s]=this.reformOption(r[s]),this.legendHoverLink=r[s].legendHoverLink||this.legendHoverLink,t=r[s].xAxisIndex,e=r[s].yAxisIndex,i=this.component.xAxis.getAxis(t),o=this.component.yAxis.getAxis(e),i.type===l.COMPONENT_TYPE_AXIS_CATEGORY?n[i.getPosition()].push(s):o.type===l.COMPONENT_TYPE_AXIS_CATEGORY?n[o.getPosition()].push(s):n.other.push(s));for(var h in n)n[h].length>0&&this._buildSinglePosition(h,n[h]);this.addShapeList()},_buildSinglePosition:function(t,e){var i=this._mapData(e),o=i.locationMap,r=i.maxDataLength;if(0!==r&&0!==o.length){switch(t){case"bottom":case"top":this._buildHorizontal(e,r,o,this.xMarkMap);break;case"left":case"right":this._buildVertical(e,r,o,this.xMarkMap);break;case"other":this._buildOther(e,r,o,this.xMarkMap)}for(var n=0,s=e.length;s>n;n++)this.buildMark(e[n])}},_mapData:function(t){for(var e,i,o,r,n=this.series,s=0,a={},h="__kener__stack__",c=this.component.legend,d=[],u=0,p=0,f=t.length;f>p;p++){if(e=n[t[p]],o=e.name,this._sIndex2ShapeMap[t[p]]=this._sIndex2ShapeMap[t[p]]||this.query(e,"symbol")||this._symbol[p%this._symbol.length],c){if(this.selectedMap[o]=c.isSelected(o),this._sIndex2ColorMap[t[p]]=c.getColor(o),r=c.getItemShape(o)){var g=r.style;if(this.type==l.CHART_TYPE_LINE)g.iconType="legendLineIcon",g.symbol=this._sIndex2ShapeMap[t[p]];else if(e.itemStyle.normal.barBorderWidth>0){var m=r.highlightStyle;g.brushType="both",g.x+=1,g.y+=1,g.width-=2,g.height-=2,g.strokeColor=m.strokeColor=e.itemStyle.normal.barBorderColor,m.lineWidth=3}c.setItemShape(o,r)}}else this.selectedMap[o]=!0,this._sIndex2ColorMap[t[p]]=this.zr.getColor(t[p]);this.selectedMap[o]&&(i=e.stack||h+t[p],null==a[i]?(a[i]=s,d[s]=[t[p]],s++):d[a[i]].push(t[p])),u=Math.max(u,e.data.length)}return{locationMap:d,maxDataLength:u}},_calculMarkMapXY:function(t,e,i){for(var o=this.series,r=0,n=e.length;n>r;r++)for(var s=0,a=e[r].length;a>s;s++){var h=e[r][s],l="xy"==i?0:"",c=this.component.grid,d=t[h];if("-1"!=i.indexOf("x")){d["counter"+l]>0&&(d["average"+l]=d["sum"+l]/d["counter"+l]);var u=this.component.xAxis.getAxis(o[h].xAxisIndex||0).getCoord(d["average"+l]);d["averageLine"+l]=[[u,c.getYend()],[u,c.getY()]],d["minLine"+l]=[[d["minX"+l],c.getYend()],[d["minX"+l],c.getY()]],d["maxLine"+l]=[[d["maxX"+l],c.getYend()],[d["maxX"+l],c.getY()]],d.isHorizontal=!1}if(l="xy"==i?1:"","-1"!=i.indexOf("y")){d["counter"+l]>0&&(d["average"+l]=d["sum"+l]/d["counter"+l]);var p=this.component.yAxis.getAxis(o[h].yAxisIndex||0).getCoord(d["average"+l]);d["averageLine"+l]=[[c.getX(),p],[c.getXend(),p]],d["minLine"+l]=[[c.getX(),d["minY"+l]],[c.getXend(),d["minY"+l]]],d["maxLine"+l]=[[c.getX(),d["maxY"+l]],[c.getXend(),d["maxY"+l]]],d.isHorizontal=!0}}},addLabel:function(t,e,i,o,r){var n=[i,e],s=this.deepMerge(n,"itemStyle.normal.label"),a=this.deepMerge(n,"itemStyle.emphasis.label"),h=s.textStyle||{},l=a.textStyle||{};if(s.show){var c=t.style;c.text=this._getLabelText(e,i,o,"normal"),c.textPosition=null==s.position?"horizontal"===r?"right":"top":s.position,c.textColor=h.color,c.textFont=this.getFont(h),c.textAlign=h.align,c.textBaseline=h.baseline}if(a.show){var d=t.highlightStyle;d.text=this._getLabelText(e,i,o,"emphasis"),d.textPosition=s.show?t.style.textPosition:null==a.position?"horizontal"===r?"right":"top":a.position,d.textColor=l.color,d.textFont=this.getFont(l),d.textAlign=l.align,d.textBaseline=l.baseline}return t},_getLabelText:function(t,e,i,o){var r=this.deepQuery([e,t],"itemStyle."+o+".label.formatter");r||"emphasis"!==o||(r=this.deepQuery([e,t],"itemStyle.normal.label.formatter"));var n=this.getDataFromOption(e,"-");return r?"function"==typeof r?r.call(this.myChart,{seriesName:t.name,series:t,name:i,value:n,data:e,status:o}):"string"==typeof r?r=r.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{a0}",t.name).replace("{b0}",i).replace("{c0}",this.numAddCommas(n)):void 0:n instanceof Array?null!=n[2]?this.numAddCommas(n[2]):n[0]+" , "+n[1]:this.numAddCommas(n)},buildMark:function(t){var e=this.series[t];this.selectedMap[e.name]&&(e.markLine&&this._buildMarkLine(t),e.markPoint&&this._buildMarkPoint(t))},_buildMarkPoint:function(t){for(var e,i,o=(this.markAttachStyle||{})[t],r=this.series[t],n=m.clone(r.markPoint),s=0,a=n.data.length;a>s;s++)e=n.data[s],i=this.getMarkCoord(t,e),e.x=null!=e.x?e.x:i[0],e.y=null!=e.y?e.y:i[1],!e.type||"max"!==e.type&&"min"!==e.type||(e.value=i[3],e.name=e.name||e.type,e.symbolSize=e.symbolSize||_.getTextWidth(i[3],this.getFont())/2+5);for(var h=this._markPoint(t,n),s=0,a=h.length;a>s;s++){var c=h[s];c.zlevel=r.zlevel,c.z=r.z+1;for(var d in o)c[d]=m.clone(o[d]);this.shapeList.push(c)}if(this.type===l.CHART_TYPE_FORCE||this.type===l.CHART_TYPE_CHORD)for(var s=0,a=h.length;a>s;s++)this.zr.addShape(h[s])},_buildMarkLine:function(t){for(var e,i=(this.markAttachStyle||{})[t],o=this.series[t],r=m.clone(o.markLine),n=0,s=r.data.length;s>n;n++){var a=r.data[n];!a.type||"max"!==a.type&&"min"!==a.type&&"average"!==a.type?e=[this.getMarkCoord(t,a[0]),this.getMarkCoord(t,a[1])]:(e=this.getMarkCoord(t,a),r.data[n]=[m.clone(a),{}],r.data[n][0].name=a.name||a.type,r.data[n][0].value="average"!==a.type?e[3]:+e[3].toFixed(null!=r.precision?r.precision:this.deepQuery([this.ecTheme,l],"markLine.precision")),e=e[2],a=[{},{}]),null!=e&&null!=e[0]&&null!=e[1]&&(r.data[n][0].x=null!=a[0].x?a[0].x:e[0][0],r.data[n][0].y=null!=a[0].y?a[0].y:e[0][1],r.data[n][1].x=null!=a[1].x?a[1].x:e[1][0],r.data[n][1].y=null!=a[1].y?a[1].y:e[1][1])}var c=this._markLine(t,r),d=r.large;if(d){var u=new h({style:{shapeList:c}}),p=c[0];if(p){m.merge(u.style,p.style),m.merge(u.highlightStyle={},p.highlightStyle),u.style.brushType="stroke",u.zlevel=o.zlevel,u.z=o.z+1,u.hoverable=!1;for(var f in i)u[f]=m.clone(i[f])}this.shapeList.push(u),this.zr.addShape(u),u._mark="largeLine";var g=r.effect;g.show&&(u.effect=g)}else{for(var n=0,s=c.length;s>n;n++){var _=c[n];_.zlevel=o.zlevel,_.z=o.z+1;for(var f in i)_[f]=m.clone(i[f]);this.shapeList.push(_)}if(this.type===l.CHART_TYPE_FORCE||this.type===l.CHART_TYPE_CHORD)for(var n=0,s=c.length;s>n;n++)this.zr.addShape(c[n])}},_markPoint:function(t,e){var i=this.series[t],o=this.component;m.merge(m.merge(e,m.clone(this.ecTheme.markPoint||{})),m.clone(l.markPoint)),e.name=i.name;var r,n,s,a,h,d,u,p=[],f=e.data,g=o.dataRange,_=o.legend,y=this.zr.getWidth(),v=this.zr.getHeight();if(e.large)r=this.getLargeMarkPointShape(t,e),r._mark="largePoint",r&&p.push(r);else for(var x=0,b=f.length;b>x;x++)null!=f[x].x&&null!=f[x].y&&(s=null!=f[x].value?f[x].value:"",_&&(n=_.getColor(i.name)),g&&(n=isNaN(s)?n:g.getColor(s),a=[f[x],e],h=this.deepQuery(a,"itemStyle.normal.color")||n,d=this.deepQuery(a,"itemStyle.emphasis.color")||h,null==h&&null==d)||(n=null==n?this.zr.getColor(t):n,f[x].tooltip=f[x].tooltip||e.tooltip||{trigger:"item"},f[x].name=null!=f[x].name?f[x].name:"",f[x].value=s,r=this.getSymbolShape(e,t,f[x],x,f[x].name,this.parsePercent(f[x].x,y),this.parsePercent(f[x].y,v),"pin",n,"rgba(0,0,0,0)","horizontal"),r._mark="point",u=this.deepMerge([f[x],e],"effect"),u.show&&(r.effect=u),i.type===l.CHART_TYPE_MAP&&(r._geo=this.getMarkGeo(f[x])),c.pack(r,i,t,f[x],x,f[x].name,s),p.push(r)));return p},_markLine:function(){function t(t,e){t[e]=t[e]instanceof Array?t[e].length>1?t[e]:[t[e][0],t[e][0]]:[t[e],t[e]]}return function(i,o){var r=this.series[i],n=this.component,s=n.dataRange,a=n.legend;m.merge(m.merge(o,m.clone(this.ecTheme.markLine||{})),m.clone(l.markLine));var h=a?a.getColor(r.name):this.zr.getColor(i);t(o,"symbol"),t(o,"symbolSize"),t(o,"symbolRotate");for(var d=o.data,u=[],p=this.zr.getWidth(),f=this.zr.getHeight(),_=0;_<d.length;_++){var y=d[_];if(e(y[0])&&e(y[1])){var v=this.deepMerge(y),x=[v,o],b=h,T=null!=v.value?v.value:"";if(s){b=isNaN(T)?b:s.getColor(T);var S=this.deepQuery(x,"itemStyle.normal.color")||b,z=this.deepQuery(x,"itemStyle.emphasis.color")||S;if(null==S&&null==z)continue}y[0].tooltip=v.tooltip||o.tooltip||{trigger:"item"},y[0].name=y[0].name||"",y[1].name=y[1].name||"",y[0].value=T,u.push({points:[[this.parsePercent(y[0].x,p),this.parsePercent(y[0].y,f)],[this.parsePercent(y[1].x,p),this.parsePercent(y[1].y,f)]],rawData:y,color:b})}}var C=this.query(o,"bundling.enable");if(C){var E=new g;E.maxTurningAngle=this.query(o,"bundling.maxTurningAngle")/180*Math.PI,u=E.run(u)}o.name=r.name;for(var w=[],_=0,L=u.length;L>_;_++){var A=u[_],M=A.rawEdge||A,y=M.rawData,T=null!=y.value?y.value:"",k=this.getMarkLineShape(o,i,y,_,A.points,C,M.color);k._mark="line";var I=this.deepMerge([y[0],y[1],o],"effect");I.show&&(k.effect=I,k.effect.large=o.large),r.type===l.CHART_TYPE_MAP&&(k._geo=[this.getMarkGeo(y[0]),this.getMarkGeo(y[1])]),c.pack(k,r,i,y[0],_,y[0].name+(""!==y[1].name?" > "+y[1].name:""),T),w.push(k)}return w}}(),getMarkCoord:function(){return[0,0]},getSymbolShape:function(t,e,i,n,s,a,h,l,d,u,p){var f=[i,t],g=this.getDataFromOption(i,"-");l=this.deepQuery(f,"symbol")||l;var m=this.deepQuery(f,"symbolSize");m="function"==typeof m?m(g):m,"number"==typeof m&&(m=[m,m]);var _=this.deepQuery(f,"symbolRotate"),y=this.deepMerge(f,"itemStyle.normal"),v=this.deepMerge(f,"itemStyle.emphasis"),x=null!=y.borderWidth?y.borderWidth:y.lineStyle&&y.lineStyle.width;null==x&&(x=l.match("empty")?2:0);var b=null!=v.borderWidth?v.borderWidth:v.lineStyle&&v.lineStyle.width;null==b&&(b=x+2);var T=this.getItemStyleColor(y.color,e,n,i),S=this.getItemStyleColor(v.color,e,n,i),z=m[0],C=m[1],E=new r({style:{iconType:l.replace("empty","").toLowerCase(),x:a-z,y:h-C,width:2*z,height:2*C,brushType:"both",color:l.match("empty")?u:T||d,strokeColor:y.borderColor||T||d,lineWidth:x},highlightStyle:{color:l.match("empty")?u:S||T||d,strokeColor:v.borderColor||y.borderColor||S||T||d,lineWidth:b},clickable:this.deepQuery(f,"clickable")});return l.match("image")&&(E.style.image=l.replace(new RegExp("^image:\\/\\/"),""),E=new o({style:E.style,highlightStyle:E.highlightStyle,clickable:this.deepQuery(f,"clickable")})),null!=_&&(E.rotation=[_*Math.PI/180,a,h]),l.match("star")&&(E.style.iconType="star",E.style.n=l.replace("empty","").replace("star","")-0||5),"none"===l&&(E.invisible=!0,E.hoverable=!1),E=this.addLabel(E,t,i,s,p),l.match("empty")&&(null==E.style.textColor&&(E.style.textColor=E.style.strokeColor),null==E.highlightStyle.textColor&&(E.highlightStyle.textColor=E.highlightStyle.strokeColor)),c.pack(E,t,e,i,n,s),E._x=a,E._y=h,E._dataIndex=n,E._seriesIndex=e,E},getMarkLineShape:function(t,e,i,o,r,s,h){var l=null!=i[0].value?i[0].value:"-",c=null!=i[1].value?i[1].value:"-",d=[i[0].symbol||t.symbol[0],i[1].symbol||t.symbol[1]],u=[i[0].symbolSize||t.symbolSize[0],i[1].symbolSize||t.symbolSize[1]];u[0]="function"==typeof u[0]?u[0](l):u[0],u[1]="function"==typeof u[1]?u[1](c):u[1];var p=[this.query(i[0],"symbolRotate")||t.symbolRotate[0],this.query(i[1],"symbolRotate")||t.symbolRotate[1]],f=[i[0],i[1],t],g=this.deepMerge(f,"itemStyle.normal");g.color=this.getItemStyleColor(g.color,e,o,i);var m=this.deepMerge(f,"itemStyle.emphasis");m.color=this.getItemStyleColor(m.color,e,o,i);var _=g.lineStyle,y=m.lineStyle,v=_.width;null==v&&(v=g.borderWidth);var x=y.width;null==x&&(x=null!=m.borderWidth?m.borderWidth:v+2);var b=this.deepQuery(f,"smoothness");this.deepQuery(f,"smooth")||(b=0);var T=s?a:n,S=new T({style:{symbol:d,symbolSize:u,symbolRotate:p,brushType:"both",lineType:_.type,shadowColor:_.shadowColor||_.color||g.borderColor||g.color||h,shadowBlur:_.shadowBlur,shadowOffsetX:_.shadowOffsetX,shadowOffsetY:_.shadowOffsetY,color:g.color||h,strokeColor:_.color||g.borderColor||g.color||h,lineWidth:v,symbolBorderColor:g.borderColor||g.color||h,symbolBorder:g.borderWidth},highlightStyle:{shadowColor:y.shadowColor,shadowBlur:y.shadowBlur,shadowOffsetX:y.shadowOffsetX,shadowOffsetY:y.shadowOffsetY,color:m.color||g.color||h,strokeColor:y.color||_.color||m.borderColor||g.borderColor||m.color||g.color||h,lineWidth:x,symbolBorderColor:m.borderColor||g.borderColor||m.color||g.color||h,symbolBorder:null==m.borderWidth?g.borderWidth+2:m.borderWidth},clickable:this.deepQuery(f,"clickable")}),z=S.style;return s?(z.pointList=r,z.smooth=b):(z.xStart=r[0][0],z.yStart=r[0][1],z.xEnd=r[1][0],z.yEnd=r[1][1],z.curveness=b,S.updatePoints(S.style)),S=this.addLabel(S,t,i[0],i[0].name+" : "+i[1].name)},getLargeMarkPointShape:function(t,e){var i,o,r,n,a,h,l=this.series[t],c=this.component,d=e.data,u=c.dataRange,p=c.legend,f=[d[0],e];if(p&&(o=p.getColor(l.name)),!u||(r=null!=d[0].value?d[0].value:"",o=isNaN(r)?o:u.getColor(r),n=this.deepQuery(f,"itemStyle.normal.color")||o,a=this.deepQuery(f,"itemStyle.emphasis.color")||n,null!=n||null!=a)){o=this.deepMerge(f,"itemStyle.normal").color||o;var g=this.deepQuery(f,"symbol")||"circle";g=g.replace("empty","").replace(/\d/g,""),h=this.deepMerge([d[0],e],"effect");var m=window.devicePixelRatio||1;return i=new s({style:{pointList:d,color:o,strokeColor:o,shadowColor:h.shadowColor||o,shadowBlur:(null!=h.shadowBlur?h.shadowBlur:8)*m,size:this.deepQuery(f,"symbolSize"),iconType:g,brushType:"fill",lineWidth:1},draggable:!1,hoverable:!1}),h.show&&(i.effect=h),i}},backupShapeList:function(){this.shapeList&&this.shapeList.length>0?(this.lastShapeList=this.shapeList,this.shapeList=[]):this.lastShapeList=[]},addShapeList:function(){var t,e,i=this.option.animationThreshold/(this.canvasSupported?2:4),o=this.lastShapeList,r=this.shapeList,n=o.length>0,s=n?this.query(this.option,"animationDurationUpdate"):this.query(this.option,"animationDuration"),a=this.query(this.option,"animationEasing"),h={},c={};if(this.option.animation&&!this.option.renderAsImage&&r.length<i&&!this.motionlessOnce){for(var d=0,u=o.length;u>d;d++)e=this._getAnimationKey(o[d]),e.match("undefined")?this.zr.delShape(o[d].id):(e+=o[d].type,h[e]?this.zr.delShape(o[d].id):h[e]=o[d]);for(var d=0,u=r.length;u>d;d++)e=this._getAnimationKey(r[d]),e.match("undefined")?this.zr.addShape(r[d]):(e+=r[d].type,c[e]=r[d]);for(e in h)c[e]||this.zr.delShape(h[e].id);for(e in c)h[e]?(this.zr.delShape(h[e].id),this._animateMod(h[e],c[e],s,a,0,n)):(t=this.type!=l.CHART_TYPE_LINE&&this.type!=l.CHART_TYPE_RADAR||0===e.indexOf("icon")?0:s/2,this._animateMod(!1,c[e],s,a,t,n));this.zr.refresh(),this.animationEffect()}else{this.motionlessOnce=!1,this.zr.delShape(o);for(var d=0,u=r.length;u>d;d++)this.zr.addShape(r[d])}},_getAnimationKey:function(t){return this.type!=l.CHART_TYPE_MAP&&this.type!=l.CHART_TYPE_TREEMAP&&this.type!=l.CHART_TYPE_VENN&&this.type!=l.CHART_TYPE_TREE?c.get(t,"seriesIndex")+"_"+c.get(t,"dataIndex")+(t._mark?t._mark:"")+(this.type===l.CHART_TYPE_RADAR?c.get(t,"special"):""):c.get(t,"seriesIndex")+"_"+c.get(t,"dataIndex")+(t._mark?t._mark:"undefined")},_animateMod:function(t,e,i,o,r,n){switch(e.type){case"polyline":case"half-smooth-polygon":d.pointList(this.zr,t,e,i,o);break;case"rectangle":d.rectangle(this.zr,t,e,i,o);break;case"image":case"icon":d.icon(this.zr,t,e,i,o,r);break;case"candle":n?this.zr.addShape(e):d.candle(this.zr,t,e,i,o);break;case"ring":case"sector":case"circle":n?"sector"===e.type?d.sector(this.zr,t,e,i,o):this.zr.addShape(e):d.ring(this.zr,t,e,i+(c.get(e,"dataIndex")||0)%20*100,o);break;case"text":d.text(this.zr,t,e,i,o);break;case"polygon":n?d.pointList(this.zr,t,e,i,o):d.polygon(this.zr,t,e,i,o);break;case"ribbon":d.ribbon(this.zr,t,e,i,o);break;case"gauge-pointer":d.gaugePointer(this.zr,t,e,i,o);break;case"mark-line":d.markline(this.zr,t,e,i,o);break;case"bezier-curve":case"line":d.line(this.zr,t,e,i,o);break;default:this.zr.addShape(e)}},animationMark:function(t,e,i){for(var i=i||this.shapeList,o=0,r=i.length;r>o;o++)i[o]._mark&&this._animateMod(!1,i[o],t,e,0,!0);this.animationEffect(i)},animationEffect:function(t){if(!t&&this.clearEffectShape(),t=t||this.shapeList,null!=t){var e=l.EFFECT_ZLEVEL;this.canvasSupported&&this.zr.modLayer(e,{motionBlur:!0,lastFrameAlpha:this.option.effectBlendAlpha||l.effectBlendAlpha});for(var i,o=0,r=t.length;r>o;o++)i=t[o],i._mark&&i.effect&&i.effect.show&&u[i._mark]&&(u[i._mark](this.zr,this.effectList,i,e),this.effectList[this.effectList.length-1]._mark=i._mark)}},clearEffectShape:function(t){var e=this.effectList;if(this.zr&&e&&e.length>0){t&&this.zr.modLayer(l.EFFECT_ZLEVEL,{motionBlur:!1}),this.zr.delShape(e);for(var i=0;i<e.length;i++)e[i].effectAnimator&&e[i].effectAnimator.stop()}this.effectList=[]},addMark:function(t,e,i){var o=this.series[t];if(this.selectedMap[o.name]){var r=this.query(this.option,"animationDurationUpdate"),n=this.query(this.option,"animationEasing"),s=o[i].data,a=this.shapeList.length;if(o[i].data=e.data,this["_build"+i.replace("m","M")](t),this.option.animation&&!this.option.renderAsImage)this.animationMark(r,n,this.shapeList.slice(a));else{for(var h=a,l=this.shapeList.length;l>h;h++)this.zr.addShape(this.shapeList[h]);this.zr.refreshNextFrame()}o[i].data=s}},delMark:function(t,e,i){i=i.replace("mark","").replace("large","").toLowerCase();var o=this.series[t];if(this.selectedMap[o.name]){for(var r=!1,n=[this.shapeList,this.effectList],s=2;s--;)for(var a=0,h=n[s].length;h>a;a++)if(n[s][a]._mark==i&&c.get(n[s][a],"seriesIndex")==t&&c.get(n[s][a],"name")==e){this.zr.delShape(n[s][a].id),n[s].splice(a,1),r=!0;break}r&&this.zr.refreshNextFrame()}}},m.inherits(i,f),i}),i("echarts/theme/infographic",[],function(){var t={color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],title:{textStyle:{fontWeight:"normal",color:"#27727B"}},dataRange:{x:"right",y:"center",itemWidth:5,itemHeight:25,color:["#C1232B","#FCCE10"]},toolbox:{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},grid:{borderWidth:0},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},splitArea:{show:!1},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B"},emphasis:{color:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},k:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},scatter:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(200,200,200,0.5)"},emphasis:{borderWidth:0}},symbol:"star4",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#C1232B"}}},emphasis:{areaStyle:{color:"#fe994e"},label:{textStyle:{color:"rgb(100,0,0)"}}}}},force:{itemStyle:{normal:{linkStyle:{color:"#27727B"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{center:["50%","80%"],radius:"100%",startAngle:180,endAngle:0,axisLine:{show:!0,lineStyle:{color:[[.2,"#B5C334"],[.8,"#27727B"],[1,"#C1232B"]],width:"40%"}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff",fontWeight:"bolder"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},pointer:{width:"40%",length:"80%",color:"#fff"},title:{offsetCenter:[0,-20],textStyle:{color:"auto",fontSize:20}},detail:{offsetCenter:[0,0],textStyle:{color:"auto",fontSize:40}}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return t}),i("zrender/shape/Polyline",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(t){var e=t("./Base"),i=t("./util/smoothSpline"),o=t("./util/smoothBezier"),r=t("./util/dashedLineTo"),n=function(t){this.brushTypeOnly="stroke",this.textPosition="end",e.call(this,t)};return n.prototype={type:"polyline",buildPath:function(t,e){var o=e.pointList;if(!(o.length<2)){var n=Math.min(e.pointList.length,Math.round(e.pointListLength||e.pointList.length));if(e.smooth&&"spline"!==e.smooth){e.controlPointList||this.updateControlPoints(e);var s=e.controlPointList;t.moveTo(o[0][0],o[0][1]);for(var a,h,l,c=0;n-1>c;c++)a=s[2*c],h=s[2*c+1],l=o[c+1],t.bezierCurveTo(a[0],a[1],h[0],h[1],l[0],l[1])}else if("spline"===e.smooth&&(o=i(o),n=o.length),e.lineType&&"solid"!=e.lineType){if("dashed"==e.lineType||"dotted"==e.lineType){var d=(e.lineWidth||1)*("dashed"==e.lineType?5:1);t.moveTo(o[0][0],o[0][1]);for(var c=1;n>c;c++)r(t,o[c-1][0],o[c-1][1],o[c][0],o[c][1],d)}}else{t.moveTo(o[0][0],o[0][1]);for(var c=1;n>c;c++)t.lineTo(o[c][0],o[c][1])}}},updateControlPoints:function(t){t.controlPointList=o(t.pointList,t.smooth,!1,t.smoothConstraint)},getRect:function(e){return t("./Polygon").prototype.getRect(e)}},t("../tool/util").inherits(n,e),n}),i("echarts/util/shape/HalfSmoothPolygon",["require","zrender/shape/Base","zrender/shape/util/smoothBezier","zrender/tool/util","zrender/shape/Polygon"],function(t){function e(t){i.call(this,t)}var i=t("zrender/shape/Base"),o=t("zrender/shape/util/smoothBezier"),r=t("zrender/tool/util");return e.prototype={type:"half-smooth-polygon",buildPath:function(e,i){var r=i.pointList;if(!(r.length<2))if(i.smooth){var n=o(r.slice(0,-2),i.smooth,!1,i.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var s,a,h,l=r.length,c=0;l-3>c;c++)s=n[2*c],a=n[2*c+1],h=r[c+1],e.bezierCurveTo(s[0],s[1],a[0],a[1],h[0],h[1]);e.lineTo(r[l-2][0],r[l-2][1]),e.lineTo(r[l-1][0],r[l-1][1]),e.lineTo(r[0][0],r[0][1])}else t("zrender/shape/Polygon").prototype.buildPath(e,i)}},r.inherits(e,i),e}),i("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(t){function e(t,e,o,r,n){i.call(this,t,e,o,r,n),this.refresh(r)}var i=t("./base"),o=t("zrender/shape/Rectangle"),r=t("../config");r.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var n=t("zrender/tool/util");return e.prototype={type:r.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(t){for(var e,i,o,n=t.xAxis._axisList.concat(t.yAxis?t.yAxis._axisList:[]),s=n.length;s--;)o=n[s],o.type==r.COMPONENT_TYPE_AXIS_VALUE&&o._min<0&&o._max>=0&&(o.isHorizontal()?e=o.getCoord(0):i=o.getCoord(0));if("undefined"!=typeof e||"undefined"!=typeof i)for(s=n.length;s--;)n[s].refixAxisShape(e,i)},refresh:function(t){if(t||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear(),this.option=t||this.option,this.option.grid=this.reformOption(this.option.grid);var e=this.option.grid;this._zrWidth=this.zr.getWidth(),this._zrHeight=this.zr.getHeight(),this._x=this.parsePercent(e.x,this._zrWidth),this._y=this.parsePercent(e.y,this._zrHeight);var i=this.parsePercent(e.x2,this._zrWidth),r=this.parsePercent(e.y2,this._zrHeight);this._width="undefined"==typeof e.width?this._zrWidth-this._x-i:this.parsePercent(e.width,this._zrWidth),this._width=this._width<=0?10:this._width,this._height="undefined"==typeof e.height?this._zrHeight-this._y-r:this.parsePercent(e.height,this._zrHeight),this._height=this._height<=0?10:this._height,this._x=this.subPixelOptimize(this._x,e.borderWidth),this._y=this.subPixelOptimize(this._y,e.borderWidth),this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:e.borderWidth>0?"both":"fill",color:e.backgroundColor,strokeColor:e.borderColor,lineWidth:e.borderWidth}})),this.zr.addShape(this.shapeList[0])}}},n.inherits(e,i),t("../component").define("grid",e),e}),i("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(t){function e(t,e){var i=e.x,o=e.y,r=e.width/16,n=e.height/16;t.moveTo(i,o+e.height),t.lineTo(i+5*r,o+14*n),t.lineTo(i+e.width,o+3*n),t.lineTo(i+13*r,o),t.lineTo(i+2*r,o+11*n),t.lineTo(i,o+e.height),t.moveTo(i+6*r,o+10*n),t.lineTo(i+14*r,o+2*n),t.moveTo(i+10*r,o+13*n),t.lineTo(i+e.width,o+13*n),t.moveTo(i+13*r,o+10*n),t.lineTo(i+13*r,o+e.height)}function i(t,e){var i=e.x,o=e.y,r=e.width/16,n=e.height/16;t.moveTo(i,o+e.height),t.lineTo(i+5*r,o+14*n),t.lineTo(i+e.width,o+3*n),t.lineTo(i+13*r,o),t.lineTo(i+2*r,o+11*n),t.lineTo(i,o+e.height),t.moveTo(i+6*r,o+10*n),t.lineTo(i+14*r,o+2*n),t.moveTo(i+10*r,o+13*n),t.lineTo(i+e.width,o+13*n)}function o(t,e){var i=e.x,o=e.y,r=e.width/16,n=e.height/16;t.moveTo(i+4*r,o+15*n),t.lineTo(i+9*r,o+13*n),t.lineTo(i+14*r,o+8*n),t.lineTo(i+11*r,o+5*n),t.lineTo(i+6*r,o+10*n),t.lineTo(i+4*r,o+15*n),t.moveTo(i+5*r,o),t.lineTo(i+11*r,o),t.moveTo(i+5*r,o+n),t.lineTo(i+11*r,o+n),t.moveTo(i,o+2*n),t.lineTo(i+e.width,o+2*n),t.moveTo(i,o+5*n),t.lineTo(i+3*r,o+e.height),t.lineTo(i+13*r,o+e.height),t.lineTo(i+e.width,o+5*n)}function r(t,e){var i=e.x,o=e.y,r=e.width/16,n=e.height/16;t.moveTo(i,o+3*n),t.lineTo(i+6*r,o+3*n),t.moveTo(i+3*r,o),t.lineTo(i+3*r,o+6*n),t.moveTo(i+3*r,o+8*n),t.lineTo(i+3*r,o+e.height),t.lineTo(i+e.width,o+e.height),t.lineTo(i+e.width,o+3*n),t.lineTo(i+8*r,o+3*n)}function n(t,e){var i=e.x,o=e.y,r=e.width/16,n=e.height/16;t.moveTo(i+6*r,o),t.lineTo(i+2*r,o+3*n),t.lineTo(i+6*r,o+6*n),t.moveTo(i+2*r,o+3*n),t.lineTo(i+14*r,o+3*n),t.lineTo(i+14*r,o+11*n),t.moveTo(i+2*r,o+5*n),t.lineTo(i+2*r,o+13*n),t.lineTo(i+14*r,o+13*n),t.moveTo(i+10*r,o+10*n),t.lineTo(i+14*r,o+13*n),t.lineTo(i+10*r,o+e.height)}function s(t,e){var i=e.x,o=e.y,r=e.width/16,n=e.height/16,s=e.width/2;t.lineWidth=1.5,t.arc(i+s,o+s,s-r,0,2*Math.PI/3),t.moveTo(i+3*r,o+e.height),t.lineTo(i+0*r,o+12*n),t.lineTo(i+5*r,o+11*n),t.moveTo(i,o+8*n),t.arc(i+s,o+s,s-r,Math.PI,5*Math.PI/3),t.moveTo(i+13*r,o),t.lineTo(i+e.width,o+4*n),t.lineTo(i+11*r,o+5*n)}function a(t,e){var i=e.x,o=e.y,r=e.width/16,n=e.height/16;t.moveTo(i,o),t.lineTo(i,o+e.height),t.lineTo(i+e.width,o+e.height),t.moveTo(i+2*r,o+14*n),t.lineTo(i+7*r,o+6*n),t.lineTo(i+11*r,o+11*n),t.lineTo(i+15*r,o+2*n)}function h(t,e){var i=e.x,o=e.y,r=e.width/16,n=e.height/16;t.moveTo(i,o),t.lineTo(i,o+e.height),t.lineTo(i+e.width,o+e.height),t.moveTo(i+3*r,o+14*n),t.lineTo(i+3*r,o+6*n),t.lineTo(i+4*r,o+6*n),t.lineTo(i+4*r,o+14*n),t.moveTo(i+7*r,o+14*n),t.lineTo(i+7*r,o+2*n),t.lineTo(i+8*r,o+2*n),t.lineTo(i+8*r,o+14*n),t.moveTo(i+11*r,o+14*n),t.lineTo(i+11*r,o+9*n),t.lineTo(i+12*r,o+9*n),t.lineTo(i+12*r,o+14*n)}function l(t,e){var i=e.x,o=e.y,r=e.width-2,n=e.height-2,s=Math.min(r,n)/2;o+=2,t.moveTo(i+s+3,o+s-3),t.arc(i+s+3,o+s-3,s-1,0,-Math.PI/2,!0),t.lineTo(i+s+3,o+s-3),t.moveTo(i+s,o),t.lineTo(i+s,o+s),t.arc(i+s,o+s,s,-Math.PI/2,2*Math.PI,!0),t.lineTo(i+s,o+s),t.lineWidth=1.5}function c(t,e){var i=e.x,o=e.y,r=e.width/16,n=e.height/16;o-=n,t.moveTo(i+1*r,o+2*n),t.lineTo(i+15*r,o+2*n),t.lineTo(i+14*r,o+3*n),t.lineTo(i+2*r,o+3*n),t.moveTo(i+3*r,o+6*n),t.lineTo(i+13*r,o+6*n),t.lineTo(i+12*r,o+7*n),t.lineTo(i+4*r,o+7*n),t.moveTo(i+5*r,o+10*n),t.lineTo(i+11*r,o+10*n),t.lineTo(i+10*r,o+11*n),t.lineTo(i+6*r,o+11*n),t.moveTo(i+7*r,o+14*n),t.lineTo(i+9*r,o+14*n),t.lineTo(i+8*r,o+15*n),t.lineTo(i+7*r,o+15*n)}function d(t,e){var i=e.x,o=e.y,r=e.width,n=e.height,s=r/16,a=n/16,h=2*Math.min(s,a);t.moveTo(i+s+h,o+a+h),t.arc(i+s,o+a,h,Math.PI/4,3*Math.PI),t.lineTo(i+7*s-h,o+6*a-h),t.arc(i+7*s,o+6*a,h,Math.PI/4*5,4*Math.PI),t.arc(i+7*s,o+6*a,h/2,Math.PI/4*5,4*Math.PI),t.moveTo(i+7*s-h/2,o+6*a+h),t.lineTo(i+s+h,o+14*a-h),t.arc(i+s,o+14*a,h,-Math.PI/4,2*Math.PI),t.moveTo(i+7*s+h/2,o+6*a),t.lineTo(i+14*s-h,o+10*a-h/2),t.moveTo(i+16*s,o+10*a),t.arc(i+14*s,o+10*a,h,0,3*Math.PI),t.lineWidth=1.5}function u(t,e){var i=e.x,o=e.y,r=e.width,n=e.height,s=Math.min(r,n)/2;t.moveTo(i+r,o+n/2),t.arc(i+s,o+s,s,0,2*Math.PI),t.arc(i+s,o,s,Math.PI/4,Math.PI/5*4),t.arc(i,o+s,s,-Math.PI/3,Math.PI/3),t.arc(i+r,o+n,s,Math.PI,Math.PI/2*3),t.lineWidth=1.5}function p(t,e){for(var i=e.x,o=e.y,r=e.width,n=e.height,s=Math.round(n/3),a=Math.round((s-2)/2),h=3;h--;)t.rect(i,o+s*h+a,r,2)}function f(t,e){for(var i=e.x,o=e.y,r=e.width,n=e.height,s=Math.round(r/3),a=Math.round((s-2)/2),h=3;h--;)t.rect(i+s*h+a,o,2,n)}function g(t,e){var i=e.x,o=e.y,r=e.width/16;t.moveTo(i+r,o),t.lineTo(i+r,o+e.height),t.lineTo(i+15*r,o+e.height),t.lineTo(i+15*r,o),t.lineTo(i+r,o),t.moveTo(i+3*r,o+3*r),t.lineTo(i+13*r,o+3*r),t.moveTo(i+3*r,o+6*r),t.lineTo(i+13*r,o+6*r),t.moveTo(i+3*r,o+9*r),t.lineTo(i+13*r,o+9*r),t.moveTo(i+3*r,o+12*r),t.lineTo(i+9*r,o+12*r)}function m(t,e){var i=e.x,o=e.y,r=e.width/16,n=e.height/16;t.moveTo(i,o),t.lineTo(i,o+e.height),t.lineTo(i+e.width,o+e.height),t.lineTo(i+e.width,o),t.lineTo(i,o),t.moveTo(i+4*r,o),t.lineTo(i+4*r,o+8*n),t.lineTo(i+12*r,o+8*n),t.lineTo(i+12*r,o),t.moveTo(i+6*r,o+11*n),t.lineTo(i+6*r,o+13*n),t.lineTo(i+10*r,o+13*n),t.lineTo(i+10*r,o+11*n),t.lineTo(i+6*r,o+11*n)}function _(t,e){var i=e.x,o=e.y,r=e.width,n=e.height;t.moveTo(i,o+n/2),t.lineTo(i+r,o+n/2),t.moveTo(i+r/2,o),t.lineTo(i+r/2,o+n)}function y(t,e){var i=e.width/2,o=e.height/2,r=Math.min(i,o);t.moveTo(e.x+i+r,e.y+o),t.arc(e.x+i,e.y+o,r,0,2*Math.PI),t.closePath()}function v(t,e){t.rect(e.x,e.y,e.width,e.height),t.closePath()}function x(t,e){var i=e.width/2,o=e.height/2,r=e.x+i,n=e.y+o,s=Math.min(i,o);t.moveTo(r,n-s),t.lineTo(r+s,n+s),t.lineTo(r-s,n+s),t.lineTo(r,n-s),t.closePath()}function b(t,e){var i=e.width/2,o=e.height/2,r=e.x+i,n=e.y+o,s=Math.min(i,o);
t.moveTo(r,n-s),t.lineTo(r+s,n),t.lineTo(r,n+s),t.lineTo(r-s,n),t.lineTo(r,n-s),t.closePath()}function T(t,e){var i=e.x,o=e.y,r=e.width/16;t.moveTo(i+8*r,o),t.lineTo(i+r,o+e.height),t.lineTo(i+8*r,o+e.height/4*3),t.lineTo(i+15*r,o+e.height),t.lineTo(i+8*r,o),t.closePath()}function S(e,i){var o=t("zrender/shape/Star"),r=i.width/2,n=i.height/2;o.prototype.buildPath(e,{x:i.x+r,y:i.y+n,r:Math.min(r,n),n:i.n||5})}function z(e,i){var o=t("zrender/shape/Heart");o.prototype.buildPath(e,{x:i.x+i.width/2,y:i.y+.2*i.height,a:i.width/2,b:.8*i.height})}function C(e,i){var o=t("zrender/shape/Droplet");o.prototype.buildPath(e,{x:i.x+.5*i.width,y:i.y+.5*i.height,a:.5*i.width,b:.8*i.height})}function E(t,e){var i=e.x,o=e.y-e.height/2*1.5,r=e.width/2,n=e.height/2,s=Math.min(r,n);t.arc(i+r,o+n,s,Math.PI/5*4,Math.PI/5),t.lineTo(i+r,o+n+1.5*s),t.closePath()}function w(e,i,o){var r=t("zrender/shape/Image");this._imageShape=this._imageShape||new r({style:{}});for(var n in i)this._imageShape.style[n]=i[n];this._imageShape.brush(e,!1,o)}function L(t){M.call(this,t)}var A=t("zrender/tool/util"),M=t("zrender/shape/Base");return L.prototype={type:"icon",iconLibrary:{mark:e,markUndo:i,markClear:o,dataZoom:r,dataZoomReset:n,restore:s,lineChart:a,barChart:h,pieChart:l,funnelChart:c,forceChart:d,chordChart:u,stackChart:p,tiledChart:f,dataView:g,saveAsImage:m,cross:_,circle:y,rectangle:v,triangle:x,diamond:b,arrow:T,star:S,heart:z,droplet:C,pin:E,image:w},brush:function(e,i,o){var r=i?this.highlightStyle:this.style;r=r||{};var n=r.iconType||this.style.iconType;if("image"===n){var s=t("zrender/shape/Image");s.prototype.brush.call(this,e,i,o)}else{var r=this.beforeBrush(e,i);switch(e.beginPath(),this.buildPath(e,r,o),r.brushType){case"both":e.fill();case"stroke":r.lineWidth>0&&e.stroke();break;default:e.fill()}this.drawText(e,r,this.style),this.afterBrush(e)}},buildPath:function(t,e,i){this.iconLibrary[e.iconType]?this.iconLibrary[e.iconType].call(this,t,e,i):(t.moveTo(e.x,e.y),t.lineTo(e.x+e.width,e.y),t.lineTo(e.x+e.width,e.y+e.height),t.lineTo(e.x,e.y+e.height),t.lineTo(e.x,e.y),t.closePath())},getRect:function(t){return t.__rect?t.__rect:(t.__rect={x:Math.round(t.x),y:Math.round(t.y-("pin"==t.iconType?t.height/2*1.5:0)),width:t.width,height:t.height*("pin"===t.iconType?1.25:1)},t.__rect)},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);t=i[0],e=i[1];var o=this.style.__rect;o||(o=this.style.__rect=this.getRect(this.style));var r=o.height<8||o.width<8?4:0;return t>=o.x-r&&t<=o.x+o.width+r&&e>=o.y-r&&e<=o.y+o.height+r}},A.inherits(L,M),L}),i("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(t){function e(t,e,o,r,n,s){i.call(this,t,e,o,r,n),this.axisType=s,this._axisList=[],this.refresh(r)}var i=t("./base"),o=t("zrender/shape/Line"),r=t("../config"),n=t("../util/ecData"),s=t("zrender/tool/util"),a=t("zrender/tool/color");return e.prototype={type:r.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var t=this.option.axisLine.lineStyle.width,e=t/2,i={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1},r=this.grid;switch(this.option.position){case"left":i.style={xStart:r.getX()-e,yStart:r.getYend(),xEnd:r.getX()-e,yEnd:r.getY(),lineCap:"round"};break;case"right":i.style={xStart:r.getXend()+e,yStart:r.getYend(),xEnd:r.getXend()+e,yEnd:r.getY(),lineCap:"round"};break;case"bottom":i.style={xStart:r.getX(),yStart:r.getYend()+e,xEnd:r.getXend(),yEnd:r.getYend()+e,lineCap:"round"};break;case"top":i.style={xStart:r.getX(),yStart:r.getY()-e,xEnd:r.getXend(),yEnd:r.getY()-e,lineCap:"round"}}var n=i.style;""!==this.option.name&&(n.text=this.option.name,n.textPosition=this.option.nameLocation,n.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(n.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(n.textBaseline=this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(n.textColor=this.option.nameTextStyle.color)),n.strokeColor=this.option.axisLine.lineStyle.color,n.lineWidth=t,this.isHorizontal()?n.yStart=n.yEnd=this.subPixelOptimize(n.yEnd,t):n.xStart=n.xEnd=this.subPixelOptimize(n.xEnd,t),n.lineType=this.option.axisLine.lineStyle.type,i=new o(i),this.shapeList.push(i)},_axisLabelClickable:function(t,e){return t?(n.pack(e,void 0,-1,void 0,-1,e.style.text),e.hoverable=!0,e.clickable=!0,e.highlightStyle={color:a.lift(e.style.color,1),brushType:"fill"},e):e},refixAxisShape:function(t,e){if(this.option.axisLine.onZero){var i;if(this.isHorizontal()&&null!=e)for(var o=0,r=this.shapeList.length;r>o;o++)"axisLine"===this.shapeList[o]._axisShape?(this.shapeList[o].style.yStart=this.shapeList[o].style.yEnd=this.subPixelOptimize(e,this.shapeList[o].stylelineWidth),this.zr.modShape(this.shapeList[o].id)):"axisTick"===this.shapeList[o]._axisShape&&(i=this.shapeList[o].style.yEnd-this.shapeList[o].style.yStart,this.shapeList[o].style.yStart=e-i,this.shapeList[o].style.yEnd=e,this.zr.modShape(this.shapeList[o].id));if(!this.isHorizontal()&&null!=t)for(var o=0,r=this.shapeList.length;r>o;o++)"axisLine"===this.shapeList[o]._axisShape?(this.shapeList[o].style.xStart=this.shapeList[o].style.xEnd=this.subPixelOptimize(t,this.shapeList[o].stylelineWidth),this.zr.modShape(this.shapeList[o].id)):"axisTick"===this.shapeList[o]._axisShape&&(i=this.shapeList[o].style.xEnd-this.shapeList[o].style.xStart,this.shapeList[o].style.xStart=t,this.shapeList[o].style.xEnd=t+i,this.zr.modShape(this.shapeList[o].id))}},getPosition:function(){return this.option.position},isHorizontal:function(){return"bottom"===this.option.position||"top"===this.option.position}},reformOption:function(t){if(!t||t instanceof Array&&0===t.length?t=[{type:r.COMPONENT_TYPE_AXIS_VALUE}]:t instanceof Array||(t=[t]),t.length>2&&(t=[t[0],t[1]]),"xAxis"===this.axisType){(!t[0].position||"bottom"!=t[0].position&&"top"!=t[0].position)&&(t[0].position="bottom"),t.length>1&&(t[1].position="bottom"===t[0].position?"top":"bottom");for(var e=0,i=t.length;i>e;e++)t[e].type=t[e].type||"category",t[e].xAxisIndex=e,t[e].yAxisIndex=-1}else{(!t[0].position||"left"!=t[0].position&&"right"!=t[0].position)&&(t[0].position="left"),t.length>1&&(t[1].position="left"===t[0].position?"right":"left");for(var e=0,i=t.length;i>e;e++)t[e].type=t[e].type||"value",t[e].xAxisIndex=-1,t[e].yAxisIndex=e}return t},refresh:function(e){var i;e&&(this.option=e,"xAxis"===this.axisType?(this.option.xAxis=this.reformOption(e.xAxis),i=this.option.xAxis):(this.option.yAxis=this.reformOption(e.yAxis),i=this.option.yAxis),this.series=e.series);for(var o=t("./categoryAxis"),r=t("./valueAxis"),n=Math.max(i&&i.length||0,this._axisList.length),s=0;n>s;s++)!this._axisList[s]||!e||i[s]&&this._axisList[s].type==i[s].type||(this._axisList[s].dispose&&this._axisList[s].dispose(),this._axisList[s]=!1),this._axisList[s]?this._axisList[s].refresh&&this._axisList[s].refresh(i?i[s]:!1,this.series):i&&i[s]&&(this._axisList[s]="category"===i[s].type?new o(this.ecTheme,this.messageCenter,this.zr,i[s],this.myChart,this.axisBase):new r(this.ecTheme,this.messageCenter,this.zr,i[s],this.myChart,this.axisBase,this.series))},getAxis:function(t){return this._axisList[t]},getAxisCount:function(){return this._axisList.length},clear:function(){for(var t=0,e=this._axisList.length;e>t;t++)this._axisList[t].dispose&&this._axisList[t].dispose();this._axisList=[]}},s.inherits(e,i),t("../component").define("axis",e),e}),i("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(t){var e=t("../tool/area"),i=t("./Base"),o=function(t){i.call(this,t)};return o.prototype={type:"text",brush:function(t,i){var o=this.style;if(i&&(o=this.getHighlightStyle(o,this.highlightStyle||{})),"undefined"!=typeof o.text&&o.text!==!1){t.save(),this.doClip(t),this.setContext(t,o),this.setTransform(t),o.textFont&&(t.font=o.textFont),t.textAlign=o.textAlign||"start",t.textBaseline=o.textBaseline||"middle";var r,n=(o.text+"").split("\n"),s=e.getTextHeight("国",o.textFont),a=this.getRect(o),h=o.x;r="top"==o.textBaseline?a.y:"bottom"==o.textBaseline?a.y+s:a.y+s/2;for(var l=0,c=n.length;c>l;l++){if(o.maxWidth)switch(o.brushType){case"fill":t.fillText(n[l],h,r,o.maxWidth);break;case"stroke":t.strokeText(n[l],h,r,o.maxWidth);break;case"both":t.fillText(n[l],h,r,o.maxWidth),t.strokeText(n[l],h,r,o.maxWidth);break;default:t.fillText(n[l],h,r,o.maxWidth)}else switch(o.brushType){case"fill":t.fillText(n[l],h,r);break;case"stroke":t.strokeText(n[l],h,r);break;case"both":t.fillText(n[l],h,r),t.strokeText(n[l],h,r);break;default:t.fillText(n[l],h,r)}r+=s}t.restore()}},getRect:function(t){if(t.__rect)return t.__rect;var i=e.getTextWidth(t.text,t.textFont),o=e.getTextHeight(t.text,t.textFont),r=t.x;"end"==t.textAlign||"right"==t.textAlign?r-=i:"center"==t.textAlign&&(r-=i/2);var n;return n="top"==t.textBaseline?t.y:"bottom"==t.textBaseline?t.y-o:t.y-o/2,t.__rect={x:r,y:n,width:i,height:o},t.__rect}},t("../tool/util").inherits(o,i),o}),i("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(t){function e(t,e,o,r,n){i.call(this,t,e,o,r,n);var s=this;s._ondrift=function(t,e){return s.__ondrift(this,t,e)},s._ondragend=function(){return s.__ondragend()},this._fillerSize=30,this._isSilence=!1,this._zoom={},this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this._handleSize=this.zoomOption.handleSize,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom.show&&this._buildShape(),this._syncData()}var i=t("./base"),o=t("zrender/shape/Rectangle"),r=t("zrender/shape/Polygon"),n=t("../util/shape/Icon"),s=t("../config");s.dataZoom={zlevel:0,z:4,show:!1,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",handleSize:8,showDetail:!0,realtime:!0};var a=t("../util/date"),h=t("zrender/tool/util");return e.prototype={type:s.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground(),this._buildFiller(),this._buildHandle(),this._buildFrame();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t]);this._syncFrameShape()},_getLocation:function(){var t,e,i,o,r=this.component.grid;return"horizontal"==this.zoomOption.orient?(i=this.zoomOption.width||r.getWidth(),o=this.zoomOption.height||this._fillerSize,t=null!=this.zoomOption.x?this.zoomOption.x:r.getX(),e=null!=this.zoomOption.y?this.zoomOption.y:this.zr.getHeight()-o-2):(i=this.zoomOption.width||this._fillerSize,o=this.zoomOption.height||r.getHeight(),t=null!=this.zoomOption.x?this.zoomOption.x:2,e=null!=this.zoomOption.y?this.zoomOption.y:r.getY()),{x:t,y:e,width:i,height:o}},_getZoom:function(){var t=this.option.series,e=this.option.xAxis;!e||e instanceof Array||(e=[e],this.option.xAxis=e);var i=this.option.yAxis;!i||i instanceof Array||(i=[i],this.option.yAxis=i);var o,r,n=[],a=this.zoomOption.xAxisIndex;if(e&&null==a){o=[];for(var h=0,l=e.length;l>h;h++)("category"==e[h].type||null==e[h].type)&&o.push(h)}else o=a instanceof Array?a:null!=a?[a]:[];if(a=this.zoomOption.yAxisIndex,i&&null==a){r=[];for(var h=0,l=i.length;l>h;h++)"category"==i[h].type&&r.push(h)}else r=a instanceof Array?a:null!=a?[a]:[];for(var c,h=0,l=t.length;l>h;h++)if(c=t[h],c.type==s.CHART_TYPE_LINE||c.type==s.CHART_TYPE_BAR||c.type==s.CHART_TYPE_SCATTER||c.type==s.CHART_TYPE_K){for(var d=0,u=o.length;u>d;d++)if(o[d]==(c.xAxisIndex||0)){n.push(h);break}for(var d=0,u=r.length;u>d;d++)if(r[d]==(c.yAxisIndex||0)){n.push(h);break}null==this.zoomOption.xAxisIndex&&null==this.zoomOption.yAxisIndex&&c.data&&this.getDataFromOption(c.data[0])instanceof Array&&(c.type==s.CHART_TYPE_SCATTER||c.type==s.CHART_TYPE_LINE||c.type==s.CHART_TYPE_BAR)&&n.push(h)}var p=null!=this._zoom.start?this._zoom.start:null!=this.zoomOption.start?this.zoomOption.start:0,f=null!=this._zoom.end?this._zoom.end:null!=this.zoomOption.end?this.zoomOption.end:100;p>f&&(p+=f,f=p-f,p-=f);var g=Math.round((f-p)/100*("horizontal"==this.zoomOption.orient?this._location.width:this._location.height));return{start:p,end:f,start2:0,end2:100,size:g,xAxisIndex:o,yAxisIndex:r,seriesIndex:n,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var t=this.option.xAxis,e=this._zoom.xAxisIndex,i=0,o=e.length;o>i;i++)this._originalData.xAxis[e[i]]=t[e[i]].data;for(var r=this.option.yAxis,n=this._zoom.yAxisIndex,i=0,o=n.length;o>i;i++)this._originalData.yAxis[n[i]]=r[n[i]].data;for(var a,h=this.option.series,l=this._zoom.seriesIndex,i=0,o=l.length;o>i;i++)a=h[l[i]],this._originalData.series[l[i]]=a.data,a.data&&this.getDataFromOption(a.data[0])instanceof Array&&(a.type==s.CHART_TYPE_SCATTER||a.type==s.CHART_TYPE_LINE||a.type==s.CHART_TYPE_BAR)&&(this._backupScale(),this._calculScatterMap(l[i]))},_calculScatterMap:function(e){this._zoom.scatterMap=this._zoom.scatterMap||{},this._zoom.scatterMap[e]=this._zoom.scatterMap[e]||{};var i=t("../component"),o=i.get("axis"),r=h.clone(this.option.xAxis);"category"==r[0].type&&(r[0].type="value"),r[1]&&"category"==r[1].type&&(r[1].type="value");var n=new o(this.ecTheme,null,!1,{xAxis:r,series:this.option.series},this,"xAxis"),s=this.option.series[e].xAxisIndex||0;this._zoom.scatterMap[e].x=n.getAxis(s).getExtremum(),n.dispose(),r=h.clone(this.option.yAxis),"category"==r[0].type&&(r[0].type="value"),r[1]&&"category"==r[1].type&&(r[1].type="value"),n=new o(this.ecTheme,null,!1,{yAxis:r,series:this.option.series},this,"yAxis"),s=this.option.series[e].yAxisIndex||0,this._zoom.scatterMap[e].y=n.getAxis(s).getExtremum(),n.dispose()},_buildBackground:function(){var t=this._location.width,e=this._location.height;this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x,y:this._location.y,width:t,height:e,color:this.zoomOption.backgroundColor}}));for(var i=0,n=this._originalData.xAxis,a=this._zoom.xAxisIndex,h=0,l=a.length;l>h;h++)i=Math.max(i,n[a[h]].length);for(var c=this._originalData.yAxis,d=this._zoom.yAxisIndex,h=0,l=d.length;l>h;h++)i=Math.max(i,c[d[h]].length);for(var u,p=this._zoom.seriesIndex[0],f=this._originalData.series[p],g=Number.MIN_VALUE,m=Number.MAX_VALUE,h=0,l=f.length;l>h;h++)u=this.getDataFromOption(f[h],0),this.option.series[p].type==s.CHART_TYPE_K&&(u=u[1]),isNaN(u)&&(u=0),g=Math.max(g,u),m=Math.min(m,u);var _=g-m,y=[],v=t/(i-(i>1?1:0)),x=e/(i-(i>1?1:0)),b=1;"horizontal"==this.zoomOption.orient&&1>v?b=Math.floor(3*i/t):"vertical"==this.zoomOption.orient&&1>x&&(b=Math.floor(3*i/e));for(var h=0,l=i;l>h;h+=b)u=this.getDataFromOption(f[h],0),this.option.series[p].type==s.CHART_TYPE_K&&(u=u[1]),isNaN(u)&&(u=0),y.push("horizontal"==this.zoomOption.orient?[this._location.x+v*h,this._location.y+e-1-Math.round((u-m)/_*(e-10))]:[this._location.x+1+Math.round((u-m)/_*(t-10)),this._location.y+x*(l-h-1)]);"horizontal"==this.zoomOption.orient?(y.push([this._location.x+t,this._location.y+e]),y.push([this._location.x,this._location.y+e])):(y.push([this._location.x,this._location.y]),y.push([this._location.x,this._location.y+e])),this.shapeList.push(new r({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:y,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"},this._fillerShae.style="horizontal"==this.zoomOption.orient?{x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"},this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"},this._fillerShae=new o(this._fillerShae),this.shapeList.push(this._fillerShae)},_buildHandle:function(){var t=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:t.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend},"horizontal"==this.zoomOption.orient?(this._startShape.style.height=this._location.height,this._endShape=h.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endShape.highlightStyle.text=t.end,this._endShape.highlightStyle.textPosition="right"):(this._startShape.style.width=this._location.width,this._endShape=h.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startShape.highlightStyle.textPosition="bottom",this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.highlightStyle.text=t.end,this._endShape.highlightStyle.textPosition="top"),this._startShape=new n(this._startShape),this._endShape=new n(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_buildFrame:function(){var t=this.subPixelOptimize(this._location.x,1),e=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:t,y:e,width:this._location.width-(t>this._location.x?1:0),height:this._location.height-(e>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}},this._endFrameShape=h.clone(this._startFrameShape),this._startFrameShape=new o(this._startFrameShape),this._endFrameShape=new o(this._endFrameShape),this.shapeList.push(this._startFrameShape),this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){"horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100,this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100):(this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFillerShape:function(){var t,e;"horizontal"==this.zoomOption.orient?(t=this._startShape.style.x,e=this._endShape.style.x,this._fillerShae.style.x=Math.min(t,e)+this._handleSize,this._fillerShae.style.width=Math.abs(t-e)-this._handleSize,this._zoom.start=(Math.min(t,e)-this._location.x)/this._location.width*100,this._zoom.end=(Math.max(t,e)+this._handleSize-this._location.x)/this._location.width*100):(t=this._startShape.style.y,e=this._endShape.style.y,this._fillerShae.style.y=Math.min(t,e)+this._handleSize,this._fillerShae.style.height=Math.abs(t-e)-this._handleSize,this._zoom.start=(this._location.y+this._location.height-Math.max(t,e))/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-Math.min(t,e)-this._handleSize)/this._location.height*100),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFrameShape:function(){"horizontal"==this.zoomOption.orient?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):(this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y,this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y),this.zr.modShape(this._startFrameShape.id),this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&("horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._endShape.style.y+this._handleSize,this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())},_syncData:function(t){var e,i,o,r,n;for(var a in this._originalData){e=this._originalData[a];for(var h in e)n=e[h],null!=n&&(r=n.length,i=Math.floor(this._zoom.start/100*r),o=Math.ceil(this._zoom.end/100*r),this.getDataFromOption(n[0])instanceof Array&&this.option[a][h].type!=s.CHART_TYPE_K?(this._setScale(),this.option[a][h].data=this._synScatterData(h,n)):this.option[a][h].data=n.slice(i,o))}this._isSilence||!this.zoomOption.realtime&&!t||this.messageCenter.dispatch(s.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(t,e){if(0===this._zoom.start&&100==this._zoom.end&&0===this._zoom.start2&&100==this._zoom.end2)return e;var i,o,r,n,s,a=[],h=this._zoom.scatterMap[t];"horizontal"==this.zoomOption.orient?(i=h.x.max-h.x.min,o=this._zoom.start/100*i+h.x.min,r=this._zoom.end/100*i+h.x.min,i=h.y.max-h.y.min,n=this._zoom.start2/100*i+h.y.min,s=this._zoom.end2/100*i+h.y.min):(i=h.x.max-h.x.min,o=this._zoom.start2/100*i+h.x.min,r=this._zoom.end2/100*i+h.x.min,i=h.y.max-h.y.min,n=this._zoom.start/100*i+h.y.min,s=this._zoom.end/100*i+h.y.min);var l;(l=h.x.dataMappingMethods)&&(o=l.coord2Value(o),r=l.coord2Value(r)),(l=h.y.dataMappingMethods)&&(n=l.coord2Value(n),s=l.coord2Value(s));for(var c,d=0,u=e.length;u>d;d++)c=e[d].value||e[d],c[0]>=o&&c[0]<=r&&c[1]>=n&&c[1]<=s&&a.push(e[d]);return a},_setScale:function(){var t=0!==this._zoom.start||100!==this._zoom.end||0!==this._zoom.start2||100!==this._zoom.end2,e={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var i in e)for(var o=0,r=e[i].length;r>o;o++)e[i][o].scale=t||e[i][o]._scale},_backupScale:function(){var t={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var e in t)for(var i=0,o=t[e].length;o>i;i++)t[e][i]._scale=t[e][i].scale},_getDetail:function(){for(var t=["xAxis","yAxis"],e=0,i=t.length;i>e;e++){var o=this._originalData[t[e]];for(var r in o){var n=o[r];if(null!=n){var s=n.length,h=Math.floor(this._zoom.start/100*s),l=Math.ceil(this._zoom.end/100*s);return l-=l>0?1:0,{start:this.getDataFromOption(n[h]),end:this.getDataFromOption(n[l])}}}}t="horizontal"==this.zoomOption.orient?"xAxis":"yAxis";var c=this._zoom.seriesIndex[0],d=this.option.series[c][t+"Index"]||0,u=this.option[t][d].type,p=this._zoom.scatterMap[c][t.charAt(0)].min,f=this._zoom.scatterMap[c][t.charAt(0)].max,g=f-p;if("value"==u)return{start:p+g*this._zoom.start/100,end:p+g*this._zoom.end/100};if("time"==u){f=p+g*this._zoom.end/100,p+=g*this._zoom.start/100;var m=a.getAutoFormatter(p,f).formatter;return{start:a.format(m,p),end:a.format(m,f)}}return{start:"",end:""}},__ondrift:function(t,e,i){this.zoomOption.zoomLock&&(t=this._fillerShae);var o="filler"==t._type?this._handleSize:0;if("horizontal"==this.zoomOption.orient?t.style.x+e-o<=this._location.x?t.style.x=this._location.x+o:t.style.x+e+t.style.width+o>=this._location.x+this._location.width?t.style.x=this._location.x+this._location.width-t.style.width-o:t.style.x+=e:t.style.y+i-o<=this._location.y?t.style.y=this._location.y+o:t.style.y+i+t.style.height+o>=this._location.y+this._location.height?t.style.y=this._location.y+this._location.height-t.style.height-o:t.style.y+=i,"filler"==t._type?this._syncHandleShape():this._syncFillerShape(),this.zoomOption.realtime&&this._syncData(),this.zoomOption.showDetail){var r=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=r.start,this._endShape.style.text=this._endShape.highlightStyle.text=r.end,this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition,this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return!0},__ondragend:function(){this.zoomOption.showDetail&&(this._startShape.style.text=this._endShape.style.text="=",this._startShape.style.textPosition=this._endShape.style.textPosition="inside",this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.refreshNextFrame()),this.isDragend=!0},ondragend:function(t,e){this.isDragend&&t.target&&(!this.zoomOption.realtime&&this._syncData(),e.dragOut=!0,e.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(s.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),e.needRefresh=!1,this.isDragend=!1)},ondataZoom:function(t,e){e.needRefresh=!0},absoluteZoom:function(t){this._zoom.start=t.start,this._zoom.end=t.end,this._zoom.start2=t.start2,this._zoom.end2=t.end2,this._syncShape(),this._syncData(!0)},rectZoom:function(t){if(!t)return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom;var e=this.component.grid.getArea(),i={x:t.x,y:t.y,width:t.width,height:t.height};if(i.width<0&&(i.x+=i.width,i.width=-i.width),i.height<0&&(i.y+=i.height,i.height=-i.height),i.x>e.x+e.width||i.y>e.y+e.height)return!1;i.x<e.x&&(i.x=e.x),i.x+i.width>e.x+e.width&&(i.width=e.x+e.width-i.x),i.y+i.height>e.y+e.height&&(i.height=e.y+e.height-i.y);var o,r=(i.x-e.x)/e.width,n=1-(i.x+i.width-e.x)/e.width,s=1-(i.y+i.height-e.y)/e.height,a=(i.y-e.y)/e.height;return"horizontal"==this.zoomOption.orient?(o=this._zoom.end-this._zoom.start,this._zoom.start+=o*r,this._zoom.end-=o*n,o=this._zoom.end2-this._zoom.start2,this._zoom.start2+=o*s,this._zoom.end2-=o*a):(o=this._zoom.end-this._zoom.start,this._zoom.start+=o*s,this._zoom.end-=o*a,o=this._zoom.end2-this._zoom.start2,this._zoom.start2+=o*r,this._zoom.end2-=o*n),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(t){for(var e,i,o=this._originalData.series,r=t.series,n=0,s=r.length;s>n;n++){i=r[n].data||r[n].eventList,e=o[n]?Math.floor(this._zoom.start/100*o[n].length):0;for(var a=0,h=i.length;h>a;a++)o[n]&&(o[n][a+e]=i[a])}},syncOption:function(t){this.silence(!0),this.option=t,this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape(),this._syncData(),this.silence(!1)},silence:function(t){this._isSilence=t},getRealDataIndex:function(t,e){if(!this._originalData||0===this._zoom.start&&100==this._zoom.end)return e;var i=this._originalData.series;return i[t]?Math.floor(this._zoom.start/100*i[t].length)+e:-1},resize:function(){this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this.option.dataZoom.show&&this._buildShape()}},h.inherits(e,i),t("../component").define("dataZoom",e),e}),i("zrender/shape/Ring",["require","./Base","../tool/util"],function(t){var e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={type:"ring",buildPath:function(t,e){t.arc(e.x,e.y,e.r,0,2*Math.PI,!1),t.moveTo(e.x+e.r0,e.y),t.arc(e.x,e.y,e.r0,0,2*Math.PI,!0)},getRect:function(t){if(t.__rect)return t.__rect;var e;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-t.r-e/2),y:Math.round(t.y-t.r-e/2),width:2*t.r+e,height:2*t.r+e},t.__rect}},t("../tool/util").inherits(i,e),i}),i("zrender/dep/excanvas",["require"],function(){return document.createElement("canvas").getContext?G_vmlCanvasManager=!1:!function(){function t(){return this.context_||(this.context_=new x(this))}function e(t,e){var i=N.call(arguments,2);return function(){return t.apply(e,i.concat(N.call(arguments)))}}function i(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function o(t,e,i){t.namespaces[e]||t.namespaces.add(e,i,"#default#VML")}function r(t){if(o(t,"g_vml_","urn:schemas-microsoft-com:vml"),o(t,"g_o_","urn:schemas-microsoft-com:office:office"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function n(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function s(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function a(){return[[1,0,0],[0,1,0],[0,0,1]]}function h(t,e){for(var i=a(),o=0;3>o;o++)for(var r=0;3>r;r++){for(var n=0,s=0;3>s;s++)n+=t[o][s]*e[s][r];i[o][r]=n}return i}function l(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.scaleX_=t.scaleX_,e.scaleY_=t.scaleY_,e.lineScale_=t.lineScale_}function c(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1),o=t.substring(e+1,i).split(",");return(4!=o.length||"a"!=t.charAt(3))&&(o[3]=1),o}function d(t){return parseFloat(t)/100}function u(t,e,i){return Math.min(i,Math.max(e,t))}function p(t){var e,i,o,r,n,s;if(r=parseFloat(t[0])/360%360,0>r&&r++,n=u(d(t[1]),0,1),s=u(d(t[2]),0,1),0==n)e=i=o=s;else{var a=.5>s?s*(1+n):s+n-s*n,h=2*s-a;e=f(h,a,r+1/3),i=f(h,a,r),o=f(h,a,r-1/3)}return"#"+W[Math.floor(255*e)]+W[Math.floor(255*i)]+W[Math.floor(255*o)]}function f(t,e,i){return 0>i&&i++,i>1&&i--,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function g(t){if(t in V)return V[t];var e,i=1;if(t=String(t),"#"==t.charAt(0))e=t;else if(/^rgb/.test(t)){for(var o,r=c(t),e="#",n=0;3>n;n++)o=-1!=r[n].indexOf("%")?Math.floor(255*d(r[n])):+r[n],e+=W[u(o,0,255)];i=+r[3]}else if(/^hsl/.test(t)){var r=c(t);e=p(r),i=r[3]}else e=G[t]||t;return V[t]={color:e,alpha:i}}function m(t){if(U[t])return U[t];var e,i=document.createElement("div"),o=i.style;try{o.font=t,e=o.fontFamily.split(",")[0]}catch(r){}return U[t]={style:o.fontStyle||Z.style,variant:o.fontVariant||Z.variant,weight:o.fontWeight||Z.weight,size:o.fontSize||Z.size,family:e||Z.family}}function _(t,e){var i={};for(var o in t)i[o]=t[o];var r=parseFloat(e.currentStyle.fontSize),n=parseFloat(t.size);return i.size="number"==typeof t.size?t.size:-1!=t.size.indexOf("px")?n:-1!=t.size.indexOf("em")?r*n:-1!=t.size.indexOf("%")?r/100*n:-1!=t.size.indexOf("pt")?n/.75:r,i
}function y(t){return t.style+" "+t.variant+" "+t.weight+" "+t.size+"px '"+t.family+"'"}function v(t){return Q[t]||"square"}function x(t){this.m_=a(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*F,this.globalAlpha=1,this.font="12px 微软雅黑",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i);var o=i.cloneNode(!1);o.style.backgroundColor="#fff",o.style.filter="alpha(opacity=0)",t.appendChild(o),this.element_=i,this.scaleX_=1,this.scaleY_=1,this.lineScale_=1}function b(t,e,i,o){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:o.x,y:o.y}),t.currentX_=o.x,t.currentY_=o.y}function T(t,e){var i=g(t.strokeStyle),o=i.color,r=i.alpha*t.globalAlpha,n=t.lineScale_*t.lineWidth;1>n&&(r*=n),e.push("<g_vml_:stroke",' opacity="',r,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',v(t.lineCap),'"',' weight="',n,'px"',' color="',o,'" />')}function S(t,e,i,o){var r=t.fillStyle,n=t.scaleX_,s=t.scaleY_,a=o.x-i.x,h=o.y-i.y;if(r instanceof w){var l=0,c={x:0,y:0},d=0,u=1;if("gradient"==r.type_){var p=r.x0_/n,f=r.y0_/s,m=r.x1_/n,_=r.y1_/s,y=z(t,p,f),v=z(t,m,_),x=v.x-y.x,b=v.y-y.y;l=180*Math.atan2(x,b)/Math.PI,0>l&&(l+=360),1e-6>l&&(l=0)}else{var y=z(t,r.x0_,r.y0_);c={x:(y.x-i.x)/a,y:(y.y-i.y)/h},a/=n*F,h/=s*F;var T=I.max(a,h);d=2*r.r0_/T,u=2*r.r1_/T-d}var S=r.colors_;S.sort(function(t,e){return t.offset-e.offset});for(var C=S.length,E=S[0].color,A=S[C-1].color,M=S[0].alpha*t.globalAlpha,k=S[C-1].alpha*t.globalAlpha,P=[],O=0;C>O;O++){var D=S[O];P.push(D.offset*u+d+" "+D.color)}e.push('<g_vml_:fill type="',r.type_,'"',' method="none" focus="100%"',' color="',E,'"',' color2="',A,'"',' colors="',P.join(","),'"',' opacity="',k,'"',' g_o_:opacity2="',M,'"',' angle="',l,'"',' focusposition="',c.x,",",c.y,'" />')}else if(r instanceof L){if(a&&h){var R=-i.x,H=-i.y;e.push("<g_vml_:fill",' position="',R/a*n*n,",",H/h*s*s,'"',' type="tile"',' src="',r.src_,'" />')}}else{var B=g(t.fillStyle),N=B.color,Y=B.alpha*t.globalAlpha;e.push('<g_vml_:fill color="',N,'" opacity="',Y,'" />')}}function z(t,e,i){var o=t.m_;return{x:F*(e*o[0][0]+i*o[1][0]+o[2][0])-B,y:F*(e*o[0][1]+i*o[1][1]+o[2][1])-B}}function C(t){return isFinite(t[0][0])&&isFinite(t[0][1])&&isFinite(t[1][0])&&isFinite(t[1][1])&&isFinite(t[2][0])&&isFinite(t[2][1])}function E(t,e,i){if(C(e)&&(t.m_=e,t.scaleX_=Math.sqrt(e[0][0]*e[0][0]+e[0][1]*e[0][1]),t.scaleY_=Math.sqrt(e[1][0]*e[1][0]+e[1][1]*e[1][1]),i)){var o=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=H(R(o))}}function w(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function L(t,e){switch(M(t),e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:A("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function A(t){throw new k(t)}function M(t){t&&1==t.nodeType&&"IMG"==t.tagName||A("TYPE_MISMATCH_ERR"),"complete"!=t.readyState&&A("INVALID_STATE_ERR")}function k(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var I=Math,P=I.round,O=I.sin,D=I.cos,R=I.abs,H=I.sqrt,F=10,B=F/2,N=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);r(document);var Y={init:function(t){var i=t||document;i.createElement("canvas"),i.attachEvent("onreadystatechange",e(this.init_,this,i))},init_:function(t){for(var e=t.getElementsByTagName("canvas"),i=0;i<e.length;i++)this.initElement(e[i])},initElement:function(e){if(!e.getContext){e.getContext=t,r(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",n),e.attachEvent("onresize",s);var i=e.attributes;i.width&&i.width.specified?e.style.width=i.width.nodeValue+"px":e.width=e.clientWidth,i.height&&i.height.specified?e.style.height=i.height.nodeValue+"px":e.height=e.clientHeight}return e}};Y.init();for(var W=[],X=0;16>X;X++)for(var q=0;16>q;q++)W[16*X+q]=X.toString(16)+q.toString(16);var G={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},V={},Z={style:"normal",variant:"normal",weight:"normal",size:12,family:"微软雅黑"},U={},Q={butt:"flat",round:"round"},j=x.prototype;j.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},j.beginPath=function(){this.currentPath_=[]},j.moveTo=function(t,e){var i=z(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},j.lineTo=function(t,e){var i=z(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},j.bezierCurveTo=function(t,e,i,o,r,n){var s=z(this,r,n),a=z(this,t,e),h=z(this,i,o);b(this,a,h,s)},j.quadraticCurveTo=function(t,e,i,o){var r=z(this,t,e),n=z(this,i,o),s={x:this.currentX_+2/3*(r.x-this.currentX_),y:this.currentY_+2/3*(r.y-this.currentY_)},a={x:s.x+(n.x-this.currentX_)/3,y:s.y+(n.y-this.currentY_)/3};b(this,s,a,n)},j.arc=function(t,e,i,o,r,n){i*=F;var s=n?"at":"wa",a=t+D(o)*i-B,h=e+O(o)*i-B,l=t+D(r)*i-B,c=e+O(r)*i-B;a!=l||n||(a+=.125);var d=z(this,t,e),u=z(this,a,h),p=z(this,l,c);this.currentPath_.push({type:s,x:d.x,y:d.y,radius:i,xStart:u.x,yStart:u.y,xEnd:p.x,yEnd:p.y})},j.rect=function(t,e,i,o){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath()},j.strokeRect=function(t,e,i,o){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.stroke(),this.currentPath_=r},j.fillRect=function(t,e,i,o){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.fill(),this.currentPath_=r},j.createLinearGradient=function(t,e,i,o){var r=new w("gradient");return r.x0_=t,r.y0_=e,r.x1_=i,r.y1_=o,r},j.createRadialGradient=function(t,e,i,o,r,n){var s=new w("gradientradial");return s.x0_=t,s.y0_=e,s.r0_=i,s.x1_=o,s.y1_=r,s.r1_=n,s},j.drawImage=function(t){var e,i,o,r,n,s,a,h,l=t.runtimeStyle.width,c=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var d=t.width,u=t.height;if(t.runtimeStyle.width=l,t.runtimeStyle.height=c,3==arguments.length)e=arguments[1],i=arguments[2],n=s=0,a=o=d,h=r=u;else if(5==arguments.length)e=arguments[1],i=arguments[2],o=arguments[3],r=arguments[4],n=s=0,a=d,h=u;else{if(9!=arguments.length)throw Error("Invalid number of arguments");n=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4],e=arguments[5],i=arguments[6],o=arguments[7],r=arguments[8]}var p=z(this,e,i),f=[],g=10,m=10,_=v=1;if(f.push(" <g_vml_:group",' coordsize="',F*g,",",F*m,'"',' coordorigin="0,0"',' style="width:',g,"px;height:",m,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var y=[],_=this.scaleX_,v=this.scaleY_;y.push("M11=",this.m_[0][0]/_,",","M12=",this.m_[1][0]/v,",","M21=",this.m_[0][1]/_,",","M22=",this.m_[1][1]/v,",","Dx=",P(p.x/F),",","Dy=",P(p.y/F),"");var x=p,b=z(this,e+o,i),T=z(this,e,i+r),S=z(this,e+o,i+r);x.x=I.max(x.x,b.x,T.x,S.x),x.y=I.max(x.y,b.y,T.y,S.y),f.push("padding:0 ",P(x.x/F),"px ",P(x.y/F),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",y.join(""),", SizingMethod='clip');")}else f.push("top:",P(p.y/F),"px;left:",P(p.x/F),"px;");f.push(' ">'),(n||s)&&f.push('<div style="overflow: hidden; width:',Math.ceil((o+n*o/a)*_),"px;"," height:",Math.ceil((r+s*r/h)*v),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-n*o/a*_,",Dy=",-s*r/h*v,');">'),f.push('<div style="width:',Math.round(_*d*o/a),"px;"," height:",Math.round(v*u*r/h),"px;"," filter:"),this.globalAlpha<1&&f.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*this.globalAlpha+")"),f.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",t.src,',sizingMethod=scale)">'),(n||s)&&f.push("</div>"),f.push("</div></div>"),this.element_.insertAdjacentHTML("BeforeEnd",f.join(""))},j.stroke=function(t){var e=[],i=10,o=10;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',i,"px;height:",o,'px;"',' coordorigin="0,0"',' coordsize="',F*i,",",F*o,'"',' stroked="',!t,'"',' path="');for(var r={x:null,y:null},n={x:null,y:null},s=0;s<this.currentPath_.length;s++){var a,h=this.currentPath_[s];switch(h.type){case"moveTo":a=h,e.push(" m ",P(h.x),",",P(h.y));break;case"lineTo":e.push(" l ",P(h.x),",",P(h.y));break;case"close":e.push(" x "),h=null;break;case"bezierCurveTo":e.push(" c ",P(h.cp1x),",",P(h.cp1y),",",P(h.cp2x),",",P(h.cp2y),",",P(h.x),",",P(h.y));break;case"at":case"wa":e.push(" ",h.type," ",P(h.x-this.scaleX_*h.radius),",",P(h.y-this.scaleY_*h.radius)," ",P(h.x+this.scaleX_*h.radius),",",P(h.y+this.scaleY_*h.radius)," ",P(h.xStart),",",P(h.yStart)," ",P(h.xEnd),",",P(h.yEnd))}h&&((null==r.x||h.x<r.x)&&(r.x=h.x),(null==n.x||h.x>n.x)&&(n.x=h.x),(null==r.y||h.y<r.y)&&(r.y=h.y),(null==n.y||h.y>n.y)&&(n.y=h.y))}e.push(' ">'),t?S(this,e,r,n):T(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},j.fill=function(){this.stroke(!0)},j.closePath=function(){this.currentPath_.push({type:"close"})},j.save=function(){var t={};l(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=h(a(),this.m_)},j.restore=function(){this.aStack_.length&&(l(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},j.translate=function(t,e){var i=[[1,0,0],[0,1,0],[t,e,1]];E(this,h(i,this.m_),!1)},j.rotate=function(t){var e=D(t),i=O(t),o=[[e,i,0],[-i,e,0],[0,0,1]];E(this,h(o,this.m_),!1)},j.scale=function(t,e){var i=[[t,0,0],[0,e,0],[0,0,1]];E(this,h(i,this.m_),!0)},j.transform=function(t,e,i,o,r,n){var s=[[t,e,0],[i,o,0],[r,n,1]];E(this,h(s,this.m_),!0)},j.setTransform=function(t,e,i,o,r,n){var s=[[t,e,0],[i,o,0],[r,n,1]];E(this,s,!0)},j.drawText_=function(t,e,o,r,n){var s=this.m_,a=1e3,h=0,l=a,c={x:0,y:0},d=[],u=_(m(this.font),this.element_),p=y(u),f=this.element_.currentStyle,g=this.textAlign.toLowerCase();switch(g){case"left":case"center":case"right":break;case"end":g="ltr"==f.direction?"right":"left";break;case"start":g="rtl"==f.direction?"right":"left";break;default:g="left"}switch(this.textBaseline){case"hanging":case"top":c.y=u.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":c.y=-u.size/2.25}switch(g){case"right":h=a,l=.05;break;case"center":h=l=a/2}var v=z(this,e+c.x,o+c.y);d.push('<g_vml_:line from="',-h,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!n,'" stroked="',!!n,'" style="position:absolute;width:1px;height:1px;">'),n?T(this,d):S(this,d,{x:-h,y:0},{x:l,y:u.size});var x=s[0][0].toFixed(3)+","+s[1][0].toFixed(3)+","+s[0][1].toFixed(3)+","+s[1][1].toFixed(3)+",0,0",b=P(v.x/F)+","+P(v.y/F);d.push('<g_vml_:skew on="t" matrix="',x,'" ',' offset="',b,'" origin="',h,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(t),'" style="v-text-align:',g,";font:",i(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",d.join(""))},j.fillText=function(t,e,i,o){this.drawText_(t,e,i,o,!1)},j.strokeText=function(t,e,i,o){this.drawText_(t,e,i,o,!0)},j.measureText=function(t){if(!this.textMeasureEl_){var e='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",e),this.textMeasureEl_=this.element_.lastChild}var i=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch(o){}return this.textMeasureEl_.appendChild(i.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},j.clip=function(){},j.arcTo=function(){},j.createPattern=function(t,e){return new L(t,e)},w.prototype.addColorStop=function(t,e){e=g(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})};var K=k.prototype=new Error;K.INDEX_SIZE_ERR=1,K.DOMSTRING_SIZE_ERR=2,K.HIERARCHY_REQUEST_ERR=3,K.WRONG_DOCUMENT_ERR=4,K.INVALID_CHARACTER_ERR=5,K.NO_DATA_ALLOWED_ERR=6,K.NO_MODIFICATION_ALLOWED_ERR=7,K.NOT_FOUND_ERR=8,K.NOT_SUPPORTED_ERR=9,K.INUSE_ATTRIBUTE_ERR=10,K.INVALID_STATE_ERR=11,K.SYNTAX_ERR=12,K.INVALID_MODIFICATION_ERR=13,K.NAMESPACE_ERR=14,K.INVALID_ACCESS_ERR=15,K.VALIDATION_ERR=16,K.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=Y,CanvasRenderingContext2D=x,CanvasGradient=w,CanvasPattern=L,DOMException=k}(),G_vmlCanvasManager}),i("zrender/shape/Sector",["require","../tool/math","../tool/computeBoundingBox","../tool/vector","./Base","../tool/util"],function(t){var e=t("../tool/math"),i=t("../tool/computeBoundingBox"),o=t("../tool/vector"),r=t("./Base"),n=o.create(),s=o.create(),a=o.create(),h=o.create(),l=function(t){r.call(this,t)};return l.prototype={type:"sector",buildPath:function(t,i){var o=i.x,r=i.y,n=i.r0||0,s=i.r,a=i.startAngle,h=i.endAngle,l=i.clockWise||!1;a=e.degreeToRadian(a),h=e.degreeToRadian(h),l||(a=-a,h=-h);var c=e.cos(a),d=e.sin(a);t.moveTo(c*n+o,d*n+r),t.lineTo(c*s+o,d*s+r),t.arc(o,r,s,a,h,!l),t.lineTo(e.cos(h)*n+o,e.sin(h)*n+r),0!==n&&t.arc(o,r,n,h,a,l),t.closePath()},getRect:function(t){if(t.__rect)return t.__rect;var r=t.x,l=t.y,c=t.r0||0,d=t.r,u=e.degreeToRadian(t.startAngle),p=e.degreeToRadian(t.endAngle),f=t.clockWise;return f||(u=-u,p=-p),c>1?i.arc(r,l,c,u,p,!f,n,a):(n[0]=a[0]=r,n[1]=a[1]=l),i.arc(r,l,d,u,p,!f,s,h),o.min(n,n,s),o.max(a,a,h),t.__rect={x:n[0],y:n[1],width:a[0]-n[0],height:a[1]-n[1]},t.__rect}},t("../tool/util").inherits(l,r),l}),i("zrender/shape/Circle",["require","./Base","../tool/util"],function(t){"use strict";var e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={type:"circle",buildPath:function(t,e){t.moveTo(e.x+e.r,e.y),t.arc(e.x,e.y,e.r,0,2*Math.PI,!0)},getRect:function(t){if(t.__rect)return t.__rect;var e;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-t.r-e/2),y:Math.round(t.y-t.r-e/2),width:2*t.r+e,height:2*t.r+e},t.__rect}},t("../tool/util").inherits(i,e),i}),i("zrender/tool/math",[],function(){function t(t,e){return Math.sin(e?t*r:t)}function e(t,e){return Math.cos(e?t*r:t)}function i(t){return t*r}function o(t){return t/r}var r=Math.PI/180;return{sin:t,cos:e,degreeToRadian:i,radianToDegree:o}}),i("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(t){function e(t){i.call(this,t)}var i=t("zrender/shape/Base"),o=t("zrender/shape/Polygon"),r=new o({}),n=t("zrender/tool/util");return e.prototype={type:"symbol",buildPath:function(t,e){var i=e.pointList,o=i.length;if(0!==o)for(var r,n,s,a,h,l=1e4,c=Math.ceil(o/l),d=i[0]instanceof Array,u=e.size?e.size:2,p=u,f=u/2,g=2*Math.PI,m=0;c>m;m++){t.beginPath(),r=m*l,n=r+l,n=n>o?o:n;for(var _=r;n>_;_++)if(e.random&&(s=e["randomMap"+_%20]/100,p=u*s*s,f=p/2),d?(a=i[_][0],h=i[_][1]):(a=i[_].x,h=i[_].y),3>p)t.rect(a-f,h-f,p,p);else switch(e.iconType){case"circle":t.moveTo(a,h),t.arc(a,h,f,0,g,!0);break;case"diamond":t.moveTo(a,h-f),t.lineTo(a+f/3,h-f/3),t.lineTo(a+f,h),t.lineTo(a+f/3,h+f/3),t.lineTo(a,h+f),t.lineTo(a-f/3,h+f/3),t.lineTo(a-f,h),t.lineTo(a-f/3,h-f/3),t.lineTo(a,h-f);break;default:t.rect(a-f,h-f,p,p)}if(t.closePath(),c-1>m)switch(e.brushType){case"both":t.fill(),e.lineWidth>0&&t.stroke();break;case"stroke":e.lineWidth>0&&t.stroke();break;default:t.fill()}}},getRect:function(t){return t.__rect||r.getRect(t)},isCover:t("./normalIsCover")},n.inherits(e,i),e}),i("zrender/shape/ShapeBundle",["require","./Base","../tool/util"],function(t){var e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={constructor:i,type:"shape-bundle",brush:function(t,e){var i=this.beforeBrush(t,e);t.beginPath();for(var o=0;o<i.shapeList.length;o++){var r=i.shapeList[o],n=r.style;e&&(n=r.getHighlightStyle(n,r.highlightStyle||{},r.brushTypeOnly)),r.buildPath(t,n)}switch(i.brushType){case"both":t.fill();case"stroke":i.lineWidth>0&&t.stroke();break;default:t.fill()}this.drawText(t,i,this.style),this.afterBrush(t)},getRect:function(t){if(t.__rect)return t.__rect;for(var e=1/0,i=-1/0,o=1/0,r=-1/0,n=0;n<t.shapeList.length;n++)var s=t.shapeList[n],a=s.getRect(s.style),e=Math.min(a.x,e),o=Math.min(a.y,o),i=Math.max(a.x+a.width,i),r=Math.max(a.y+a.height,r);return t.__rect={x:e,y:o,width:i-e,height:r-o},t.__rect},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);if(t=i[0],e=i[1],this.isCoverRect(t,e))for(var o=0;o<this.style.shapeList.length;o++){var r=this.style.shapeList[o];if(r.isCover(t,e))return!0}return!1}},t("../tool/util").inherits(i,e),i}),i("echarts/util/shape/MarkLine",["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BezierCurve","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/curve"],function(t){function e(t){i.call(this,t),this.style.curveness>0&&this.updatePoints(this.style),this.highlightStyle.curveness>0&&this.updatePoints(this.highlightStyle)}var i=t("zrender/shape/Base"),o=t("./Icon"),r=t("zrender/shape/Line"),n=new r({}),s=t("zrender/shape/BezierCurve"),a=new s({}),h=t("zrender/tool/area"),l=t("zrender/shape/util/dashedLineTo"),c=t("zrender/tool/util"),d=t("zrender/tool/curve");return e.prototype={type:"mark-line",brush:function(t,e){var i=this.style;e&&(i=this.getHighlightStyle(i,this.highlightStyle||{})),t.save(),this.setContext(t,i),this.setTransform(t),t.save(),t.beginPath(),this.buildPath(t,i),t.stroke(),t.restore(),this.brushSymbol(t,i,0),this.brushSymbol(t,i,1),this.drawText(t,i,this.style),t.restore()},buildPath:function(t,e){var i=e.lineType||"solid";if(t.moveTo(e.xStart,e.yStart),e.curveness>0){var o=null;switch(i){case"dashed":o=[5,5];break;case"dotted":o=[1,1]}o&&t.setLineDash&&t.setLineDash(o),t.quadraticCurveTo(e.cpX1,e.cpY1,e.xEnd,e.yEnd)}else if("solid"==i)t.lineTo(e.xEnd,e.yEnd);else{var r=(e.lineWidth||1)*("dashed"==e.lineType?5:1);l(t,e.xStart,e.yStart,e.xEnd,e.yEnd,r)}},updatePoints:function(t){var e=t.curveness||0,i=1,o=t.xStart,r=t.yStart,n=t.xEnd,s=t.yEnd,a=(o+n)/2-i*(r-s)*e,h=(r+s)/2-i*(n-o)*e;t.cpX1=a,t.cpY1=h},brushSymbol:function(t,e,i){if("none"!=e.symbol[i]){t.save(),t.beginPath(),t.lineWidth=e.symbolBorder,t.strokeStyle=e.symbolBorderColor;var r=e.symbol[i].replace("empty","").toLowerCase();e.symbol[i].match("empty")&&(t.fillStyle="#fff");var n=e.xStart,s=e.yStart,a=e.xEnd,h=e.yEnd,l=0===i?n:a,c=0===i?s:h,u=e.curveness||0,p=null!=e.symbolRotate[i]?e.symbolRotate[i]-0:0;if(p=p/180*Math.PI,"arrow"==r&&0===p)if(0===u){var f=0===i?-1:1;p=Math.PI/2+Math.atan2(f*(h-s),f*(a-n))}else{var g=e.cpX1,m=e.cpY1,_=d.quadraticDerivativeAt,y=_(n,g,a,i),v=_(s,m,h,i);p=Math.PI/2+Math.atan2(v,y)}t.translate(l,c),0!==p&&t.rotate(p);var x=e.symbolSize[i];o.prototype.buildPath(t,{x:-x,y:-x,width:2*x,height:2*x,iconType:r}),t.closePath(),t.fill(),t.stroke(),t.restore()}},getRect:function(t){return t.curveness>0?a.getRect(t):n.getRect(t),t.__rect},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);return t=i[0],e=i[1],this.isCoverRect(t,e)?this.style.curveness>0?h.isInside(a,this.style,t,e):h.isInside(n,this.style,t,e):!1}},c.inherits(e,i),e}),i("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/tool/curve","zrender/shape/Polygon"],function(t){function e(t,e,i,o,r){var n,s=i.style.pointList,a=s.length;if(!e){if(n=[],"vertical"!=i._orient)for(var h=s[0][1],l=0;a>l;l++)n[l]=[s[l][0],h];else for(var c=s[0][0],l=0;a>l;l++)n[l]=[c,s[l][1]];"half-smooth-polygon"==i.type&&(n[a-1]=f.clone(s[a-1]),n[a-2]=f.clone(s[a-2])),e={style:{pointList:n}}}n=e.style.pointList;var d=n.length;i.style.pointList=d==a?n:a>d?n.concat(s.slice(d)):n.slice(0,a),t.addShape(i),i.__animating=!0,t.animate(i.id,"style").when(o,{pointList:s}).during(function(){i.updateControlPoints&&i.updateControlPoints(i.style)}).done(function(){i.__animating=!1}).start(r)}function i(t,e){for(var i=arguments.length,o=2;i>o;o++){var r=arguments[o];t.style[r]=e.style[r]}}function o(t,e,o,r,n){var s=o.style;e||(e={position:o.position,style:{x:s.x,y:"vertical"==o._orient?s.y+s.height:s.y,width:"vertical"==o._orient?s.width:0,height:"vertical"!=o._orient?s.height:0}});var a=s.x,h=s.y,l=s.width,c=s.height,d=[o.position[0],o.position[1]];i(o,e,"x","y","width","height"),o.position=e.position,t.addShape(o),(d[0]!=e.position[0]||d[1]!=e.position[1])&&t.animate(o.id,"").when(r,{position:d}).start(n),o.__animating=!0,t.animate(o.id,"style").when(r,{x:a,y:h,width:l,height:c}).done(function(){o.__animating=!1}).start(n)}function r(t,e,i,o,r){if(!e){var n=i.style.y;e={style:{y:[n[0],n[0],n[0],n[0]]}}}var s=i.style.y;i.style.y=e.style.y,t.addShape(i),i.__animating=!0,t.animate(i.id,"style").when(o,{y:s}).done(function(){i.__animating=!1}).start(r)}function n(t,e,i,o,r){var n=i.style.x,s=i.style.y,a=i.style.r0,h=i.style.r;i.__animating=!0,"r"!=i._animationAdd?(i.style.r0=0,i.style.r=0,i.rotation=[2*Math.PI,n,s],t.addShape(i),t.animate(i.id,"style").when(o,{r0:a,r:h}).done(function(){i.__animating=!1}).start(r),t.animate(i.id,"").when(o,{rotation:[0,n,s]}).start(r)):(i.style.r0=i.style.r,t.addShape(i),t.animate(i.id,"style").when(o,{r0:a}).done(function(){i.__animating=!1}).start(r))}function s(t,e,o,r,n){e||(e="r"!=o._animationAdd?{style:{startAngle:o.style.startAngle,endAngle:o.style.startAngle}}:{style:{r0:o.style.r}});var s=o.style.startAngle,a=o.style.endAngle;i(o,e,"startAngle","endAngle"),t.addShape(o),o.__animating=!0,t.animate(o.id,"style").when(r,{startAngle:s,endAngle:a}).done(function(){o.__animating=!1}).start(n)}function a(t,e,o,r,n){e||(e={style:{x:"left"==o.style.textAlign?o.style.x+100:o.style.x-100,y:o.style.y}});var s=o.style.x,a=o.style.y;i(o,e,"x","y"),t.addShape(o),o.__animating=!0,t.animate(o.id,"style").when(r,{x:s,y:a}).done(function(){o.__animating=!1}).start(n)}function h(e,i,o,r,n){var s=t("zrender/shape/Polygon").prototype.getRect(o.style),a=s.x+s.width/2,h=s.y+s.height/2;o.scale=[.1,.1,a,h],e.addShape(o),o.__animating=!0,e.animate(o.id,"").when(r,{scale:[1,1,a,h]}).done(function(){o.__animating=!1}).start(n)}function l(t,e,o,r,n){e||(e={style:{source0:0,source1:o.style.source1>0?360:-360,target0:0,target1:o.style.target1>0?360:-360}});var s=o.style.source0,a=o.style.source1,h=o.style.target0,l=o.style.target1;e.style&&i(o,e,"source0","source1","target0","target1"),t.addShape(o),o.__animating=!0,t.animate(o.id,"style").when(r,{source0:s,source1:a,target0:h,target1:l}).done(function(){o.__animating=!1}).start(n)}function c(t,e,i,o,r){e||(e={style:{angle:i.style.startAngle}});var n=i.style.angle;i.style.angle=e.style.angle,t.addShape(i),i.__animating=!0,t.animate(i.id,"style").when(o,{angle:n}).done(function(){i.__animating=!1}).start(r)}function d(t,e,i,r,n,s){if(i.style._x=i.style.x,i.style._y=i.style.y,i.style._width=i.style.width,i.style._height=i.style.height,e)o(t,e,i,r,n);else{var a=i._x||0,h=i._y||0;i.scale=[.01,.01,a,h],t.addShape(i),i.__animating=!0,t.animate(i.id,"").delay(s).when(r,{scale:[1,1,a,h]}).done(function(){i.__animating=!1}).start(n||"QuinticOut")}}function u(t,e,o,r,n){e||(e={style:{xStart:o.style.xStart,yStart:o.style.yStart,xEnd:o.style.xStart,yEnd:o.style.yStart}});var s=o.style.xStart,a=o.style.xEnd,h=o.style.yStart,l=o.style.yEnd;i(o,e,"xStart","xEnd","yStart","yEnd"),t.addShape(o),o.__animating=!0,t.animate(o.id,"style").when(r,{xStart:s,xEnd:a,yStart:h,yEnd:l}).done(function(){o.__animating=!1}).start(n)}function p(t,e,i,o,r){r=r||"QuinticOut",i.__animating=!0,t.addShape(i);var n=i.style,s=function(){i.__animating=!1},a=n.xStart,h=n.yStart,l=n.xEnd,c=n.yEnd;if(n.curveness>0){i.updatePoints(n);var d={p:0},u=n.cpX1,p=n.cpY1,f=[],m=[],_=g.quadraticSubdivide;t.animation.animate(d).when(o,{p:1}).during(function(){_(a,u,l,d.p,f),_(h,p,c,d.p,m),n.cpX1=f[1],n.cpY1=m[1],n.xEnd=f[2],n.yEnd=m[2],t.modShape(i)}).done(s).start(r)}else t.animate(i.id,"style").when(0,{xEnd:a,yEnd:h}).when(o,{xEnd:l,yEnd:c}).done(s).start(r)}var f=t("zrender/tool/util"),g=t("zrender/tool/curve");return{pointList:e,rectangle:o,candle:r,ring:n,sector:s,text:a,polygon:h,ribbon:l,gaugePointer:c,icon:d,line:u,markline:p}}),i("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","zrender/tool/curve","../util/shape/Icon","../util/shape/Symbol","zrender/shape/ShapeBundle","zrender/shape/Polyline","zrender/tool/vector","zrender/tool/env"],function(t){function e(t,e,i,o){var r,s=i.effect,h=s.color||i.style.strokeColor||i.style.color,c=s.shadowColor||h,d=s.scaleSize,u=s.bounceDistance,p="undefined"!=typeof s.shadowBlur?s.shadowBlur:d;"image"!==i.type?(r=new l({zlevel:o,style:{brushType:"stroke",iconType:"droplet"!=i.style.iconType?i.style.iconType:"circle",x:p+1,y:p+1,n:i.style.n,width:i.style._width*d,height:i.style._height*d,lineWidth:1,strokeColor:h,shadowColor:c,shadowBlur:p},draggable:!1,hoverable:!1}),"pin"==i.style.iconType&&(r.style.y+=r.style.height/2*1.5),f&&(r.style.image=t.shapeToImage(r,r.style.width+2*p+2,r.style.height+2*p+2).style.image,r=new a({zlevel:r.zlevel,style:r.style,draggable:!1,hoverable:!1}))):r=new a({zlevel:o,style:i.style,draggable:!1,hoverable:!1}),n.clone(i,r),r.position=i.position,e.push(r),t.addShape(r);var g="image"!==i.type?window.devicePixelRatio||1:1,m=(r.style.width/g-i.style._width)/2;r.style.x=i.style._x-m,r.style.y=i.style._y-m,"pin"==i.style.iconType&&(r.style.y-=i.style.height/2*1.5);var _=100*(s.period+10*Math.random());t.modShape(i.id,{invisible:!0});var y=r.style.x+r.style.width/2/g,v=r.style.y+r.style.height/2/g;"scale"===s.type?(t.modShape(r.id,{scale:[.1,.1,y,v]}),t.animate(r.id,"",s.loop).when(_,{scale:[1,1,y,v]}).done(function(){i.effect.show=!1,t.delShape(r.id)}).start()):t.animate(r.id,"style",s.loop).when(_,{y:r.style.y-u}).when(2*_,{y:r.style.y}).done(function(){i.effect.show=!1,t.delShape(r.id)}).start()}function i(t,e,i,o){var r=i.effect,n=r.color||i.style.strokeColor||i.style.color,s=r.scaleSize,a=r.shadowColor||n,h="undefined"!=typeof r.shadowBlur?r.shadowBlur:2*s,l=window.devicePixelRatio||1,d=new c({zlevel:o,position:i.position,scale:i.scale,style:{pointList:i.style.pointList,iconType:i.style.iconType,color:n,strokeColor:n,shadowColor:a,shadowBlur:h*l,random:!0,brushType:"fill",lineWidth:1,size:i.style.size},draggable:!1,hoverable:!1});e.push(d),t.addShape(d),t.modShape(i.id,{invisible:!0});for(var u=Math.round(100*r.period),p={},f={},g=0;20>g;g++)d.style["randomMap"+g]=0,p={},p["randomMap"+g]=100,f={},f["randomMap"+g]=0,d.style["randomMap"+g]=100*Math.random(),t.animate(d.id,"style",!0).when(u,p).when(2*u,f).when(3*u,p).when(4*u,p).delay(Math.random()*u*g).start()}function o(t,e,i,o,r){var a=i.effect,l=i.style,c=a.color||l.strokeColor||l.color,d=a.shadowColor||l.strokeColor||c,g=l.lineWidth*a.scaleSize,m="undefined"!=typeof a.shadowBlur?a.shadowBlur:g,_=new s({zlevel:o,style:{x:m,y:m,r:g,color:c,shadowColor:d,shadowBlur:m},hoverable:!1}),y=0;if(f&&!r){var o=_.zlevel;_=t.shapeToImage(_,2*(g+m),2*(g+m)),_.zlevel=o,_.hoverable=!1,y=m}r||(n.clone(i,_),_.position=i.position,e.push(_),t.addShape(_));var v=function(){r||(i.effect.show=!1,t.delShape(_.id)),_.effectAnimator=null};if(i instanceof u){for(var x=[0],b=0,T=l.pointList,S=l.controlPointList,z=1;z<T.length;z++){if(S){var C=S[2*(z-1)],E=S[2*(z-1)+1];b+=p.dist(T[z-1],C)+p.dist(C,E)+p.dist(E,T[z])}else b+=p.dist(T[z-1],T[z]);x.push(b)}for(var w={p:0},L=t.animation.animate(w,{loop:a.loop}),z=0;z<x.length;z++)L.when(x[z]*a.period,{p:z});L.during(function(){var e,i,o=Math.floor(w.p);if(o==T.length-1)e=T[o][0],i=T[o][1];else{var n=w.p-o,s=T[o],a=T[o+1];if(S){var l=S[2*o],c=S[2*o+1];e=h.cubicAt(s[0],l[0],c[0],a[0],n),i=h.cubicAt(s[1],l[1],c[1],a[1],n)}else e=(a[0]-s[0])*n+s[0],i=(a[1]-s[1])*n+s[1]}_.style.x=e,_.style.y=i,r||t.modShape(_)}).done(v).start(),L.duration=b*a.period,_.effectAnimator=L}else{var A=l.xStart-y,M=l.yStart-y,k=l.xEnd-y,I=l.yEnd-y;_.style.x=A,_.style.y=M;var P=(k-A)*(k-A)+(I-M)*(I-M),O=Math.round(Math.sqrt(Math.round(P*a.period*a.period)));if(i.style.curveness>0){var D=l.cpX1-y,R=l.cpY1-y;_.effectAnimator=t.animation.animate(_,{loop:a.loop}).when(O,{p:1}).during(function(e,i){_.style.x=h.quadraticAt(A,D,k,i),_.style.y=h.quadraticAt(M,R,I,i),r||t.modShape(_)}).done(v).start()}else _.effectAnimator=t.animation.animate(_.style,{loop:a.loop}).when(O,{x:k,y:I}).during(function(){r||t.modShape(_)}).done(v).start();_.effectAnimator.duration=O}return _}function r(t,e,i,r){var n=new d({style:{shapeList:[]},zlevel:r,hoverable:!1}),s=i.style.shapeList,a=i.effect;n.position=i.position;for(var h=0,l=[],c=0;c<s.length;c++){s[c].effect=a;var u=o(t,null,s[c],r,!0),p=u.effectAnimator;n.style.shapeList.push(u),p.duration>h&&(h=p.duration),0===c&&(n.style.color=u.style.color,n.style.shadowBlur=u.style.shadowBlur,n.style.shadowColor=u.style.shadowColor),l.push(p)}e.push(n),t.addShape(n);var f=function(){for(var t=0;t<l.length;t++)l[t].stop()};if(h){n.__dummy=0;var g=t.animate(n.id,"",a.loop).when(h,{__dummy:1}).during(function(){t.modShape(n)}).done(function(){i.effect.show=!1,t.delShape(n.id)}).start(),m=g.stop;g.stop=function(){f(),m.call(this)}}}var n=t("../util/ecData"),s=t("zrender/shape/Circle"),a=t("zrender/shape/Image"),h=t("zrender/tool/curve"),l=t("../util/shape/Icon"),c=t("../util/shape/Symbol"),d=t("zrender/shape/ShapeBundle"),u=t("zrender/shape/Polyline"),p=t("zrender/tool/vector"),f=t("zrender/tool/env").canvasSupported;
return{point:e,largePoint:i,line:o,largeLine:r}}),i("echarts/util/accMath",[],function(){function t(t,e){var i=t.toString(),o=e.toString(),r=0;try{r=o.split(".")[1].length}catch(n){}try{r-=i.split(".")[1].length}catch(n){}return(i.replace(".","")-0)/(o.replace(".","")-0)*Math.pow(10,r)}function e(t,e){var i=t.toString(),o=e.toString(),r=0;try{r+=i.split(".")[1].length}catch(n){}try{r+=o.split(".")[1].length}catch(n){}return(i.replace(".","")-0)*(o.replace(".","")-0)/Math.pow(10,r)}function i(t,e){var i=0,o=0;try{i=t.toString().split(".")[1].length}catch(r){}try{o=e.toString().split(".")[1].length}catch(r){}var n=Math.pow(10,Math.max(i,o));return(Math.round(t*n)+Math.round(e*n))/n}function o(t,e){return i(t,-e)}return{accDiv:t,accMul:e,accAdd:i,accSub:o}}),i("echarts/layout/EdgeBundling",["require","../data/KDTree","zrender/tool/vector"],function(t){function e(t,e){t=t.array,e=e.array;var i=e[0]-t[0],o=e[1]-t[1],r=e[2]-t[2],n=e[3]-t[3];return i*i+o*o+r*r+n*n}function i(t){this.points=[t.mp0,t.mp1],this.group=t}function o(t){var e=t.points;e[0][1]<e[1][1]||t instanceof i?(this.array=[e[0][0],e[0][1],e[1][0],e[1][1]],this._startPoint=e[0],this._endPoint=e[1]):(this.array=[e[1][0],e[1][1],e[0][0],e[0][1]],this._startPoint=e[1],this._endPoint=e[0]),this.ink=c(e[0],e[1]),this.edge=t,this.group=null}function r(){this.edgeList=[],this.mp0=h(),this.mp1=h(),this.ink=0}function n(){this.maxNearestEdge=6,this.maxTurningAngle=Math.PI/4,this.maxIteration=20}var s=t("../data/KDTree"),a=t("zrender/tool/vector"),h=a.create,l=a.distSquare,c=a.dist,d=a.copy,u=a.clone;return o.prototype.getStartPoint=function(){return this._startPoint},o.prototype.getEndPoint=function(){return this._endPoint},r.prototype.addEdge=function(t){t.group=this,this.edgeList.push(t)},r.prototype.removeEdge=function(t){t.group=null,this.edgeList.splice(this.edgeList.indexOf(t),1)},n.prototype={constructor:n,run:function(t){function e(t,e){return l(t,e)<1e-10}function o(t,i){for(var o=[],r=0,n=0;n<t.length;n++)r>0&&e(t[n],o[r-1])||(o[r++]=u(t[n]));return i[0]&&!e(o[0],i[0])&&(o=o.reverse()),o}for(var r=this._iterate(t),n=0;n++<this.maxIteration;){for(var s=[],a=0;a<r.groups.length;a++)s.push(new i(r.groups[a]));var h=this._iterate(s);if(h.savedInk<=0)break;r=h}var c=[],d=function(t,e){for(var r,n=0;n<t.length;n++){var s=t[n];if(s.edgeList[0]&&s.edgeList[0].edge instanceof i){for(var a=[],h=0;h<s.edgeList.length;h++)a.push(s.edgeList[h].edge.group);r=e?e.slice():[],r.unshift(s.mp0),r.push(s.mp1),d(a,r)}else for(var h=0;h<s.edgeList.length;h++){var l=s.edgeList[h];r=e?e.slice():[],r.unshift(s.mp0),r.push(s.mp1),r.unshift(l.getStartPoint()),r.push(l.getEndPoint()),c.push({points:o(r,l.edge.points),rawEdge:l.edge})}}};return d(r.groups),c},_iterate:function(t){for(var i=[],n=[],a=0,l=0;l<t.length;l++){var c=new o(t[l]);i.push(c)}for(var u=new s(i,4),p=[],f=h(),g=h(),m=0,_=h(),y=h(),v=0,l=0;l<i.length;l++){var c=i[l];if(!c.group){u.nearestN(c,this.maxNearestEdge,e,p);for(var x=0,b=null,T=null,S=0;S<p.length;S++){var z=p[S],C=0;z.group?z.group!==T&&(T=z.group,m=this._calculateGroupEdgeInk(z.group,c,f,g),C=z.group.ink+c.ink-m):(m=this._calculateEdgeEdgeInk(c,z,f,g),C=z.ink+c.ink-m),C>x&&(x=C,b=z,d(y,g),d(_,f),v=m)}if(b){a+=x;var E;b.group||(E=new r,n.push(E),E.addEdge(b)),E=b.group,d(E.mp0,_),d(E.mp1,y),E.ink=v,b.group.addEdge(c)}else{var E=new r;n.push(E),d(E.mp0,c.getStartPoint()),d(E.mp1,c.getEndPoint()),E.ink=c.ink,E.addEdge(c)}}}return{groups:n,edges:i,savedInk:a}},_calculateEdgeEdgeInk:function(){var t=[],e=[];return function(i,o,r,n){t[0]=i.getStartPoint(),t[1]=o.getStartPoint(),e[0]=i.getEndPoint(),e[1]=o.getEndPoint(),this._calculateMeetPoints(t,e,r,n);var s=c(t[0],r)+c(r,n)+c(n,e[0])+c(t[1],r)+c(n,e[1]);return s}}(),_calculateGroupEdgeInk:function(t,e,i,o){for(var r=[],n=[],s=0;s<t.edgeList.length;s++){var a=t.edgeList[s];r.push(a.getStartPoint()),n.push(a.getEndPoint())}r.push(e.getStartPoint()),n.push(e.getEndPoint()),this._calculateMeetPoints(r,n,i,o);for(var h=c(i,o),s=0;s<r.length;s++)h+=c(r[s],i)+c(n[s],o);return h},_calculateMeetPoints:function(){var t=h(),e=h();return function(i,o,r,n){a.set(t,0,0),a.set(e,0,0);for(var s=i.length,h=0;s>h;h++)a.add(t,t,i[h]);a.scale(t,t,1/s),s=o.length;for(var h=0;s>h;h++)a.add(e,e,o[h]);a.scale(e,e,1/s),this._limitTurningAngle(i,t,e,r),this._limitTurningAngle(o,e,t,n)}}(),_limitTurningAngle:function(){var t=h(),e=h(),i=h(),o=h();return function(r,n,s,h){var d=Math.cos(this.maxTurningAngle),u=Math.tan(this.maxTurningAngle);a.sub(t,n,s),a.normalize(t,t),a.copy(h,n);for(var p=0,f=0;f<r.length;f++){var g=r[f];a.sub(e,g,n);var m=a.len(e);a.scale(e,e,1/m);var _=a.dot(e,t);if(d>_){a.scaleAndAdd(i,n,t,m*_);var y=c(i,g),v=y/u;a.scaleAndAdd(o,i,t,-v);var x=l(o,n);x>p&&(p=x,a.copy(h,o))}}}}()},n}),i("echarts/component/base",["require","../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(t){function e(t,e,r,n,s){this.ecTheme=t,this.messageCenter=e,this.zr=r,this.option=n,this.series=n.series,this.myChart=s,this.component=s.component,this.shapeList=[],this.effectList=[];var a=this;a._onlegendhoverlink=function(t){if(a.legendHoverLink)for(var e,r=t.target,n=a.shapeList.length-1;n>=0;n--)e=a.type==i.CHART_TYPE_PIE||a.type==i.CHART_TYPE_FUNNEL?o.get(a.shapeList[n],"name"):(o.get(a.shapeList[n],"series")||{}).name,e!=r||a.shapeList[n].invisible||a.shapeList[n].__animating||a.zr.addHoverShape(a.shapeList[n])},e&&e.bind(i.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}var i=t("../config"),o=t("../util/ecData"),r=t("../util/ecQuery"),n=t("../util/number"),s=t("zrender/tool/util");return e.prototype={canvasSupported:t("zrender/tool/env").canvasSupported,_getZ:function(t){if(null!=this[t])return this[t];var e=this.ecTheme[this.type];return e&&null!=e[t]?e[t]:(e=i[this.type],e&&null!=e[t]?e[t]:0)},getZlevelBase:function(){return this._getZ("zlevel")},getZBase:function(){return this._getZ("z")},reformOption:function(t){return t=s.merge(s.merge(t||{},s.clone(this.ecTheme[this.type]||{})),s.clone(i[this.type]||{})),this.z=t.z,this.zlevel=t.zlevel,t},reformCssArray:function(t){if(!(t instanceof Array))return[t,t,t,t];switch(t.length+""){case"4":return t;case"3":return[t[0],t[1],t[2],t[1]];case"2":return[t[0],t[1],t[0],t[1]];case"1":return[t[0],t[0],t[0],t[0]];case"0":return[0,0,0,0]}},getShapeById:function(t){for(var e=0,i=this.shapeList.length;i>e;e++)if(this.shapeList[e].id===t)return this.shapeList[e];return null},getFont:function(t){var e=this.getTextStyle(s.clone(t));return e.fontStyle+" "+e.fontWeight+" "+e.fontSize+"px "+e.fontFamily},getTextStyle:function(t){return s.merge(s.merge(t||{},this.ecTheme.textStyle),i.textStyle)},getItemStyleColor:function(t,e,i,o){return"function"==typeof t?t.call(this.myChart,{seriesIndex:e,series:this.series[e],dataIndex:i,data:o}):t},getDataFromOption:function(t,e){return null!=t?null!=t.value?t.value:t:e},subPixelOptimize:function(t,e){return t=e%2===1?Math.floor(t)+.5:Math.round(t)},resize:function(){this.refresh&&this.refresh(),this.clearEffectShape&&this.clearEffectShape(!0);var t=this;setTimeout(function(){t.animationEffect&&t.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape(),this.zr&&this.zr.delShape(this.shapeList),this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose(),this.clear(),this.shapeList=null,this.effectList=null,this.messageCenter&&this.messageCenter.unbind(i.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink),this.onafterDispose&&this.onafterDispose()},query:r.query,deepQuery:r.deepQuery,deepMerge:r.deepMerge,parsePercent:n.parsePercent,parseCenter:n.parseCenter,parseRadius:n.parseRadius,numAddCommas:n.addCommas,getPrecision:n.getPrecision},e}),i("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/color"],function(t){function e(e,o,r,n,s,a,h){s&&(e.font=s),e.textAlign=a,e.textBaseline=h;var l=i(o,r,n,s,a,h);o=(o+"").split("\n");var c=t("../tool/area").getTextHeight("国",s);switch(h){case"top":n=l.y;break;case"bottom":n=l.y+c;break;default:n=l.y+c/2}for(var d=0,u=o.length;u>d;d++)e.fillText(o[d],r,n),n+=c}function i(e,i,o,r,n,s){var a=t("../tool/area"),h=a.getTextWidth(e,r),l=a.getTextHeight("国",r);switch(e=(e+"").split("\n"),n){case"end":case"right":i-=h;break;case"center":i-=h/2}switch(s){case"top":break;case"bottom":o-=l*e.length;break;default:o-=l*e.length/2}return{x:i,y:o,width:h,height:l*e.length}}var o=window.G_vmlCanvasManager,r=t("../tool/matrix"),n=t("../tool/guid"),s=t("../tool/util"),a=t("../tool/log"),h=t("../mixin/Transformable"),l=t("../mixin/Eventful"),c=function(t){t=t||{},this.id=t.id||n();for(var e in t)this[e]=t[e];this.style=this.style||{},this.highlightStyle=this.highlightStyle||null,this.parent=null,this.__dirty=!0,this.__clipShapes=[],h.call(this),l.call(this)};c.prototype.invisible=!1,c.prototype.ignore=!1,c.prototype.zlevel=0,c.prototype.draggable=!1,c.prototype.clickable=!1,c.prototype.hoverable=!0,c.prototype.z=0,c.prototype.brush=function(t,e){var i=this.beforeBrush(t,e);switch(t.beginPath(),this.buildPath(t,i),i.brushType){case"both":t.fill();case"stroke":i.lineWidth>0&&t.stroke();break;default:t.fill()}this.drawText(t,i,this.style),this.afterBrush(t)},c.prototype.beforeBrush=function(t,e){var i=this.style;return this.brushTypeOnly&&(i.brushType=this.brushTypeOnly),e&&(i=this.getHighlightStyle(i,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(i.strokeColor=i.strokeColor||i.color),t.save(),this.doClip(t),this.setContext(t,i),this.setTransform(t),i},c.prototype.afterBrush=function(t){t.restore()};var d=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];c.prototype.setContext=function(t,e){for(var i=0,o=d.length;o>i;i++){var r=d[i][0],n=e[r],s=d[i][1];"undefined"!=typeof n&&(t[s]=n)}};var u=r.create();return c.prototype.doClip=function(t){if(this.__clipShapes&&!o)for(var e=0;e<this.__clipShapes.length;e++){var i=this.__clipShapes[e];if(i.needTransform){var n=i.transform;r.invert(u,n),t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}if(t.beginPath(),i.buildPath(t,i.style),t.clip(),i.needTransform){var n=u;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}}},c.prototype.getHighlightStyle=function(e,i,o){var r={};for(var n in e)r[n]=e[n];var s=t("../tool/color"),a=s.getHighlightColor();"stroke"!=e.brushType?(r.strokeColor=a,r.lineWidth=(e.lineWidth||1)+this.getHighlightZoom(),r.brushType="both"):"stroke"!=o?(r.strokeColor=a,r.lineWidth=(e.lineWidth||1)+this.getHighlightZoom()):r.strokeColor=i.strokeColor||s.mix(e.strokeColor,s.toRGB(a));for(var n in i)"undefined"!=typeof i[n]&&(r[n]=i[n]);return r},c.prototype.getHighlightZoom=function(){return"text"!=this.type?6:2},c.prototype.drift=function(t,e){this.position[0]+=t,this.position[1]+=e},c.prototype.buildPath=function(){a("buildPath not implemented in "+this.type)},c.prototype.getRect=function(){a("getRect not implemented in "+this.type)},c.prototype.isCover=function(e,i){var o=this.transformCoordToLocal(e,i);return e=o[0],i=o[1],this.isCoverRect(e,i)?t("../tool/area").isInside(this,this.style,e,i):!1},c.prototype.isCoverRect=function(t,e){var i=this.style.__rect;return i||(i=this.style.__rect=this.getRect(this.style)),t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},c.prototype.drawText=function(t,i,o){if("undefined"!=typeof i.text&&i.text!==!1){var r=i.textColor||i.color||i.strokeColor;t.fillStyle=r;var n,s,a,h,l=10,c=i.textPosition||this.textPosition||"top";switch(c){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var d=(o||i).__rect||this.getRect(o||i);switch(c){case"inside":a=d.x+d.width/2,h=d.y+d.height/2,n="center",s="middle","stroke"!=i.brushType&&r==i.color&&(t.fillStyle="#fff");break;case"left":a=d.x-l,h=d.y+d.height/2,n="end",s="middle";break;case"right":a=d.x+d.width+l,h=d.y+d.height/2,n="start",s="middle";break;case"top":a=d.x+d.width/2,h=d.y-l,n="center",s="bottom";break;case"bottom":a=d.x+d.width/2,h=d.y+d.height+l,n="center",s="top"}}break;case"start":case"end":var u=i.pointList||[[i.xStart||0,i.yStart||0],[i.xEnd||0,i.yEnd||0]],p=u.length;if(2>p)return;var f,g,m,_;switch(c){case"start":f=u[1][0],g=u[0][0],m=u[1][1],_=u[0][1];break;case"end":f=u[p-2][0],g=u[p-1][0],m=u[p-2][1],_=u[p-1][1]}a=g,h=_;var y=Math.atan((m-_)/(g-f))/Math.PI*180;0>g-f?y+=180:0>m-_&&(y+=360),l=5,y>=30&&150>=y?(n="center",s="bottom",h-=l):y>150&&210>y?(n="right",s="middle",a-=l):y>=210&&330>=y?(n="center",s="top",h+=l):(n="left",s="middle",a+=l);break;case"specific":a=i.textX||0,h=i.textY||0,n="start",s="middle"}null!=a&&null!=h&&e(t,i.text,a,h,i.textFont,i.textAlign||n,i.textBaseline||s)}},c.prototype.modSelf=function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)},c.prototype.isSilent=function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)},s.merge(c.prototype,h.prototype,!0),s.merge(c.prototype,l.prototype,!0),c}),i("zrender/tool/area",["require","./util","./curve"],function(t){"use strict";function e(t){return t%=I,0>t&&(t+=I),t}function i(t,e,i,n){if(!e||!t)return!1;var s=t.type;z=z||C.getContext();var a=o(t,e,i,n);if("undefined"!=typeof a)return a;if(t.buildPath&&z.isPointInPath)return r(t,z,e,i,n);switch(s){case"ellipse":return!0;case"trochoid":var h="out"==e.location?e.r1+e.r2+e.d:e.r1-e.r2+e.d;return p(e,i,n,h);case"rose":return p(e,i,n,e.maxr);default:return!1}}function o(t,e,i,o){var r=t.type;switch(r){case"bezier-curve":return"undefined"==typeof e.cpX2?h(e.xStart,e.yStart,e.cpX1,e.cpY1,e.xEnd,e.yEnd,e.lineWidth,i,o):a(e.xStart,e.yStart,e.cpX1,e.cpY1,e.cpX2,e.cpY2,e.xEnd,e.yEnd,e.lineWidth,i,o);case"line":return s(e.xStart,e.yStart,e.xEnd,e.yEnd,e.lineWidth,i,o);case"polyline":return c(e.pointList,e.lineWidth,i,o);case"ring":return d(e.x,e.y,e.r0,e.r,i,o);case"circle":return p(e.x,e.y,e.r,i,o);case"sector":var n=e.startAngle*Math.PI/180,l=e.endAngle*Math.PI/180;return e.clockWise||(n=-n,l=-l),f(e.x,e.y,e.r0,e.r,n,l,!e.clockWise,i,o);case"path":return e.pathArray&&b(e.pathArray,Math.max(e.lineWidth,5),e.brushType,i,o);case"polygon":case"star":case"isogon":return g(e.pointList,i,o);case"text":var m=e.__rect||t.getRect(e);return u(m.x,m.y,m.width,m.height,i,o);case"rectangle":case"image":return u(e.x,e.y,e.width,e.height,i,o)}}function r(t,e,i,o,r){return e.beginPath(),t.buildPath(e,i),e.closePath(),e.isPointInPath(o,r)}function n(t,e,o,r){return!i(t,e,o,r)}function s(t,e,i,o,r,n,s){if(0===r)return!1;var a=Math.max(r,5),h=0,l=t;if(s>e+a&&s>o+a||e-a>s&&o-a>s||n>t+a&&n>i+a||t-a>n&&i-a>n)return!1;if(t===i)return Math.abs(n-t)<=a/2;h=(e-o)/(t-i),l=(t*o-i*e)/(t-i);var c=h*n-s+l,d=c*c/(h*h+1);return a/2*a/2>=d}function a(t,e,i,o,r,n,s,a,h,l,c){if(0===h)return!1;var d=Math.max(h,5);if(c>e+d&&c>o+d&&c>n+d&&c>a+d||e-d>c&&o-d>c&&n-d>c&&a-d>c||l>t+d&&l>i+d&&l>r+d&&l>s+d||t-d>l&&i-d>l&&r-d>l&&s-d>l)return!1;var u=E.cubicProjectPoint(t,e,i,o,r,n,s,a,l,c,null);return d/2>=u}function h(t,e,i,o,r,n,s,a,h){if(0===s)return!1;var l=Math.max(s,5);if(h>e+l&&h>o+l&&h>n+l||e-l>h&&o-l>h&&n-l>h||a>t+l&&a>i+l&&a>r+l||t-l>a&&i-l>a&&r-l>a)return!1;var c=E.quadraticProjectPoint(t,e,i,o,r,n,a,h,null);return l/2>=c}function l(t,i,o,r,n,s,a,h,l){if(0===a)return!1;var c=Math.max(a,5);h-=t,l-=i;var d=Math.sqrt(h*h+l*l);if(d-c>o||o>d+c)return!1;if(Math.abs(r-n)>=I)return!0;if(s){var u=r;r=e(n),n=e(u)}else r=e(r),n=e(n);r>n&&(n+=I);var p=Math.atan2(l,h);return 0>p&&(p+=I),p>=r&&n>=p||p+I>=r&&n>=p+I}function c(t,e,i,o){for(var e=Math.max(e,10),r=0,n=t.length-1;n>r;r++){var a=t[r][0],h=t[r][1],l=t[r+1][0],c=t[r+1][1];if(s(a,h,l,c,e,i,o))return!0}return!1}function d(t,e,i,o,r,n){var s=(r-t)*(r-t)+(n-e)*(n-e);return o*o>s&&s>i*i}function u(t,e,i,o,r,n){return r>=t&&t+i>=r&&n>=e&&e+o>=n}function p(t,e,i,o,r){return i*i>(o-t)*(o-t)+(r-e)*(r-e)}function f(t,e,i,o,r,n,s,a,h){return l(t,e,(i+o)/2,r,n,s,o-i,a,h)}function g(t,e,i){for(var o=t.length,r=0,n=0,s=o-1;o>n;n++){var a=t[s][0],h=t[s][1],l=t[n][0],c=t[n][1];r+=m(a,h,l,c,e,i),s=n}return 0!==r}function m(t,e,i,o,r,n){if(n>e&&n>o||e>n&&o>n)return 0;if(o==e)return 0;var s=e>o?1:-1,a=(n-e)/(o-e),h=a*(i-t)+t;return h>r?s:0}function _(){var t=O[0];O[0]=O[1],O[1]=t}function y(t,e,i,o,r,n,s,a,h,l){if(l>e&&l>o&&l>n&&l>a||e>l&&o>l&&n>l&&a>l)return 0;var c=E.cubicRootAt(e,o,n,a,l,P);if(0===c)return 0;for(var d,u,p=0,f=-1,g=0;c>g;g++){var m=P[g],y=E.cubicAt(t,i,r,s,m);h>y||(0>f&&(f=E.cubicExtrema(e,o,n,a,O),O[1]<O[0]&&f>1&&_(),d=E.cubicAt(e,o,n,a,O[0]),f>1&&(u=E.cubicAt(e,o,n,a,O[1]))),p+=2==f?m<O[0]?e>d?1:-1:m<O[1]?d>u?1:-1:u>a?1:-1:m<O[0]?e>d?1:-1:d>a?1:-1)}return p}function v(t,e,i,o,r,n,s,a){if(a>e&&a>o&&a>n||e>a&&o>a&&n>a)return 0;var h=E.quadraticRootAt(e,o,n,a,P);if(0===h)return 0;var l=E.quadraticExtremum(e,o,n);if(l>=0&&1>=l){for(var c=0,d=E.quadraticAt(e,o,n,l),u=0;h>u;u++){var p=E.quadraticAt(t,i,r,P[u]);s>p||(c+=P[u]<l?e>d?1:-1:d>n?1:-1)}return c}var p=E.quadraticAt(t,i,r,P[0]);return s>p?0:e>n?1:-1}function x(t,i,o,r,n,s,a,h){if(h-=i,h>o||-o>h)return 0;var l=Math.sqrt(o*o-h*h);if(P[0]=-l,P[1]=l,Math.abs(r-n)>=I){r=0,n=I;var c=s?1:-1;return a>=P[0]+t&&a<=P[1]+t?c:0}if(s){var l=r;r=e(n),n=e(l)}else r=e(r),n=e(n);r>n&&(n+=I);for(var d=0,u=0;2>u;u++){var p=P[u];if(p+t>a){var f=Math.atan2(h,p),c=s?1:-1;0>f&&(f=I+f),(f>=r&&n>=f||f+I>=r&&n>=f+I)&&(f>Math.PI/2&&f<1.5*Math.PI&&(c=-c),d+=c)}}return d}function b(t,e,i,o,r){var n=0,c=0,d=0,u=0,p=0,f=!0,g=!0;i=i||"fill";for(var _="stroke"===i||"both"===i,b="fill"===i||"both"===i,T=0;T<t.length;T++){var S=t[T],z=S.points;if(f||"M"===S.command){if(T>0&&(b&&(n+=m(c,d,u,p,o,r)),0!==n))return!0;u=z[z.length-2],p=z[z.length-1],f=!1,g&&"A"!==S.command&&(g=!1,c=u,d=p)}switch(S.command){case"M":c=z[0],d=z[1];break;case"L":if(_&&s(c,d,z[0],z[1],e,o,r))return!0;b&&(n+=m(c,d,z[0],z[1],o,r)),c=z[0],d=z[1];break;case"C":if(_&&a(c,d,z[0],z[1],z[2],z[3],z[4],z[5],e,o,r))return!0;b&&(n+=y(c,d,z[0],z[1],z[2],z[3],z[4],z[5],o,r)),c=z[4],d=z[5];break;case"Q":if(_&&h(c,d,z[0],z[1],z[2],z[3],e,o,r))return!0;b&&(n+=v(c,d,z[0],z[1],z[2],z[3],o,r)),c=z[2],d=z[3];break;case"A":var C=z[0],E=z[1],w=z[2],L=z[3],A=z[4],M=z[5],k=Math.cos(A)*w+C,I=Math.sin(A)*L+E;g?(g=!1,u=k,p=I):n+=m(c,d,k,I);var P=(o-C)*L/w+C;if(_&&l(C,E,L,A,A+M,1-z[7],e,P,r))return!0;b&&(n+=x(C,E,L,A,A+M,1-z[7],P,r)),c=Math.cos(A+M)*w+C,d=Math.sin(A+M)*L+E;break;case"z":if(_&&s(c,d,u,p,e,o,r))return!0;f=!0}}return b&&(n+=m(c,d,u,p,o,r)),0!==n}function T(t,e){var i=t+":"+e;if(w[i])return w[i];z=z||C.getContext(),z.save(),e&&(z.font=e),t=(t+"").split("\n");for(var o=0,r=0,n=t.length;n>r;r++)o=Math.max(z.measureText(t[r]).width,o);return z.restore(),w[i]=o,++A>k&&(A=0,w={}),o}function S(t,e){var i=t+":"+e;if(L[i])return L[i];z=z||C.getContext(),z.save(),e&&(z.font=e),t=(t+"").split("\n");var o=(z.measureText("国").width+2)*t.length;return z.restore(),L[i]=o,++M>k&&(M=0,L={}),o}var z,C=t("./util"),E=t("./curve"),w={},L={},A=0,M=0,k=5e3,I=2*Math.PI,P=[-1,-1,-1],O=[-1,-1];return{isInside:i,isOutside:n,getTextWidth:T,getTextHeight:S,isInsidePath:b,isInsidePolygon:g,isInsideSector:f,isInsideCircle:p,isInsideLine:s,isInsideRect:u,isInsidePolyline:c,isInsideCubicStroke:a,isInsideQuadraticStroke:h}}),i("zrender/mixin/Eventful",["require"],function(){var t=function(){this._handlers={}};return t.prototype.one=function(t,e,i){var o=this._handlers;return e&&t?(o[t]||(o[t]=[]),o[t].push({h:e,one:!0,ctx:i||this}),this):this},t.prototype.bind=function(t,e,i){var o=this._handlers;return e&&t?(o[t]||(o[t]=[]),o[t].push({h:e,one:!1,ctx:i||this}),this):this},t.prototype.unbind=function(t,e){var i=this._handlers;if(!t)return this._handlers={},this;if(e){if(i[t]){for(var o=[],r=0,n=i[t].length;n>r;r++)i[t][r].h!=e&&o.push(i[t][r]);i[t]=o}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},t.prototype.dispatch=function(t){if(this._handlers[t]){var e=arguments,i=e.length;i>3&&(e=Array.prototype.slice.call(e,1));for(var o=this._handlers[t],r=o.length,n=0;r>n;){switch(i){case 1:o[n].h.call(o[n].ctx);break;case 2:o[n].h.call(o[n].ctx,e[1]);break;case 3:o[n].h.call(o[n].ctx,e[1],e[2]);break;default:o[n].h.apply(o[n].ctx,e)}o[n].one?(o.splice(n,1),r--):n++}}return this},t.prototype.dispatchWithContext=function(t){if(this._handlers[t]){var e=arguments,i=e.length;i>4&&(e=Array.prototype.slice.call(e,1,e.length-1));for(var o=e[e.length-1],r=this._handlers[t],n=r.length,s=0;n>s;){switch(i){case 1:r[s].h.call(o);break;case 2:r[s].h.call(o,e[1]);break;case 3:r[s].h.call(o,e[1],e[2]);break;default:r[s].h.apply(o,e)}r[s].one?(r.splice(s,1),n--):s++}}return this},t}),i("zrender/tool/matrix",[],function(){var t="undefined"==typeof Float32Array?Array:Float32Array,e={create:function(){var i=new t(6);return e.identity(i),i},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,i){return t[0]=e[0]*i[0]+e[2]*i[1],t[1]=e[1]*i[0]+e[3]*i[1],t[2]=e[0]*i[2]+e[2]*i[3],t[3]=e[1]*i[2]+e[3]*i[3],t[4]=e[0]*i[4]+e[2]*i[5]+e[4],t[5]=e[1]*i[4]+e[3]*i[5]+e[5],t},translate:function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},rotate:function(t,e,i){var o=e[0],r=e[2],n=e[4],s=e[1],a=e[3],h=e[5],l=Math.sin(i),c=Math.cos(i);return t[0]=o*c+s*l,t[1]=-o*l+s*c,t[2]=r*c+a*l,t[3]=-r*l+c*a,t[4]=c*n+l*h,t[5]=c*h-l*n,t},scale:function(t,e,i){var o=i[0],r=i[1];return t[0]=e[0]*o,t[1]=e[1]*r,t[2]=e[2]*o,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*r,t},invert:function(t,e){var i=e[0],o=e[2],r=e[4],n=e[1],s=e[3],a=e[5],h=i*s-n*o;return h?(h=1/h,t[0]=s*h,t[1]=-n*h,t[2]=-o*h,t[3]=i*h,t[4]=(o*a-s*r)*h,t[5]=(n*r-i*a)*h,t):null}};return e}),i("zrender/tool/log",["require","../config"],function(t){var e=t("../config");return function(){if(0!==e.debugMode)if(1==e.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(e.debugMode>1)for(var t in arguments)console.log(arguments[t])}}),i("zrender/tool/guid",[],function(){var t=2311;return function(){return"zrender__"+t++}}),i("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(t){"use strict";function e(t){return t>-a&&a>t}function i(t){return t>a||-a>t}var o=t("../tool/matrix"),r=t("../tool/vector"),n=[0,0],s=o.translate,a=5e-5,h=function(){this.position||(this.position=[0,0]),"undefined"==typeof this.rotation&&(this.rotation=[0,0,0]),this.scale||(this.scale=[1,1,0,0]),this.needLocalTransform=!1,this.needTransform=!1};return h.prototype={constructor:h,updateNeedTransform:function(){this.needLocalTransform=i(this.rotation[0])||i(this.position[0])||i(this.position[1])||i(this.scale[0]-1)||i(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();var t=this.parent&&this.parent.needTransform;if(this.needTransform=this.needLocalTransform||t,this.needTransform){var e=this.transform||o.create();if(o.identity(e),this.needLocalTransform){var r=this.scale;if(i(r[0])||i(r[1])){n[0]=-r[2]||0,n[1]=-r[3]||0;var a=i(n[0])||i(n[1]);a&&s(e,e,n),o.scale(e,e,r),a&&(n[0]=-n[0],n[1]=-n[1],s(e,e,n))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){n[0]=-this.rotation[1]||0,n[1]=-this.rotation[2]||0;var a=i(n[0])||i(n[1]);a&&s(e,e,n),o.rotate(e,e,this.rotation[0]),a&&(n[0]=-n[0],n[1]=-n[1],s(e,e,n))}}else 0!==this.rotation&&o.rotate(e,e,this.rotation);(i(this.position[0])||i(this.position[1]))&&s(e,e,this.position)}t&&(this.needLocalTransform?o.mul(e,this.parent.transform,e):o.copy(e,this.parent.transform)),this.transform=e,this.invTransform=this.invTransform||o.create(),o.invert(this.invTransform,e)}},setTransform:function(t){if(this.needTransform){var e=this.transform;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},lookAt:function(){var t=r.create();return function(i){this.transform||(this.transform=o.create());var n=this.transform;if(r.sub(t,i,this.position),!e(t[0])||!e(t[1])){r.normalize(t,t);var s=this.scale;n[2]=t[0]*s[1],n[3]=t[1]*s[1],n[0]=t[1]*s[0],n[1]=-t[0]*s[0],n[4]=this.position[0],n[5]=this.position[1],this.decomposeTransform()}}}(),decomposeTransform:function(){if(this.transform){var t=this.transform,e=t[0]*t[0]+t[1]*t[1],o=this.position,r=this.scale,n=this.rotation;i(e-1)&&(e=Math.sqrt(e));var s=t[2]*t[2]+t[3]*t[3];i(s-1)&&(s=Math.sqrt(s)),o[0]=t[4],o[1]=t[5],r[0]=e,r[1]=s,r[2]=r[3]=0,n[0]=Math.atan2(-t[1]/s,t[0]/e),n[1]=n[2]=0}},transformCoordToLocal:function(t,e){var i=[t,e];return this.needTransform&&this.invTransform&&r.applyTransform(i,i,this.invTransform),i}},h}),i("zrender/Storage",["require","./tool/util","./Group"],function(t){"use strict";function e(t,e){return t.zlevel==e.zlevel?t.z==e.z?t.__renderidx-e.__renderidx:t.z-e.z:t.zlevel-e.zlevel}var i=t("./tool/util"),o=t("./Group"),r={hover:!1,normal:"down",update:!1},n=function(){this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0};return n.prototype.iterShape=function(t,e){if(e||(e=r),e.hover)for(var i=0,o=this._hoverElements.length;o>i;i++){var n=this._hoverElements[i];if(n.updateTransform(),t(n))return this}switch(e.update&&this.updateShapeList(),e.normal){case"down":for(var o=this._shapeList.length;o--;)if(t(this._shapeList[o]))return this;break;default:for(var i=0,o=this._shapeList.length;o>i;i++)if(t(this._shapeList[i]))return this}return this},n.prototype.getHoverShapes=function(t){for(var i=[],o=0,r=this._hoverElements.length;r>o;o++){i.push(this._hoverElements[o]);var n=this._hoverElements[o].hoverConnect;if(n){var s;n=n instanceof Array?n:[n];for(var a=0,h=n.length;h>a;a++)s=n[a].id?n[a]:this.get(n[a]),s&&i.push(s)}}if(i.sort(e),t)for(var o=0,r=i.length;r>o;o++)i[o].updateTransform();return i},n.prototype.getShapeList=function(t){return t&&this.updateShapeList(),this._shapeList},n.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var t=0,i=this._roots.length;i>t;t++){var o=this._roots[t];this._updateAndAddShape(o)}this._shapeList.length=this._shapeListOffset;for(var t=0,i=this._shapeList.length;i>t;t++)this._shapeList[t].__renderidx=t;this._shapeList.sort(e)},n.prototype._updateAndAddShape=function(t,e){if(!t.ignore)if(t.updateTransform(),t.clipShape&&(t.clipShape.parent=t,t.clipShape.updateTransform(),e?(e=e.slice(),e.push(t.clipShape)):e=[t.clipShape]),"group"==t.type){for(var i=0;i<t._children.length;i++){var o=t._children[i];o.__dirty=t.__dirty||o.__dirty,this._updateAndAddShape(o,e)}t.__dirty=!1}else t.__clipShapes=e,this._shapeList[this._shapeListOffset++]=t},n.prototype.mod=function(t,e){if("string"==typeof t&&(t=this._elements[t]),t&&(t.modSelf(),e))if(e.parent||e._storage||e.__clipShapes){var o={};for(var r in e)"parent"!==r&&"_storage"!==r&&"__clipShapes"!==r&&e.hasOwnProperty(r)&&(o[r]=e[r]);i.merge(t,o,!0)}else i.merge(t,e,!0);return this},n.prototype.drift=function(t,e,i){var o=this._elements[t];return o&&(o.needTransform=!0,"horizontal"===o.draggable?i=0:"vertical"===o.draggable&&(e=0),(!o.ondrift||o.ondrift&&!o.ondrift(e,i))&&o.drift(e,i)),this},n.prototype.addHover=function(t){return t.updateNeedTransform(),this._hoverElements.push(t),this},n.prototype.delHover=function(){return this._hoverElements=[],this},n.prototype.hasHoverShape=function(){return this._hoverElements.length>0},n.prototype.addRoot=function(t){this._elements[t.id]||(t instanceof o&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},n.prototype.delRoot=function(t){if("undefined"==typeof t){for(var e=0;e<this._roots.length;e++){var r=this._roots[e];r instanceof o&&r.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],void(this._shapeListOffset=0)}if(t instanceof Array)for(var e=0,n=t.length;n>e;e++)this.delRoot(t[e]);else{var s;s="string"==typeof t?this._elements[t]:t;var a=i.indexOf(this._roots,s);a>=0&&(this.delFromMap(s.id),this._roots.splice(a,1),s instanceof o&&s.delChildrenFromStorage(this))}},n.prototype.addToMap=function(t){return t instanceof o&&(t._storage=this),t.modSelf(),this._elements[t.id]=t,this},n.prototype.get=function(t){return this._elements[t]},n.prototype.delFromMap=function(t){var e=this._elements[t];return e&&(delete this._elements[t],e instanceof o&&(e._storage=null)),this},n.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null},n}),i("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(t){"use strict";function e(t,e){return t[e]}function i(t,e,i){t[e]=i}function o(t,e,i){return(e-t)*i+t}function r(t,e,i,r,n){var s=t.length;if(1==n)for(var a=0;s>a;a++)r[a]=o(t[a],e[a],i);else for(var h=t[0].length,a=0;s>a;a++)for(var l=0;h>l;l++)r[a][l]=o(t[a][l],e[a][l],i)}function n(t){switch(typeof t){case"undefined":case"string":return!1}return"undefined"!=typeof t.length}function s(t,e,i,o,r,n,s,h,l){var c=t.length;if(1==l)for(var d=0;c>d;d++)h[d]=a(t[d],e[d],i[d],o[d],r,n,s);else for(var u=t[0].length,d=0;c>d;d++)for(var p=0;u>p;p++)h[d][p]=a(t[d][p],e[d][p],i[d][p],o[d][p],r,n,s)}function a(t,e,i,o,r,n,s){var a=.5*(i-t),h=.5*(o-e);return(2*(e-i)+a+h)*s+(-3*(e-i)-2*a-h)*n+a*r+e}function h(t){if(n(t)){var e=t.length;if(n(t[0])){for(var i=[],o=0;e>o;o++)i.push(g.call(t[o]));return i}return g.call(t)}return t}function l(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}var c=t("./Clip"),d=t("../tool/color"),u=t("../tool/util"),p=t("../tool/event").Dispatcher,f=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},g=Array.prototype.slice,m=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time=0,p.call(this)};m.prototype={add:function(t){this._clips.push(t)},remove:function(t){if(t.__inStep)t.__needsRemove=!0;else{var e=u.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)}},_update:function(){for(var t=(new Date).getTime(),e=t-this._time,i=this._clips,o=i.length,r=[],n=[],s=0;o>s;s++){var a=i[s];a.__inStep=!0;var h=a.step(t);a.__inStep=!1,h&&(r.push(h),n.push(a))}for(var s=0;o>s;)i[s].__needsRemove?(i[s]=i[o-1],i.pop(),o--):s++;o=r.length;for(var s=0;o>s;s++)n[s].fire(r[s]);this._time=t,this.onframe(e),this.dispatch("frame",e),this.stage.update&&this.stage.update()},start:function(){function t(){e._running&&(f(t),e._update())}var e=this;this._running=!0,this._time=(new Date).getTime(),f(t)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(t,e){e=e||{};var i=new _(t,e.loop,e.getter,e.setter);return i.animation=this,i},constructor:m},u.merge(m.prototype,p.prototype,!0);var _=function(t,o,r,n){this._tracks={},this._target=t,this._loop=o||!1,this._getter=r||e,this._setter=n||i,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return _.prototype={when:function(t,e){for(var i in e)this._tracks[i]||(this._tracks[i]=[],0!==t&&this._tracks[i].push({time:0,value:h(this._getter(this._target,i))})),this._tracks[i].push({time:parseInt(t,10),value:e[i]});return this},during:function(t){return this._onframeList.push(t),this},start:function(t){var e=this,i=this._setter,h=this._getter,u="spline"===t,p=function(){if(e._clipCount--,0===e._clipCount){e._tracks={};for(var t=e._doneList.length,i=0;t>i;i++)e._doneList[i].call(e)}},f=function(f,g){var m=f.length;if(m){var _=f[0].value,y=n(_),v=!1,x=y&&n(_[0])?2:1;f.sort(function(t,e){return t.time-e.time});var b;if(m){b=f[m-1].time;for(var T=[],S=[],z=0;m>z;z++){T.push(f[z].time/b);var C=f[z].value;"string"==typeof C&&(C=d.toArray(C),0===C.length&&(C[0]=C[1]=C[2]=0,C[3]=1),v=!0),S.push(C)
}var E,z,w,L,A,M,k,I=0,P=0;if(v)var O=[0,0,0,0];var D=function(t,n){if(P>n){for(E=Math.min(I+1,m-1),z=E;z>=0&&!(T[z]<=n);z--);z=Math.min(z,m-2)}else{for(z=I;m>z&&!(T[z]>n);z++);z=Math.min(z-1,m-2)}I=z,P=n;var c=T[z+1]-T[z];if(0!==c){if(w=(n-T[z])/c,u)if(A=S[z],L=S[0===z?z:z-1],M=S[z>m-2?m-1:z+1],k=S[z>m-3?m-1:z+2],y)s(L,A,M,k,w,w*w,w*w*w,h(t,g),x);else{var d;v?(d=s(L,A,M,k,w,w*w,w*w*w,O,1),d=l(O)):d=a(L,A,M,k,w,w*w,w*w*w),i(t,g,d)}else if(y)r(S[z],S[z+1],w,h(t,g),x);else{var d;v?(r(S[z],S[z+1],w,O,1),d=l(O)):d=o(S[z],S[z+1],w),i(t,g,d)}for(z=0;z<e._onframeList.length;z++)e._onframeList[z](t,n)}},R=new c({target:e._target,life:b,loop:e._loop,delay:e._delay,onframe:D,ondestroy:p});t&&"spline"!==t&&(R.easing=t),e._clipList.push(R),e._clipCount++,e.animation.add(R)}}};for(var g in this._tracks)f(this._tracks[g],g);return this},stop:function(){for(var t=0;t<this._clipList.length;t++){var e=this._clipList[t];this.animation.remove(e)}this._clipList=[]},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this}},m}),i("zrender/Painter",["require","./config","./tool/util","./tool/log","./loadingEffect/Base","./Layer","./shape/Image"],function(t){"use strict";function e(){return!1}function i(){}function o(t){return t?t.isBuildin?!0:"function"!=typeof t.resize||"function"!=typeof t.refresh?!1:!0:!1}var r=t("./config"),n=t("./tool/util"),s=t("./tool/log"),a=t("./loadingEffect/Base"),h=t("./Layer"),l=function(t,i){this.root=t,t.style["-webkit-tap-highlight-color"]="transparent",t.style["-webkit-user-select"]="none",t.style["user-select"]="none",t.style["-webkit-touch-callout"]="none",this.storage=i,t.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var o=document.createElement("div");this._domRoot=o,o.style.position="relative",o.style.overflow="hidden",o.style.width=this._width+"px",o.style.height=this._height+"px",t.appendChild(o),this._layers={},this._zlevelList=[],this._layerConfig={},this._loadingEffect=new a({}),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=document.createElement("div"),this._bgDom.style.cssText=["position:absolute;left:0px;top:0px;width:",this._width,"px;height:",this._height+"px;","-webkit-user-select:none;user-select;none;","-webkit-touch-callout:none;"].join(""),this._bgDom.setAttribute("data-zr-dom-id","bg"),this._bgDom.className=r.elementClassName,o.appendChild(this._bgDom),this._bgDom.onselectstart=e;var n=new h("_zrender_hover_",this);this._layers.hover=n,o.appendChild(n.dom),n.initContext(),n.dom.onselectstart=e,n.dom.style["-webkit-user-select"]="none",n.dom.style["user-select"]="none",n.dom.style["-webkit-touch-callout"]="none",this.refreshNextFrame=null};return l.prototype.render=function(t){return this.isLoading()&&this.hideLoading(),this.refresh(t,!0),this},l.prototype.refresh=function(t,e){var i=this.storage.getShapeList(!0);this._paintList(i,e);for(var o=0;o<this._zlevelList.length;o++){var r=this._zlevelList[o],n=this._layers[r];!n.isBuildin&&n.refresh&&n.refresh()}return"function"==typeof t&&t(),this},l.prototype._preProcessLayer=function(t){t.unusedCount++,t.updateTransform()},l.prototype._postProcessLayer=function(t){t.dirty=!1,1==t.unusedCount&&t.clear()},l.prototype._paintList=function(t,e){"undefined"==typeof e&&(e=!1),this._updateLayerStatus(t);var i,o,n;this.eachBuildinLayer(this._preProcessLayer);for(var a=0,h=t.length;h>a;a++){var l=t[a];if(o!==l.zlevel&&(i&&(i.needTransform&&n.restore(),n.flush&&n.flush()),o=l.zlevel,i=this.getLayer(o),i.isBuildin||s("ZLevel "+o+" has been used by unkown layer "+i.id),n=i.ctx,i.unusedCount=0,(i.dirty||e)&&i.clear(),i.needTransform&&(n.save(),i.setTransform(n))),(i.dirty||e)&&!l.invisible&&(!l.onbrush||l.onbrush&&!l.onbrush(n,!1)))if(r.catchBrushException)try{l.brush(n,!1,this.refreshNextFrame)}catch(c){s(c,"brush error of "+l.type,l)}else l.brush(n,!1,this.refreshNextFrame);l.__dirty=!1}i&&(i.needTransform&&n.restore(),n.flush&&n.flush()),this.eachBuildinLayer(this._postProcessLayer)},l.prototype.getLayer=function(t){var e=this._layers[t];return e||(e=new h(t,this),e.isBuildin=!0,this._layerConfig[t]&&n.merge(e,this._layerConfig[t],!0),e.updateTransform(),this.insertLayer(t,e),e.initContext()),e},l.prototype.insertLayer=function(t,e){if(this._layers[t])return void s("ZLevel "+t+" has been used already");if(!o(e))return void s("Layer of zlevel "+t+" is not valid");var i=this._zlevelList.length,r=null,n=-1;if(i>0&&t>this._zlevelList[0]){for(n=0;i-1>n&&!(this._zlevelList[n]<t&&this._zlevelList[n+1]>t);n++);r=this._layers[this._zlevelList[n]]}this._zlevelList.splice(n+1,0,t);var a=r?r.dom:this._bgDom;a.nextSibling?a.parentNode.insertBefore(e.dom,a.nextSibling):a.parentNode.appendChild(e.dom),this._layers[t]=e},l.prototype.eachLayer=function(t,e){for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];t.call(e,this._layers[o],o)}},l.prototype.eachBuildinLayer=function(t,e){for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i],r=this._layers[o];r.isBuildin&&t.call(e,r,o)}},l.prototype.eachOtherLayer=function(t,e){for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i],r=this._layers[o];r.isBuildin||t.call(e,r,o)}},l.prototype.getLayers=function(){return this._layers},l.prototype._updateLayerStatus=function(t){var e=this._layers,i={};this.eachBuildinLayer(function(t,e){i[e]=t.elCount,t.elCount=0});for(var o=0,r=t.length;r>o;o++){var n=t[o],s=n.zlevel,a=e[s];if(a){if(a.elCount++,a.dirty)continue;a.dirty=n.__dirty}}this.eachBuildinLayer(function(t,e){i[e]!==t.elCount&&(t.dirty=!0)})},l.prototype.refreshShapes=function(t,e){for(var i=0,o=t.length;o>i;i++){var r=t[i];r.modSelf()}return this.refresh(e),this},l.prototype.setLoadingEffect=function(t){return this._loadingEffect=t,this},l.prototype.clear=function(){return this.eachBuildinLayer(this._clearLayer),this},l.prototype._clearLayer=function(t){t.clear()},l.prototype.modLayer=function(t,e){if(e){this._layerConfig[t]?n.merge(this._layerConfig[t],e,!0):this._layerConfig[t]=e;var i=this._layers[t];i&&n.merge(i,this._layerConfig[t],!0)}},l.prototype.delLayer=function(t){var e=this._layers[t];e&&(this.modLayer(t,{position:e.position,rotation:e.rotation,scale:e.scale}),e.dom.parentNode.removeChild(e.dom),delete this._layers[t],this._zlevelList.splice(n.indexOf(this._zlevelList,t),1))},l.prototype.refreshHover=function(){this.clearHover();for(var t=this.storage.getHoverShapes(!0),e=0,i=t.length;i>e;e++)this._brushHover(t[e]);var o=this._layers.hover.ctx;return o.flush&&o.flush(),this.storage.delHover(),this},l.prototype.clearHover=function(){var t=this._layers.hover;return t&&t.clear(),this},l.prototype.showLoading=function(t){return this._loadingEffect&&this._loadingEffect.stop(),t&&this.setLoadingEffect(t),this._loadingEffect.start(this),this.loading=!0,this},l.prototype.hideLoading=function(){return this._loadingEffect.stop(),this.clearHover(),this.loading=!1,this},l.prototype.isLoading=function(){return this.loading},l.prototype.resize=function(){var t=this._domRoot;t.style.display="none";var e=this._getWidth(),i=this._getHeight();if(t.style.display="",this._width!=e||i!=this._height){this._width=e,this._height=i,t.style.width=e+"px",t.style.height=i+"px";for(var o in this._layers)this._layers[o].resize(e,i);this.refresh(null,!0)}return this},l.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},l.prototype.dispose=function(){this.isLoading()&&this.hideLoading(),this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},l.prototype.getDomHover=function(){return this._layers.hover.dom},l.prototype.toDataURL=function(t,e,i){if(window.G_vmlCanvasManager)return null;var o=new h("image",this);this._bgDom.appendChild(o.dom),o.initContext();var n=o.ctx;o.clearColor=e||"#fff",o.clear();var a=this;this.storage.iterShape(function(t){if(!t.invisible&&(!t.onbrush||t.onbrush&&!t.onbrush(n,!1)))if(r.catchBrushException)try{t.brush(n,!1,a.refreshNextFrame)}catch(e){s(e,"brush error of "+t.type,t)}else t.brush(n,!1,a.refreshNextFrame)},{normal:"up",update:!0});var l=o.dom.toDataURL(t,i);return n=null,this._bgDom.removeChild(o.dom),l},l.prototype.getWidth=function(){return this._width},l.prototype.getHeight=function(){return this._height},l.prototype._getWidth=function(){var t=this.root,e=t.currentStyle||document.defaultView.getComputedStyle(t);return((t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10)).toFixed(0)-0},l.prototype._getHeight=function(){var t=this.root,e=t.currentStyle||document.defaultView.getComputedStyle(t);return((t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)).toFixed(0)-0},l.prototype._brushHover=function(t){var e=this._layers.hover.ctx;if(!t.onbrush||t.onbrush&&!t.onbrush(e,!0)){var i=this.getLayer(t.zlevel);if(i.needTransform&&(e.save(),i.setTransform(e)),r.catchBrushException)try{t.brush(e,!0,this.refreshNextFrame)}catch(o){s(o,"hoverBrush error of "+t.type,t)}else t.brush(e,!0,this.refreshNextFrame);i.needTransform&&e.restore()}},l.prototype._shapeToImage=function(e,i,o,r,n){var s=document.createElement("canvas"),a=s.getContext("2d");s.style.width=o+"px",s.style.height=r+"px",s.setAttribute("width",o*n),s.setAttribute("height",r*n),a.clearRect(0,0,o*n,r*n);var h={position:i.position,rotation:i.rotation,scale:i.scale};i.position=[0,0,0],i.rotation=0,i.scale=[1,1],i&&i.brush(a,!1);var l=t("./shape/Image"),c=new l({id:e,style:{x:0,y:0,image:s}});return null!=h.position&&(c.position=i.position=h.position),null!=h.rotation&&(c.rotation=i.rotation=h.rotation),null!=h.scale&&(c.scale=i.scale=h.scale),c},l.prototype._createShapeToImageProcessor=function(){if(window.G_vmlCanvasManager)return i;var t=this;return function(e,i,o,n){return t._shapeToImage(e,i,o,n,r.devicePixelRatio)}},l}),i("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(t){"use strict";function e(t,e){return function(i,o){return t.call(e,i,o)}}function i(t,e){return function(i,o,r){return t.call(e,i,o,r)}}function o(t){for(var i=p.length;i--;){var o=p[i];t["_"+o+"Handler"]=e(g[o],t)}}function r(t,e,i){if(this._draggingTarget&&this._draggingTarget.id==t.id||t.isSilent())return!1;var o=this._event;if(t.isCover(e,i)){t.hoverable&&this.storage.addHover(t);for(var r=t.parent;r;){if(r.clipShape&&!r.clipShape.isCover(this._mouseX,this._mouseY))return!1;r=r.parent}return this._lastHover!=t&&(this._processOutShape(o),this._processDragLeave(o),this._lastHover=t,this._processDragEnter(o)),this._processOverShape(o),this._processDragOver(o),this._hasfound=1,!0}return!1}var n=t("./config"),s=t("./tool/env"),a=t("./tool/event"),h=t("./tool/util"),l=t("./tool/vector"),c=t("./tool/matrix"),d=n.EVENT,u=t("./mixin/Eventful"),p=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],f=function(t){if(window.G_vmlCanvasManager)return!0;t=t||window.event;var e=t.toElement||t.relatedTarget||t.srcElement||t.target;return e&&e.className.match(n.elementClassName)},g={resize:function(t){t=t||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(d.RESIZE,t)},click:function(t,e){if(f(t)||e){t=this._zrenderEventFixed(t);var i=this._lastHover;(i&&i.clickable||!i)&&this._clickThreshold<5&&this._dispatchAgency(i,d.CLICK,t),this._mousemoveHandler(t)}},dblclick:function(t,e){if(f(t)||e){t=t||window.event,t=this._zrenderEventFixed(t);var i=this._lastHover;(i&&i.clickable||!i)&&this._clickThreshold<5&&this._dispatchAgency(i,d.DBLCLICK,t),this._mousemoveHandler(t)}},mousewheel:function(t,e){if(f(t)||e){t=this._zrenderEventFixed(t);var i=t.wheelDelta||-t.detail,o=i>0?1.1:1/1.1,r=!1,n=this._mouseX,s=this._mouseY;this.painter.eachBuildinLayer(function(e){var i=e.position;if(e.zoomable){e.__zoom=e.__zoom||1;var h=e.__zoom;h*=o,h=Math.max(Math.min(e.maxZoom,h),e.minZoom),o=h/e.__zoom,e.__zoom=h,i[0]-=(n-i[0])*(o-1),i[1]-=(s-i[1])*(o-1),e.scale[0]*=o,e.scale[1]*=o,e.dirty=!0,r=!0,a.stop(t)}}),r&&this.painter.refresh(),this._dispatchAgency(this._lastHover,d.MOUSEWHEEL,t),this._mousemoveHandler(t)}},mousemove:function(t,e){if((f(t)||e)&&!this.painter.isLoading()){t=this._zrenderEventFixed(t),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=a.getX(t),this._mouseY=a.getY(t);var i=this._mouseX-this._lastX,o=this._mouseY-this._lastY;this._processDragStart(t),this._hasfound=0,this._event=t,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(t),this._processDragLeave(t)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var r="default";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,i,o),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget),this._clickThreshold++;else if(this._isMouseDown){var n=!1;this.painter.eachBuildinLayer(function(t){t.panable&&(r="move",t.position[0]+=i,t.position[1]+=o,n=!0,t.dirty=!0)}),n&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?r="move":this._hasfound&&this._lastHover.clickable&&(r="pointer"),this.root.style.cursor=r,this._dispatchAgency(this._lastHover,d.MOUSEMOVE,t),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()}},mouseout:function(t,e){if(f(t)||e){t=this._zrenderEventFixed(t);var i=t.toElement||t.relatedTarget;if(i!=this.root)for(;i&&9!=i.nodeType;){if(i==this.root)return void this._mousemoveHandler(t);i=i.parentNode}t.zrenderX=this._lastX,t.zrenderY=this._lastY,this.root.style.cursor="default",this._isMouseDown=0,this._processOutShape(t),this._processDrop(t),this._processDragEnd(t),this.painter.isLoading()||this.painter.refreshHover(),this.dispatch(d.GLOBALOUT,t)}},mousedown:function(t,e){if(f(t)||e){if(this._clickThreshold=0,2==this._lastDownButton)return this._lastDownButton=t.button,void(this._mouseDownTarget=null);this._lastMouseDownMoment=new Date,t=this._zrenderEventFixed(t),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,d.MOUSEDOWN,t),this._lastDownButton=t.button}},mouseup:function(t,e){(f(t)||e)&&(t=this._zrenderEventFixed(t),this.root.style.cursor="default",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,d.MOUSEUP,t),this._processDrop(t),this._processDragEnd(t))},touchstart:function(t,e){(f(t)||e)&&(t=this._zrenderEventFixed(t,!0),this._lastTouchMoment=new Date,this._mobileFindFixed(t),this._mousedownHandler(t))},touchmove:function(t,e){(f(t)||e)&&(t=this._zrenderEventFixed(t,!0),this._mousemoveHandler(t),this._isDragging&&a.stop(t))},touchend:function(t,e){if(f(t)||e){t=this._zrenderEventFixed(t,!0),this._mouseupHandler(t);var i=new Date;i-this._lastTouchMoment<d.touchClickDelay&&(this._mobileFindFixed(t),this._clickHandler(t),i-this._lastClickMoment<d.touchClickDelay/2&&(this._dblclickHandler(t),this._lastHover&&this._lastHover.clickable&&a.stop(t)),this._lastClickMoment=i),this.painter.clearHover()}}},m=function(t,e,n){u.call(this),this.root=t,this.storage=e,this.painter=n,this._lastX=this._lastY=this._mouseX=this._mouseY=0,this._findHover=i(r,this),this._domHover=n.getDomHover(),o(this),window.addEventListener?(window.addEventListener("resize",this._resizeHandler),s.os.tablet||s.os.phone?(t.addEventListener("touchstart",this._touchstartHandler),t.addEventListener("touchmove",this._touchmoveHandler),t.addEventListener("touchend",this._touchendHandler)):(t.addEventListener("click",this._clickHandler),t.addEventListener("dblclick",this._dblclickHandler),t.addEventListener("mousewheel",this._mousewheelHandler),t.addEventListener("mousemove",this._mousemoveHandler),t.addEventListener("mousedown",this._mousedownHandler),t.addEventListener("mouseup",this._mouseupHandler)),t.addEventListener("DOMMouseScroll",this._mousewheelHandler),t.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),t.attachEvent("onclick",this._clickHandler),t.ondblclick=this._dblclickHandler,t.attachEvent("onmousewheel",this._mousewheelHandler),t.attachEvent("onmousemove",this._mousemoveHandler),t.attachEvent("onmouseout",this._mouseoutHandler),t.attachEvent("onmousedown",this._mousedownHandler),t.attachEvent("onmouseup",this._mouseupHandler))};m.prototype.on=function(t,e,i){return this.bind(t,e,i),this},m.prototype.un=function(t,e){return this.unbind(t,e),this},m.prototype.trigger=function(t,e){switch(t){case d.RESIZE:case d.CLICK:case d.DBLCLICK:case d.MOUSEWHEEL:case d.MOUSEMOVE:case d.MOUSEDOWN:case d.MOUSEUP:case d.MOUSEOUT:this["_"+t+"Handler"](e,!0)}},m.prototype.dispose=function(){var t=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),s.os.tablet||s.os.phone?(t.removeEventListener("touchstart",this._touchstartHandler),t.removeEventListener("touchmove",this._touchmoveHandler),t.removeEventListener("touchend",this._touchendHandler)):(t.removeEventListener("click",this._clickHandler),t.removeEventListener("dblclick",this._dblclickHandler),t.removeEventListener("mousewheel",this._mousewheelHandler),t.removeEventListener("mousemove",this._mousemoveHandler),t.removeEventListener("mousedown",this._mousedownHandler),t.removeEventListener("mouseup",this._mouseupHandler)),t.removeEventListener("DOMMouseScroll",this._mousewheelHandler),t.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),t.detachEvent("onclick",this._clickHandler),t.detachEvent("dblclick",this._dblclickHandler),t.detachEvent("onmousewheel",this._mousewheelHandler),t.detachEvent("onmousemove",this._mousemoveHandler),t.detachEvent("onmouseout",this._mouseoutHandler),t.detachEvent("onmousedown",this._mousedownHandler),t.detachEvent("onmouseup",this._mouseupHandler)),this.root=this._domHover=this.storage=this.painter=null,this.un()},m.prototype._processDragStart=function(t){var e=this._lastHover;if(this._isMouseDown&&e&&e.draggable&&!this._draggingTarget&&this._mouseDownTarget==e){if(e.dragEnableTime&&new Date-this._lastMouseDownMoment<e.dragEnableTime)return;var i=e;this._draggingTarget=i,this._isDragging=1,i.invisible=!0,this.storage.mod(i.id),this._dispatchAgency(i,d.DRAGSTART,t),this.painter.refresh()}},m.prototype._processDragEnter=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,d.DRAGENTER,t,this._draggingTarget)},m.prototype._processDragOver=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,d.DRAGOVER,t,this._draggingTarget)},m.prototype._processDragLeave=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,d.DRAGLEAVE,t,this._draggingTarget)},m.prototype._processDrop=function(t){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,d.DROP,t,this._draggingTarget))},m.prototype._processDragEnd=function(t){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,d.DRAGEND,t),this._lastHover=null),this._isDragging=0,this._draggingTarget=null},m.prototype._processOverShape=function(t){this._dispatchAgency(this._lastHover,d.MOUSEOVER,t)},m.prototype._processOutShape=function(t){this._dispatchAgency(this._lastHover,d.MOUSEOUT,t)},m.prototype._dispatchAgency=function(t,e,i,o){var r="on"+e,n={type:e,event:i,target:t,cancelBubble:!1},s=t;for(o&&(n.dragged=o);s&&(s[r]&&(n.cancelBubble=s[r](n)),s.dispatch(e,n),s=s.parent,!n.cancelBubble););if(t)n.cancelBubble||this.dispatch(e,n);else if(!o){var a={type:e,event:i};this.dispatch(e,a),this.painter.eachOtherLayer(function(t){"function"==typeof t[r]&&t[r](a),t.dispatch&&t.dispatch(e,a)})}},m.prototype._iterateAndFindHover=function(){var t=c.create();return function(){for(var e,i,o=this.storage.getShapeList(),r=[0,0],n=o.length-1;n>=0;n--){var s=o[n];if(e!==s.zlevel&&(i=this.painter.getLayer(s.zlevel,i),r[0]=this._mouseX,r[1]=this._mouseY,i.needTransform&&(c.invert(t,i.transform),l.applyTransform(r,r,t))),this._findHover(s,r[0],r[1]))break}}}();var _=[{x:10},{x:-20},{x:10,y:10},{y:-20}];return m.prototype._mobileFindFixed=function(t){this._lastHover=null,this._mouseX=t.zrenderX,this._mouseY=t.zrenderY,this._event=t,this._iterateAndFindHover();for(var e=0;!this._lastHover&&e<_.length;e++){var i=_[e];i.x&&(this._mouseX+=i.x),i.y&&(this._mouseY+=i.y),this._iterateAndFindHover()}this._lastHover&&(t.zrenderX=this._mouseX,t.zrenderY=this._mouseY)},m.prototype._zrenderEventFixed=function(t,e){if(t.zrenderFixed)return t;if(e){var i="touchend"!=t.type?t.targetTouches[0]:t.changedTouches[0];if(i){var o=this.painter._domRoot.getBoundingClientRect();t.zrenderX=i.clientX-o.left,t.zrenderY=i.clientY-o.top}}else{t=t||window.event;var r=t.toElement||t.relatedTarget||t.srcElement||t.target;r&&r!=this._domHover&&(t.zrenderX=("undefined"!=typeof t.offsetX?t.offsetX:t.layerX)+r.offsetLeft,t.zrenderY=("undefined"!=typeof t.offsetY?t.offsetY:t.layerY)+r.offsetTop)}return t.zrenderFixed=1,t},h.merge(m.prototype,u.prototype,!0),m}),i("zrender/tool/vector",[],function(){var t="undefined"==typeof Float32Array?Array:Float32Array,e={create:function(e,i){var o=new t(2);return o[0]=e||0,o[1]=i||0,o},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(e){var i=new t(2);return i[0]=e[0],i[1]=e[1],i},set:function(t,e,i){return t[0]=e,t[1]=i,t},add:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},scaleAndAdd:function(t,e,i,o){return t[0]=e[0]+i[0]*o,t[1]=e[1]+i[1]*o,t},sub:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},normalize:function(t,i){var o=e.len(i);return 0===o?(t[0]=0,t[1]=0):(t[0]=i[0]/o,t[1]=i[1]/o),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,o){return t[0]=e[0]+o*(i[0]-e[0]),t[1]=e[1]+o*(i[1]-e[1]),t},applyTransform:function(t,e,i){var o=e[0],r=e[1];return t[0]=i[0]*o+i[2]*r+i[4],t[1]=i[1]*o+i[3]*r+i[5],t},min:function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},max:function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}};return e.length=e.len,e.lengthSquare=e.lenSquare,e.dist=e.distance,e.distSquare=e.distanceSquare,e}),i("zrender/Layer",["require","./mixin/Transformable","./tool/util","./config"],function(t){function e(){return!1}function i(t,e,i){var o=document.createElement(e),r=i.getWidth(),n=i.getHeight();return o.style.position="absolute",o.style.left=0,o.style.top=0,o.style.width=r+"px",o.style.height=n+"px",o.width=r*s.devicePixelRatio,o.height=n*s.devicePixelRatio,o.setAttribute("data-zr-dom-id",t),o}var o=t("./mixin/Transformable"),r=t("./tool/util"),n=window.G_vmlCanvasManager,s=t("./config"),a=function(t,r){this.id=t,this.dom=i(t,"canvas",r),this.dom.onselectstart=e,this.dom.style["-webkit-user-select"]="none",this.dom.style["user-select"]="none",this.dom.style["-webkit-touch-callout"]="none",this.dom.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",this.dom.className=s.elementClassName,n&&n.initElement(this.dom),this.domBack=null,this.ctxBack=null,this.painter=r,this.unusedCount=0,this.config=null,this.dirty=!0,this.elCount=0,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.zoomable=!1,this.panable=!1,this.maxZoom=1/0,this.minZoom=0,o.call(this)};return a.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");var t=s.devicePixelRatio;1!=t&&this.ctx.scale(t,t)},a.prototype.createBackBuffer=function(){if(!n){this.domBack=i("back-"+this.id,"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d");var t=s.devicePixelRatio;1!=t&&this.ctxBack.scale(t,t)}},a.prototype.resize=function(t,e){var i=s.devicePixelRatio;this.dom.style.width=t+"px",this.dom.style.height=e+"px",this.dom.setAttribute("width",t*i),this.dom.setAttribute("height",e*i),1!=i&&this.ctx.scale(i,i),this.domBack&&(this.domBack.setAttribute("width",t*i),this.domBack.setAttribute("height",e*i),1!=i&&this.ctxBack.scale(i,i))},a.prototype.clear=function(){var t=this.dom,e=this.ctx,i=t.width,o=t.height,r=this.clearColor&&!n,a=this.motionBlur&&!n,h=this.lastFrameAlpha,l=s.devicePixelRatio;if(a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,i/l,o/l)),e.clearRect(0,0,i/l,o/l),r&&(e.save(),e.fillStyle=this.clearColor,e.fillRect(0,0,i/l,o/l),e.restore()),a){var c=this.domBack;e.save(),e.globalAlpha=h,e.drawImage(c,0,0,i/l,o/l),e.restore()}},r.merge(a.prototype,o.prototype),a}),i("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(t){function e(t){this.setOptions(t)}var i=t("../tool/util"),o=t("../shape/Text"),r=t("../shape/Rectangle"),n="Loading...",s="normal 16px Arial";return e.prototype.createTextShape=function(t){return new o({highlightStyle:i.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:n,textAlign:"center",textBaseline:"middle",textFont:s,color:"#333",brushType:"fill"},t,!0)})},e.prototype.createBackgroundShape=function(t){return new r({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:t}})},e.prototype.start=function(t){function e(e){t.storage.addHover(e)}function i(){t.refreshHover()}this.canvasWidth=t._width,this.canvasHeight=t._height,this.loadingTimer=this._start(e,i)},e.prototype._start=function(){return setInterval(function(){},1e4)},e.prototype.stop=function(){clearInterval(this.loadingTimer)},e.prototype.setOptions=function(t){this.options=t||{}},e.prototype.adjust=function(t,e){return t<=e[0]?t=e[0]:t>=e[1]&&(t=e[1]),t},e.prototype.getLocation=function(t,e,i){var o=null!=t.x?t.x:"center";switch(o){case"center":o=Math.floor((this.canvasWidth-e)/2);break;case"left":o=0;break;case"right":o=this.canvasWidth-e}var r=null!=t.y?t.y:"center";switch(r){case"center":r=Math.floor((this.canvasHeight-i)/2);break;case"top":r=0;break;case"bottom":r=this.canvasHeight-i}return{x:o,y:r,width:e,height:i}},e}),i("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(t){var e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={type:"rectangle",_buildRadiusPath:function(t,e){var i,o,r,n,s=e.x,a=e.y,h=e.width,l=e.height,c=e.radius;"number"==typeof c?i=o=r=n=c:c instanceof Array?1===c.length?i=o=r=n=c[0]:2===c.length?(i=r=c[0],o=n=c[1]):3===c.length?(i=c[0],o=n=c[1],r=c[2]):(i=c[0],o=c[1],r=c[2],n=c[3]):i=o=r=n=0;var d;i+o>h&&(d=i+o,i*=h/d,o*=h/d),r+n>h&&(d=r+n,r*=h/d,n*=h/d),o+r>l&&(d=o+r,o*=l/d,r*=l/d),i+n>l&&(d=i+n,i*=l/d,n*=l/d),t.moveTo(s+i,a),t.lineTo(s+h-o,a),0!==o&&t.quadraticCurveTo(s+h,a,s+h,a+o),t.lineTo(s+h,a+l-r),0!==r&&t.quadraticCurveTo(s+h,a+l,s+h-r,a+l),t.lineTo(s+n,a+l),0!==n&&t.quadraticCurveTo(s,a+l,s,a+l-n),t.lineTo(s,a+i),0!==i&&t.quadraticCurveTo(s,a,s+i,a)},buildPath:function(t,e){e.radius?this._buildRadiusPath(t,e):(t.moveTo(e.x,e.y),t.lineTo(e.x+e.width,e.y),t.lineTo(e.x+e.width,e.y+e.height),t.lineTo(e.x,e.y+e.height),t.lineTo(e.x,e.y)),t.closePath()},getRect:function(t){if(t.__rect)return t.__rect;var e;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-e/2),y:Math.round(t.y-e/2),width:t.width+e,height:t.height+e},t.__rect}},t("../tool/util").inherits(i,e),i}),i("zrender/tool/curve",["require","./vector"],function(t){function e(t){return t>-m&&m>t}function i(t){return t>m||-m>t}function o(t,e,i,o,r){var n=1-r;return n*n*(n*t+3*r*e)+r*r*(r*o+3*n*i)}function r(t,e,i,o,r){var n=1-r;return 3*(((e-t)*n+2*(i-e)*r)*n+(o-i)*r*r)}function n(t,i,o,r,n,s){var a=r+3*(i-o)-t,h=3*(o-2*i+t),l=3*(i-t),c=t-n,d=h*h-3*a*l,u=h*l-9*a*c,p=l*l-3*h*c,f=0;if(e(d)&&e(u))if(e(h))s[0]=0;else{var g=-l/h;g>=0&&1>=g&&(s[f++]=g)}else{var m=u*u-4*d*p;if(e(m)){var v=u/d,g=-h/a+v,x=-v/2;g>=0&&1>=g&&(s[f++]=g),x>=0&&1>=x&&(s[f++]=x)}else if(m>0){var b=Math.sqrt(m),T=d*h+1.5*a*(-u+b),S=d*h+1.5*a*(-u-b);T=0>T?-Math.pow(-T,y):Math.pow(T,y),S=0>S?-Math.pow(-S,y):Math.pow(S,y);var g=(-h-(T+S))/(3*a);g>=0&&1>=g&&(s[f++]=g)}else{var z=(2*d*h-3*a*u)/(2*Math.sqrt(d*d*d)),C=Math.acos(z)/3,E=Math.sqrt(d),w=Math.cos(C),g=(-h-2*E*w)/(3*a),x=(-h+E*(w+_*Math.sin(C)))/(3*a),L=(-h+E*(w-_*Math.sin(C)))/(3*a);g>=0&&1>=g&&(s[f++]=g),x>=0&&1>=x&&(s[f++]=x),L>=0&&1>=L&&(s[f++]=L)}}return f}function s(t,o,r,n,s){var a=6*r-12*o+6*t,h=9*o+3*n-3*t-9*r,l=3*o-3*t,c=0;if(e(h)){if(i(a)){var d=-l/a;d>=0&&1>=d&&(s[c++]=d)}}else{var u=a*a-4*h*l;if(e(u))s[0]=-a/(2*h);else if(u>0){var p=Math.sqrt(u),d=(-a+p)/(2*h),f=(-a-p)/(2*h);d>=0&&1>=d&&(s[c++]=d),f>=0&&1>=f&&(s[c++]=f)}}return c}function a(t,e,i,o,r,n){var s=(e-t)*r+t,a=(i-e)*r+e,h=(o-i)*r+i,l=(a-s)*r+s,c=(h-a)*r+a,d=(c-l)*r+l;n[0]=t,n[1]=s,n[2]=l,n[3]=d,n[4]=d,n[5]=c,n[6]=h,n[7]=o}function h(t,e,i,r,n,s,a,h,l,c,d){var u,p=.005,f=1/0;v[0]=l,v[1]=c;for(var _=0;1>_;_+=.05){x[0]=o(t,i,n,a,_),x[1]=o(e,r,s,h,_);var y=g.distSquare(v,x);f>y&&(u=_,f=y)}f=1/0;for(var T=0;32>T&&!(m>p);T++){var S=u-p,z=u+p;x[0]=o(t,i,n,a,S),x[1]=o(e,r,s,h,S);var y=g.distSquare(x,v);if(S>=0&&f>y)u=S,f=y;else{b[0]=o(t,i,n,a,z),b[1]=o(e,r,s,h,z);var C=g.distSquare(b,v);1>=z&&f>C?(u=z,f=C):p*=.5}}return d&&(d[0]=o(t,i,n,a,u),d[1]=o(e,r,s,h,u)),Math.sqrt(f)}function l(t,e,i,o){var r=1-o;return r*(r*t+2*o*e)+o*o*i}function c(t,e,i,o){return 2*((1-o)*(e-t)+o*(i-e))}function d(t,o,r,n,s){var a=t-2*o+r,h=2*(o-t),l=t-n,c=0;if(e(a)){if(i(h)){var d=-l/h;d>=0&&1>=d&&(s[c++]=d)}}else{var u=h*h-4*a*l;if(e(u)){var d=-h/(2*a);d>=0&&1>=d&&(s[c++]=d)}else if(u>0){var p=Math.sqrt(u),d=(-h+p)/(2*a),f=(-h-p)/(2*a);d>=0&&1>=d&&(s[c++]=d),f>=0&&1>=f&&(s[c++]=f)}}return c}function u(t,e,i){var o=t+i-2*e;return 0===o?.5:(t-e)/o}function p(t,e,i,o,r){var n=(e-t)*o+t,s=(i-e)*o+e,a=(s-n)*o+n;r[0]=t,r[1]=n,r[2]=a,r[3]=a,r[4]=s,r[5]=i}function f(t,e,i,o,r,n,s,a,h){var c,d=.005,u=1/0;v[0]=s,v[1]=a;for(var p=0;1>p;p+=.05){x[0]=l(t,i,r,p),x[1]=l(e,o,n,p);var f=g.distSquare(v,x);u>f&&(c=p,u=f)}u=1/0;for(var _=0;32>_&&!(m>d);_++){var y=c-d,T=c+d;x[0]=l(t,i,r,y),x[1]=l(e,o,n,y);var f=g.distSquare(x,v);if(y>=0&&u>f)c=y,u=f;else{b[0]=l(t,i,r,T),b[1]=l(e,o,n,T);var S=g.distSquare(b,v);1>=T&&u>S?(c=T,u=S):d*=.5}}return h&&(h[0]=l(t,i,r,c),h[1]=l(e,o,n,c)),Math.sqrt(u)}var g=t("./vector"),m=1e-4,_=Math.sqrt(3),y=1/3,v=g.create(),x=g.create(),b=g.create();return{cubicAt:o,cubicDerivativeAt:r,cubicRootAt:n,cubicExtrema:s,cubicSubdivide:a,cubicProjectPoint:h,quadraticAt:l,quadraticDerivativeAt:c,quadraticRootAt:d,quadraticExtremum:u,quadraticSubdivide:p,quadraticProjectPoint:f}}),i("zrender/shape/Droplet",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(t){"use strict";var e=t("./Base"),i=t("./util/PathProxy"),o=t("../tool/area"),r=function(t){e.call(this,t),this._pathProxy=new i};return r.prototype={type:"droplet",buildPath:function(t,e){var o=this._pathProxy||new i;o.begin(t),o.moveTo(e.x,e.y+e.a),o.bezierCurveTo(e.x+e.a,e.y+e.a,e.x+3*e.a/2,e.y-e.a/3,e.x,e.y-e.b),o.bezierCurveTo(e.x-3*e.a/2,e.y-e.a/3,e.x-e.a,e.y+e.a,e.x,e.y+e.a),o.closePath()},getRect:function(t){return t.__rect?t.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,t),this._pathProxy.fastBoundingRect())},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);return t=i[0],e=i[1],this.isCoverRect(t,e)?o.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,t,e):void 0}},t("../tool/util").inherits(r,e),r}),i("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(t){var e=t("./tool/guid"),i=t("./tool/util"),o=t("./mixin/Transformable"),r=t("./mixin/Eventful"),n=function(t){t=t||{},this.id=t.id||e();
for(var i in t)this[i]=t[i];this.type="group",this.clipShape=null,this._children=[],this._storage=null,this.__dirty=!0,o.call(this),r.call(this)};return n.prototype.ignore=!1,n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(t){return this._children[t]},n.prototype.addChild=function(t){t!=this&&t.parent!=this&&(t.parent&&t.parent.removeChild(t),this._children.push(t),t.parent=this,this._storage&&this._storage!==t._storage&&(this._storage.addToMap(t),t instanceof n&&t.addChildrenToStorage(this._storage)))},n.prototype.removeChild=function(t){var e=i.indexOf(this._children,t);e>=0&&this._children.splice(e,1),t.parent=null,this._storage&&(this._storage.delFromMap(t.id),t instanceof n&&t.delChildrenFromStorage(this._storage))},n.prototype.clearChildren=function(){for(var t=0;t<this._children.length;t++){var e=this._children[t];this._storage&&(this._storage.delFromMap(e.id),e instanceof n&&e.delChildrenFromStorage(this._storage))}this._children.length=0},n.prototype.eachChild=function(t,e){for(var i=!!e,o=0;o<this._children.length;o++){var r=this._children[o];i?t.call(e,r):t(r)}},n.prototype.traverse=function(t,e){for(var i=!!e,o=0;o<this._children.length;o++){var r=this._children[o];i?t.call(e,r):t(r),"group"===r.type&&r.traverse(t,e)}},n.prototype.addChildrenToStorage=function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToMap(i),i instanceof n&&i.addChildrenToStorage(t)}},n.prototype.delChildrenFromStorage=function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromMap(i.id),i instanceof n&&i.delChildrenFromStorage(t)}},n.prototype.modSelf=function(){this.__dirty=!0},i.merge(n.prototype,o.prototype,!0),i.merge(n.prototype,r.prototype,!0),n}),i("zrender/shape/Heart",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(t){"use strict";var e=t("./Base"),i=t("./util/PathProxy"),o=t("../tool/area"),r=function(t){e.call(this,t),this._pathProxy=new i};return r.prototype={type:"heart",buildPath:function(t,e){var o=this._pathProxy||new i;o.begin(t),o.moveTo(e.x,e.y),o.bezierCurveTo(e.x+e.a/2,e.y-2*e.b/3,e.x+2*e.a,e.y+e.b/3,e.x,e.y+e.b),o.bezierCurveTo(e.x-2*e.a,e.y+e.b/3,e.x-e.a/2,e.y-2*e.b/3,e.x,e.y),o.closePath()},getRect:function(t){return t.__rect?t.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,t),this._pathProxy.fastBoundingRect())},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);return t=i[0],e=i[1],this.isCoverRect(t,e)?o.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,t,e):void 0}},t("../tool/util").inherits(r,e),r}),i("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(t){var e=t("../tool/math"),i=e.sin,o=e.cos,r=Math.PI,n=t("./Base"),s=function(t){n.call(this,t)};return s.prototype={type:"star",buildPath:function(t,e){var n=e.n;if(n&&!(2>n)){var s=e.x,a=e.y,h=e.r,l=e.r0;null==l&&(l=n>4?h*o(2*r/n)/o(r/n):h/3);var c=r/n,d=-r/2,u=s+h*o(d),p=a+h*i(d);d+=c;var f=e.pointList=[];f.push([u,p]);for(var g,m=0,_=2*n-1;_>m;m++)g=m%2===0?l:h,f.push([s+g*o(d),a+g*i(d)]),d+=c;f.push([u,p]),t.moveTo(f[0][0],f[0][1]);for(var m=0;m<f.length;m++)t.lineTo(f[m][0],f[m][1]);t.closePath()}},getRect:function(t){if(t.__rect)return t.__rect;var e;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-t.r-e/2),y:Math.round(t.y-t.r-e/2),width:2*t.r+e,height:2*t.r+e},t.__rect}},t("../tool/util").inherits(s,n),s}),i("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(t){var e=t("../../tool/vector"),i=function(t,e){this.command=t,this.points=e||null},o=function(){this.pathCommands=[],this._ctx=null,this._min=[],this._max=[]};return o.prototype.fastBoundingRect=function(){var t=this._min,i=this._max;t[0]=t[1]=1/0,i[0]=i[1]=-1/0;for(var o=0;o<this.pathCommands.length;o++){var r=this.pathCommands[o],n=r.points;switch(r.command){case"M":e.min(t,t,n),e.max(i,i,n);break;case"L":e.min(t,t,n),e.max(i,i,n);break;case"C":for(var s=0;6>s;s+=2)t[0]=Math.min(t[0],t[0],n[s]),t[1]=Math.min(t[1],t[1],n[s+1]),i[0]=Math.max(i[0],i[0],n[s]),i[1]=Math.max(i[1],i[1],n[s+1]);break;case"Q":for(var s=0;4>s;s+=2)t[0]=Math.min(t[0],t[0],n[s]),t[1]=Math.min(t[1],t[1],n[s+1]),i[0]=Math.max(i[0],i[0],n[s]),i[1]=Math.max(i[1],i[1],n[s+1]);break;case"A":var a=n[0],h=n[1],l=n[2],c=n[3];t[0]=Math.min(t[0],t[0],a-l),t[1]=Math.min(t[1],t[1],h-c),i[0]=Math.max(i[0],i[0],a+l),i[1]=Math.max(i[1],i[1],h+c)}}return{x:t[0],y:t[1],width:i[0]-t[0],height:i[1]-t[1]}},o.prototype.begin=function(t){return this._ctx=t||null,this.pathCommands.length=0,this},o.prototype.moveTo=function(t,e){return this.pathCommands.push(new i("M",[t,e])),this._ctx&&this._ctx.moveTo(t,e),this},o.prototype.lineTo=function(t,e){return this.pathCommands.push(new i("L",[t,e])),this._ctx&&this._ctx.lineTo(t,e),this},o.prototype.bezierCurveTo=function(t,e,o,r,n,s){return this.pathCommands.push(new i("C",[t,e,o,r,n,s])),this._ctx&&this._ctx.bezierCurveTo(t,e,o,r,n,s),this},o.prototype.quadraticCurveTo=function(t,e,o,r){return this.pathCommands.push(new i("Q",[t,e,o,r])),this._ctx&&this._ctx.quadraticCurveTo(t,e,o,r),this},o.prototype.arc=function(t,e,o,r,n,s){return this.pathCommands.push(new i("A",[t,e,o,o,r,n-r,0,s?0:1])),this._ctx&&this._ctx.arc(t,e,o,r,n,s),this},o.prototype.arcTo=function(t,e,i,o,r){return this._ctx&&this._ctx.arcTo(t,e,i,o,r),this},o.prototype.rect=function(t,e,i,o){return this._ctx&&this._ctx.rect(t,e,i,o),this},o.prototype.closePath=function(){return this.pathCommands.push(new i("z")),this._ctx&&this._ctx.closePath(),this},o.prototype.isEmpty=function(){return 0===this.pathCommands.length},o.PathSegment=i,o}),i("zrender/animation/Clip",["require","./easing"],function(t){function e(t){this._targetPool=t.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=t.life||1e3,this._delay=t.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop="undefined"==typeof t.loop?!1:t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var i=t("./easing");return e.prototype={step:function(t){var e=(t-this._startTime)/this._life;if(!(0>e)){e=Math.min(e,1);var o="string"==typeof this.easing?i[this.easing]:this.easing,r="function"==typeof o?o(e):e;return this.fire("frame",r),1==e?this.loop?(this.restart(),"restart"):(this.__needsRemove=!0,"destroy"):null}},restart:function(){var t=(new Date).getTime(),e=(t-this._startTime)%this._life;this._startTime=(new Date).getTime()-e+this.gap,this.__needsRemove=!1},fire:function(t,e){for(var i=0,o=this._targetPool.length;o>i;i++)this["on"+t]&&this["on"+t](this._targetPool[i],e)},constructor:e},e}),i("zrender/shape/util/dashedLineTo",[],function(){var t=[5,5];return function(e,i,o,r,n,s){if(e.setLineDash)return t[0]=t[1]=s,e.setLineDash(t),e.moveTo(i,o),void e.lineTo(r,n);s="number"!=typeof s?5:s;var a=r-i,h=n-o,l=Math.floor(Math.sqrt(a*a+h*h)/s);a/=l,h/=l;for(var c=!0,d=0;l>d;++d)c?e.moveTo(i,o):e.lineTo(i,o),c=!c,i+=a,o+=h;e.lineTo(r,n)}}),i("zrender/shape/BezierCurve",["require","./Base","../tool/util"],function(t){"use strict";var e=t("./Base"),i=function(t){this.brushTypeOnly="stroke",this.textPosition="end",e.call(this,t)};return i.prototype={type:"bezier-curve",buildPath:function(t,e){t.moveTo(e.xStart,e.yStart),"undefined"!=typeof e.cpX2&&"undefined"!=typeof e.cpY2?t.bezierCurveTo(e.cpX1,e.cpY1,e.cpX2,e.cpY2,e.xEnd,e.yEnd):t.quadraticCurveTo(e.cpX1,e.cpY1,e.xEnd,e.yEnd)},getRect:function(t){if(t.__rect)return t.__rect;var e=Math.min(t.xStart,t.xEnd,t.cpX1),i=Math.min(t.yStart,t.yEnd,t.cpY1),o=Math.max(t.xStart,t.xEnd,t.cpX1),r=Math.max(t.yStart,t.yEnd,t.cpY1),n=t.cpX2,s=t.cpY2;"undefined"!=typeof n&&"undefined"!=typeof s&&(e=Math.min(e,n),i=Math.min(i,s),o=Math.max(o,n),r=Math.max(r,s));var a=t.lineWidth||1;return t.__rect={x:e-a,y:i-a,width:o-e+a,height:r-i+a},t.__rect}},t("../tool/util").inherits(i,e),i}),i("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(t){var e=t("./Base"),i=t("./util/dashedLineTo"),o=function(t){this.brushTypeOnly="stroke",this.textPosition="end",e.call(this,t)};return o.prototype={type:"line",buildPath:function(t,e){if(e.lineType&&"solid"!=e.lineType){if("dashed"==e.lineType||"dotted"==e.lineType){var o=(e.lineWidth||1)*("dashed"==e.lineType?5:1);i(t,e.xStart,e.yStart,e.xEnd,e.yEnd,o)}}else t.moveTo(e.xStart,e.yStart),t.lineTo(e.xEnd,e.yEnd)},getRect:function(t){if(t.__rect)return t.__rect;var e=t.lineWidth||1;return t.__rect={x:Math.min(t.xStart,t.xEnd)-e,y:Math.min(t.yStart,t.yEnd)-e,width:Math.abs(t.xStart-t.xEnd)+e,height:Math.abs(t.yStart-t.yEnd)+e},t.__rect}},t("../tool/util").inherits(o,e),o}),i("zrender/animation/easing",[],function(){var t={Linear:function(t){return t},QuadraticIn:function(t){return t*t},QuadraticOut:function(t){return t*(2-t)},QuadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},CubicIn:function(t){return t*t*t},CubicOut:function(t){return--t*t*t+1},CubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},QuarticIn:function(t){return t*t*t*t},QuarticOut:function(t){return 1- --t*t*t*t},QuarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},QuinticIn:function(t){return t*t*t*t*t},QuinticOut:function(t){return--t*t*t*t*t+1},QuinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},SinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},SinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},SinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},ExponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},ExponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},ExponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},CircularIn:function(t){return 1-Math.sqrt(1-t*t)},CircularOut:function(t){return Math.sqrt(1- --t*t)},CircularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},ElasticIn:function(t){var e,i=.1,o=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=o/4):e=o*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/o)))},ElasticOut:function(t){var e,i=.1,o=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=o/4):e=o*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/o)+1)},ElasticInOut:function(t){var e,i=.1,o=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=o/4):e=o*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/o):i*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/o)*.5+1)},BackIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},BackOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},BackInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)},BounceIn:function(e){return 1-t.BounceOut(1-e)},BounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},BounceInOut:function(e){return.5>e?.5*t.BounceIn(2*e):.5*t.BounceOut(2*e-1)+.5}};return t}),i("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(t){var e=t("./Base"),i=t("./util/smoothSpline"),o=t("./util/smoothBezier"),r=t("./util/dashedLineTo"),n=function(t){e.call(this,t)};return n.prototype={type:"polygon",buildPath:function(t,e){var n=e.pointList;if(!(n.length<2)){if(e.smooth&&"spline"!==e.smooth){var s=o(n,e.smooth,!0,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var a,h,l,c=n.length,d=0;c>d;d++)a=s[2*d],h=s[2*d+1],l=n[(d+1)%c],t.bezierCurveTo(a[0],a[1],h[0],h[1],l[0],l[1])}else if("spline"===e.smooth&&(n=i(n,!0)),e.lineType&&"solid"!=e.lineType){if("dashed"==e.lineType||"dotted"==e.lineType){var u=e._dashLength||(e.lineWidth||1)*("dashed"==e.lineType?5:1);e._dashLength=u,t.moveTo(n[0][0],n[0][1]);for(var d=1,p=n.length;p>d;d++)r(t,n[d-1][0],n[d-1][1],n[d][0],n[d][1],u);r(t,n[n.length-1][0],n[n.length-1][1],n[0][0],n[0][1],u)}}else{t.moveTo(n[0][0],n[0][1]);for(var d=1,p=n.length;p>d;d++)t.lineTo(n[d][0],n[d][1]);t.lineTo(n[0][0],n[0][1])}t.closePath()}},getRect:function(t){if(t.__rect)return t.__rect;for(var e=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MAX_VALUE,r=Number.MIN_VALUE,n=t.pointList,s=0,a=n.length;a>s;s++)n[s][0]<e&&(e=n[s][0]),n[s][0]>i&&(i=n[s][0]),n[s][1]<o&&(o=n[s][1]),n[s][1]>r&&(r=n[s][1]);var h;return h="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(e-h/2),y:Math.round(o-h/2),width:i-e+h,height:r-o+h},t.__rect}},t("../tool/util").inherits(n,e),n}),i("echarts/util/shape/normalIsCover",[],function(){return function(t,e){var i=this.transformCoordToLocal(t,e);return t=i[0],e=i[1],this.isCoverRect(t,e)}}),i("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(t){function e(t,e,i,o,r,n,s){var a=.5*(i-t),h=.5*(o-e);return(2*(e-i)+a+h)*s+(-3*(e-i)-2*a-h)*n+a*r+e}var i=t("../../tool/vector");return function(t,o){for(var r=t.length,n=[],s=0,a=1;r>a;a++)s+=i.distance(t[a-1],t[a]);var h=s/5;h=r>h?r:h;for(var a=0;h>a;a++){var l,c,d,u=a/(h-1)*(o?r:r-1),p=Math.floor(u),f=u-p,g=t[p%r];o?(l=t[(p-1+r)%r],c=t[(p+1)%r],d=t[(p+2)%r]):(l=t[0===p?p:p-1],c=t[p>r-2?r-1:p+1],d=t[p>r-3?r-1:p+2]);var m=f*f,_=f*m;n.push([e(l[0],g[0],c[0],d[0],f,m,_),e(l[1],g[1],c[1],d[1],f,m,_)])}return n}}),i("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(t){var e=t("../../tool/vector");return function(t,i,o,r){var n,s,a,h,l=[],c=[],d=[],u=[],p=!!r;if(p){a=[1/0,1/0],h=[-1/0,-1/0];for(var f=0,g=t.length;g>f;f++)e.min(a,a,t[f]),e.max(h,h,t[f]);e.min(a,a,r[0]),e.max(h,h,r[1])}for(var f=0,g=t.length;g>f;f++){var n,s,m=t[f];if(o)n=t[f?f-1:g-1],s=t[(f+1)%g];else{if(0===f||f===g-1){l.push(e.clone(t[f]));continue}n=t[f-1],s=t[f+1]}e.sub(c,s,n),e.scale(c,c,i);var _=e.distance(m,n),y=e.distance(m,s),v=_+y;0!==v&&(_/=v,y/=v),e.scale(d,c,-_),e.scale(u,c,y);var x=e.add([],m,d),b=e.add([],m,u);p&&(e.max(x,x,a),e.min(x,x,h),e.max(b,b,a),e.min(b,b,h)),l.push(x),l.push(b)}return o&&l.push(e.clone(l.shift())),l}}),i("echarts/util/number",[],function(){function t(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}function e(e,i){return"string"==typeof e?t(e).match(/%$/)?parseFloat(e)/100*i:parseFloat(e):e}function i(t,i){return[e(i[0],t.getWidth()),e(i[1],t.getHeight())]}function o(t,i){i instanceof Array||(i=[0,i]);var o=Math.min(t.getWidth(),t.getHeight())/2;return[e(i[0],o),e(i[1],o)]}function r(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function n(t){for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}return{parsePercent:e,parseCenter:i,parseRadius:o,addCommas:r,getPrecision:n}}),i("echarts/util/ecQuery",["require","zrender/tool/util"],function(t){function e(t,e){if("undefined"!=typeof t){if(!e)return t;e=e.split(".");for(var i=e.length,o=0;i>o;){if(t=t[e[o]],"undefined"==typeof t)return;o++}return t}}function i(t,i){for(var o,r=0,n=t.length;n>r;r++)if(o=e(t[r],i),"undefined"!=typeof o)return o}function o(t,i){for(var o,n=t.length;n--;){var s=e(t[n],i);"undefined"!=typeof s&&("undefined"==typeof o?o=r.clone(s):r.merge(o,s,!0))}return o}var r=t("zrender/tool/util");return{query:e,deepQuery:i,deepMerge:o}}),i("echarts/data/KDTree",["require","./quickSelect"],function(t){function e(t,e){this.left=null,this.right=null,this.axis=t,this.data=e}var i=t("./quickSelect"),o=function(t,e){t.length&&(e||(e=t[0].array.length),this.dimension=e,this.root=this._buildTree(t,0,t.length-1,0),this._stack=[],this._nearstNList=[])};return o.prototype._buildTree=function(t,o,r,n){if(o>r)return null;var s=Math.floor((o+r)/2);s=i(t,o,r,s,function(t,e){return t.array[n]-e.array[n]});var a=t[s],h=new e(n,a);return n=(n+1)%this.dimension,r>o&&(h.left=this._buildTree(t,o,s-1,n),h.right=this._buildTree(t,s+1,r,n)),h},o.prototype.nearest=function(t,e){var i=this.root,o=this._stack,r=0,n=1/0,s=null;for(i.data!==t&&(n=e(i.data,t),s=i),t.array[i.axis]<i.data.array[i.axis]?(i.right&&(o[r++]=i.right),i.left&&(o[r++]=i.left)):(i.left&&(o[r++]=i.left),i.right&&(o[r++]=i.right));r--;){i=o[r];var a=t.array[i.axis]-i.data.array[i.axis],h=0>a,l=!1;a*=a,n>a&&(a=e(i.data,t),n>a&&i.data!==t&&(n=a,s=i),l=!0),h?(l&&i.right&&(o[r++]=i.right),i.left&&(o[r++]=i.left)):(l&&i.left&&(o[r++]=i.left),i.right&&(o[r++]=i.right))}return s.data},o.prototype._addNearest=function(t,e,i){for(var o=this._nearstNList,r=t-1;r>0&&!(e>=o[r-1].dist);r--)o[r].dist=o[r-1].dist,o[r].node=o[r-1].node;o[r].dist=e,o[r].node=i},o.prototype.nearestN=function(t,e,i,o){if(0>=e)return o.length=0,o;for(var r=this.root,n=this._stack,s=0,a=this._nearstNList,h=0;e>h;h++)a[h]||(a[h]={}),a[h].dist=0,a[h].node=null;var l=i(r.data,t),c=0;for(r.data!==t&&(c++,this._addNearest(c,l,r)),t.array[r.axis]<r.data.array[r.axis]?(r.right&&(n[s++]=r.right),r.left&&(n[s++]=r.left)):(r.left&&(n[s++]=r.left),r.right&&(n[s++]=r.right));s--;){r=n[s];var l=t.array[r.axis]-r.data.array[r.axis],d=0>l,u=!1;l*=l,(e>c||l<a[c-1].dist)&&(l=i(r.data,t),(e>c||l<a[c-1].dist)&&r.data!==t&&(e>c&&c++,this._addNearest(c,l,r)),u=!0),d?(u&&r.right&&(n[s++]=r.right),r.left&&(n[s++]=r.left)):(u&&r.left&&(n[s++]=r.left),r.right&&(n[s++]=r.right))}for(var h=0;c>h;h++)o[h]=a[h].node.data;return o.length=c,o},o}),i("echarts/data/quickSelect",["require"],function(){function t(t,e){return t-e}function e(t,e,i){var o=t[e];t[e]=t[i],t[i]=o}function i(t,i,o,r,n){for(var s=i;o>i;){var s=Math.round((o+i)/2),a=t[s];e(t,s,o),s=i;for(var h=i;o-1>=h;h++)n(a,t[h])>=0&&(e(t,h,s),s++);if(e(t,o,s),s===r)return s;r>s?i=s+1:o=s-1}return i}function o(e,o,r,n,s){return arguments.length<=3&&(n=o,s=2==arguments.length?t:r,o=0,r=e.length-1),i(e,o,r,n,s)}return o}),i("zrender/tool/computeBoundingBox",["require","./vector","./curve"],function(t){function e(t,e,i){if(0!==t.length){for(var o=t[0][0],r=t[0][0],n=t[0][1],s=t[0][1],a=1;a<t.length;a++){var h=t[a];h[0]<o&&(o=h[0]),h[0]>r&&(r=h[0]),h[1]<n&&(n=h[1]),h[1]>s&&(s=h[1])}e[0]=o,e[1]=n,i[0]=r,i[1]=s}}function i(t,e,i,o,r,s){var a=[];n.cubicExtrema(t[0],e[0],i[0],o[0],a);for(var h=0;h<a.length;h++)a[h]=n.cubicAt(t[0],e[0],i[0],o[0],a[h]);var l=[];n.cubicExtrema(t[1],e[1],i[1],o[1],l);for(var h=0;h<l.length;h++)l[h]=n.cubicAt(t[1],e[1],i[1],o[1],l[h]);a.push(t[0],o[0]),l.push(t[1],o[1]);var c=Math.min.apply(null,a),d=Math.max.apply(null,a),u=Math.min.apply(null,l),p=Math.max.apply(null,l);r[0]=c,r[1]=u,s[0]=d,s[1]=p}function o(t,e,i,o,r){var s=n.quadraticExtremum(t[0],e[0],i[0]),a=n.quadraticExtremum(t[1],e[1],i[1]);s=Math.max(Math.min(s,1),0),a=Math.max(Math.min(a,1),0);var h=1-s,l=1-a,c=h*h*t[0]+2*h*s*e[0]+s*s*i[0],d=h*h*t[1]+2*h*s*e[1]+s*s*i[1],u=l*l*t[0]+2*l*a*e[0]+a*a*i[0],p=l*l*t[1]+2*l*a*e[1]+a*a*i[1];o[0]=Math.min(t[0],i[0],c,u),o[1]=Math.min(t[1],i[1],d,p),r[0]=Math.max(t[0],i[0],c,u),r[1]=Math.max(t[1],i[1],d,p)}var r=t("./vector"),n=t("./curve"),s=r.create(),a=r.create(),h=r.create(),l=function(t,e,i,o,n,l,c,d){if(Math.abs(o-n)>=2*Math.PI)return c[0]=t-i,c[1]=e-i,d[0]=t+i,void(d[1]=e+i);if(s[0]=Math.cos(o)*i+t,s[1]=Math.sin(o)*i+e,a[0]=Math.cos(n)*i+t,a[1]=Math.sin(n)*i+e,r.min(c,s,a),r.max(d,s,a),o%=2*Math.PI,0>o&&(o+=2*Math.PI),n%=2*Math.PI,0>n&&(n+=2*Math.PI),o>n&&!l?n+=2*Math.PI:n>o&&l&&(o+=2*Math.PI),l){var u=n;n=o,o=u}for(var p=0;n>p;p+=Math.PI/2)p>o&&(h[0]=Math.cos(p)*i+t,h[1]=Math.sin(p)*i+e,r.min(c,h,c),r.max(d,h,d))};return e.cubeBezier=i,e.quadraticBezier=o,e.arc=l,e}),i("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(t){function e(t,e,o,r,n){i.call(this,t,e,o,r,n),this.dom=n.dom,this._tDom=document.createElement("div"),this._textArea=document.createElement("textArea"),this._buttonRefresh=document.createElement("button"),this._buttonRefresh.setAttribute("type","button"),this._buttonClose=document.createElement("button"),this._buttonClose.setAttribute("type","button"),this._hasShow=!1,this._zrHeight=o.getHeight(),this._zrWidth=o.getWidth(),this._tDom.className="echarts-dataview",this.hide(),this.dom.firstChild.appendChild(this._tDom),window.addEventListener?(this._tDom.addEventListener("click",this._stop),this._tDom.addEventListener("mousewheel",this._stop),this._tDom.addEventListener("mousemove",this._stop),this._tDom.addEventListener("mousedown",this._stop),this._tDom.addEventListener("mouseup",this._stop),this._tDom.addEventListener("touchstart",this._stop),this._tDom.addEventListener("touchmove",this._stop),this._tDom.addEventListener("touchend",this._stop)):(this._tDom.attachEvent("onclick",this._stop),this._tDom.attachEvent("onmousewheel",this._stop),this._tDom.attachEvent("onmousemove",this._stop),this._tDom.attachEvent("onmousedown",this._stop),this._tDom.attachEvent("onmouseup",this._stop))}var i=t("./base"),o=t("../config"),r=t("zrender/tool/util");return e.prototype={type:o.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:0px;background-color:#f0ffff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(t){this._hasShow=!0;var e=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=t,this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(e[0]||this._lang[0])+"</p>";var i=this.query(this.option,"toolbox.feature.dataView.optionToContent");"function"!=typeof i?this._textArea.value=this._optionToContent():(this._textArea=document.createElement("div"),this._textArea.innerHTML=i(this.option)),this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;",this._tDom.appendChild(this._textArea),this._buttonClose.style.cssText="float:right;padding:1px 6px;",this._buttonClose.innerHTML=e[1]||this._lang[1];var o=this;this._buttonClose.onclick=function(){o.hide()},this._tDom.appendChild(this._buttonClose),this.query(this.option,"toolbox.feature.dataView.readOnly")===!1?(this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;",this._buttonRefresh.innerHTML=e[2]||this._lang[2],this._buttonRefresh.onclick=function(){o._save()},this._textArea.readOnly=!1,this._textArea.style.cursor="default"):(this._buttonRefresh.style.cssText="display:none",this._textArea.readOnly=!0,this._textArea.style.cursor="text"),this._tDom.appendChild(this._buttonRefresh),this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var t,e,i,r,n,s,a=[],h="";if(this.option.xAxis)for(a=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],t=0,r=a.length;r>t;t++)if("category"==(a[t].type||"category")){for(s=[],e=0,i=a[t].data.length;i>e;e++)s.push(this.getDataFromOption(a[t].data[e]));h+=s.join(", ")+"\n\n"}if(this.option.yAxis)for(a=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],t=0,r=a.length;r>t;t++)if("category"==a[t].type){for(s=[],e=0,i=a[t].data.length;i>e;e++)s.push(this.getDataFromOption(a[t].data[e]));h+=s.join(", ")+"\n\n"}var l,c=this.option.series;for(t=0,r=c.length;r>t;t++){for(s=[],e=0,i=c[t].data.length;i>e;e++)n=c[t].data[e],l=c[t].type==o.CHART_TYPE_PIE||c[t].type==o.CHART_TYPE_MAP?(n.name||"-")+":":"",c[t].type==o.CHART_TYPE_SCATTER&&(n=this.getDataFromOption(n).join(", ")),s.push(l+this.getDataFromOption(n));h+=(c[t].name||"-")+" : \n",h+=s.join(c[t].type==o.CHART_TYPE_SCATTER?"\n":", "),h+="\n\n"}return h},_save:function(){var t=this.query(this.option,"toolbox.feature.dataView.contentToOption");if("function"!=typeof t){for(var e=this._textArea.value.split("\n"),i=[],r=0,n=e.length;n>r;r++)e[r]=this._trim(e[r]),""!==e[r]&&i.push(e[r]);this._contentToOption(i)}else t(this._textArea,this.option);this.hide();var s=this;setTimeout(function(){s.messageCenter&&s.messageCenter.dispatch(o.EVENT.DATA_VIEW_CHANGED,null,{option:s.option},s.myChart)},s.canvasSupported?800:100)},_contentToOption:function(t){var e,i,r,n,s,a,h,l=[],c=0;if(this.option.xAxis)for(l=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],e=0,n=l.length;n>e;e++)if("category"==(l[e].type||"category")){for(a=t[c].split(","),i=0,r=l[e].data.length;r>i;i++)h=this._trim(a[i]||""),s=l[e].data[i],"undefined"!=typeof l[e].data[i].value?l[e].data[i].value=h:l[e].data[i]=h;c++}if(this.option.yAxis)for(l=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],e=0,n=l.length;n>e;e++)if("category"==l[e].type){for(a=t[c].split(","),i=0,r=l[e].data.length;r>i;i++)h=this._trim(a[i]||""),s=l[e].data[i],"undefined"!=typeof l[e].data[i].value?l[e].data[i].value=h:l[e].data[i]=h;c++}var d=this.option.series;for(e=0,n=d.length;n>e;e++)if(c++,d[e].type==o.CHART_TYPE_SCATTER)for(var i=0,r=d[e].data.length;r>i;i++)a=t[c],h=a.replace(" ","").split(","),"undefined"!=typeof d[e].data[i].value?d[e].data[i].value=h:d[e].data[i]=h,c++;else{a=t[c].split(",");for(var i=0,r=d[e].data.length;r>i;i++)h=(a[i]||"").replace(/.*:/,""),h=this._trim(h),h="-"!=h&&""!==h?h-0:"-","undefined"!=typeof d[e].data[i].value?d[e].data[i].value=h:d[e].data[i]=h;c++}},_trim:function(t){var e=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return t.replace(e,"")},_stop:function(t){t=t||window.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},resize:function(){this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._tDom.offsetHeight>10&&(this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText,this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;")},dispose:function(){window.removeEventListener?(this._tDom.removeEventListener("click",this._stop),this._tDom.removeEventListener("mousewheel",this._stop),this._tDom.removeEventListener("mousemove",this._stop),this._tDom.removeEventListener("mousedown",this._stop),this._tDom.removeEventListener("mouseup",this._stop),this._tDom.removeEventListener("touchstart",this._stop),this._tDom.removeEventListener("touchmove",this._stop),this._tDom.removeEventListener("touchend",this._stop)):(this._tDom.detachEvent("onclick",this._stop),this._tDom.detachEvent("onmousewheel",this._stop),this._tDom.detachEvent("onmousemove",this._stop),this._tDom.detachEvent("onmousedown",this._stop),this._tDom.detachEvent("onmouseup",this._stop)),this._buttonRefresh.onclick=null,this._buttonClose.onclick=null,this._hasShow&&(this._tDom.removeChild(this._textArea),this._tDom.removeChild(this._buttonRefresh),this._tDom.removeChild(this._buttonClose)),this._textArea=null,this._buttonRefresh=null,this._buttonClose=null,this.dom.firstChild.removeChild(this._tDom),this._tDom=null}},r.inherits(e,i),t("../component").define("dataView",e),e}),i("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(t){function e(t,e,o,r,n,s){if(r.data.length<1)return void console.error("option.data.length < 1.");i.call(this,t,e,o,r,n),this.grid=this.component.grid;for(var a in s)this[a]=s[a];this.refresh(r)}var i=t("./base"),o=t("zrender/shape/Text"),r=t("zrender/shape/Line"),n=t("zrender/shape/Rectangle"),s=t("../config");s.categoryAxis={zlevel:0,z:0,show:!0,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!0,interval:"auto",inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var a=t("zrender/tool/util"),h=t("zrender/tool/area");return e.prototype={type:s.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(t){var e=this.getDataFromOption(this.option.data[t]),i=this.option.data[t].formatter||this.option.axisLabel.formatter;return i&&("function"==typeof i?e=i.call(this.myChart,e):"string"==typeof i&&(e=i.replace("{value}",e))),e},_getInterval:function(){var t=this.option.axisLabel.interval;if("auto"==t){var e=this.option.axisLabel.textStyle.fontSize,i=this.option.data,o=this.option.data.length;if(this.isHorizontal())if(o>3){var r,n,s=this.getGap(),l=!1,c=Math.floor(.5/s);for(c=1>c?1:c,t=Math.floor(15/s);!l&&o>t;){t+=c,l=!0,r=Math.floor(s*t);for(var d=Math.floor((o-1)/t)*t;d>=0;d-=t){if(0!==this.option.axisLabel.rotate)n=e;else if(i[d].textStyle)n=h.getTextWidth(this._getReformedLabel(d),this.getFont(a.merge(i[d].textStyle,this.option.axisLabel.textStyle)));else{var u=this._getReformedLabel(d)+"",p=(u.match(/\w/g)||"").length,f=u.length-p;n=p*e*2/3+f*e}if(n>r){l=!1;break}}}}else t=1;else if(o>3){var s=this.getGap();for(t=Math.floor(11/s);e>s*t-6&&o>t;)t++}else t=1}else t="function"==typeof t?1:t-0+1;return t},_buildShape:function(){if(this._interval=this._getInterval(),this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t])}},_buildAxisTick:function(){var t,e=this.option.data,i=this.option.data.length,o=this.option.axisTick,n=o.length,s=o.lineStyle.color,a=o.lineStyle.width,h="function"==typeof o.interval?o.interval:"auto"==o.interval&&"function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,l=h?1:"auto"==o.interval?this._interval:o.interval-0+1,c=o.onGap,d=c?this.getGap()/2:"undefined"==typeof c&&this.option.boundaryGap?this.getGap()/2:0,u=d>0?-l:0;if(this.isHorizontal())for(var p,f="bottom"==this.option.position?o.inside?this.grid.getYend()-n-1:this.grid.getYend()+1:o.inside?this.grid.getY()+1:this.grid.getY()-n-1,g=u;i>g;g+=l)(!h||h(g,e[g]))&&(p=this.subPixelOptimize(this.getCoordByIndex(g)+(g>=0?d:0),a),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:p,yStart:f,xEnd:p,yEnd:f+n,strokeColor:s,lineWidth:a}},this.shapeList.push(new r(t)));else for(var m,_="left"==this.option.position?o.inside?this.grid.getX()+1:this.grid.getX()-n-1:o.inside?this.grid.getXend()-n-1:this.grid.getXend()+1,g=u;i>g;g+=l)(!h||h(g,e[g]))&&(m=this.subPixelOptimize(this.getCoordByIndex(g)-(g>=0?d:0),a),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:_,yStart:m,xEnd:_+n,yEnd:m,strokeColor:s,lineWidth:a}},this.shapeList.push(new r(t)))},_buildAxisLabel:function(){var t,e,i=this.option.data,r=this.option.data.length,n=this.option.axisLabel,s=n.rotate,h=n.margin,l=n.clickable,c=n.textStyle,d="function"==typeof n.interval?n.interval:!1;if(this.isHorizontal()){var u,p;"bottom"==this.option.position?(u=this.grid.getYend()+h,p="top"):(u=this.grid.getY()-h,p="bottom");for(var f=0;r>f;f+=this._interval)d&&!d(f,i[f])||""===this._getReformedLabel(f)||(e=a.merge(i[f].textStyle||{},c),t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoordByIndex(f),y:u,color:e.color,text:this._getReformedLabel(f),textFont:this.getFont(e),textAlign:e.align||"center",textBaseline:e.baseline||p}},s&&(t.style.textAlign=s>0?"bottom"==this.option.position?"right":"left":"bottom"==this.option.position?"left":"right",t.rotation=[s*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new o(this._axisLabelClickable(l,t))))
}else{var g,m;"left"==this.option.position?(g=this.grid.getX()-h,m="right"):(g=this.grid.getXend()+h,m="left");for(var f=0;r>f;f+=this._interval)d&&!d(f,i[f])||""===this._getReformedLabel(f)||(e=a.merge(i[f].textStyle||{},c),t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:g,y:this.getCoordByIndex(f),color:e.color,text:this._getReformedLabel(f),textFont:this.getFont(e),textAlign:e.align||m,textBaseline:e.baseline||0===f&&""!==this.option.name?"bottom":f==r-1&&""!==this.option.name?"top":"middle"}},s&&(t.rotation=[s*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new o(this._axisLabelClickable(l,t))))}},_buildSplitLine:function(){var t,e=this.option.data,i=this.option.data.length,o=this.option.splitLine,n=o.lineStyle.type,s=o.lineStyle.width,a=o.lineStyle.color;a=a instanceof Array?a:[a];var h=a.length,l="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,c=o.onGap,d=c?this.getGap()/2:"undefined"==typeof c&&this.option.boundaryGap?this.getGap()/2:0;if(i-=c||"undefined"==typeof c&&this.option.boundaryGap?1:0,this.isHorizontal())for(var u,p=this.grid.getY(),f=this.grid.getYend(),g=0;i>g;g+=this._interval)(!l||l(g,e[g]))&&(u=this.subPixelOptimize(this.getCoordByIndex(g)+d,s),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:u,yStart:p,xEnd:u,yEnd:f,strokeColor:a[g/this._interval%h],lineType:n,lineWidth:s}},this.shapeList.push(new r(t)));else for(var m,_=this.grid.getX(),y=this.grid.getXend(),g=0;i>g;g+=this._interval)(!l||l(g,e[g]))&&(m=this.subPixelOptimize(this.getCoordByIndex(g)-d,s),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:_,yStart:m,xEnd:y,yEnd:m,strokeColor:a[g/this._interval%h],lineType:n,lineWidth:s}},this.shapeList.push(new r(t)))},_buildSplitArea:function(){var t,e=this.option.data,i=this.option.splitArea,o=i.areaStyle.color;if(o instanceof Array){var r=o.length,s=this.option.data.length,a="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,h=i.onGap,l=h?this.getGap()/2:"undefined"==typeof h&&this.option.boundaryGap?this.getGap()/2:0;if(this.isHorizontal())for(var c,d=this.grid.getY(),u=this.grid.getHeight(),p=this.grid.getX(),f=0;s>=f;f+=this._interval)a&&!a(f,e[f])&&s>f||(c=s>f?this.getCoordByIndex(f)+l:this.grid.getXend(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:p,y:d,width:c-p,height:u,color:o[f/this._interval%r]}},this.shapeList.push(new n(t)),p=c);else for(var g,m=this.grid.getX(),_=this.grid.getWidth(),y=this.grid.getYend(),f=0;s>=f;f+=this._interval)a&&!a(f,e[f])&&s>f||(g=s>f?this.getCoordByIndex(f)-l:this.grid.getY(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:m,y:g,width:_,height:y-g,color:o[f/this._interval%r]}},this.shapeList.push(new n(t)),y=g)}else t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:o}},this.shapeList.push(new n(t))},refresh:function(t){t&&(this.option=this.reformOption(t),this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle)),this.clear(),this._buildShape()},getGap:function(){var t=this.option.data.length,e=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?e/t:e/(t>1?t-1:1)},getCoord:function(t){for(var e=this.option.data,i=e.length,o=this.getGap(),r=this.option.boundaryGap?o/2:0,n=0;i>n;n++){if(this.getDataFromOption(e[n])==t)return r=this.isHorizontal()?this.grid.getX()+r:this.grid.getYend()-r;r+=o}},getCoordByIndex:function(t){if(0>t)return this.isHorizontal()?this.grid.getX():this.grid.getYend();if(t>this.option.data.length-1)return this.isHorizontal()?this.grid.getXend():this.grid.getY();var e=this.getGap(),i=this.option.boundaryGap?e/2:0;return i+=t*e,i=this.isHorizontal()?this.grid.getX()+i:this.grid.getYend()-i},getNameByIndex:function(t){return this.getDataFromOption(this.option.data[t])},getIndexByName:function(t){for(var e=this.option.data,i=e.length,o=0;i>o;o++)if(this.getDataFromOption(e[o])==t)return o;return-1},getValueFromCoord:function(){return""},isMainAxis:function(t){return t%this._interval===0}},a.inherits(e,i),t("../component").define("categoryAxis",e),e}),i("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../util/smartLogSteps","../component"],function(t){function e(t,e,o,r,n,s,a){if(!a||0===a.length)return void console.err("option.series.length == 0.");i.call(this,t,e,o,r,n),this.series=a,this.grid=this.component.grid;for(var h in s)this[h]=s[h];this.refresh(r,a)}var i=t("./base"),o=t("zrender/shape/Text"),r=t("zrender/shape/Line"),n=t("zrender/shape/Rectangle"),s=t("../config");s.valueAxis={zlevel:0,z:0,show:!0,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var a=t("../util/date"),h=t("zrender/tool/util");return e.prototype={type:s.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){if(this._hasData=!1,this._calculateValue(),this._hasData&&this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t])}},_buildAxisTick:function(){var t,e=this._valueList,i=this._valueList.length,o=this.option.axisTick,n=o.length,s=o.lineStyle.color,a=o.lineStyle.width;if(this.isHorizontal())for(var h,l="bottom"===this.option.position?o.inside?this.grid.getYend()-n-1:this.grid.getYend()+1:o.inside?this.grid.getY()+1:this.grid.getY()-n-1,c=0;i>c;c++)h=this.subPixelOptimize(this.getCoord(e[c]),a),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:h,yStart:l,xEnd:h,yEnd:l+n,strokeColor:s,lineWidth:a}},this.shapeList.push(new r(t));else for(var d,u="left"===this.option.position?o.inside?this.grid.getX()+1:this.grid.getX()-n-1:o.inside?this.grid.getXend()-n-1:this.grid.getXend()+1,c=0;i>c;c++)d=this.subPixelOptimize(this.getCoord(e[c]),a),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:u,yStart:d,xEnd:u+n,yEnd:d,strokeColor:s,lineWidth:a}},this.shapeList.push(new r(t))},_buildAxisLabel:function(){var t,e=this._valueList,i=this._valueList.length,r=this.option.axisLabel.rotate,n=this.option.axisLabel.margin,s=this.option.axisLabel.clickable,a=this.option.axisLabel.textStyle;if(this.isHorizontal()){var h,l;"bottom"===this.option.position?(h=this.grid.getYend()+n,l="top"):(h=this.grid.getY()-n,l="bottom");for(var c=0;i>c;c++)t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoord(e[c]),y:h,color:"function"==typeof a.color?a.color(e[c]):a.color,text:this._valueLabel[c],textFont:this.getFont(a),textAlign:a.align||"center",textBaseline:a.baseline||l}},r&&(t.style.textAlign=r>0?"bottom"===this.option.position?"right":"left":"bottom"===this.option.position?"left":"right",t.rotation=[r*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new o(this._axisLabelClickable(s,t)))}else{var d,u;"left"===this.option.position?(d=this.grid.getX()-n,u="right"):(d=this.grid.getXend()+n,u="left");for(var c=0;i>c;c++)t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:d,y:this.getCoord(e[c]),color:"function"==typeof a.color?a.color(e[c]):a.color,text:this._valueLabel[c],textFont:this.getFont(a),textAlign:a.align||u,textBaseline:a.baseline||(0===c&&""!==this.option.name?"bottom":c===i-1&&""!==this.option.name?"top":"middle")}},r&&(t.rotation=[r*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new o(this._axisLabelClickable(s,t)))}},_buildSplitLine:function(){var t,e=this._valueList,i=this._valueList.length,o=this.option.splitLine,n=o.lineStyle.type,s=o.lineStyle.width,a=o.lineStyle.color;a=a instanceof Array?a:[a];var h=a.length;if(this.isHorizontal())for(var l,c=this.grid.getY(),d=this.grid.getYend(),u=0;i>u;u++)l=this.subPixelOptimize(this.getCoord(e[u]),s),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:l,yStart:c,xEnd:l,yEnd:d,strokeColor:a[u%h],lineType:n,lineWidth:s}},this.shapeList.push(new r(t));else for(var p,f=this.grid.getX(),g=this.grid.getXend(),u=0;i>u;u++)p=this.subPixelOptimize(this.getCoord(e[u]),s),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:f,yStart:p,xEnd:g,yEnd:p,strokeColor:a[u%h],lineType:n,lineWidth:s}},this.shapeList.push(new r(t))},_buildSplitArea:function(){var t,e=this.option.splitArea.areaStyle.color;if(e instanceof Array){var i=e.length,o=this._valueList,r=this._valueList.length;if(this.isHorizontal())for(var s,a=this.grid.getY(),h=this.grid.getHeight(),l=this.grid.getX(),c=0;r>=c;c++)s=r>c?this.getCoord(o[c]):this.grid.getXend(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:l,y:a,width:s-l,height:h,color:e[c%i]}},this.shapeList.push(new n(t)),l=s;else for(var d,u=this.grid.getX(),p=this.grid.getWidth(),f=this.grid.getYend(),c=0;r>=c;c++)d=r>c?this.getCoord(o[c]):this.grid.getY(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:u,y:d,width:p,height:f-d,color:e[c%i]}},this.shapeList.push(new n(t)),f=d}else t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:e}},this.shapeList.push(new n(t))},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var t,e,i={},o=this.component.legend,r=0,n=this.series.length;n>r;r++)!(this.series[r].type!=s.CHART_TYPE_LINE&&this.series[r].type!=s.CHART_TYPE_BAR&&this.series[r].type!=s.CHART_TYPE_SCATTER&&this.series[r].type!=s.CHART_TYPE_K&&this.series[r].type!=s.CHART_TYPE_EVENTRIVER||o&&!o.isSelected(this.series[r].name)||(t=this.series[r].xAxisIndex||0,e=this.series[r].yAxisIndex||0,this.option.xAxisIndex!=t&&this.option.yAxisIndex!=e||!this._calculSum(i,r)));var a;for(var r in i){a=i[r];for(var h=0,l=a.length;l>h;h++)if(!isNaN(a[h])){this._hasData=!0,this._min=a[h],this._max=a[h];break}if(this._hasData)break}for(var r in i){a=i[r];for(var h=0,l=a.length;l>h;h++)isNaN(a[h])||(this._min=Math.min(this._min,a[h]),this._max=Math.max(this._max,a[h]))}var c="log"!==this.option.type?this.option.boundaryGap:[0,0],d=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(d*c[0]):this.option.min-0,this._max=isNaN(this.option.max-0)?this._max+Math.abs(d*c[1]):this.option.max-0,this._min===this._max&&(0===this._max?this._max=1:this._max>0?this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5:this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5),"time"===this.option.type?this._reformTimeValue():"log"===this.option.type?this._reformLogValue():this._reformValue(this.option.scale)}else this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,"time"===this.option.type?this._reformTimeValue():"log"===this.option.type?this._reformLogValue():this._customerValue()},_calculSum:function(t,e){var i,o,r=this.series[e].name||"kener";if(this.series[e].stack){var n="__Magic_Key_Positive__"+this.series[e].stack,h="__Magic_Key_Negative__"+this.series[e].stack;t[n]=t[n]||[],t[h]=t[h]||[],t[r]=t[r]||[],o=this.series[e].data;for(var l=0,c=o.length;c>l;l++)i=this.getDataFromOption(o[l]),"-"!==i&&(i-=0,i>=0?null!=t[n][l]?t[n][l]+=i:t[n][l]=i:null!=t[h][l]?t[h][l]+=i:t[h][l]=i,this.option.scale&&t[r].push(i))}else if(t[r]=t[r]||[],this.series[e].type!=s.CHART_TYPE_EVENTRIVER){o=this.series[e].data;for(var l=0,c=o.length;c>l;l++)i=this.getDataFromOption(o[l]),this.series[e].type===s.CHART_TYPE_K?(t[r].push(i[0]),t[r].push(i[1]),t[r].push(i[2]),t[r].push(i[3])):i instanceof Array?(-1!=this.option.xAxisIndex&&t[r].push("time"!=this.option.type?i[0]:a.getNewDate(i[0])),-1!=this.option.yAxisIndex&&t[r].push("time"!=this.option.type?i[1]:a.getNewDate(i[1]))):t[r].push(i)}else{o=this.series[e].data;for(var l=0,c=o.length;c>l;l++)for(var d=o[l].evolution,u=0,p=d.length;p>u;u++)t[r].push(a.getNewDate(d[u].time))}},_reformValue:function(e){var i=t("../util/smartSteps"),o=this.option.splitNumber;!e&&this._min>=0&&this._max>=0&&(this._min=0),!e&&this._min<=0&&this._max<=0&&(this._max=0);var r=i(this._min,this._max,o);o=null!=o?o:r.secs,this._min=r.min,this._max=r.max,this._valueList=r.pnts,this._reformLabelData()},_reformTimeValue:function(){var t=null!=this.option.splitNumber?this.option.splitNumber:5,e=a.getAutoFormatter(this._min,this._max,t),i=e.formatter,o=e.gapValue;this._valueList=[a.getNewDate(this._min)];var r;switch(i){case"week":r=a.nextMonday(this._min);break;case"month":r=a.nextNthOnMonth(this._min,1);break;case"quarter":r=a.nextNthOnQuarterYear(this._min,1);break;case"half-year":r=a.nextNthOnHalfYear(this._min,1);break;case"year":r=a.nextNthOnYear(this._min,1);break;default:72e5>=o?r=(Math.floor(this._min/o)+1)*o:(r=a.getNewDate(this._min- -o),r.setHours(6*Math.round(r.getHours()/6)),r.setMinutes(0),r.setSeconds(0))}for(r-this._min<o/2&&(r-=-o),e=a.getNewDate(r),t*=1.5;t-->=0&&(("month"==i||"quarter"==i||"half-year"==i||"year"==i)&&e.setDate(1),!(this._max-e<o/2));)this._valueList.push(e),e=a.getNewDate(e- -o);this._valueList.push(a.getNewDate(this._max)),this._reformLabelData(function(t){return function(e){return a.format(t,e)}}(i))},_customerValue:function(){var e=t("../util/accMath"),i=null!=this.option.splitNumber?this.option.splitNumber:5,o=(this._max-this._min)/i;this._valueList=[];for(var r=0;i>=r;r++)this._valueList.push(e.accAdd(this._min,e.accMul(o,r)));this._reformLabelData()},_reformLogValue:function(){var e=this.option,i=t("../util/smartLogSteps")({dataMin:this._min,dataMax:this._max,logPositive:e.logPositive,logLabelBase:e.logLabelBase,splitNumber:e.splitNumber});this._min=i.dataMin,this._max=i.dataMax,this._valueList=i.tickList,this._dataMappingMethods=i.dataMappingMethods,this._reformLabelData(i.labelFormatter)},_reformLabelData:function(t){this._valueLabel=[];var e=this.option.axisLabel.formatter;if(e)for(var i=0,o=this._valueList.length;o>i;i++)"function"==typeof e?this._valueLabel.push(t?e.call(this.myChart,this._valueList[i],t):e.call(this.myChart,this._valueList[i])):"string"==typeof e&&this._valueLabel.push(t?a.format(e,this._valueList[i]):e.replace("{value}",this._valueList[i]));else for(var i=0,o=this._valueList.length;o>i;i++)this._valueLabel.push(t?t(this._valueList[i]):this.numAddCommas(this._valueList[i]))},getExtremum:function(){this._calculateValue();var t=this._dataMappingMethods;return{min:this._min,max:this._max,dataMappingMethods:t?h.merge({},t):null}},refresh:function(t,e){t&&(this.option=this.reformOption(t),this.option.axisLabel.textStyle=h.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=e),this.zr&&(this.clear(),this._buildShape())},getCoord:function(t){this._dataMappingMethods&&(t=this._dataMappingMethods.value2Coord(t)),t=t<this._min?this._min:t,t=t>this._max?this._max:t;var e;return e=this.isHorizontal()?this.grid.getX()+(t-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(t-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(t){return Math.abs(this.isHorizontal()?t/(this._max-this._min)*this.grid.getWidth():t/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(t){var e;return this.isHorizontal()?(t=t<this.grid.getX()?this.grid.getX():t,t=t>this.grid.getXend()?this.grid.getXend():t,e=this._min+(t-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(t=t<this.grid.getY()?this.grid.getY():t,t=t>this.grid.getYend()?this.grid.getYend():t,e=this._max-(t-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)),this._dataMappingMethods&&(e=this._dataMappingMethods.coord2Value(e)),e.toFixed(2)-0},isMaindAxis:function(t){for(var e=0,i=this._valueList.length;i>e;e++)if(this._valueList[e]===t)return!0;return!1}},h.inherits(e,i),t("../component").define("valueAxis",e),e}),i("echarts/util/smartLogSteps",["require","./number"],function(t){function e(t){return i(),m=t||{},o(),r(),[n(),i()][0]}function i(){u=m=y=g=v=x=_=b=p=f=null}function o(){p=m.logLabelBase,null==p?(f="plain",p=10,g=M):(p=+p,1>p&&(p=10),f="exponent",g=z(p)),_=m.splitNumber,null==_&&(_=O);var t=parseFloat(m.dataMin),e=parseFloat(m.dataMax);isFinite(t)||isFinite(e)?isFinite(t)?isFinite(e)?t>e&&(e=[t,t=e][0]):e=t:t=e:t=e=1,u=m.logPositive,null==u&&(u=e>0||0===t),v=u?t:-e,x=u?e:-t,P>v&&(v=P),P>x&&(x=P)}function r(){function t(){_>c&&(_=c);var t=L(h(c/_)),e=w(h(c/t)),i=t*e,o=(i-u)/2,r=L(h(s-o));d(r-s)&&(r-=1),y=-r*g;for(var a=r;n>=a-t;a+=t)b.push(C(p,a))}function e(){for(var t=i(l,0),e=t+2;e>t&&r(t+1)+o(t+1)*I<s;)t++;for(var h=i(a,0),e=h-2;h>e&&r(h-1)+o(h-1)*I>n;)h--;y=-(r(t)*M+o(t)*k);for(var c=t;h>=c;c++){var d=r(c),u=o(c);b.push(C(10,d)*C(2,u))}}function i(t,e){return 3*t+e}function o(t){return t-3*r(t)}function r(t){return L(h(t/3))}b=[];var n=h(z(x)/g),s=h(z(v)/g),a=w(n),l=L(s),c=a-l,u=n-s;"exponent"===f?t():D>=c&&_>D?e():t()}function n(){for(var t=[],e=0,i=b.length;i>e;e++)t[e]=(u?1:-1)*b[e];!u&&t.reverse();var o=a(),r=o.value2Coord,n=r(t[0]),h=r(t[t.length-1]);return n===h&&(n-=1,h+=1),{dataMin:n,dataMax:h,tickList:t,logPositive:u,labelFormatter:s(),dataMappingMethods:o}}function s(){if("exponent"===f){var t=p,e=g;return function(i){if(!isFinite(parseFloat(i)))return"";var o="";return 0>i&&(i=-i,o="-"),o+t+c(z(i)/e)}}return function(t){return isFinite(parseFloat(t))?T.addCommas(l(t)):""}}function a(){var t=u,e=y;return{value2Coord:function(i){return null==i||isNaN(i)||!isFinite(i)?i:(i=parseFloat(i),isFinite(i)?t&&P>i?i=P:!t&&i>-P&&(i=-P):i=P,i=E(i),(t?1:-1)*(z(i)+e))},coord2Value:function(i){return null==i||isNaN(i)||!isFinite(i)?i:(i=parseFloat(i),isFinite(i)||(i=P),t?C(A,i-e):-C(A,-i+e))}}}function h(t){return+Number(+t).toFixed(14)}function l(t){return Number(t).toFixed(15).replace(/\.?0*$/,"")}function c(t){t=l(Math.round(t));for(var e=[],i=0,o=t.length;o>i;i++){var r=t.charAt(i);e.push(R[r]||"")}return e.join("")}function d(t){return t>-P&&P>t}var u,p,f,g,m,_,y,v,x,b,T=t("./number"),S=Math,z=S.log,C=S.pow,E=S.abs,w=S.ceil,L=S.floor,A=S.E,M=S.LN10,k=S.LN2,I=k/M,P=1e-9,O=5,D=2,R={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻"};return e}),i("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(t){function e(t){i.call(this,t)}var i=t("zrender/shape/Base"),o=t("zrender/shape/Line"),r=t("zrender/tool/util");return e.prototype={type:"cross",buildPath:function(t,e){var i=e.rect;e.xStart=i.x,e.xEnd=i.x+i.width,e.yStart=e.yEnd=e.y,o.prototype.buildPath(t,e),e.xStart=e.xEnd=e.x,e.yStart=i.y,e.yEnd=i.y+i.height,o.prototype.buildPath(t,e)},getRect:function(t){return t.rect},isCover:t("./normalIsCover")},r.inherits(e,i),e}),i("echarts/util/date",[],function(){function t(t,e,i){i=i>1?i:2;for(var o,r,n,s,a=0,h=c.length;h>a;a++)if(o=c[a].value,r=Math.ceil(e/o)*o-Math.floor(t/o)*o,Math.round(r/o)<=1.2*i){n=c[a].formatter,s=c[a].value;break}return null==n&&(n="year",o=317088e5,r=Math.ceil(e/o)*o-Math.floor(t/o)*o,s=Math.round(r/(i-1)/o)*o),{formatter:n,gapValue:s}}function e(t){return 10>t?"0"+t:t}function i(t,i){("week"==t||"month"==t||"quarter"==t||"half-year"==t||"year"==t)&&(t="MM - dd\nyyyy");var o=l(i),r=o.getFullYear(),n=o.getMonth()+1,s=o.getDate(),a=o.getHours(),h=o.getMinutes(),c=o.getSeconds();return t=t.replace("MM",e(n)),t=t.toLowerCase(),t=t.replace("yyyy",r),t=t.replace("yy",r%100),t=t.replace("dd",e(s)),t=t.replace("d",s),t=t.replace("hh",e(a)),t=t.replace("h",a),t=t.replace("mm",e(h)),t=t.replace("m",h),t=t.replace("ss",e(c)),t=t.replace("s",c)}function o(t){return t=l(t),t.setDate(t.getDate()+8-t.getDay()),t}function r(t,e,i){return t=l(t),t.setMonth(Math.ceil((t.getMonth()+1)/i)*i),t.setDate(e),t}function n(t,e){return r(t,e,1)}function s(t,e){return r(t,e,3)}function a(t,e){return r(t,e,6)}function h(t,e){return r(t,e,12)}function l(t){return t instanceof Date?t:new Date("string"==typeof t?t.replace(/-/g,"/"):t)}var c=[{formatter:"hh : mm : ss",value:1e3},{formatter:"hh : mm : ss",value:5e3},{formatter:"hh : mm : ss",value:1e4},{formatter:"hh : mm : ss",value:15e3},{formatter:"hh : mm : ss",value:3e4},{formatter:"hh : mm\nMM - dd",value:6e4},{formatter:"hh : mm\nMM - dd",value:3e5},{formatter:"hh : mm\nMM - dd",value:6e5},{formatter:"hh : mm\nMM - dd",value:9e5},{formatter:"hh : mm\nMM - dd",value:18e5},{formatter:"hh : mm\nMM - dd",value:36e5},{formatter:"hh : mm\nMM - dd",value:72e5},{formatter:"hh : mm\nMM - dd",value:216e5},{formatter:"hh : mm\nMM - dd",value:432e5},{formatter:"MM - dd\nyyyy",value:864e5},{formatter:"week",value:6048e5},{formatter:"month",value:26784e5},{formatter:"quarter",value:8208e6},{formatter:"half-year",value:16416e6},{formatter:"year",value:32832e6}];return{getAutoFormatter:t,getNewDate:l,format:i,nextMonday:o,nextNthPerNmonth:r,nextNthOnMonth:n,nextNthOnQuarterYear:s,nextNthOnHalfYear:a,nextNthOnYear:h}}),i("echarts/util/smartSteps",[],function(){function t(t){return E.log(M(t))/E.LN10}function e(t){return E.pow(10,t)}function i(t){return t===L(t)}function o(t,e,o,r){v=r||{},x=v.steps||z,b=v.secs||C,o=w(+o||0)%99,t=+t||0,e=+e||0,T=S=0,"min"in v&&(t=+v.min||0,T=1),"max"in v&&(e=+v.max||0,S=1),t>e&&(e=[t,t=e][0]);var n=e-t;if(T&&S)return y(t,e,o);if((o||5)>n){if(i(t)&&i(e))return p(t,e,o);if(0===n)return f(t,e,o)}return l(t,e,o)}function r(t,i,o,r){r=r||0;var a=n((i-t)/o,-1),h=n(t,-1,1),l=n(i,-1),c=E.min(a.e,h.e,l.e);0===h.c?c=E.min(a.e,l.e):0===l.c&&(c=E.min(a.e,h.e)),s(a,{c:0,e:c}),s(h,a,1),s(l,a),r+=c,t=h.c,i=l.c;for(var d=(i-t)/o,u=e(r),p=0,f=[],g=o+1;g--;)f[g]=(t+d*g)*u;if(0>r){p=m(u),d=+(d*u).toFixed(p),t=+(t*u).toFixed(p),i=+(i*u).toFixed(p);for(var g=f.length;g--;)f[g]=f[g].toFixed(p),0===+f[g]&&(f[g]="0")}else t*=u,i*=u,d*=u;return b=0,x=0,v=0,{min:t,max:i,secs:o,step:d,fix:p,exp:r,pnts:f}}function n(o,r,n){r=w(r%10)||2,0>r&&(i(o)?r=(""+M(o)).replace(/0+$/,"").length||1:(o=o.toFixed(15).replace(/0+$/,""),r=o.replace(".","").replace(/^[-0]+/,"").length,o=+o));var s=L(t(o))-r+1,a=+(o*e(-s)).toFixed(15)||0;return a=n?L(a):A(a),!a&&(s=0),(""+M(a)).length>r&&(s+=1,a/=10),{c:a,e:s}}function s(t,i,o){var r=i.e-t.e;r&&(t.e+=r,t.c*=e(-r),t.c=o?L(t.c):A(t.c))}function a(t,e,i){t.e<e.e?s(e,t,i):s(t,e,i)}function h(t,e){e=e||z,t=n(t);for(var i=t.c,o=0;i>e[o];)o++;if(!e[o])for(i/=10,t.e+=1,o=0;i>e[o];)o++;return t.c=e[o],t}function l(t,e,o){var a,l=o||+b.slice(-1),f=h((e-t)/l,x),m=n(e-t),y=n(t,-1,1),v=n(e,-1);if(s(m,f),s(y,f,1),s(v,f),o?a=d(y,v,l):l=c(y,v),i(t)&&i(e)&&t*e>=0){if(l>e-t)return p(t,e,l);l=u(t,e,o,y,v,l)}var z=g(t,e,y.c,v.c);return y.c=z[0],v.c=z[1],(T||S)&&_(t,e,y,v),r(y.c,v.c,l,v.e)}function c(t,i){for(var o,r,n,s,a=[],l=b.length;l--;)o=b[l],r=h((i.c-t.c)/o,x),r=r.c*e(r.e),n=L(t.c/r)*r,s=A(i.c/r)*r,a[l]={min:n,max:s,step:r,span:s-n};return a.sort(function(t,e){var i=t.span-e.span;return 0===i&&(i=t.step-e.step),i}),a=a[0],o=a.span/a.step,t.c=a.min,i.c=a.max,3>o?2*o:o}function d(t,i,o){for(var r,n,s=i.c,a=(i.c-t.c)/o-1;s>t.c;)a=h(a+1,x),a=a.c*e(a.e),r=a*o,n=A(i.c/a)*a,s=n-r;var l=t.c-s,c=n-i.c,d=l-c;return d>1.1*a&&(d=w(d/a/2)*a,s+=d,n+=d),t.c=s,i.c=n,a}function u(t,o,r,n,s,a){var h=s.c-n.c,l=h/a*e(s.e);if(!i(l)&&(l=L(l),h=l*a,o-t>h&&(l+=1,h=l*a,!r&&l*(a-1)>=o-t&&(a-=1,h=l*a)),h>=o-t)){var c=h-(o-t);n.c=w(t-c/2),s.c=w(o+c/2),n.e=0,s.e=0}return a}function p(t,e,i){if(i=i||5,T)e=t+i;else if(S)t=e-i;else{var o=i-(e-t),n=w(t-o/2),s=w(e+o/2),a=g(t,e,n,s);t=a[0],e=a[1]}return r(t,e,i)}function f(t,e,i){i=i||5;var o=E.min(M(e/i),i)/2.1;return T?e=t+o:S?t=e-o:(t-=o,e+=o),l(t,e,i)}function g(t,e,i,o){return t>=0&&0>i?(o-=i,i=0):0>=e&&o>0&&(i-=o,o=0),[i,o]}function m(t){return t=(+t).toFixed(15).split("."),t.pop().replace(/0+$/,"").length}function _(t,e,i,o){if(T){var r=n(t,4,1);i.e-r.e>6&&(r={c:0,e:i.e}),a(i,r),a(o,r),o.c+=r.c-i.c,i.c=r.c}else if(S){var s=n(e,4);o.e-s.e>6&&(s={c:0,e:o.e}),a(i,s),a(o,s),i.c+=s.c-o.c,o.c=s.c}}function y(t,e,i){var o=i?[i]:b,a=e-t;if(0===a)return e=n(e,3),i=o[0],e.c=w(e.c+i/2),r(e.c-i,e.c,i,e.e);M(e/a)<1e-6&&(e=0),M(t/a)<1e-6&&(t=0);var h,l,c,d=[[5,10],[10,2],[50,10],[100,2]],u=[],p=[],f=n(e-t,3),g=n(t,-1,1),m=n(e,-1);s(g,f,1),s(m,f),a=m.c-g.c,f.c=a;for(var _=o.length;_--;){i=o[_],h=A(a/i),l=h*i-a,c=3*(l+3),c+=2*(i-o[0]+2),i%5===0&&(c-=10);for(var y=d.length;y--;)h%d[y][0]===0&&(c/=d[y][1]);p[_]=[i,h,l,c].join(),u[_]={secs:i,step:h,delta:l,score:c}}return u.sort(function(t,e){return t.score-e.score}),u=u[0],g.c=w(g.c-u.delta/2),m.c=w(m.c+u.delta/2),r(g.c,m.c,u.secs,f.e)}var v,x,b,T,S,z=[10,20,25,50],C=[4,5,6],E=Math,w=E.round,L=E.floor,A=E.ceil,M=E.abs;return o}),i("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(t){function e(t){i.call(this,t)}var i=t("zrender/shape/Base"),o=t("zrender/tool/util");return e.prototype={type:"candle",_numberOrder:function(t,e){return e-t},buildPath:function(t,e){var i=o.clone(e.y).sort(this._numberOrder);t.moveTo(e.x,i[3]),t.lineTo(e.x,i[2]),t.moveTo(e.x-e.width/2,i[2]),t.rect(e.x-e.width/2,i[2],e.width,i[1]-i[2]),t.moveTo(e.x,i[1]),t.lineTo(e.x,i[0])},getRect:function(t){if(!t.__rect){var e=0;("stroke"==t.brushType||"fill"==t.brushType)&&(e=t.lineWidth||1);var i=o.clone(t.y).sort(this._numberOrder);t.__rect={x:Math.round(t.x-t.width/2-e/2),y:Math.round(i[3]-e/2),width:t.width+e,height:i[0]-i[3]+e}}return t.__rect},isCover:t("./normalIsCover")},o.inherits(e,i),e}),i("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(t){function e(t){i.call(this,t)}var i=t("zrender/shape/Base"),o=t("./Icon"),r=t("zrender/shape/util/dashedLineTo"),n=t("zrender/tool/util"),s=t("zrender/tool/matrix");return e.prototype={type:"chain",brush:function(t,e){var i=this.style;e&&(i=this.getHighlightStyle(i,this.highlightStyle||{})),t.save(),this.setContext(t,i),this.setTransform(t),t.save(),t.beginPath(),this.buildLinePath(t,i),t.stroke(),t.restore(),this.brushSymbol(t,i),t.restore()},buildLinePath:function(t,e){var i=e.x,o=e.y+5,n=e.width,s=e.height/2-10;if(t.moveTo(i,o),t.lineTo(i,o+s),t.moveTo(i+n,o),t.lineTo(i+n,o+s),t.moveTo(i,o+s/2),e.lineType&&"solid"!=e.lineType){if("dashed"==e.lineType||"dotted"==e.lineType){var a=(e.lineWidth||1)*("dashed"==e.lineType?5:1);r(t,i,o+s/2,i+n,o+s/2,a)}}else t.lineTo(i+n,o+s/2)},brushSymbol:function(t,e){var i=e.y+e.height/4;t.save();for(var r,n=e.chainPoint,s=0,a=n.length;a>s;s++){if(r=n[s],"none"!=r.symbol){t.beginPath();var h=r.symbolSize;o.prototype.buildPath(t,{iconType:r.symbol,x:r.x-h,y:i-h,width:2*h,height:2*h,n:r.n}),t.fillStyle=r.isEmpty?"#fff":e.strokeColor,t.closePath(),t.fill(),t.stroke()}r.showLabel&&(t.font=r.textFont,t.fillStyle=r.textColor,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline,r.rotation?(t.save(),this._updateTextTransform(t,r.rotation),t.fillText(r.name,r.textX,r.textY),t.restore()):t.fillText(r.name,r.textX,r.textY))}t.restore()},_updateTextTransform:function(t,e){var i=s.create();if(s.identity(i),0!==e[0]){var o=e[1]||0,r=e[2]||0;(o||r)&&s.translate(i,i,[-o,-r]),s.rotate(i,i,e[0]),(o||r)&&s.translate(i,i,[o,r])}t.transform.apply(t,i)},isCover:function(t,e){var i=this.style;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height?!0:!1}},n.inherits(e,i),e}),i("zrender",["zrender/zrender"],function(t){return t}),i("echarts",["echarts/echarts"],function(t){return t});var o=e("zrender");o.tool={color:e("zrender/tool/color"),math:e("zrender/tool/math"),util:e("zrender/tool/util"),vector:e("zrender/tool/vector"),area:e("zrender/tool/area"),event:e("zrender/tool/event")},o.animation={Animation:e("zrender/animation/Animation"),Cip:e("zrender/animation/Clip"),easing:e("zrender/animation/easing")};var r=e("echarts");r.config=e("echarts/config"),e("echarts/chart/line"),e("echarts/chart/pie"),t.echarts=r,t.zrender=o}(window),i.exports=echarts});
;define("common:widget/ui/donut/donut",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/lib/eventEmitter","common:widget/oui/lib/highcharts/3.0.5/highcharts"],function(t,e,i){function n(t){t=t||[];for(var e=[],i=!0,n=0,o=t.length;o>n;n++){var c=r.extend(!0,{},t[n]);c.y<=0?c.y=0:i=!1,e[n]=c}if(i)for(var n=0,o=e.length;o>n;n++){var c=e[n];c.y=88,c.color="#d6d6d6"}return e}function o(t){if(!t.container)throw new Error("Donut 构造函数,必须传递  container  DOM引用");var e=n(t.data),i=this;this.chart=new s.Chart({credits:{enabled:!1},chart:{renderTo:t.container,type:"pie",width:t.width||300,height:t.height||300,spacing:[0,0,0,0]},title:{text:null},tooltip:{enabled:!1},plotOptions:{pie:{shadow:!1,allowPointSelect:!1},series:{animation:!1,point:{events:{click:function(){return i.trigger("click",this.options),!1},mouseOver:function(){this.select(!0)},mouseOut:function(){this.select(!1)},select:function(){i.trigger("select",this.options)},unselect:function(){i.trigger("unselect",this.options)}}}}},series:[{name:null,data:e,innerSize:"40%",dataLabels:{enabled:!1}}]})}var r=t("common:widget/oui/lib/jquery/1.9.1/jquery"),c=t("common:widget/ui/lib/eventEmitter"),s=t("common:widget/oui/lib/highcharts/3.0.5/highcharts");r.extend(o.prototype,c.prototype),r.extend(o.prototype,{destroy:function(){this.chart&&(this.chart.destroy(),this.chart=null)},selectPointById:function(t){var e=this.chart.get(t);return e&&e.select(!0),this},unselectPointById:function(t){var e=this.chart.get(t);return e&&e.select(!1),this},clickPointById:function(t){var e=this.chart.get(t);return e&&this.trigger("click",e.options),this}}),i.exports=o});
;!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("common:widget/ui/lib/handlebars",e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){function e(i){if(s[i])return s[i].exports;var r=s[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";function i(){var t=v();return t.compile=function(e,s){return l.compile(e,s,t)},t.precompile=function(e,s){return l.precompile(e,s,t)},t.AST=h["default"],t.Compiler=l.Compiler,t.JavaScriptCompiler=u["default"],t.Parser=c.parser,t.parse=c.parse,t}var r=s(8)["default"];e.__esModule=!0;var n=s(1),a=r(n),o=s(2),h=r(o),c=s(3),l=s(4),p=s(5),u=r(p),f=s(6),d=r(f),m=s(7),g=r(m),v=a["default"].create,y=i();y.create=i,g["default"](y),y.Visitor=d["default"],y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e,s){"use strict";function i(){var t=new o.HandlebarsEnvironment;return f.extend(t,o),t.SafeString=c["default"],t.Exception=p["default"],t.Utils=f,t.escapeExpression=f.escapeExpression,t.VM=m,t.template=function(e){return m.template(e,t)},t}var r=s(9)["default"],n=s(8)["default"];e.__esModule=!0;var a=s(10),o=r(a),h=s(11),c=n(h),l=s(12),p=n(l),u=s(13),f=r(u),d=s(14),m=r(d),g=s(7),v=n(g),y=i();y.create=i,v["default"](y),y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0;var s={Program:function(t,e,s,i){this.loc=i,this.type="Program",this.body=t,this.blockParams=e,this.strip=s},MustacheStatement:function(t,e,s,i,r,n){this.loc=n,this.type="MustacheStatement",this.path=t,this.params=e||[],this.hash=s,this.escaped=i,this.strip=r},BlockStatement:function(t,e,s,i,r,n,a,o,h){this.loc=h,this.type="BlockStatement",this.path=t,this.params=e||[],this.hash=s,this.program=i,this.inverse=r,this.openStrip=n,this.inverseStrip=a,this.closeStrip=o},PartialStatement:function(t,e,s,i,r){this.loc=r,this.type="PartialStatement",this.name=t,this.params=e||[],this.hash=s,this.indent="",this.strip=i},ContentStatement:function(t,e){this.loc=e,this.type="ContentStatement",this.original=this.value=t},CommentStatement:function(t,e,s){this.loc=s,this.type="CommentStatement",this.value=t,this.strip=e},SubExpression:function(t,e,s,i){this.loc=i,this.type="SubExpression",this.path=t,this.params=e||[],this.hash=s},PathExpression:function(t,e,s,i,r){this.loc=r,this.type="PathExpression",this.data=t,this.original=i,this.parts=s,this.depth=e},StringLiteral:function(t,e){this.loc=e,this.type="StringLiteral",this.original=this.value=t},NumberLiteral:function(t,e){this.loc=e,this.type="NumberLiteral",this.original=this.value=Number(t)},BooleanLiteral:function(t,e){this.loc=e,this.type="BooleanLiteral",this.original=this.value="true"===t},UndefinedLiteral:function(t){this.loc=t,this.type="UndefinedLiteral",this.original=this.value=void 0},NullLiteral:function(t){this.loc=t,this.type="NullLiteral",this.original=this.value=null},Hash:function(t,e){this.loc=e,this.type="Hash",this.pairs=t},HashPair:function(t,e,s){this.loc=s,this.type="HashPair",this.key=t,this.value=e},helpers:{helperExpression:function(t){return!("SubExpression"!==t.type&&!t.params.length&&!t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!s.helpers.scopedId(t)&&!t.depth}}};e["default"]=s,t.exports=e["default"]},function(t,e,s){"use strict";function i(t,e){if("Program"===t.type)return t;o["default"].yy=m,m.locInfo=function(t){return new m.SourceLocation(e&&e.srcName,t)};var s=new p["default"];return s.accept(o["default"].parse(t))}var r=s(8)["default"],n=s(9)["default"];e.__esModule=!0,e.parse=i;var a=s(15),o=r(a),h=s(2),c=r(h),l=s(16),p=r(l),u=s(17),f=n(u),d=s(13);e.parser=o["default"];var m={};d.extend(m,f,c["default"])},function(t,e,s){"use strict";function i(){}function r(t,e,s){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new l["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var i=s.parse(t,e),r=(new s.Compiler).compile(i,e);return(new s.JavaScriptCompiler).compile(r,e)}function n(t,e,s){function i(){var e=s.parse(t,n),i=(new s.Compiler).compile(e,n),r=(new s.JavaScriptCompiler).compile(i,n,void 0,!0);return s.template(r)}function r(t,e){return a||(a=i()),a.call(this,t,e)}var n=void 0===arguments[1]?{}:arguments[1];if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new l["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in n||(n.data=!0),n.compat&&(n.useDepths=!0);var a=void 0;return r._setup=function(t){return a||(a=i()),a._setup(t)},r._child=function(t,e,s,r){return a||(a=i()),a._child(t,e,s,r)},r}function a(t,e){if(t===e)return!0;if(p.isArray(t)&&p.isArray(e)&&t.length===e.length){for(var s=0;s<t.length;s++)if(!a(t[s],e[s]))return!1;return!0}}function o(t){if(!t.path.parts){var e=t.path;t.path=new f["default"].PathExpression(!1,0,[e.original+""],e.original+"",e.loc)}}var h=s(8)["default"];e.__esModule=!0,e.Compiler=i,e.precompile=r,e.compile=n;var c=s(12),l=h(c),p=s(13),u=s(2),f=h(u),d=[].slice;i.prototype={compiler:i,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var s=0;e>s;s++){var i=this.opcodes[s],r=t.opcodes[s];if(i.opcode!==r.opcode||!a(i.args,r.args))return!1}e=this.children.length;for(var s=0;e>s;s++)if(!this.children[s].equals(t.children[s]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var s=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},s)for(var i in s)i in s&&(e.knownHelpers[i]=s[i]);return this.accept(t)},compileProgram:function(t){var e=new this.compiler,s=e.compile(t,this.options),i=this.guid++;return this.usePartial=this.usePartial||s.usePartial,this.children[i]=s,this.useDepths=this.useDepths||s.useDepths,i},accept:function(t){this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,s=e.length,i=0;s>i;i++)this.accept(e[i]);return this.options.blockParams.shift(),this.isSimple=1===s,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){o(t);var e=t.program,s=t.inverse;e=e&&this.compileProgram(e),s=s&&this.compileProgram(s);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,s):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,s),this.opcode("pushProgram",e),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},PartialStatement:function(t){this.usePartial=!0;var e=t.params;if(e.length>1)throw new l["default"]("Unsupported number of partial arguments: "+e.length,t);e.length||e.push({type:"PathExpression",parts:[],depth:0});var s=t.name.original,i="SubExpression"===t.name.type;i&&this.accept(t.name),this.setupFullMustacheParams(t,void 0,void 0,!0);var r=t.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",i,s,r),this.opcode("append")},MustacheStatement:function(t){this.SubExpression(t),this.opcode(t.escaped&&!this.options.noEscape?"appendEscaped":"append")},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){o(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,s){var i=t.path,r=i.parts[0],n=null!=e||null!=s;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",s),this.accept(i),this.opcode("invokeAmbiguous",r,n)},simpleSexpr:function(t){this.accept(t.path),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,s){var i=this.setupFullMustacheParams(t,e,s),r=t.path,n=r.parts[0];if(this.options.knownHelpers[n])this.opcode("invokeKnownHelper",i.length,n);else{if(this.options.knownHelpersOnly)throw new l["default"]("You specified knownHelpersOnly, but used the unknown helper "+n,t);r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,f["default"].helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],s=f["default"].helpers.scopedId(t),i=!t.depth&&!s&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts)):this.opcode("lookupOnContext",t.parts,t.falsy,s):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,s=0,i=e.length;for(this.opcode("pushHash");i>s;s++)this.pushParam(e[s].value);for(;s--;)this.opcode("assignToHash",e[s].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:d.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=f["default"].helpers.simpleId(t.path),s=e&&!!this.blockParamIndex(t.path.parts[0]),i=!s&&f["default"].helpers.helperExpression(t),r=!s&&(i||e);if(r&&!i){var n=t.path.parts[0],a=this.options;a.knownHelpers[n]?i=!0:a.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,s=t.length;s>e;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var s=void 0;if(!t.parts||f["default"].helpers.scopedId(t)||t.depth||(s=this.blockParamIndex(t.parts[0])),s){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",s,i)}else e=t.original||e,e.replace&&(e=e.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,s,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",s),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(t){for(var e=0,s=this.options.blockParams.length;s>e;e++){var i=this.options.blockParams[e],r=i&&p.indexOf(i,t);if(i&&r>=0)return[e,r]}}}},function(t,e,s){"use strict";function i(t){this.value=t}function r(){}function n(t,e,s,i){var r=e.popStack(),n=0,a=s.length;for(t&&a--;a>n;n++)r=e.nameLookup(r,s[n],i);return t?[e.aliasable("this.strict"),"(",r,", ",e.quotedString(s[n]),")"]:r}var a=s(8)["default"];e.__esModule=!0;var o=s(10),h=s(12),c=a(h),l=s(13),p=s(18),u=a(p);r.prototype={nameLookup:function(t,e){return r.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"['",e,"']"]},depthedLookup:function(t){return[this.aliasable("this.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=o.COMPILER_REVISION,e=o.REVISION_CHANGES[t];return[t,e]},appendToBuffer:function(t,e,s){return l.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:s?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,s,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!s,this.context=s||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,n=void 0,a=void 0,o=void 0,h=void 0;for(o=0,h=r.length;h>o;o++)n=r[o],this.source.currentLocation=n.loc,a=a||n.loc,this[n.opcode].apply(this,n.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c["default"]("Compile completed with content left on stack");var l=this.createFunctionContext(i);if(this.isChild)return l;var p={compiler:this.compilerInfo(),main:l},u=this.context.programs;for(o=0,h=u.length;h>o;o++)u[o]&&(p[o]=u[o]);return this.environment.usePartial&&(p.usePartial=!0),this.options.data&&(p.useData=!0),this.useDepths&&(p.useDepths=!0),this.useBlockParams&&(p.useBlockParams=!0),this.options.compat&&(p.compat=!0),i?p.compilerOptions=this.options:(p.compiler=JSON.stringify(p.compiler),this.source.currentLocation={start:{line:1,column:0}},p=this.objectLiteral(p),e.srcName?(p=p.toStringWithSourceMap({file:e.destName}),p.map=p.map&&p.map.toString()):p=p.toString()),p},preamble:function(){this.lastContext=0,this.source=new u["default"](this.options.srcName)},createFunctionContext:function(t){var e="",s=this.stackVars.concat(this.registers.list);s.length>0&&(e+=", "+s.join(", "));var i=0;for(var r in this.aliases){var n=this.aliases[r];this.aliases.hasOwnProperty(r)&&n.children&&n.referenceCount>1&&(e+=", alias"+ ++i+"="+r,n.children[0]="alias"+i)}var a=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var o=this.mergeSource(e);return t?(a.push(o),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",o,"}"])},mergeSource:function(t){var e=this.environment.isSimple,s=!this.forceBuffer,i=void 0,r=void 0,n=void 0,a=void 0;return this.source.each(function(t){t.appendToBuffer?(n?t.prepend("  + "):n=t,a=t):(n&&(r?n.prepend("buffer += "):i=!0,a.add(";"),n=a=void 0),r=!0,e||(s=!1))}),s?n?(n.prepend("return "),a.add(";")):r||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),n?(n.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),s=[this.contextName(0)];this.setupHelperArgs(t,0,s);var i=this.popStack();s.splice(1,0,i),this.push(this.source.functionCall(e,"call",s))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var s=this.topStack();e.splice(1,0,s),this.pushSource(["if (!",this.lastHelper,") { ",s," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,s){var i=0;s||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[i++])),this.resolvePath("context",t,i,e)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e){this.pushStackLiteral(t?"this.data(data, "+t+")":"data"),this.resolvePath("data",e,0,!0)},resolvePath:function(t,e,s,i){var r=this;if(this.options.strict||this.options.assumeObjects)return void this.push(n(this.options.strict,this,e,t));for(var a=e.length;a>s;s++)this.replaceStack(function(n){var a=r.nameLookup(n,e[s],t);return i?[" && ",a]:[" != null ? ",a," : ",n]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){this.pushStackLiteral(null!=t?this.programExpression(t):null)},invokeHelper:function(t,e,s){var i=this.popStack(),r=this.setupHelper(t,e),n=s?[r.name," || "]:"",a=["("].concat(n,i);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",r.callParams))},invokeKnownHelper:function(t,e){var s=this.setupHelper(t,e);this.push(this.source.functionCall(s.name,"call",s.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var s=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=this.lastHelper=this.nameLookup("helpers",t,"helper"),n=["(","(helper = ",r," || ",s,")"];this.options.strict||(n[0]="(helper = ",n.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",n,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,s){var i=[],r=this.setupParams(e,1,i,!1);t&&(e=this.popStack(),delete r.name),s&&(r.indent=JSON.stringify(s)),r.helpers="helpers",r.partials="partials",i.unshift(t?e:this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("this.invokePartial","",i))},assignToHash:function(t){var e=this.popStack(),s=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),s=this.popStack());var n=this.hash;s&&(n.contexts[t]=s),i&&(n.types[t]=i),r&&(n.ids[t]=r),n.values[t]=e},pushId:function(t,e,s){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(s?" + "+JSON.stringify("."+s):"")):"PathExpression"===t?this.pushString(e):this.pushStackLiteral("SubExpression"===t?"true":"null")},compiler:r,compileChildren:function(t,e){for(var s=t.children,i=void 0,r=void 0,n=0,a=s.length;a>n;n++){i=s[n],r=new this.compiler;var o=this.matchExistingProgram(i);null==o?(this.context.programs.push(""),o=this.context.programs.length,i.index=o,i.name="program"+o,this.context.programs[o]=r.compile(i,e,this.context,!this.precompile),this.context.environments[o]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams):(i.index=o,i.name="program"+o,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,s=this.context.environments.length;s>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],s=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths"),"this.program("+s.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof i||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],s=void 0,r=void 0,n=void 0;if(!this.isInline())throw new c["default"]("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof i)s=[a.value],e=["(",s],n=!0;else{r=!0;var o=this.incrStack();e=["((",this.push(o)," = ",a,")"],s=this.topStack()}var h=t.call(this,s);n||this.popStack(),r&&this.stackSlot--,this.push(e.concat(h,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,s=t.length;s>e;e++){var r=t[e];if(r instanceof i)this.compileStack.push(r);else{var n=this.incrStack();this.pushSource([n," = ",r,";"]),this.compileStack.push(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),s=(e?this.inlineStack:this.compileStack).pop();if(!t&&s instanceof i)return s.value;if(!e){if(!this.stackSlot)throw new c["default"]("Invalid stack pop");this.stackSlot--}return s},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof i?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,s){var i=[],r=this.setupHelperArgs(e,t,i,s),n=this.nameLookup("helpers",e,"helper");return{params:i,paramsInit:r,name:n,callParams:[this.contextName(0)].concat(i)}},setupParams:function(t,e,s){var i={},r=[],n=[],a=[],o=void 0;i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var h=this.popStack(),c=this.popStack();(c||h)&&(i.fn=c||"this.noop",i.inverse=h||"this.noop");for(var l=e;l--;)o=this.popStack(),s[l]=o,this.trackIds&&(a[l]=this.popStack()),this.stringParams&&(n[l]=this.popStack(),r[l]=this.popStack());return this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(n),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(t,e,s,i){var r=this.setupParams(t,e,s,!0);return r=this.objectLiteral(r),i?(this.useRegister("options"),s.push("options"),["options=",r]):(s.push(r),"")}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=r.RESERVED_WORDS={},s=0,i=t.length;i>s;s++)e[t[s]]=!0}(),r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e["default"]=r,t.exports=e["default"]},function(t,e,s){"use strict";function i(){this.parents=[]}var r=s(8)["default"];e.__esModule=!0;var n=s(12),a=r(n),o=s(2),h=r(o);i.prototype={constructor:i,mutating:!1,acceptKey:function(t,e){var s=this.accept(t[e]);if(this.mutating){if(s&&(!s.type||!h["default"][s.type]))throw new a["default"]('Unexpected node type "'+s.type+'" found when accepting '+e+" on "+t.type);t[e]=s}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new a["default"](t.type+" requires "+e)},acceptArray:function(t){for(var e=0,s=t.length;s>e;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,s--)},accept:function(t){if(t){this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},BlockStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash"),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")},PartialStatement:function(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e["default"]=i,t.exports=e["default"]},function(t,e){(function(s){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof s?s:window,i=e.Handlebars;t.noConflict=function(){e.Handlebars===t&&(e.Handlebars=i)}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if("object"==typeof t&&null!==t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e["default"]=t,e},e.__esModule=!0},function(t,e,s){"use strict";function i(t,e){this.helpers=t||{},this.partials=e||{},r(this)}function r(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new p["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),t.registerHelper("blockHelperMissing",function(e,s){var i=s.inverse,r=s.fn;if(e===!0)return r(this);if(e===!1||null==e)return i(this);if(m(e))return e.length>0?(s.ids&&(s.ids=[s.name]),t.helpers.each(e,s)):i(this);if(s.data&&s.ids){var a=n(s.data);a.contextPath=c.appendContextPath(s.data.contextPath,s.name),s={data:a}}return r(e,s)}),t.registerHelper("each",function(t,e){function s(e,s,r){h&&(h.key=e,h.index=s,h.first=0===s,h.last=!!r,l&&(h.contextPath=l+e)),o+=i(t[e],{data:h,blockParams:c.blockParams([t[e],e],[l+e,null])})}if(!e)throw new p["default"]("Must pass iterator to #each");var i=e.fn,r=e.inverse,a=0,o="",h=void 0,l=void 0;if(e.data&&e.ids&&(l=c.appendContextPath(e.data.contextPath,e.ids[0])+"."),g(t)&&(t=t.call(this)),e.data&&(h=n(e.data)),t&&"object"==typeof t)if(m(t))for(var u=t.length;u>a;a++)s(a,a,a===t.length-1);else{var f=void 0;for(var d in t)t.hasOwnProperty(d)&&(f&&s(f,a-1),f=d,a++);f&&s(f,a-1,!0)}return 0===a&&(o=r(this)),o}),t.registerHelper("if",function(t,e){return g(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||c.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,s){return t.helpers["if"].call(this,e,{fn:s.inverse,inverse:s.fn,hash:s.hash})}),t.registerHelper("with",function(t,e){g(t)&&(t=t.call(this));var s=e.fn;if(c.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=n(e.data);i.contextPath=c.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return s(t,e)}),t.registerHelper("log",function(e,s){var i=s.data&&null!=s.data.level?parseInt(s.data.level,10):1;t.log(i,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}function n(t){var e=c.extend({},t);return e._parent=t,e}var a=s(9)["default"],o=s(8)["default"];e.__esModule=!0,e.HandlebarsEnvironment=i,e.createFrame=n;var h=s(13),c=a(h),l=s(12),p=o(l),u="3.0.1";e.VERSION=u;var f=6;e.COMPILER_REVISION=f;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};e.REVISION_CHANGES=d;var m=c.isArray,g=c.isFunction,v=c.toString,y="[object Object]";i.prototype={constructor:i,logger:k,log:S,registerHelper:function(t,e){if(v.call(t)===y){if(e)throw new p["default"]("Arg not supported with multiple helpers");c.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(v.call(t)===y)c.extend(this.partials,t);else{if("undefined"==typeof e)throw new p["default"]("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var k={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&k.level<=t){var s=k.methodMap[t];(console[s]||console.log).call(console,e)}}};e.logger=k;var S=k.log;e.log=S},function(t,e){"use strict";function s(t){this.string=t}e.__esModule=!0,s.prototype.toString=s.prototype.toHTML=function(){return""+this.string},e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function s(t,e){var r=e&&e.loc,n=void 0,a=void 0;r&&(n=r.start.line,a=r.start.column,t+=" - "+n+":"+a);for(var o=Error.prototype.constructor.call(this,t),h=0;h<i.length;h++)this[i[h]]=o[i[h]];Error.captureStackTrace&&Error.captureStackTrace(this,s),r&&(this.lineNumber=n,this.column=a)}e.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];s.prototype=new Error,e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function s(t){return c[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var s in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],s)&&(t[s]=arguments[e][s]);return t}function r(t,e){for(var s=0,i=t.length;i>s;s++)if(t[s]===e)return s;return-1}function n(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return p.test(t)?t.replace(l,s):t}function a(t){return t||0===t?d(t)&&0===t.length?!0:!1:!0}function o(t,e){return t.path=e,t}function h(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=i,e.indexOf=r,e.escapeExpression=n,e.isEmpty=a,e.blockParams=o,e.appendContextPath=h;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,p=/[&<>"'`]/,u=Object.prototype.toString;e.toString=u;var f=function(t){return"function"==typeof t};f(/x/)&&(e.isFunction=f=function(t){return"function"==typeof t&&"[object Function]"===u.call(t)});var f;e.isFunction=f;var d=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===u.call(t):!1};e.isArray=d},function(t,e,s){"use strict";function i(t){var e=t&&t[0]||1,s=g.COMPILER_REVISION;if(e!==s){if(s>e){var i=g.REVISION_CHANGES[s],r=g.REVISION_CHANGES[e];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){function s(s,i,r){r.hash&&(i=f.extend({},i,r.hash)),s=e.VM.resolvePartial.call(this,s,i,r);var n=e.VM.invokePartial.call(this,s,i,r);if(null==n&&e.compile&&(r.partials[r.name]=e.compile(s,t.compilerOptions,e),n=r.partials[r.name](i,r)),null!=n){if(r.indent){for(var a=n.split("\n"),o=0,h=a.length;h>o&&(a[o]||o+1!==h);o++)a[o]=r.indent+a[o];
n=a.join("\n")}return n}throw new m["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(e){var s=void 0===arguments[1]?{}:arguments[1],n=s.data;i._setup(s),!s.partial&&t.useData&&(n=c(e,n));var a=void 0,o=t.useBlockParams?[]:void 0;return t.useDepths&&(a=s.depths?[e].concat(s.depths):[e]),t.main.call(r,e,r.helpers,r.partials,n,o,a)}if(!e)throw new m["default"]("No environment passed to template");if(!t||!t.main)throw new m["default"]("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new m["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var s=t.length,i=0;s>i;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:f.escapeExpression,invokePartial:s,fn:function(e){return t[e]},programs:[],program:function(t,e,s,i,r){var a=this.programs[t],o=this.fn(t);return e||r||i||s?a=n(this,t,o,e,s,i,r):a||(a=this.programs[t]=n(this,t,o)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var s=t||e;return t&&e&&t!==e&&(s=f.extend({},e,t)),s},noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(s){s.partial?(r.helpers=s.helpers,r.partials=s.partials):(r.helpers=r.merge(s.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(s.partials,e.partials)))},i._child=function(e,s,i,a){if(t.useBlockParams&&!i)throw new m["default"]("must pass block params");if(t.useDepths&&!a)throw new m["default"]("must pass parent depths");return n(r,e,t[e],s,0,i,a)},i}function n(t,e,s,i,r,n,a){function o(e){var r=void 0===arguments[1]?{}:arguments[1];return s.call(t,e,t.helpers,t.partials,r.data||i,n&&[r.blockParams].concat(n),a&&[e].concat(a))}return o.program=e,o.depth=a?a.length:0,o.blockParams=r||0,o}function a(t,e,s){return t?t.call||s.name||(s.name=t,t=s.partials[t]):t=s.partials[s.name],t}function o(t,e,s){if(s.partial=!0,void 0===t)throw new m["default"]("The partial "+s.name+" could not be found");return t instanceof Function?t(e,s):void 0}function h(){return""}function c(t,e){return e&&"root"in e||(e=e?g.createFrame(e):{},e.root=t),e}var l=s(9)["default"],p=s(8)["default"];e.__esModule=!0,e.checkRevision=i,e.template=r,e.wrapProgram=n,e.resolvePartial=a,e.invokePartial=o,e.noop=h;var u=s(13),f=l(u),d=s(12),m=p(d),g=s(10)},function(t,e){"use strict";e.__esModule=!0;var s=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,UNDEFINED:77,NULL:78,DATA:79,pathSegments:80,SEP:81,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"UNDEFINED",78:"NULL",79:"DATA",81:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(t,e,s,i,r,n){var a=n.length-1;switch(r){case 1:return n[a-1];case 2:this.$=new i.Program(n[a],null,{},i.locInfo(this._$));break;case 3:this.$=n[a];break;case 4:this.$=n[a];break;case 5:this.$=n[a];break;case 6:this.$=n[a];break;case 7:this.$=n[a];break;case 8:this.$=new i.CommentStatement(i.stripComment(n[a]),i.stripFlags(n[a],n[a]),i.locInfo(this._$));break;case 9:this.$=new i.ContentStatement(n[a],i.locInfo(this._$));break;case 10:this.$=i.prepareRawBlock(n[a-2],n[a-1],n[a],this._$);break;case 11:this.$={path:n[a-3],params:n[a-2],hash:n[a-1]};break;case 12:this.$=i.prepareBlock(n[a-3],n[a-2],n[a-1],n[a],!1,this._$);break;case 13:this.$=i.prepareBlock(n[a-3],n[a-2],n[a-1],n[a],!0,this._$);break;case 14:this.$={path:n[a-4],params:n[a-3],hash:n[a-2],blockParams:n[a-1],strip:i.stripFlags(n[a-5],n[a])};break;case 15:this.$={path:n[a-4],params:n[a-3],hash:n[a-2],blockParams:n[a-1],strip:i.stripFlags(n[a-5],n[a])};break;case 16:this.$={path:n[a-4],params:n[a-3],hash:n[a-2],blockParams:n[a-1],strip:i.stripFlags(n[a-5],n[a])};break;case 17:this.$={strip:i.stripFlags(n[a-1],n[a-1]),program:n[a]};break;case 18:var o=i.prepareBlock(n[a-2],n[a-1],n[a],n[a],!1,this._$),h=new i.Program([o],null,{},i.locInfo(this._$));h.chained=!0,this.$={strip:n[a-2].strip,program:h,chain:!0};break;case 19:this.$=n[a];break;case 20:this.$={path:n[a-1],strip:i.stripFlags(n[a-2],n[a])};break;case 21:this.$=i.prepareMustache(n[a-3],n[a-2],n[a-1],n[a-4],i.stripFlags(n[a-4],n[a]),this._$);break;case 22:this.$=i.prepareMustache(n[a-3],n[a-2],n[a-1],n[a-4],i.stripFlags(n[a-4],n[a]),this._$);break;case 23:this.$=new i.PartialStatement(n[a-3],n[a-2],n[a-1],i.stripFlags(n[a-4],n[a]),i.locInfo(this._$));break;case 24:this.$=n[a];break;case 25:this.$=n[a];break;case 26:this.$=new i.SubExpression(n[a-3],n[a-2],n[a-1],i.locInfo(this._$));break;case 27:this.$=new i.Hash(n[a],i.locInfo(this._$));break;case 28:this.$=new i.HashPair(i.id(n[a-2]),n[a],i.locInfo(this._$));break;case 29:this.$=i.id(n[a-1]);break;case 30:this.$=n[a];break;case 31:this.$=n[a];break;case 32:this.$=new i.StringLiteral(n[a],i.locInfo(this._$));break;case 33:this.$=new i.NumberLiteral(n[a],i.locInfo(this._$));break;case 34:this.$=new i.BooleanLiteral(n[a],i.locInfo(this._$));break;case 35:this.$=new i.UndefinedLiteral(i.locInfo(this._$));break;case 36:this.$=new i.NullLiteral(i.locInfo(this._$));break;case 37:this.$=n[a];break;case 38:this.$=n[a];break;case 39:this.$=i.preparePath(!0,n[a],this._$);break;case 40:this.$=i.preparePath(!1,n[a],this._$);break;case 41:n[a-2].push({part:i.id(n[a]),original:n[a],separator:n[a-1]}),this.$=n[a-2];break;case 42:this.$=[{part:i.id(n[a]),original:n[a]}];break;case 43:this.$=[];break;case 44:n[a-1].push(n[a]);break;case 45:this.$=[];break;case 46:n[a-1].push(n[a]);break;case 53:this.$=[];break;case 54:n[a-1].push(n[a]);break;case 59:this.$=[];break;case 60:n[a-1].push(n[a]);break;case 65:this.$=[];break;case 66:n[a-1].push(n[a]);break;case 73:this.$=[];break;case 74:n[a-1].push(n[a]);break;case 77:this.$=[];break;case 78:n[a-1].push(n[a]);break;case 81:this.$=[];break;case 82:n[a-1].push(n[a]);break;case 85:this.$=[];break;case 86:n[a-1].push(n[a]);break;case 89:this.$=[n[a]];break;case 90:n[a-1].push(n[a]);break;case 91:this.$=[n[a]];break;case 92:n[a-1].push(n[a])}},table:[{3:1,4:2,5:[2,43],6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],46:[2,43],49:[2,43],53:[2,43]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,44],13:[2,44],14:[2,44],17:[2,44],27:[2,44],32:[2,44],37:[2,44],42:[2,44],45:[2,44],46:[2,44],49:[2,44],53:[2,44]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:33,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:34,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{4:35,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{12:36,14:[1,18]},{18:38,54:37,58:39,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:41,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:42,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:43,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[2,73],47:44,59:[2,73],66:[2,73],74:[2,73],75:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33],78:[2,33],79:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34],78:[2,34],79:[2,34]},{21:[2,35],31:[2,35],52:[2,35],59:[2,35],62:[2,35],66:[2,35],69:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35],78:[2,35],79:[2,35]},{21:[2,36],31:[2,36],52:[2,36],59:[2,36],62:[2,36],66:[2,36],69:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36],78:[2,36],79:[2,36]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],78:[2,40],79:[2,40],81:[1,45]},{66:[1,32],80:46},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{50:47,52:[2,77],59:[2,77],66:[2,77],74:[2,77],75:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77]},{23:48,36:50,37:[1,52],41:51,42:[1,53],43:49,45:[2,49]},{26:54,41:55,42:[1,53],45:[2,51]},{16:[1,56]},{31:[2,81],55:57,59:[2,81],66:[2,81],74:[2,81],75:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81]},{31:[2,37],59:[2,37],66:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],78:[2,37],79:[2,37]},{31:[2,38],59:[2,38],66:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],78:[2,38],79:[2,38]},{18:58,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{28:59,31:[2,53],59:[2,53],66:[2,53],69:[2,53],74:[2,53],75:[2,53],76:[2,53],77:[2,53],78:[2,53],79:[2,53]},{31:[2,59],33:60,59:[2,59],66:[2,59],69:[2,59],74:[2,59],75:[2,59],76:[2,59],77:[2,59],78:[2,59],79:[2,59]},{19:61,21:[2,45],59:[2,45],66:[2,45],74:[2,45],75:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45]},{18:65,31:[2,75],48:62,57:63,58:66,59:[1,40],63:64,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{66:[1,70]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],78:[2,39],79:[2,39],81:[1,45]},{18:65,51:71,52:[2,79],57:72,58:66,59:[1,40],63:73,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{24:74,45:[1,75]},{45:[2,50]},{4:76,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{45:[2,19]},{18:77,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:78,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{24:79,45:[1,75]},{45:[2,52]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:65,31:[2,83],56:80,57:81,58:66,59:[1,40],63:82,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{59:[2,85],60:83,62:[2,85],66:[2,85],74:[2,85],75:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85]},{18:65,29:84,31:[2,55],57:85,58:66,59:[1,40],63:86,64:67,65:68,66:[1,69],69:[2,55],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,31:[2,61],34:87,57:88,58:66,59:[1,40],63:89,64:67,65:68,66:[1,69],69:[2,61],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,20:90,21:[2,47],57:91,58:66,59:[1,40],63:92,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[1,93]},{31:[2,74],59:[2,74],66:[2,74],74:[2,74],75:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74]},{31:[2,76]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24],78:[2,24],79:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25],78:[2,25],79:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:94,66:[1,95],69:[2,27]},{21:[2,89],31:[2,89],52:[2,89],62:[2,89],66:[2,89],69:[2,89]},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],67:[1,96],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{21:[2,41],31:[2,41],52:[2,41],59:[2,41],62:[2,41],66:[2,41],69:[2,41],74:[2,41],75:[2,41],76:[2,41],77:[2,41],78:[2,41],79:[2,41],81:[2,41]},{52:[1,97]},{52:[2,78],59:[2,78],66:[2,78],74:[2,78],75:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78]},{52:[2,80]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:98,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{36:50,37:[1,52],41:51,42:[1,53],43:100,44:99,45:[2,71]},{31:[2,65],38:101,59:[2,65],66:[2,65],69:[2,65],74:[2,65],75:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,102]},{31:[2,82],59:[2,82],66:[2,82],74:[2,82],75:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82]},{31:[2,84]},{18:65,57:104,58:66,59:[1,40],61:103,62:[2,87],63:105,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{30:106,31:[2,57],68:107,69:[1,108]},{31:[2,54],59:[2,54],66:[2,54],69:[2,54],74:[2,54],75:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54]},{31:[2,56],69:[2,56]},{31:[2,63],35:109,68:110,69:[1,108]},{31:[2,60],59:[2,60],66:[2,60],69:[2,60],74:[2,60],75:[2,60],76:[2,60],77:[2,60],78:[2,60],79:[2,60]},{31:[2,62],69:[2,62]},{21:[1,111]},{21:[2,46],59:[2,46],66:[2,46],74:[2,46],75:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46]},{21:[2,48]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,90],31:[2,90],52:[2,90],62:[2,90],66:[2,90],69:[2,90]},{67:[1,96]},{18:65,57:112,58:66,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,113]},{45:[2,18]},{45:[2,72]},{18:65,31:[2,67],39:114,57:115,58:66,59:[1,40],63:116,64:67,65:68,66:[1,69],69:[2,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,117]},{59:[2,86],62:[2,86],66:[2,86],74:[2,86],75:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86]},{62:[2,88]},{31:[1,118]},{31:[2,58]},{66:[1,120],70:119},{31:[1,121]},{31:[2,64]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,69],40:122,68:123,69:[1,108]},{31:[2,66],59:[2,66],66:[2,66],69:[2,66],74:[2,66],75:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66]},{31:[2,68],69:[2,68]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26],78:[2,26],79:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,125],71:[1,124]},{66:[2,91],71:[2,91]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,126]},{31:[2,70]},{31:[2,29]},{66:[2,92],71:[2,92]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],49:[2,50],51:[2,19],55:[2,52],64:[2,76],73:[2,80],78:[2,17],82:[2,84],92:[2,48],99:[2,18],100:[2,72],105:[2,88],107:[2,58],110:[2,64],111:[2,11],123:[2,70],124:[2,29]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=s.lexer.lex()||1,"number"!=typeof t&&(t=s.symbols_[t]||t),t}var s=this,i=[0],r=[null],n=[],a=this.table,o="",h=0,c=0,l=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;n.push(p);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,d,m,g,v,y,k,S,b,P={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===f||"undefined"==typeof f)&&(f=e()),g=a[m]&&a[m][f]),"undefined"==typeof g||!g.length||!g[0]){var _="";if(!l){b=[];for(y in a[m])this.terminals_[y]&&y>2&&b.push("'"+this.terminals_[y]+"'");_=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:p,expected:b})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+f);switch(g[0]){case 1:i.push(f),r.push(this.lexer.yytext),n.push(this.lexer.yylloc),i.push(g[1]),f=null,d?(f=d,d=null):(c=this.lexer.yyleng,o=this.lexer.yytext,h=this.lexer.yylineno,p=this.lexer.yylloc,l>0&&l--);break;case 2:if(k=this.productions_[g[1]][1],P.$=r[r.length-k],P._$={first_line:n[n.length-(k||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(k||1)].first_column,last_column:n[n.length-1].last_column},u&&(P._$.range=[n[n.length-(k||1)].range[0],n[n.length-1].range[1]]),v=this.performAction.call(P,o,c,h,this.yy,g[1],r,n),"undefined"!=typeof v)return v;k&&(i=i.slice(0,-1*k*2),r=r.slice(0,-1*k),n=n.slice(0,-1*k)),i.push(this.productions_[g[1]][0]),r.push(P.$),n.push(P._$),S=a[i[i.length-2]][i[i.length-1]],i.push(S);break;case 3:return!0}}return!0}},s=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,s,i,r;this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),a=0;a<n.length&&(s=this._input.match(this.rules[n[a]]),!s||e&&!(s[0].length>e[0].length)||(e=s,i=a,this.options.flex));a++);return e?(r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,n[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,s,i){function r(t,s){return e.yytext=e.yytext.substr(t,e.yyleng-s)}switch(s){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e.yytext=e.yytext.substr(5,e.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(e.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 81;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return e.yytext=r(1,2).replace(/\\"/g,'"'),74;case 30:return e.yytext=r(1,2).replace(/\\'/g,"'"),74;case 31:return 79;case 32:return 76;case 33:return 76;case 34:return 77;case 35:return 78;case 36:return 75;case 37:return 69;case 38:return 71;case 39:return 66;case 40:return 66;case 41:return"INVALID";case 42:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,42],inclusive:!0}},t}();return e.lexer=s,t.prototype=e,e.Parser=t,new t}();e["default"]=s,t.exports=e["default"]},function(t,e,s){"use strict";function i(){}function r(t,e,s){void 0===e&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!s?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:s}function n(t,e,s){void 0===e&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!s?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:s}function a(t,e,s){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(s||!i.rightStripped)){var r=i.value;i.value=i.value.replace(s?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function o(t,e,s){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(s||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(s?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var h=s(8)["default"];e.__esModule=!0;var c=s(6),l=h(c);i.prototype=new l["default"],i.prototype.Program=function(t){var e=!this.isRootSeen;this.isRootSeen=!0;for(var s=t.body,i=0,h=s.length;h>i;i++){var c=s[i],l=this.accept(c);if(l){var p=r(s,i,e),u=n(s,i,e),f=l.openStandalone&&p,d=l.closeStandalone&&u,m=l.inlineStandalone&&p&&u;l.close&&a(s,i,!0),l.open&&o(s,i,!0),m&&(a(s,i),o(s,i)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(s[i-1].original)[1])),f&&(a((c.program||c.inverse).body),o(s,i)),d&&(a(s,i),o((c.inverse||c.program).body))}}return t},i.prototype.BlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,s=t.program&&t.inverse,i=s,h=s;if(s&&s.chained)for(i=s.body[0].program;h.chained;)h=h.body[h.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:n(e.body),closeStandalone:r((i||e).body)};if(t.openStrip.close&&a(e.body,null,!0),s){var l=t.inverseStrip;l.open&&o(e.body,null,!0),l.close&&a(i.body,null,!0),t.closeStrip.open&&o(h.body,null,!0),r(e.body)&&n(i.body)&&(o(e.body),a(i.body))}else t.closeStrip.open&&o(e.body,null,!0);return c},i.prototype.MustacheStatement=function(t){return t.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e["default"]=i,t.exports=e["default"]},function(t,e,s){"use strict";function i(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function r(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function n(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function a(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function o(t,e,s){s=this.locInfo(s);for(var i=t?"@":"",r=[],n=0,a="",o=0,h=e.length;h>o;o++){var c=e[o].part,l=e[o].original!==c;if(i+=(e[o].separator||"")+c,l||".."!==c&&"."!==c&&"this"!==c)r.push(c);else{if(r.length>0)throw new f["default"]("Invalid path: "+i,{loc:s});".."===c&&(n++,a+="../")}}return new this.PathExpression(t,n,r,i,s)}function h(t,e,s,i,r,n){var a=i.charAt(3)||i.charAt(2),o="{"!==a&&"&"!==a;return new this.MustacheStatement(t,e,s,o,r,this.locInfo(n))}function c(t,e,s,i){if(t.path.original!==s){var r={loc:t.path.loc};throw new f["default"](t.path.original+" doesn't match "+s,r)}i=this.locInfo(i);var n=new this.Program([e],null,{},i);return new this.BlockStatement(t.path,t.params,t.hash,n,void 0,{},{},{},i)}function l(t,e,s,i,r,n){if(i&&i.path&&t.path.original!==i.path.original){var a={loc:t.path.loc};throw new f["default"](t.path.original+" doesn't match "+i.path.original,a)}e.blockParams=t.blockParams;var o=void 0,h=void 0;return s&&(s.chain&&(s.program.body[0].closeStrip=i.strip),h=s.strip,o=s.program),r&&(r=o,o=e,e=r),new this.BlockStatement(t.path,t.params,t.hash,e,o,t.strip,h,i&&i.strip,this.locInfo(n))}var p=s(8)["default"];e.__esModule=!0,e.SourceLocation=i,e.id=r,e.stripFlags=n,e.stripComment=a,e.preparePath=o,e.prepareMustache=h,e.prepareRawBlock=c,e.prepareBlock=l;var u=s(12),f=p(u)},function(t,e,s){"use strict";function i(t,e,s){if(n.isArray(t)){for(var i=[],r=0,a=t.length;a>r;r++)i.push(e.wrap(t[r],s));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function r(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var n=s(13),a=void 0;try{}catch(o){}a||(a=function(t,e,s,i){this.src="",i&&this.add(i)},a.prototype={add:function(t){n.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){n.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,s=this.source.length;s>e;e++)t(this.source[e])},empty:function(){var t=void 0===arguments[0]?this.currentLocation||{start:{}}:arguments[0];return new a(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof a?t:(t=i(t,this,e),new a(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,s){return s=this.generateList(s),this.wrap([t,e?"."+e+"(":"(",s,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'
},objectLiteral:function(t){var e=[];for(var s in t)if(t.hasOwnProperty(s)){var r=i(t[s],this);"undefined"!==r&&e.push([this.quotedString(s),":",r])}var n=this.generateList(e);return n.prepend("{"),n.add("}"),n},generateList:function(t,e){for(var s=this.empty(e),r=0,n=t.length;n>r;r++)r&&s.add(","),s.add(i(t[r],this,e));return s},generateArray:function(t,e){var s=this.generateList(t,e);return s.prepend("["),s.add("]"),s}},e["default"]=r,t.exports=e["default"]}])});
;define("common:widget/ui/lib/highcharts.src",function(t,e,i){!function(){function t(){var t,e,i=arguments,n={},o=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?o(t[n]||{},i):e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;e>t;t++)n=o(n,i[t]);return n}function e(t,e){return parseInt(t,e||10)}function i(t){return"string"==typeof t}function n(t){return t&&"object"==typeof t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"number"==typeof t}function s(t){return de.log(t)/de.LN10}function a(t){return de.pow(10,t)}function l(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function h(t){return t!==X&&null!==t}function c(t,e,o){var r,s;if(i(e))h(o)?t.setAttribute(e,o):t&&t.getAttribute&&(s=t.getAttribute(e));else if(h(e)&&n(e))for(r in e)t.setAttribute(r,e[r]);return s}function d(t){return o(t)?t:[t]}function p(t,e){Te&&!De&&e&&e.opacity!==X&&(e.filter="alpha(opacity="+100*e.opacity+")"),ni(t.style,e)}function u(t,e,i,n,o){var r=he.createElement(t);return e&&ni(r,e),o&&p(r,{padding:0,border:Ue,margin:0}),i&&p(r,i),n&&n.appendChild(r),r}function f(t,e){var i=function(){return X};return i.prototype=new t,ni(i.prototype,e),i}function g(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function m(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)}function y(t){return 6e4*(Z&&Z(t)||U||0)}function v(t,e){var i,n=/f$/,o=/\.([0-9])/,r=G.lang;return n.test(t)?(i=t.match(o),i=i?i[1]:-1,null!==e&&(e=le.numberFormat(e,i,r.decimalPoint,t.indexOf(",")>-1?r.thousandsSep:""))):e=F(t,e),e}function x(t,e){for(var i,n,o,r,s,a,l,h="{",c=!1,d=[];-1!==(l=t.indexOf(h));){if(i=t.slice(0,l),c){for(n=i.split(":"),o=n.shift().split("."),s=o.length,a=e,r=0;s>r;r++)a=a[o[r]];n.length&&(a=v(n.join(":"),a)),d.push(a)}else d.push(i);t=t.slice(l+1),c=!c,h=c?"}":"{"}return d.push(t),d.join("")}function b(t){return de.pow(10,ue(de.log(t)/de.LN10))}function k(t,e,i,n,o){var r,s,a=t;for(i=oi(i,1),r=t/i,e||(e=[1,2,2.5,5,10],n===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),s=0;s<e.length&&(a=e[s],!(o&&a*i>=t||!o&&r<=(e[s]+(e[s+1]||e[s]))/2));s++);return a*=i}function w(t,e){var i,n,o=t.length;for(n=0;o>n;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;o>n;n++)delete t[n].ss_i}function S(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function T(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function A(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function P(t){W||(W=u(Ge)),t&&W.appendChild(t),W.innerHTML=""}function C(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;ce.console&&console.log(i)}function L(t,e){return parseFloat(t.toPrecision(e||14))}function M(t,e){e.renderer.globalAnimation=oi(t,e.animation)}function D(){var t=G.global,e=t.useUTC,i=e?"getUTC":"get",n=e?"setUTC":"set";j=t.Date||window.Date,U=e&&t.timezoneOffset,Z=e&&t.getTimezoneOffset,_=function(t,i,n,o,r,s){var a;return e?(a=j.UTC.apply(0,arguments),a+=y(a)):a=new j(t,i,oi(n,1),oi(o,0),oi(r,0),oi(s,0)).getTime(),a},K=i+"Minutes",q=i+"Hours",$=i+"Day",J=i+"Date",Q=i+"Month",te=i+"FullYear",ee=n+"Milliseconds",ie=n+"Seconds",ne=n+"Minutes",oe=n+"Hours",re=n+"Date",se=n+"Month",ae=n+"FullYear"}function O(e){return G=t(!0,G,e),D(),G}function z(){return G}function I(){}function R(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||n||this.addLabel()}function B(t,e,i,n,o){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=o,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:oi(e.y,r?4:i?14:-6),x:oi(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")}var X,H,E,W,G,F,Y,N,V,j,_,U,Z,K,q,$,J,Q,te,ee,ie,ne,oe,re,se,ae,le,he=document,ce=window,de=Math,pe=de.round,ue=de.floor,fe=de.ceil,ge=de.max,me=de.min,ye=de.abs,ve=de.cos,xe=de.sin,be=de.PI,ke=2*be/360,we=navigator.userAgent,Se=ce.opera,Te=/(msie|trident)/i.test(we)&&!Se,Ae=8===he.documentMode,Pe=/AppleWebKit/.test(we),Ce=/Firefox/.test(we),Le=/(Mobile|Android|Windows Phone)/.test(we),Me="http://www.w3.org/2000/svg",De=!!he.createElementNS&&!!he.createElementNS(Me,"svg").createSVGRect,Oe=Ce&&parseInt(we.split("Firefox/")[1],10)<4,ze=!De&&!Te&&!!he.createElement("canvas").getContext,Ie={},Re=0,Be=function(){return X},Xe=[],He=0,Ee="Highcharts",We="4.1.8",Ge="div",Fe="absolute",Ye="relative",Ne="hidden",Ve="highcharts-",je="visible",_e="px",Ue="none",Ze="M",Ke="L",qe=/^[0-9]+$/,$e="",Je="hover",Qe="select",ti=["plotTop","marginRight","marginBottom","plotLeft"],ei="stroke-width",ii={};le=ce.Highcharts=ce.Highcharts?C(16,!0):{},le.seriesTypes=ii;var ni=le.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},oi=le.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],e!==X&&null!==e)return e},ri=le.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}};F=function(t,e,i){if(!h(e)||isNaN(e))return G.lang.invalidDate||"";t=oi(t,"%Y-%m-%d %H:%M:%S");var n,o=new j(e-y(e)),r=o[q](),s=o[$](),a=o[J](),l=o[Q](),c=o[te](),d=G.lang,p=d.weekdays,u=ni({a:p[s].substr(0,3),A:p[s],d:g(a),e:a,w:s,b:d.shortMonths[l],B:d.months[l],m:g(l+1),y:c.toString().substr(2,2),Y:c,H:g(r),k:r,I:g(r%12||12),l:r%12||12,M:g(o[K]()),p:12>r?"AM":"PM",P:12>r?"am":"pm",S:g(o.getSeconds()),L:g(pe(e%1e3),3)},le.dateFormats);for(n in u)for(;-1!==t.indexOf("%"+n);)t=t.replace("%"+n,"function"==typeof u[n]?u[n](e):u[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},N={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},le.numberFormat=function(t,i,n,o){var r=G.lang,s=+t||0,a=-1===i?me((s.toString().split(".")[1]||"").length,20):isNaN(i=ye(i))?2:i,l=void 0===n?r.decimalPoint:n,h=void 0===o?r.thousandsSep:o,c=0>s?"-":"",d=String(e(s=ye(s).toFixed(a))),p=d.length>3?d.length%3:0;return c+(p?d.substr(0,p)+h:"")+d.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+h)+(a?l+ye(s-d).toFixed(a).slice(2):"")},Y={init:function(t,e,i){e=e||"";var n,o,r,s,a,l=t.shift,h=e.indexOf("C")>-1,c=h?7:3,d=e.split(" "),p=[].concat(i),u=function(t){for(r=t.length;r--;)t[r]===Ze&&t.splice(r+1,0,t[r+1],t[r+2],t[r+1],t[r+2])};if(h&&(u(d),u(p)),t.isArea&&(s=d.splice(d.length-6,6),a=p.splice(p.length-6,6)),l<=p.length/c&&d.length===p.length)for(;l--;)p=[].concat(p).splice(0,c).concat(p);if(t.shift=0,d.length)for(n=p.length;d.length<n;)o=[].concat(d).splice(d.length-c,c),h&&(o[c-6]=o[c-2],o[c-5]=o[c-1]),d=d.concat(o);return s&&(d=d.concat(s),p=p.concat(a)),[d,p]},step:function(t,e,i,n){var o,r=[],s=t.length;if(1===i)r=n;else if(s===e.length&&1>i)for(;s--;)o=parseFloat(t[s]),r[s]=isNaN(o)?t[s]:i*parseFloat(e[s]-o)+o;else r=e;return r}},function(t){ce.HighchartsAdapter=ce.HighchartsAdapter||t&&{init:function(e){var n=t.fx;t.extend(t.easing,{easeOutQuad:function(t,e,i,n,o){return-n*(e/=o)*(e-2)+i}}),t.each(["cur","_default","width","height","opacity"],function(e,i){var o,r=n.step;"cur"===i?r=n.prototype:"_default"===i&&t.Tween&&(r=t.Tween.propHooks[i],i="set"),o=r[i],o&&(r[i]=function(t){var n;return t=e?t:this,"align"!==t.prop?(n=t.elem,n.attr?n.attr(t.prop,"cur"===i?X:t.now):o.apply(this,arguments)):void 0})}),ri(t.cssHooks.opacity,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),this.addAnimSetter("d",function(t){var i,n=t.elem;t.started||(i=e.init(n,n.d,n.toD),t.start=i[0],t.end=i[1],t.started=!0),n.attr("d",e.step(t.start,t.end,t.pos,n.toD))}),this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){var i,n=t.length;for(i=0;n>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i},t.fn.highcharts=function(){var t,e,n,o="Chart",r=arguments;return this[0]&&(i(r[0])&&(o=r[0],r=Array.prototype.slice.call(r,1)),t=r[0],t!==X&&(t.chart=t.chart||{},t.chart.renderTo=this[0],n=new le[o](t,r[1]),e=this),t===X&&(e=Xe[c(this[0],"data-highcharts-chart")])),e}},addAnimSetter:function(e,i){t.Tween?t.Tween.propHooks[e]={set:i}:t.fx.step[e]=i},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,i){return t(e)[i]()},grep:t.grep,map:function(t,e){for(var i=[],n=0,o=t.length;o>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(e){return t(e).offset()},addEvent:function(e,i,n){t(e).bind(i,n)},removeEvent:function(e,i,n){var o=he.removeEventListener?"removeEventListener":"detachEvent";he[o]&&e&&!e[o]&&(e[o]=function(){}),t(e).unbind(i,n)},fireEvent:function(e,i,n,o){var r,s=t.Event(i),a="detached"+i;!Te&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),ni(s,n),e[i]&&(e[a]=e[i],e[i]=null),t.each(["preventDefault","stopPropagation"],function(t,e){var i=s[e];s[e]=function(){try{i.call(s)}catch(t){"preventDefault"===e&&(r=!0)}}}),t(e).trigger(s),e[a]&&(e[i]=e[a],e[a]=null),!o||s.isDefaultPrevented()||r||o(s)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===X&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(e,i,n){var o=t(e);e.style||(e.style={}),i.d&&(e.toD=i.d,i.d=1),o.stop(),i.opacity!==X&&e.attr&&(i.opacity+="px"),e.hasAnim=1,o.animate(i,n)},stop:function(e){e.hasAnim&&t(e).stop()}}}(ce.jQuery);var si=ce.HighchartsAdapter,ai=si||{};si&&si.init.call(si,Y);var li=ai.adapterRun,hi=ai.getScript,ci=ai.inArray,di=le.each=ai.each,pi=ai.grep,ui=ai.offset,fi=ai.map,gi=ai.addEvent,mi=ai.removeEvent,yi=ai.fireEvent,vi=ai.washMouseEvent,xi=ai.animate,bi=ai.stop;G={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.8/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.8/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":le.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:Fe,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:Fe,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:Ye,top:"45%"},style:{position:Fe,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:De,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Le?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ki=G.plotOptions,wi=ki.line;D();var Si=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Ti=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Ai=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Pi=function(i){function n(t){t&&t.stops?h=fi(t.stops,function(t){return Pi(t[1])}):(l=Si.exec(t),l?c=[e(l[1]),e(l[2]),e(l[3]),parseFloat(l[4],10)]:(l=Ti.exec(t),l?c=[e(l[1],16),e(l[2],16),e(l[3],16),1]:(l=Ai.exec(t),l&&(c=[e(l[1]),e(l[2]),e(l[3]),1]))))}function o(e){var n;return h?(n=t(i),n.stops=[].concat(n.stops),di(h,function(t,i){n.stops[i]=[n.stops[i][0],t.get(e)]})):n=c&&!isNaN(c[0])?"rgb"===e?"rgb("+c[0]+","+c[1]+","+c[2]+")":"a"===e?c[3]:"rgba("+c.join(",")+")":i,n}function s(t){if(h)di(h,function(e){e.brighten(t)});else if(r(t)&&0!==t){var i;for(i=0;3>i;i++)c[i]+=e(255*t),c[i]<0&&(c[i]=0),c[i]>255&&(c[i]=255)}return this}function a(t){return c[3]=t,this}var l,h,c=[];return n(i),{get:o,brighten:s,rgba:c,setOpacity:a,raw:i}};I.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textOverflow","textShadow"],init:function(t,e){var i=this;i.element="span"===e?u(e):he.createElementNS(Me,e),i.renderer=t},animate:function(e,i,n){var o=oi(i,this.renderer.globalAnimation,!0);return bi(this),o?(o=t(o,{}),n&&(o.complete=n),xi(this,e,o)):this.attr(e,null,n),this},colorGradient:function(e,i,n){var r,s,a,l,c,d,p,u,f,g,m,y=this.renderer,v=[];if(e.linearGradient?s="linearGradient":e.radialGradient&&(s="radialGradient"),s){a=e[s],l=y.gradients,d=e.stops,f=n.radialReference,o(a)&&(e[s]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&f&&!h(a.gradientUnits)&&(a=t(a,{cx:f[0]-f[2]/2+a.cx*f[2],cy:f[1]-f[2]/2+a.cy*f[2],r:a.r*f[2],gradientUnits:"userSpaceOnUse"}));for(g in a)"id"!==g&&v.push(g,a[g]);for(g in d)v.push(d[g]);v=v.join(","),l[v]?m=l[v].attr("id"):(a.id=m=Ve+Re++,l[v]=c=y.createElement(s).attr(a).add(y.defs),c.stops=[],di(d,function(t){var e;0===t[1].indexOf("rgba")?(r=Pi(t[1]),p=r.get("rgb"),u=r.get("a")):(p=t[1],u=1),e=y.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":u}).add(c),c.stops.push(e)})),n.setAttribute(i,"url("+y.url+"#"+m+")")}},applyTextShadow:function(t){var i,n=this.element,o=-1!==t.indexOf("contrast"),r={},s=this.renderer.forExport||n.style.textShadow!==X&&!Te;o&&(r.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),Pe&&(r.textRendering="geometricPrecision"),s?p(n,r):(this.fakeTS=!0,this.ySetter=this.xSetter,i=[].slice.call(n.getElementsByTagName("tspan")),di(t.split(/\s?,\s?/g),function(t){var o,r,s=n.firstChild;t=t.split(" "),o=t[t.length-1],r=t[t.length-2],r&&di(i,function(t,i){var a;0===i&&(t.setAttribute("x",n.getAttribute("x")),i=n.getAttribute("y"),t.setAttribute("y",i||0),null===i&&n.setAttribute("y",0)),a=t.cloneNode(1),c(a,{"class":Ve+"text-shadow",fill:o,stroke:o,"stroke-opacity":1/ge(e(r),3),"stroke-width":r,"stroke-linejoin":"round"}),n.insertBefore(a,s)})}))},attr:function(t,e,i){var n,o,r,s,a=this.element,l=this;if("string"==typeof t&&e!==X&&(n=t,t={},t[n]=e),"string"==typeof t)l=(this[t+"Getter"]||this._defaultGetter).call(this,t,a);else{for(n in t)o=t[n],s=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(r||(this.symbolAttr(t),r=!0),s=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),s||(this[n+"Setter"]||this._defaultSetter).call(this,o,n,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,o);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),l},updateShadows:function(t,e){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(t,"height"===t?ge(e-(i[n].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,i=c(e,"class")||"";return-1===i.indexOf(t)&&c(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;di(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=oi(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Ue)},crisp:function(t){var e,i,n=this,o={},r=t.strokeWidth||n.strokeWidth||0;i=pe(r)%2/2,t.x=ue(t.x||n.x||0)+i,t.y=ue(t.y||n.y||0)+i,t.width=ue((t.width||n.width||0)-2*i),t.height=ue((t.height||n.height||0)-2*i),t.strokeWidth=r;for(e in t)n[e]!==t[e]&&(n[e]=o[e]=t[e]);return o},css:function(t){var i,n,o,r=this,s=r.styles,a={},l=r.element,h="",d=!s;if(t&&t.color&&(t.fill=t.color),s)for(n in t)t[n]!==s[n]&&(a[n]=t[n],d=!0);if(d){if(i=r.textWidth=t&&t.width&&"text"===l.nodeName.toLowerCase()&&e(t.width)||r.textWidth,s&&(t=ni(s,a)),r.styles=t,i&&(ze||!De&&r.renderer.forExport)&&delete t.width,Te&&!De)p(r.element,t);else{o=function(t,e){return"-"+e.toLowerCase()};for(n in t)h+=n.replace(/([A-Z])/g,o)+":"+t[n]+";";c(l,"style",h)}i&&r.added&&r.renderer.buildText(r)}return r},on:function(t,e){var i=this,n=i.element;return E&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=j.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===we.indexOf("Android")||j.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},updateTransform:function(){var t,e=this,i=e.translateX||0,n=e.translateY||0,o=e.scaleX,r=e.scaleY,s=e.inverted,a=e.rotation,l=e.element;s&&(i+=e.attr("width"),n+=e.attr("height")),t=["translate("+i+","+n+")"],s?t.push("rotate(90) scale(-1,1)"):a&&t.push("rotate("+a+" "+(l.getAttribute("x")||0)+" "+(l.getAttribute("y")||0)+")"),(h(o)||h(r))&&t.push("scale("+oi(o,1)+" "+oi(r,1)+")"),t.length&&l.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var o,r,s,a,h,c={},d=this.renderer,p=d.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,(!n||i(n))&&(this.alignTo=h=n||"renderer",l(p,this),p.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,h=this.alignTo),n=oi(n,d[h],d),o=t.align,r=t.verticalAlign,s=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),("right"===o||"center"===o)&&(s+=(n.width-(t.width||0))/{right:1,center:2}[o]),c[e?"translateX":"x"]=pe(s),("bottom"===r||"middle"===r)&&(a+=(n.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),c[e?"translateY":"y"]=pe(a),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t){var e,i,n,o,r,s,a=this,l=a.renderer,h=a.rotation,c=a.element,d=a.styles,p=h*ke,u=a.textStr,f=c.style;if(u!==X&&(s=["",h||0,d&&d.fontSize,c.style.width].join(","),s=""===u||qe.test(u)?"num:"+u.toString().length+s:u+s),s&&!t&&(e=l.cache[s]),!e){if(c.namespaceURI===Me||l.forExport){try{r=this.fakeTS&&function(t){di(c.querySelectorAll("."+Ve+"text-shadow"),function(e){e.style.display=t})},Ce&&f.textShadow?(o=f.textShadow,f.textShadow=""):r&&r(Ue),e=c.getBBox?ni({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight},o?f.textShadow=o:r&&r("")}catch(g){}(!e||e.width<0)&&(e={width:0,height:0})}else e=a.htmlGetBBox();l.isSVG&&(i=e.width,n=e.height,Te&&d&&"11px"===d.fontSize&&"16.9"===n.toPrecision(3)&&(e.height=n=14),h&&(e.width=ye(n*xe(p))+ye(i*ve(p)),e.height=ye(n*ve(p))+ye(i*xe(p)))),s&&(l.cache[s]=e)}return e},show:function(t){return this.attr({visibility:t?"inherit":je})},hide:function(){return this.attr({visibility:Ne})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i,n=this,o=n.element||{},r=n.shadows,s=n.renderer.isSVG&&"SPAN"===o.nodeName&&n.parentGroup;if(o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null,bi(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(i=0;i<n.stops.length;i++)n.stops[i]=n.stops[i].destroy();n.stops=null}for(n.safeRemoveChild(o),r&&di(r,function(t){n.safeRemoveChild(t)});s&&s.div&&0===s.div.childNodes.length;)t=s.parentGroup,n.safeRemoveChild(s.div),delete s.div,s=t;n.alignTo&&l(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(t,e,i){var n,o,r,s,a,l,h=[],d=this.element;if(t){for(s=oi(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+oi(t.offsetX,1)+", "+oi(t.offsetY,1)+")",n=1;s>=n;n++)o=d.cloneNode(0),r=2*s+1-2*n,c(o,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":r,transform:"translate"+l,fill:Ue}),i&&(c(o,"height",ge(c(o,"height")-r,0)),o.cutHeight=r),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),h.push(o);this.shadows=h}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){var e=oi(this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var i;if(t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),i=t.length;i--;)t[i]=e(t[i])*this["stroke-width"];t=t.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=he.createElementNS(Me,"title"),this.element.appendChild(e)),e.appendChild(he.createTextNode(String(oi(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,i){var n,o,r,s,a,l=this.renderer,d=this.parentGroup,p=d||l,u=p.element||l.box,f=this.element,g=this.added;if(h(t)&&(f.setAttribute(i,t),t=+t,this[i]===t&&(g=!1),this[i]=t),g){for(t=this.zIndex,t&&d&&(d.handleZ=!0),n=u.childNodes,a=0;a<n.length&&!s;a++)o=n[a],r=c(o,"zIndex"),o!==f&&(e(r)>t||!h(t)&&h(r))&&(u.insertBefore(f,o),s=!0);s||u.appendChild(f)}return s},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},I.prototype.yGetter=I.prototype.xGetter,I.prototype.translateXSetter=I.prototype.translateYSetter=I.prototype.rotationSetter=I.prototype.verticalAlignSetter=I.prototype.scaleXSetter=I.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},I.prototype["stroke-widthSetter"]=I.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],I.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var Ci=function(){this.init.apply(this,arguments)};Ci.prototype={Element:I,init:function(t,e,i,n,o){var r,s,a,l=this,h=location;r=l.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n)),s=r.element,t.appendChild(s),-1===t.innerHTML.indexOf("xmlns")&&c(s,"xmlns",Me),l.isSVG=!0,l.box=s,l.boxWrapper=r,l.alignedObjects=[],l.url=(Ce||Pe)&&he.getElementsByTagName("base").length?h.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",a=this.createElement("desc").add(),a.element.appendChild(he.createTextNode("Created with "+Ee+" "+We)),l.defs=this.createElement("defs").add(),l.forExport=o,l.gradients={},l.cache={},l.setSize(e,i,!1);var d,u;Ce&&t.getBoundingClientRect&&(l.subPixelFix=d=function(){p(t,{left:0,top:0}),u=t.getBoundingClientRect(),p(t,{left:fe(u.left)-u.left+_e,top:fe(u.top)-u.top+_e})},d(),gi(ce,"resize",d))},getStyle:function(t){return this.style=ni({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),A(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&mi(ce,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var i,n,o,r=t.element,s=this,a=s.forExport,l=oi(t.textStr,"").toString(),h=-1!==l.indexOf("<"),d=r.childNodes,u=c(r,"x"),f=t.styles,g=t.textWidth,m=f&&f.lineHeight,y=f&&f.textShadow,v=f&&"ellipsis"===f.textOverflow,x=d.length,b=g&&!t.added&&this.box,k=function(t){return m?e(m):s.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:f&&f.fontSize||s.style.fontSize||12,t).h},w=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};x--;)r.removeChild(d[x]);return h||y||v||-1!==l.indexOf(" ")?(n=/<.*style="([^"]+)".*>/,o=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(r),i=h?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],""===i[i.length-1]&&i.pop(),di(i,function(e,i){var l,h=0;e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),l=e.split("|||"),di(l,function(e){if(""!==e||1===l.length){var d,m={},y=he.createElementNS(Me,"tspan");if(n.test(e)&&(d=e.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(y,"style",d)),o.test(e)&&!a&&(c(y,"onclick",'location.href="'+e.match(o)[1]+'"'),p(y,{cursor:"pointer"})),e=w(e.replace(/<(.|\n)*?>/g,"")||" ")," "!==e){if(y.appendChild(he.createTextNode(e)),h?m.dx=0:i&&null!==u&&(m.x=u),c(y,m),r.appendChild(y),!h&&i&&(!De&&a&&p(y,{display:"block"}),c(y,"dy",k(y))),g){for(var x,b,S,T,A=e.replace(/([^\^])-/g,"$1- ").split(" "),P=l.length>1||i||A.length>1&&"nowrap"!==f.whiteSpace,C=[],L=k(y),M=1,D=t.rotation,O=e,z=O.length;(P||v)&&(A.length||C.length);)t.rotation=0,T=t.getBBox(!0),S=T.width,!De&&s.forExport&&(S=s.measureSpanWidth(y.firstChild.data,t.styles)),x=S>g,void 0===b&&(b=x),v&&b?(z/=2,""===O||!x&&.5>z?A=[]:(x&&(b=!0),O=e.substring(0,O.length+(x?-1:1)*fe(z)),A=[O+(g>3?"…":"")],y.removeChild(y.firstChild))):x&&1!==A.length?(y.removeChild(y.firstChild),C.unshift(A.pop())):(A=C,C=[],A.length&&(M++,y=he.createElementNS(Me,"tspan"),c(y,{dy:L,x:u}),d&&c(y,"style",d),r.appendChild(y)),S>g&&(g=S)),A.length&&y.appendChild(he.createTextNode(A.join(" ").replace(/- /g,"-")));b&&t.attr("title",t.textStr),t.rotation=D}h++}}})}),b&&b.removeChild(r),y&&t.applyTextShadow&&t.applyTextShadow(y),void 0):void r.appendChild(he.createTextNode(w(l)))},getContrast:function(t){return t=Pi(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(e,i,n,o,r,s,a,l,h){var c,d,p,u,f,g,m=this.label(e,i,n,h,null,null,null,null,"button"),y=0,v={x1:0,y1:0,x2:0,y2:1};return r=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:v,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r),p=r.style,delete r.style,s=t(r,{stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),u=s.style,delete s.style,a=t(r,{stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=t(r,{style:{color:"#CCC"}},l),g=l.style,delete l.style,gi(m.element,Te?"mouseover":"mouseenter",function(){3!==y&&m.attr(s).css(u)}),gi(m.element,Te?"mouseout":"mouseleave",function(){3!==y&&(c=[r,s,a][y],d=[p,u,f][y],m.attr(c).css(d))}),m.setState=function(t){m.state=y=t,t?2===t?m.attr(a).css(f):3===t&&m.attr(l).css(g):m.attr(r).css(p)},m.on("click",function(t){3!==y&&o.call(m,t)}).attr(r).css(ni({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=pe(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=pe(t[2])+e%2/2),t},path:function(t){var e={fill:Ue};return o(t)?e.d=t:n(t)&&ni(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){var o=n(t)?t:{x:t,y:e,r:i},r=this.createElement("circle");return r.xSetter=function(t){this.element.setAttribute("cx",t)},r.ySetter=function(t){this.element.setAttribute("cy",t)},r.attr(o)},arc:function(t,e,i,o,r,s){var a;return n(t)&&(e=t.y,i=t.r,o=t.innerR,r=t.start,s=t.end,t=t.x),a=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:o||0,start:r||0,end:s||0}),a.r=i,a},rect:function(t,e,i,o,r,s){r=n(t)?t.r:r;var a=this.createElement("rect"),l=n(t)?t:t===X?{}:{x:t,y:e,width:ge(i,0),height:ge(o,0)};return s!==X&&(l.strokeWidth=s,l=a.crisp(l)),r&&(l.r=r),a.rSetter=function(t){c(this.element,{rx:t,ry:t})},a.attr(l)},setSize:function(t,e,i){var n=this,o=n.alignedObjects,r=o.length;for(n.width=t,n.height=e,n.boxWrapper[oi(i,!0)?"animate":"attr"]({width:t,height:e});r--;)o[r].align()},g:function(t){var e=this.createElement("g");return h(t)?e.attr({"class":Ve+t}):e},image:function(t,e,i,n,o){var r,s={preserveAspectRatio:Ue};return arguments.length>1&&ni(s,{x:e,y:i,width:n,height:o}),r=this.createElement("image").attr(s),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):r.element.setAttribute("hc-svg-href",t),r},symbol:function(t,e,i,n,o,r){var s,a,l,h,c,d=this.symbols[t],p=d&&d(pe(e),pe(i),n,o,r),f=/^url\((.*?)\)$/;return p?(s=this.path(p),ni(s,{symbolName:t,x:e,y:i,width:n,height:o}),r&&ni(s,r)):f.test(t)&&(c=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(pe((n-e[0])/2),pe((o-e[1])/2)))},l=t.match(f)[1],h=Ie[l]||r&&r.width&&r.height&&[r.width,r.height],s=this.image(l).attr({x:e,y:i}),s.isImg=!0,h?c(s,h):(s.attr({width:0,height:0}),a=u("img",{onload:function(){c(s,Ie[l]=[this.width,this.height])},src:l}))),s},symbols:{circle:function(t,e,i,n){var o=.166*i;return[Ze,t+i/2,e,"C",t+i+o,e,t+i+o,e+n,t+i/2,e+n,"C",t-o,e+n,t-o,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[Ze,t,e,Ke,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Ze,t+i/2,e,Ke,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Ze,t,e,Ke,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Ze,t+i/2,e,Ke,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,o){var r=o.start,s=o.r||i||n,a=o.end-.001,l=o.innerR,h=o.open,c=ve(r),d=xe(r),p=ve(a),u=xe(a),f=o.end-r<be?0:1;
return[Ze,t+s*c,e+s*d,"A",s,s,0,f,1,t+s*p,e+s*u,h?Ze:Ke,t+l*p,e+l*u,"A",l,l,0,f,0,t+l*c,e+l*d,h?"":"Z"]},callout:function(t,e,i,n,o){var r,s=6,a=6,l=me(o&&o.r||0,i,n),h=l+a,c=o&&o.anchorX,d=o&&o.anchorY;return r=["M",t+l,e,"L",t+i-l,e,"C",t+i,e,t+i,e,t+i,e+l,"L",t+i,e+n-l,"C",t+i,e+n,t+i,e+n,t+i-l,e+n,"L",t+l,e+n,"C",t,e+n,t,e+n,t,e+n-l,"L",t,e+l,"C",t,e,t,e,t+l,e],c&&c>i&&d>e+h&&e+n-h>d?r.splice(13,3,"L",t+i,d-a,t+i+s,d,t+i,d+a,t+i,e+n-l):c&&0>c&&d>e+h&&e+n-h>d?r.splice(33,3,"L",t,d+a,t-s,d,t,d-a,t,e+l):d&&d>n&&c>t+h&&t+i-h>c?r.splice(23,3,"L",c+a,e+n,c,e+n+s,c-a,e+n,t+l,e+n):d&&0>d&&c>t+h&&t+i-h>c&&r.splice(3,3,"L",c-a,e,c,e-s,c+a,e,i-l,e),r}},clipRect:function(t,e,i,n){var o,r=Ve+Re++,s=this.createElement("clipPath").attr({id:r}).add(this.defs);return o=this.rect(t,e,i,n,0).add(s),o.id=r,o.clipPath=s,o.count=0,o},text:function(t,e,i,n){var o,r=this,s=ze||!De&&r.forExport,a={};return n&&!r.forExport?r.html(t,e,i):(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),(t||0===t)&&(a.text=t),o=r.createElement("text").attr(a),s&&o.css({position:Fe}),n||(o.xSetter=function(t,e,i){var n,o,r=i.getElementsByTagName("tspan"),s=i.getAttribute(e);for(o=0;o<r.length;o++)n=r[o],n.getAttribute(e)===s&&n.setAttribute(e,t);i.setAttribute(e,t)}),o)},fontMetrics:function(t,i){var n,o,r;return t=t||this.style.fontSize,i&&ce.getComputedStyle&&(i=i.element||i,r=ce.getComputedStyle(i,""),t=r&&r.fontSize),t=/px/.test(t)?e(t):/em/.test(t)?12*parseFloat(t):12,n=24>t?t+3:pe(1.2*t),o=pe(.8*n),{h:n,b:o,f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=ge(n*ve(e*ke),4)),{x:-t/3*xe(e*ke),y:n}},label:function(e,i,n,o,r,s,a,l,c){function d(){var t,e,i=T.element.style;g=(void 0===m||void 0===y||S.styles.textAlign)&&h(T.textStr)&&T.getBBox(),S.width=(m||g.width||0)+2*P+C,S.height=(y||g.height||0)+2*P,b=P+w.fontMetrics(i&&i.fontSize,T).b,k&&(f||(t=pe(-A*P)+L,e=(l?-b:0)+L,S.box=f=o?w.symbol(o,t,e,S.width,S.height,M):w.rect(t,e,S.width,S.height,0,M[ei]),f.isImg||f.attr("fill",Ue),f.add(S)),f.isImg||f.attr(ni({width:pe(S.width),height:pe(S.height)},M)),M=null)}function p(){var t,e=S.styles,i=e&&e.textAlign,n=C+P*(1-A);t=l?0:b,h(m)&&g&&("center"===i||"right"===i)&&(n+={center:.5,right:1}[i]*(m-g.width)),(n!==T.x||t!==T.y)&&(T.attr("x",n),t!==X&&T.attr("y",t)),T.x=n,T.y=t}function u(t,e){f?f.attr(t,e):M[t]=e}var f,g,m,y,v,x,b,k,w=this,S=w.g(c),T=w.text("",0,0,a).attr({zIndex:1}),A=0,P=3,C=0,L=0,M={};S.onAdd=function(){T.add(S),S.attr({text:e||0===e?e:"",x:i,y:n}),f&&h(r)&&S.attr({anchorX:r,anchorY:s})},S.widthSetter=function(t){m=t},S.heightSetter=function(t){y=t},S.paddingSetter=function(t){h(t)&&t!==P&&(P=S.padding=t,p())},S.paddingLeftSetter=function(t){h(t)&&t!==C&&(C=t,p())},S.alignSetter=function(t){A={left:0,center:.5,right:1}[t]},S.textSetter=function(t){t!==X&&T.textSetter(t),d(),p()},S["stroke-widthSetter"]=function(t,e){t&&(k=!0),L=t%2/2,u(e,t)},S.strokeSetter=S.fillSetter=S.rSetter=function(t,e){"fill"===e&&t&&(k=!0),u(e,t)},S.anchorXSetter=function(t,e){r=t,u(e,pe(t)-L-v)},S.anchorYSetter=function(t,e){s=t,u(e,t-x)},S.xSetter=function(t){S.x=t,A&&(t-=A*((m||g.width)+P)),v=pe(t),S.attr("translateX",v)},S.ySetter=function(t){x=S.y=pe(t),S.attr("translateY",x)};var D=S.css;return ni(S,{css:function(e){if(e){var i={};e=t(e),di(S.textProps,function(t){e[t]!==X&&(i[t]=e[t],delete e[t])}),T.css(i)}return D.call(S,e)},getBBox:function(){return{width:g.width+2*P,height:g.height+2*P,x:g.x-P,y:g.y-P}},shadow:function(t){return f&&f.shadow(t),S},destroy:function(){mi(S.element,"mouseenter"),mi(S.element,"mouseleave"),T&&(T=T.destroy()),f&&(f=f.destroy()),I.prototype.destroy.call(S),S=w=d=p=u=null}})}},H=Ci,ni(I.prototype,{htmlCss:function(t){var e=this,i=e.element,n=t&&"SPAN"===i.tagName&&t.width;return n&&(delete t.width,e.textWidth=n,e.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),e.styles=ni(e.styles,t),p(e.element,t),e},htmlGetBBox:function(){var t=this,e=t.element;return"text"===e.nodeName&&(e.style.position=Fe),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,i=t.renderer,n=t.element,o=t.translateX||0,r=t.translateY||0,s=t.x||0,a=t.y||0,l=t.textAlign||"left",c={left:0,center:.5,right:1}[l],d=t.shadows,u=t.styles;if(p(n,{marginLeft:o,marginTop:r}),d&&di(d,function(t){p(t,{marginLeft:o+1,marginTop:r+1})}),t.inverted&&di(n.childNodes,function(t){i.invertChild(t,n)}),"SPAN"===n.tagName){var f,g,m=t.rotation,y=e(t.textWidth),v=[m,l,n.innerHTML,t.textWidth,t.textAlign].join(",");v!==t.cTT&&(g=i.fontMetrics(n.style.fontSize).b,h(m)&&t.setSpanRotation(m,c,g),f=oi(t.elemWidth,n.offsetWidth),f>y&&/[ \-]/.test(n.textContent||n.innerText)&&(p(n,{width:y+_e,display:"block",whiteSpace:u&&u.whiteSpace||"normal"}),f=y),t.getSpanCorrection(f,g,c,m,l)),p(n,{left:s+(t.xCorr||0)+_e,top:a+(t.yCorr||0)+_e}),Pe&&(g=n.offsetHeight),t.cTT=v}},setSpanRotation:function(t,e,i){var n={},o=Te?"-ms-transform":Pe?"-webkit-transform":Ce?"MozTransform":Se?"-o-transform":"";n[o]=n.transform="rotate("+t+"deg)",n[o+(Ce?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",p(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),ni(Ci.prototype,{html:function(t,e,i){var n=this.createElement("span"),o=n.element,r=n.renderer;return n.textSetter=function(t){t!==o.innerHTML&&delete this.bBox,o.innerHTML=this.textStr=t,n.htmlUpdateTransform()},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.htmlUpdateTransform()},n.attr({text:t,x:pe(e),y:pe(i)}).css({position:Fe,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.style.whiteSpace="nowrap",n.css=n.htmlCss,r.isSVG&&(n.add=function(t){var e,i,s=r.box.parentNode,a=[];if(this.parentGroup=t,t){if(e=t.div,!e){for(i=t;i;)a.push(i),i=i.parentGroup;di(a.reverse(),function(t){var i,n=c(t.element,"class");n&&(n={className:n}),e=t.div=t.div||u(Ge,n,{position:Fe,left:(t.translateX||0)+_e,top:(t.translateY||0)+_e},e||s),i=e.style,ni(t,{translateXSetter:function(e,n){i.left=e+_e,t[n]=e,t.doTransform=!0},translateYSetter:function(e,n){i.top=e+_e,t[n]=e,t.doTransform=!0}}),ri(t,"visibilitySetter",function(t,e,n,o){t.call(this,e,n,o),i[n]=e})})}}else e=s;return e.appendChild(o),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}});var Li,Mi;if(!De&&!ze){Mi={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],o=["position: ",Fe,";"],r=e===Ge;("shape"===e||r)&&o.push("left:0;top:0;width:1px;height:1px;"),o.push("visibility: ",r?Ne:je),n.push(' style="',o.join(""),'"/>'),e&&(n=r||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=u(n)),i.renderer=t},add:function(t){var e=this,i=e.renderer,n=e.element,o=i.box,r=t&&t.inverted,s=t?t.element||t:o;return r&&i.invertChild(n,s),s.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),e},updateTransform:I.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=ve(t*ke),i=xe(t*ke);p(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):Ue})},getSpanCorrection:function(t,e,i,n,o){var r,s=n?ve(n*ke):1,a=n?xe(n*ke):0,l=oi(this.elemHeight,this.element.offsetHeight),h=o&&"left"!==o;this.xCorr=0>s&&-t,this.yCorr=0>a&&-l,r=0>s*a,this.xCorr+=a*e*(r?1-i:i),this.yCorr-=s*e*(n?r?i:1-i:1),h&&(this.xCorr-=t*i*(0>s?-1:1),n&&(this.yCorr-=l*i*(0>a?-1:1)),p(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)r(t[e])?i[e]=pe(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i,n=this;return t?(e=t.members,l(e,n),e.push(n),n.destroyClip=function(){l(e,n)},i=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:Ae?"inherit":"rect(auto)"}),n.css(i)},css:I.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&P(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),I.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=ce.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,i){var n;return t=t.split(/[ ,]/),n=t.length,(9===n||11===n)&&(t[n-4]=t[n-2]=e(t[n-2])-10*i),t.join(" ")},shadow:function(t,i,n){var o,r,s,a,l,h,c,d=[],p=this.element,f=this.renderer,g=p.style,m=p.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(h=oi(t.width,3),c=(t.opacity||.15)/h,o=1;3>=o;o++)a=2*h+1-2*o,n&&(l=this.cutOffPath(m.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',p.style.cssText,'" />'],r=u(f.prepVML(s),null,{left:e(g.left)+oi(t.offsetX,1),top:e(g.top)+oi(t.offsetY,1)}),n&&(r.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',c*o,'"/>'],u(f.prepVML(s),null,null,r),i?i.element.appendChild(r):p.parentNode.insertBefore(r,p),d.push(r);this.shadows=d}return this},updateShadows:Be,setAttr:function(t,e){Ae?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){var n=i.getElementsByTagName("stroke")[0]||u(this.renderer.prepVML(["<stroke/>"]),null,null,i);n[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n,o=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),o)for(n=o.length;n--;)o[n].path=o[n].cutOff?this.cutOffPath(t,o[n].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled=t!==Ue,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},opacitySetter:Be,rotationSetter:function(t,e,i){var n=i.style;this[e]=n[e]=t,n.left=-pe(xe(t*ke)+1)+_e,n.top=pe(ve(t*ke))+_e},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,r(t)&&(t+=_e),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t=je),this.shadows&&di(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t=t===Ne?"-999em":0,Ae||(i.style[e]=t?je:Ne),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},le.VMLElement=Mi=f(I,Mi),Mi.prototype.ySetter=Mi.prototype.widthSetter=Mi.prototype.heightSetter=Mi.prototype.xSetter;var Di={Element:Mi,isIE8:we.indexOf("MSIE 8.0")>-1,init:function(t,e,i,n){var o,r,s,a=this;if(a.alignedObjects=[],o=a.createElement(Ge).css(ni(this.getStyle(n),{position:Ye})),r=o.element,t.appendChild(o.element),a.isVML=!0,a.box=r,a.boxWrapper=o,a.cache={},a.setSize(e,i,!1),!he.namespaces.hcv){he.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),s="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{he.createStyleSheet().cssText=s}catch(l){he.styleSheets[0].cssText+=s}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,o){var r=this.createElement(),s=n(t);return ni(r,{members:[],count:0,left:(s?t.x:t)+1,top:(s?t.y:e)+1,width:(s?t.width:i)-1,height:(s?t.height:o)-1,getCSS:function(t){var e=t.element,i=e.nodeName,n="shape"===i,o=t.inverted,r=this,s=r.top-(n?e.offsetTop:0),a=r.left,l=a+r.width,h=s+r.height,c={clip:"rect("+pe(o?a:s)+"px,"+pe(o?h:l)+"px,"+pe(o?l:h)+"px,"+pe(o?s:a)+"px)"};return!o&&Ae&&"DIV"===i&&ni(c,{width:l+_e,height:h+_e}),c},updateClipping:function(){di(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(t,e,i,n){var o,r,s,a=this,l=/^rgba/,h=Ue;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var c,d,p,f,g,m,y,v,x,b,k,w,S=t.linearGradient||t.radialGradient,T="",A=t.stops,P=[],C=function(){r=['<fill colors="'+P.join(",")+'" opacity="',v,'" o:opacity2="',y,'" type="',s,'" ',T,'focus="100%" method="any" />'],u(a.prepVML(r),null,null,e)};if(k=A[0],w=A[A.length-1],k[0]>0&&A.unshift([0,k[1]]),w[0]<1&&A.push([1,w[1]]),di(A,function(t,e){l.test(t[1])?(o=Pi(t[1]),c=o.get("rgb"),d=o.get("a")):(c=t[1],d=1),P.push(100*t[0]+"% "+c),e?(v=d,x=c):(y=d,b=c)}),"fill"===i)if("gradient"===s)p=S.x1||S[0]||0,f=S.y1||S[1]||0,g=S.x2||S[2]||0,m=S.y2||S[3]||0,T='angle="'+(90-180*de.atan((m-f)/(g-p))/be)+'"',C();else{var L,M=S.r,D=2*M,O=2*M,z=S.cx,I=S.cy,R=e.radialReference,B=function(){R&&(L=n.getBBox(),z+=(R[0]-L.x)/L.width-.5,I+=(R[1]-L.y)/L.height-.5,D*=R[2]/L.width,O*=R[2]/L.height),T='src="'+G.global.VMLRadialGradientURL+'" size="'+D+","+O+'" origin="0.5,0.5" position="'+z+","+I+'" color2="'+b+'" ',C()};n.added?B():n.onAdd=B,h=x}else h=c}else if(l.test(t)&&"IMG"!==e.tagName)o=Pi(t),r=["<",i,' opacity="',o.get("a"),'"/>'],u(this.prepVML(r),null,null,e),h=o.get("rgb");else{var X=e.getElementsByTagName(i);X.length&&(X[0].opacity=1,X[0].type="solid"),h=t}return h},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),i?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Ci.prototype.html,path:function(t){var e={coordsize:"10 10"};return o(t)?e.d=t:n(t)&&ni(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var o=this.symbol("circle");return n(t)&&(i=t.r,e=t.y,t=t.x),o.isCircle=!0,o.r=i,o.attr({x:t,y:e})},g:function(t){var e,i;return t&&(i={className:Ve+t,"class":Ve+t}),e=this.createElement(Ge).attr(i)},image:function(t,e,i,n,o){var r=this.createElement("img").attr({src:t});return arguments.length>1&&r.attr({x:e,y:i,width:n,height:o}),r},createElement:function(t){return"rect"===t?this.symbol(t):Ci.prototype.createElement.call(this,t)},invertChild:function(t,i){var n=this,o=i.style,r="IMG"===t.tagName&&t.style;p(t,{flip:"x",left:e(o.width)-(r?e(r.top):1),top:e(o.height)-(r?e(r.left):1),rotation:-90}),di(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,o){var r,s=o.start,a=o.end,l=o.r||i||n,h=o.innerR,c=ve(s),d=xe(s),p=ve(a),u=xe(a);return a-s===0?["x"]:(r=["wa",t-l,e-l,t+l,e+l,t+l*c,e+l*d,t+l*p,e+l*u],o.open&&!h&&r.push("e",Ze,t,e),r.push("at",t-h,e-h,t+h,e+h,t+h*p,e+h*u,t+h*c,e+h*d,"x","e"),r.isArc=!0,r)},circle:function(t,e,i,n,o){return o&&(i=n=2*o.r),o&&o.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,o){return Ci.prototype.symbols[h(o)&&o.r?"callout":"square"].call(0,t,e,i,n,o)}}};le.VMLRenderer=Li=function(){this.init.apply(this,arguments)},Li.prototype=t(Ci.prototype,Di),H=Li}Ci.prototype.measureSpanWidth=function(t,e){var i,n=he.createElement("span"),o=he.createTextNode(t);return n.appendChild(o),p(n,e),this.box.appendChild(n),i=n.offsetWidth,P(n),i};var Oi,zi;ze&&(le.CanVGRenderer=Oi=function(){Me="http://www.w3.org/1999/xhtml"},Oi.prototype.symbols={},zi=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&hi(n,t),e.push(i)}}}(),H=Oi),R.prototype={addLabel:function(){var e,i,n=this,o=n.axis,r=o.options,s=o.chart,l=o.categories,c=o.names,d=n.pos,p=r.labels,u=o.tickPositions,f=d===u[0],g=d===u[u.length-1],m=l?oi(l[d],c[d],d):d,y=n.label,v=u.info;o.isDatetimeAxis&&v&&(i=r.dateTimeLabelFormats[v.higherRanks[d]||v.unitName]),n.isFirst=f,n.isLast=g,e=o.labelFormatter.call({axis:o,chart:s,isFirst:f,isLast:g,dateTimeLabelFormat:i,value:o.isLog?L(a(m)):m}),h(y)?y&&y.attr({text:e}):(n.label=y=h(e)&&p.enabled?s.renderer.text(e,0,0,p.useHTML).css(t(p.style)).add(o.labelGroup):null,n.labelLength=y&&y.getBBox().width,n.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i,n,o=this.axis,r=t.x,s=o.chart.chartWidth,a=o.chart.spacing,l=oi(o.labelLeft,me(o.pos,a[3])),h=oi(o.labelRight,ge(o.pos+o.len,s-a[1])),c=this.label,d=this.rotation,p={left:0,center:.5,right:1}[o.labelAlign],u=c.getBBox().width,f=o.slotWidth,g=p,m=1,y={};d?0>d&&l>r-p*u?n=pe(r/ve(d*ke)-l):d>0&&r+p*u>h&&(n=pe((s-r)/ve(d*ke))):(e=r-p*u,i=r+(1-p)*u,l>e?f=t.x+f*(1-p)-l:i>h&&(f=h-t.x+f*p,m=-1),f=me(o.slotWidth,f),f<o.slotWidth&&"center"===o.labelAlign&&(t.x+=m*(o.slotWidth-f-g*(o.slotWidth-me(u,f)))),(u>f||o.autoRotation&&c.styles.width)&&(n=f)),n&&(y.width=n,o.options.labels.style.textOverflow||(y.textOverflow="ellipsis"),c.css(y))},getPosition:function(t,e,i,n){var o=this.axis,r=o.chart,s=n&&r.oldChartHeight||r.chartHeight;return{x:t?o.translate(e+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&r.oldChartWidth||r.chartWidth)-o.right-o.left:0),y:t?s-o.bottom+o.offset-(o.opposite?o.height:0):s-o.translate(e+i,null,null,n)-o.transB}},getLabelPosition:function(t,e,i,n,o,r,s,a){var l,h=this.axis,c=h.transA,d=h.reversed,p=h.staggerLines,u=h.tickRotCorr||{x:0,y:0},f=oi(o.y,u.y+(2===h.side?8:-(i.getBBox().height/2)));return t=t+o.x+u.x-(r&&n?r*c*(d?-1:1):0),e=e+f-(r&&!n?r*c*(d?1:-1):0),p&&(l=s/(a||1)%p,e+=l*(h.labelOffset/p)),{x:t,y:pe(e)}},getMarkPath:function(t,e,i,n,o,r){return r.crispLine([Ze,t,e,Ke,t+(o?0:-i),e+(o?i:0)],n)},render:function(t,e,i){var n,o,r,s=this,a=s.axis,l=a.options,h=a.chart,c=h.renderer,d=a.horiz,p=s.type,u=s.label,f=s.pos,g=l.labels,m=s.gridLine,y=p?p+"Grid":"grid",v=p?p+"Tick":"tick",x=l[y+"LineWidth"],b=l[y+"LineColor"],k=l[y+"LineDashStyle"],w=l[v+"Length"],S=oi(l[v+"Width"],!p&&a.isXAxis?1:0),T=l[v+"Color"],A=l[v+"Position"],P=s.mark,C=g.step,L=!0,M=a.tickmarkOffset,D=s.getPosition(d,f,M,e),O=D.x,z=D.y,I=d&&O===a.pos+a.len||!d&&z===a.pos?-1:1;i=oi(i,1),this.isActive=!0,x&&(n=a.getPlotLinePath(f+M,x*I,e,!0),m===X&&(r={stroke:b,"stroke-width":x},k&&(r.dashstyle=k),p||(r.zIndex=1),e&&(r.opacity=0),s.gridLine=m=x?c.path(n).attr(r).add(a.gridGroup):null),!e&&m&&n&&m[s.isNew?"attr":"animate"]({d:n,opacity:i})),S&&w&&("inside"===A&&(w=-w),a.opposite&&(w=-w),o=s.getMarkPath(O,z,w,S*I,d,c),P?P.animate({d:o,opacity:i}):s.mark=c.path(o).attr({stroke:T,"stroke-width":S,opacity:i}).add(a.axisGroup)),u&&!isNaN(O)&&(u.xy=D=s.getLabelPosition(O,z,u,d,g,M,t,C),s.isFirst&&!s.isLast&&!oi(l.showFirstLabel,1)||s.isLast&&!s.isFirst&&!oi(l.showLastLabel,1)?L=!1:!d||a.isRadial||g.step||g.rotation||e||0===i||s.handleOverflow(D),C&&t%C&&(L=!1),L&&!isNaN(D.y)?(D.opacity=i,u[s.isNew?"attr":"animate"](D),s.isNew=!1):u.attr("y",-9999))},destroy:function(){A(this,this.axis)}},le.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},le.PlotLineOrBand.prototype={render:function(){var e,i,n,o,r,a,l=this,c=l.axis,d=c.horiz,p=l.options,u=p.label,f=l.label,g=p.width,m=p.to,y=p.from,v=h(y)&&h(m),x=p.value,b=p.dashStyle,k=l.svgElem,w=[],A=p.color,P=p.zIndex,C=p.events,L={},M=c.chart.renderer;if(c.isLog&&(y=s(y),m=s(m),x=s(x)),g)w=c.getPlotLinePath(x,g),L={stroke:A,"stroke-width":g},b&&(L.dashstyle=b);else{if(!v)return;w=c.getPlotBandPath(y,m,p),A&&(L.fill=A),p.borderWidth&&(L.stroke=p.borderColor,L["stroke-width"]=p.borderWidth)}if(h(P)&&(L.zIndex=P),k)w?k.animate({d:w},null,k.onGetPath):(k.hide(),k.onGetPath=function(){k.show()},f&&(l.label=f=f.destroy()));else if(w&&w.length&&(l.svgElem=k=M.path(w).attr(L).add(),C)){e=function(t){k.on(t,function(e){C[t].apply(l,[e])})};for(i in C)e(i)}return u&&h(u.text)&&w&&w.length&&c.width>0&&c.height>0?(u=t({align:d&&v&&"center",x:d?!v&&4:10,verticalAlign:!d&&v&&"middle",y:d?v?16:10:v?6:-4,rotation:d&&!v&&90},u),f||(L={align:u.textAlign||u.align,rotation:u.rotation},h(P)&&(L.zIndex=P),l.label=f=M.text(u.text,0,0,u.useHTML).attr(L).css(u.style).add()),n=[w[1],w[4],v?w[6]:w[1]],o=[w[2],w[5],v?w[7]:w[2]],r=S(n),a=S(o),f.align(u,!1,{x:r,y:a,width:T(n)-r,height:T(o)-a}),f.show()):f&&f.hide(),l},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,A(this)}},V={getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0);return n&&i&&n.toString()!==i.toString()?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new le.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();di([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(o=e.length;o--;)e[o].id===t&&l(e,e[o])})}};var Ii=le.Axis=function(){this.init.apply(this,arguments)};Ii.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return le.numberFormat(this.total,-1)},style:t(ki.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.chart=t,n.horiz=t.inverted?!i:i,n.isXAxis=i,n.coll=i?"xAxis":"yAxis",n.opposite=e.opposite,n.side=e.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(e);var o=this.options,r=o.type,l="datetime"===r;n.labelFormatter=o.labels.formatter||n.defaultLabelFormatter,n.userOptions=e,n.minPixelPadding=0,n.reversed=o.reversed,n.zoomEnabled=o.zoomEnabled!==!1,n.categories=o.categories||"category"===r,n.names=n.names||[],n.isLog="logarithmic"===r,n.isDatetimeAxis=l,n.isLinked=h(o.linkedTo),n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=o.minRange||o.maxZoom,n.range=o.range,n.offset=o.offset||0,n.stacks={},n.oldStacks={},n.stacksTouched=0,n.max=null,n.min=null,n.crosshair=oi(o.crosshair,d(t.options.tooltip.crosshairs)[i?0:1],!1);var c,p=n.options.events;-1===ci(n,t.axes)&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,n):t.axes.push(n),t[n.coll].push(n)),n.series=n.series||[],t.inverted&&i&&n.reversed===X&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine;for(c in p)gi(n,c,p[c]);n.isLog&&(n.val2lin=s,n.lin2val=a)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(G[this.coll],e))},defaultLabelFormatter:function(){var t,e,i=this.axis,n=this.value,o=i.categories,r=this.dateTimeLabelFormat,s=G.lang.numericSymbols,a=s&&s.length,l=i.options.labels.format,h=i.isLog?n:i.tickInterval;if(l)e=x(l,this);else if(o)e=n;else if(r)e=F(r,n);else if(a&&h>=1e3)for(;a--&&e===X;)t=Math.pow(1e3,a+1),h>=t&&10*n%t===0&&null!==s[a]&&(e=le.numberFormat(n/t,-1)+s[a]);return e===X&&(e=ye(n)>=1e4?le.numberFormat(n,-1):le.numberFormat(n,-1,X,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null,t.buildStacks&&t.buildStacks(),di(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,o,r,s=i.options,a=s.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=a&&(a=null),t.isXAxis?(n=i.xData,n.length&&(t.dataMin=me(oi(t.dataMin,n[0]),S(n)),t.dataMax=ge(oi(t.dataMax,n[0]),T(n)))):(i.getExtremes(),r=i.dataMax,o=i.dataMin,h(o)&&h(r)&&(t.dataMin=me(oi(t.dataMin,o),o),t.dataMax=ge(oi(t.dataMax,r),r)),h(a)&&(t.dataMin>=a?(t.dataMin=a,t.ignoreMinPadding=!0):t.dataMax<a&&(t.dataMax=a,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,n,o,s){var a,l=this.linkedParent||this,h=1,c=0,d=n?l.oldTransA:l.transA,p=n?l.oldMin:l.min,u=l.minPixelPadding,f=(l.doPostTranslate||l.isLog&&o)&&l.lin2val;return d||(d=l.transA),i&&(h*=-1,c=l.len),l.reversed&&(h*=-1,c-=h*(l.sector||l.len)),e?(t=t*h+c,t-=u,a=t/d+p,f&&(a=l.lin2val(a))):(f&&(t=l.val2lin(t)),"between"===s&&(s=.5),a=h*(t-p)*d+c+h*u+(r(s)?d*s*l.pointRange:0)),a},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,o){var r,s,a,l,h,c=this,d=c.chart,p=c.left,u=c.top,f=i&&d.oldChartHeight||d.chartHeight,g=i&&d.oldChartWidth||d.chartWidth,m=c.transB,y=function(t,e,i){return(e>t||t>i)&&(n?t=me(ge(e,t),i):h=!0),t};return o=oi(o,c.translate(t,null,null,i)),r=a=pe(o+m),s=l=pe(f-o-m),isNaN(o)?h=!0:c.horiz?(s=u,l=f-c.bottom,r=a=y(r,p,p+c.width)):(r=p,a=g-c.right,s=l=y(s,u,u+c.height)),h&&!n?null:d.renderer.crispLine([Ze,r,s,Ke,a,l],e||1)},getLinearTickPositions:function(t,e,i){var n,o,s=L(ue(e/t)*t),a=L(fe(i/t)*t),l=[];if(e===i&&r(e))return[e];for(n=s;a>=n&&(l.push(n),n=L(n+t),n!==o);)o=n;return l},getMinorTickPositions:function(){var t,e,i,n=this,o=n.options,r=n.tickPositions,s=n.minorTickInterval,a=[],l=n.pointRangePadding||0,h=n.min-l,c=n.max+l,d=c-h;if(d&&d/s<n.len/3)if(n.isLog)for(i=r.length,e=1;i>e;e++)a=a.concat(n.getLogTickPositions(s,r[e-1],r[e],!0));else if(n.isDatetimeAxis&&"auto"===o.minorTickInterval)a=a.concat(n.getTimeTicks(n.normalizeTimeTickInterval(s),h,c,o.startOfWeek));else for(t=h+(r[0]-h)%s;c>=t;t+=s)a.push(t);return 0!==a.length&&n.trimTicks(a,o.startOnTick,o.endOnTick),a},adjustForMinRange:function(){var t,e,i,n,o,r,s,a,l=this,c=l.options,d=l.min,p=l.max,u=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===X&&!l.isLog&&(h(c.min)||h(c.max)?l.minRange=null:(di(l.series,function(t){for(o=t.xData,r=t.xIncrement?1:o.length-1,i=r;i>0;i--)n=o[i]-o[i-1],(e===X||e>n)&&(e=n)}),l.minRange=me(5*e,l.dataMax-l.dataMin))),p-d<l.minRange){var f=l.minRange;t=(f-p+d)/2,s=[d-t,oi(c.min,d-t)],u&&(s[2]=l.dataMin),d=T(s),a=[d+f,oi(c.max,d+f)],u&&(a[2]=l.dataMax),p=S(a),f>p-d&&(s[0]=p-f,s[1]=oi(c.min,p-f),d=T(s))}l.min=d,l.max=p},setAxisTranslation:function(t){var e,n,o=this,r=o.max-o.min,s=o.axisPointRange||0,a=0,l=0,c=o.linkedParent,d=!!o.categories,p=o.transA,u=o.isXAxis;(u||d||s)&&(c?(a=c.minPointOffset,l=c.pointRangePadding):di(o.series,function(t){var n=d?1:u?t.pointRange:o.axisPointRange||0,c=t.options.pointPlacement,p=t.closestPointRange;n>r&&(n=0),s=ge(s,n),o.single||(a=ge(a,i(c)?0:n/2),l=ge(l,"on"===c?0:n)),!t.noSharedTooltip&&h(p)&&(e=h(e)?me(e,p):p)}),n=o.ordinalSlope&&e?o.ordinalSlope/e:1,o.minPointOffset=a*=n,o.pointRangePadding=l*=n,o.pointRange=me(s,r),u&&(o.closestPointRange=e)),t&&(o.oldTransA=p),o.translationSlope=o.transA=p=o.len/(r+l||1),o.transB=o.horiz?o.left:o.bottom,o.minPixelPadding=p*a},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e,i,n,o=this,a=o.chart,l=o.options,c=o.isLog,d=o.isDatetimeAxis,p=o.isXAxis,u=o.isLinked,f=l.maxPadding,g=l.minPadding,m=l.tickInterval,y=l.tickPixelInterval,v=o.categories;d||v||u||this.getTickAmount(),u?(o.linkedParent=a[o.coll][l.linkedTo],i=o.linkedParent.getExtremes(),o.min=oi(i.min,i.dataMin),o.max=oi(i.max,i.dataMax),l.type!==o.linkedParent.options.type&&C(11,1)):(o.min=oi(o.userMin,l.min,o.dataMin),o.max=oi(o.userMax,l.max,o.dataMax)),c&&(!t&&me(o.min,oi(o.dataMin,o.min))<=0&&C(10,1),o.min=L(s(o.min),15),o.max=L(s(o.max),15)),o.range&&h(o.max)&&(o.userMin=o.min=ge(o.min,o.minFromRange()),o.userMax=o.max,o.range=null),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),v||o.axisPointRange||o.usePercentage||u||!h(o.min)||!h(o.max)||(e=o.max-o.min,e&&(h(l.min)||h(o.userMin)||!g||!(o.dataMin<0)&&o.ignoreMinPadding||(o.min-=e*g),h(l.max)||h(o.userMax)||!f||!(o.dataMax>0)&&o.ignoreMaxPadding||(o.max+=e*f))),r(l.floor)&&(o.min=ge(o.min,l.floor)),r(l.ceiling)&&(o.max=me(o.max,l.ceiling)),o.tickInterval=o.min===o.max||void 0===o.min||void 0===o.max?1:u&&!m&&y===o.linkedParent.options.tickPixelInterval?m=o.linkedParent.tickInterval:oi(m,this.tickAmount?(o.max-o.min)/ge(this.tickAmount-1,1):void 0,v?1:(o.max-o.min)*y/ge(o.len,y)),p&&!t&&di(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&(o.tickInterval=ge(o.pointRange,o.tickInterval)),n=oi(l.minTickInterval,o.isDatetimeAxis&&o.closestPointRange),!m&&o.tickInterval<n&&(o.tickInterval=n),d||c||m||(o.tickInterval=k(o.tickInterval,null,b(o.tickInterval),oi(l.allowDecimals,!(o.tickInterval>.5&&o.tickInterval<5&&o.max>1e3&&o.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(o.tickInterval=o.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,o=i.tickPositioner,r=i.startOnTick,s=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=n&&n.slice(),t||(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,o&&(o=o.apply(this,[this.min,this.max]),o&&(this.tickPositions=t=o))),this.isLinked||(this.trimTicks(t,r,s),this.min===this.max&&h(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,n||o||this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],o=t[t.length-1],r=this.minPointOffset||0;e?this.min=n:this.min-r>n&&t.shift(),i?this.max=o:this.max+r<o&&t.pop(),0===t.length&&h(n)&&t.push((o+n)/2)},getTickAmount:function(){var t,e={},i=this.options,n=i.tickAmount,o=i.tickPixelInterval;!h(i.tickInterval)&&this.len<o&&!this.isRadial&&!this.isLog&&i.startOnTick&&i.endOnTick&&(n=2),n||this.chart.options.chart.alignTicks===!1||i.alignTicks===!1||(di(this.chart[this.coll],function(i){var n=i.options,o=i.horiz,r=[o?n.left:n.top,o?n.width:n.height,n.pane].join(",");e[r]?i.series.length&&(t=!0):e[r]=1}),t&&(n=fe(this.len/o)+1)),4>n&&(this.finalTickAmt=n,n=5),this.tickAmount=n},adjustTickAmount:function(){var t,e,i=this.tickInterval,n=this.tickPositions,o=this.tickAmount,r=this.finalTickAmt,s=n&&n.length;if(o>s){for(;n.length<o;)n.push(L(n[n.length-1]+i));this.transA*=(s-1)/(o-1),this.max=n[n.length-1]}else s>o&&(this.tickInterval*=2,this.setTickPositions());if(h(r)){for(t=e=n.length;t--;)(3===r&&t%2===1||2>=r&&t>0&&e-1>t)&&n.splice(t,1);this.finalTickAmt=X}},setScale:function(){var t,e,i=this;i.oldMin=i.min,i.oldMax=i.max,i.oldAxisLength=i.len,i.setAxisSize(),e=i.len!==i.oldAxisLength,di(i.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||i.isLinked||i.forceRedraw||i.userMin!==i.oldUserMin||i.userMax!==i.oldUserMax?(i.resetStacks&&i.resetStacks(),i.forceRedraw=!1,i.getSeriesExtremes(),i.setTickInterval(),i.oldUserMin=i.userMin,i.oldUserMax=i.userMax,i.isDirty||(i.isDirty=e||i.min!==i.oldMin||i.max!==i.oldMax)):i.cleanStacks&&i.cleanStacks()
},setExtremes:function(t,e,i,n,o){var r=this,s=r.chart;i=oi(i,!0),di(r.series,function(t){delete t.kdTree}),o=ni(o,{min:t,max:e}),yi(r,"setExtremes",o,function(){r.userMin=t,r.userMax=e,r.eventArgs=o,i&&s.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,o=this.options,r=me(i,oi(o.min,i)),s=ge(n,oi(o.max,n));return this.allowZoomOutside||(h(i)&&r>=t&&(t=r),h(n)&&e>=s&&(e=s)),this.displayBtn=t!==X||e!==X,this.setExtremes(t,e,!1,X,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=e.offsetRight||0,o=this.horiz,r=oi(e.width,t.plotWidth-i+n),s=oi(e.height,t.plotHeight),a=oi(e.top,t.plotTop),l=oi(e.left,t.plotLeft+i),h=/%$/;h.test(s)&&(s=parseFloat(s)/100*t.plotHeight),h.test(a)&&(a=parseFloat(a)/100*t.plotHeight+t.plotTop),this.left=l,this.top=a,this.width=r,this.height=s,this.bottom=t.chartHeight-s-a,this.right=t.chartWidth-r-l,this.len=ge(o?r:s,0),this.pos=o?l:a},getExtremes:function(){var t=this,e=t.isLog;return{min:e?L(a(t.min)):t.min,max:e?L(a(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?a(e.min):e.min,o=i?a(e.max):e.max;return null===t?t=0>o?o:n:n>t?t=n:t>o&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,i=(oi(t,0)-90*this.side+720)%360;return e=i>15&&165>i?"right":i>195&&345>i?"left":"center"},unsquish:function(){var t,e,i,n=this.chart,o=this.ticks,r=this.options.labels,s=this.horiz,a=this.tickInterval,l=a,c=this.len/(((this.categories?1:0)+this.max-this.min)/a),d=r.rotation,p=n.renderer.fontMetrics(r.style.fontSize,o[0]&&o[0].label),u=Number.MAX_VALUE,f=function(t){var e=t/(c||1);return e=e>1?fe(e):1,e*a};return s?(i=h(d)?[d]:c<oi(r.autoRotationLimit,80)&&!r.staggerLines&&!r.step&&r.autoRotation,i&&di(i,function(i){var n;(i===d||i&&i>=-90&&90>=i)&&(e=f(ye(p.h/xe(ke*i))),n=e+ye(i/360),u>n&&(u=n,t=i,l=e))})):r.step||(l=f(p.h)),this.autoRotation=i,this.labelRotation=t,l},renderUnsquish:function(){var e,n,o,r,s=this.chart,a=s.renderer,l=this.tickPositions,h=this.ticks,c=this.options.labels,d=this.horiz,p=s.margin,u=this.categories?l.length:l.length-1,f=this.slotWidth=d&&!c.step&&!c.rotation&&(this.staggerLines||1)*s.plotWidth/u||!d&&(p[3]&&p[3]-s.spacing[3]||.33*s.chartWidth),g=ge(1,pe(f-2*(c.padding||5))),m={},y=a.fontMetrics(c.style.fontSize,h[0]&&h[0].label),v=c.style.textOverflow,x=0;if(i(c.rotation)||(m.rotation=c.rotation||0),this.autoRotation)di(l,function(t){t=h[t],t&&t.labelLength>x&&(x=t.labelLength)}),x>g&&x>y.h?m.rotation=this.labelRotation:this.labelRotation=0;else if(f&&(e={width:g+_e},!v))for(e.textOverflow="clip",o=l.length;!d&&o--;)r=l[o],n=h[r].label,n&&("ellipsis"===n.styles.textOverflow&&n.css({textOverflow:"clip"}),n.getBBox().height>this.len/l.length-(y.h-y.f)&&(n.specCss={textOverflow:"ellipsis"}));m.rotation&&(e={width:(x>.5*s.chartHeight?.33*s.chartHeight:s.chartHeight)+_e},v||(e.textOverflow="ellipsis")),this.labelAlign=m.align=c.align||this.autoLabelAlign(this.labelRotation),di(l,function(i){var n=h[i],o=n&&n.label;o&&(e&&o.css(t(e,o.specCss)),delete o.specCss,o.attr(m),n.rotation=m.rotation)}),this.tickRotCorr=a.rotCorr(y.b,this.labelRotation||0,2===this.side)},hasData:function(){return this.hasVisibleSeries||h(this.min)&&h(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,n,o,r,s,a=this,l=a.chart,c=l.renderer,d=a.options,p=a.tickPositions,u=a.ticks,f=a.horiz,g=a.side,m=l.inverted?[1,0,3,2][g]:g,y=0,v=0,x=d.title,b=d.labels,k=0,w=l.axisOffset,S=l.clipOffset,T=[-1,1,1,-1][g];if(t=a.hasData(),a.showAxis=e=t||oi(d.showEmpty,!0),a.staggerLines=a.horiz&&b.staggerLines,a.axisGroup||(a.gridGroup=c.g("grid").attr({zIndex:d.gridZIndex||1}).add(),a.axisGroup=c.g("axis").attr({zIndex:d.zIndex||2}).add(),a.labelGroup=c.g("axis-labels").attr({zIndex:b.zIndex||7}).addClass(Ve+a.coll.toLowerCase()+"-labels").add()),t||a.isLinked)di(p,function(t){u[t]?u[t].addLabel():u[t]=new R(a,t)}),a.renderUnsquish(),di(p,function(t){(0===g||2===g||{1:"left",3:"right"}[g]===a.labelAlign)&&(k=ge(u[t].getLabelSize(),k))}),a.staggerLines&&(k*=a.staggerLines,a.labelOffset=k);else for(r in u)u[r].destroy(),delete u[r];x&&x.text&&x.enabled!==!1&&(a.axisTitle||(a.axisTitle=c.text(x.text,0,0,x.useHTML).attr({zIndex:7,rotation:x.rotation||0,align:x.textAlign||{low:"left",middle:"center",high:"right"}[x.align]}).addClass(Ve+this.coll.toLowerCase()+"-title").css(x.style).add(a.axisGroup),a.axisTitle.isNew=!0),e&&(y=a.axisTitle.getBBox()[f?"height":"width"],i=x.offset,v=h(i)?0:oi(x.margin,f?5:10)),a.axisTitle[e?"show":"hide"]()),a.offset=T*oi(d.offset,w[g]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},s=2===g?a.tickRotCorr.y:0,n=k+v+(k&&T*(f?oi(b.y,a.tickRotCorr.y+8):b.x)-s),a.axisTitleMargin=oi(i,n),w[g]=ge(w[g],a.axisTitleMargin+y+T*a.offset,n),o=d.offset?0:2*ue(d.lineWidth/2),S[m]=ge(S[m],o)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,o=this.horiz,r=this.left+(i?this.width:0)+n,s=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine([Ze,o?this.left:r,o?s:this.top,Ke,o?e.chartWidth-this.right:r,o?s:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,i=this.left,n=this.top,o=this.len,r=this.options.title,s=t?i:n,a=this.opposite,l=this.offset,h=r.x||0,c=r.y||0,d=e(r.style.fontSize||12),p={low:s+(t?0:o),middle:s+o/2,high:s+(t?o:0)}[r.align],u=(t?n+this.height:i)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?d:0);return{x:t?p+h:u+(a?this.width:0)+l+h,y:t?u+c-(a?this.height:0)+l:p+c}},render:function(){var t,e,i,n=this,o=n.chart,r=o.renderer,s=n.options,l=n.isLog,c=n.isLinked,d=n.tickPositions,p=n.axisTitle,u=n.ticks,f=n.minorTicks,g=n.alternateBands,m=s.stackLabels,y=s.alternateGridColor,v=n.tickmarkOffset,x=s.lineWidth,b=o.hasRendered,k=b&&h(n.oldMin)&&!isNaN(n.oldMin),w=n.showAxis,S=r.globalAnimation;n.labelEdge.length=0,n.overlap=!1,di([u,f,g],function(t){var e;for(e in t)t[e].isActive=!1}),(n.hasData()||c)&&(n.minorTickInterval&&!n.categories&&di(n.getMinorTickPositions(),function(t){f[t]||(f[t]=new R(n,t,"minor")),k&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),d.length&&(di(d,function(t,e){(!c||t>=n.min&&t<=n.max)&&(u[t]||(u[t]=new R(n,t)),k&&u[t].isNew&&u[t].render(e,!0,.1),u[t].render(e))}),v&&(0===n.min||n.single)&&(u[-1]||(u[-1]=new R(n,-1,null,!0)),u[-1].render(-1))),y&&di(d,function(t,o){o%2===0&&t<n.max&&(g[t]||(g[t]=new le.PlotLineOrBand(n)),e=t+v,i=d[o+1]!==X?d[o+1]+v:n.max,g[t].options={from:l?a(e):e,to:l?a(i):i,color:y},g[t].render(),g[t].isActive=!0)}),n._addedPlotLB||(di((s.plotLines||[]).concat(s.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),di([u,f,g],function(t){var e,i,n=[],r=S?S.duration||500:0,s=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==g&&o.hasRendered&&r?r&&setTimeout(s,r):s()}),x&&(t=n.getLinePath(x),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=r.path(t).attr({stroke:s.lineColor,"stroke-width":x,zIndex:7}).add(n.axisGroup),n.axisLine[w?"show":"hide"]()),p&&w&&(p[p.isNew?"attr":"animate"](n.getTitlePosition()),p.isNew=!1),m&&m.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.render(),di(this.plotLinesAndBands,function(t){t.render()}),di(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i,n=this,o=n.stacks,r=n.plotLinesAndBands;t||mi(n);for(e in o)A(o[e]),o[e]=null;for(di([n.ticks,n.minorTicks,n.alternateBands],function(t){A(t)}),i=r.length;i--;)r[i].destroy();di(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(t){n[t]&&(n[t]=n[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var i,n,o,r,s=this.crosshair,a=s.animation;if(!this.crosshair||(h(e)||!oi(this.crosshair.snap,!0))===!1||e&&e.series&&e.series[this.coll]!==this)this.hideCrosshair();else{if(oi(s.snap,!0)?h(e)&&(n=this.isXAxis?e.plotX:this.len-e.plotY):n=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:oi(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,n)||null,null===i)return void this.hideCrosshair();this.cross?this.cross.attr({visibility:je})[a?"animate":"attr"]({d:i},a):(r=this.categories&&!this.isRadial,o={"stroke-width":s.width||(r?this.transA:1),stroke:s.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:s.zIndex||2},s.dashStyle&&(o.dashstyle=s.dashStyle),this.cross=this.chart.renderer.path(i).attr(o).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},ni(Ii.prototype,V),Ii.prototype.getTimeTicks=function(t,e,i,n){var o,r,s=[],a={},l=G.global.useUTC,c=new j(e-y(e)),d=t.unitRange,p=t.count;if(h(e)){c[ee](d>=N.second?0:p*ue(c.getMilliseconds()/p)),d>=N.second&&c[ie](d>=N.minute?0:p*ue(c.getSeconds()/p)),d>=N.minute&&c[ne](d>=N.hour?0:p*ue(c[K]()/p)),d>=N.hour&&c[oe](d>=N.day?0:p*ue(c[q]()/p)),d>=N.day&&c[re](d>=N.month?1:p*ue(c[J]()/p)),d>=N.month&&(c[se](d>=N.year?0:p*ue(c[Q]()/p)),r=c[te]()),d>=N.year&&(r-=r%p,c[ae](r)),d===N.week&&c[re](c[J]()-c[$]()+oi(n,1)),o=1,(U||Z)&&(c=c.getTime(),c=new j(c+y(c))),r=c[te]();for(var u=c.getTime(),f=c[Q](),g=c[J](),m=(N.day+(l?y(c):60*c.getTimezoneOffset()*1e3))%N.day;i>u;)s.push(u),d===N.year?u=_(r+o*p,0):d===N.month?u=_(r,f+o*p):l||d!==N.day&&d!==N.week?u+=d*p:u=_(r,f,g+o*p*(d===N.day?1:7)),o++;s.push(u),di(pi(s,function(t){return d<=N.hour&&t%N.day===m}),function(t){a[t]="day"})}return s.info=ni(t,{higherRanks:a,totalRange:d*p}),s},Ii.prototype.normalizeTimeTickInterval=function(t,e){var i,n,o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=o[o.length-1],s=N[r[0]],a=r[1];for(n=0;n<o.length;n++)if(r=o[n],s=N[r[0]],a=r[1],o[n+1]){var l=(s*a[a.length-1]+N[o[n+1][0]])/2;if(l>=t)break}return s===N.year&&5*s>t&&(a=[1,2,5]),i=k(t/s,a,"year"===r[0]?ge(b(t/s),1):1),{unitRange:s,count:i,unitName:r[0]}},Ii.prototype.getLogTickPositions=function(t,e,i,n){var o=this,r=o.options,l=o.len,h=[];if(n||(o._minorAutoInterval=null),t>=.5)t=pe(t),h=o.getLinearTickPositions(t,e,i);else if(t>=.08){var c,d,p,u,f,g,m,y=ue(e);for(c=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],d=y;i+1>d&&!m;d++)for(u=c.length,p=0;u>p&&!m;p++)f=s(a(d)*c[p]),f>e&&(!n||i>=g)&&g!==X&&h.push(g),g>i&&(m=!0),g=f}else{var v=a(e),x=a(i),w=r[n?"minorTickInterval":"tickInterval"],S="auto"===w?null:w,T=r.tickPixelInterval/(n?5:1),A=n?l/o.tickPositions.length:l;t=oi(S,o._minorAutoInterval,(x-v)*T/(A||1)),t=k(t,null,b(t)),h=fi(o.getLinearTickPositions(t,v,x),s),n||(o._minorAutoInterval=t/5)}return n||(o.tickInterval=t),h};var Ri=le.Tooltip=function(){this.init.apply(this,arguments)};Ri.prototype={init:function(t,i){var n=i.borderWidth,o=i.style,r=e(o.padding);this.chart=t,this.options=i,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:r,fill:i.backgroundColor,"stroke-width":n,r:i.borderRadius,zIndex:8}).css(o).css({padding:0}).add().attr({y:-9999}),ze||this.label.shadow(i.shadow),this.shared=i.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var o=this,r=o.now,s=o.options.animation!==!1&&!o.isHidden&&(ye(t-r.x)>1||ye(e-r.y)>1),a=o.followPointer||o.len>1;ni(r,{x:s?(2*r.x+t)/3:t,y:s?(r.y+e)/2:e,anchorX:a?X:s?(2*r.anchorX+i)/3:i,anchorY:a?X:s?(r.anchorY+n)/2:n}),o.label.attr(r),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,i,n)},32))},hide:function(t){var e,i=this;clearTimeout(this.hideTimer),this.isHidden||(e=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){i.label.fadeOut(),i.isHidden=!0},oi(t,this.options.hideDelay,500)))},getAnchor:function(t,e){var i,n,o,r=this.chart,s=r.inverted,a=r.plotTop,l=r.plotLeft,h=0,c=0;return t=d(t),i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===X&&(e=r.pointer.normalize(e)),i=[e.chartX-r.plotLeft,e.chartY-a]),i||(di(t,function(t){n=t.series.yAxis,o=t.series.xAxis,h+=t.plotX+(!s&&o?o.left-l:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-a:0)}),h/=t.length,c/=t.length,i=[s?r.plotWidth-c:h,this.shared&&!s&&t.length>1&&e?e.chartY-a:s?r.plotHeight-h:c]),fi(i,pe)},getPosition:function(t,e,i){var n,o=this.chart,r=this.distance,s={},a=i.h||0,l=["y",o.chartHeight,e,i.plotY+o.plotTop,o.plotTop,o.plotTop+o.plotHeight],h=["x",o.chartWidth,t,i.plotX+o.plotLeft,o.plotLeft,o.plotLeft+o.plotWidth],c=oi(i.ttBelow,o.inverted&&!i.negative||!o.inverted&&i.negative),d=function(t,e,i,n,o,l){var h=n-r>i,d=e>n+r+i,p=n-r-i,u=n+r;if(c&&d)s[t]=u;else if(!c&&h)s[t]=p;else if(h)s[t]=me(l-i,0>p-a?p:p-a);else{if(!d)return!1;s[t]=ge(o,u+a+i>e?u:u+a)}},p=function(t,e,i,n){return r>n||n>e-r?!1:void(s[t]=i/2>n?1:n>e-i/2?e-i-2:n-i/2)},u=function(t){var e=l;l=h,h=e,n=t},f=function(){d.apply(0,l)!==!1?p.apply(0,h)!==!1||n||(u(!0),f()):n?s.x=s.y=0:(u(!0),f())};return(o.inverted||this.len>1)&&u(),f(),s},defaultFormatter:function(t){var e,i=this.points||d(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e.join("")},refresh:function(t,e){var i,n,o,r,s,a,l=this,h=l.chart,c=l.label,p=l.options,u={},f=[],g=p.formatter||l.defaultFormatter,m=h.hoverPoints,y=l.shared;clearTimeout(this.hideTimer),l.followPointer=d(t)[0].series.tooltipOptions.followPointer,o=l.getAnchor(t,e),i=o[0],n=o[1],!y||t.series&&t.series.noSharedTooltip?u=t.getLabelConfig():(h.hoverPoints=t,m&&di(m,function(t){t.setState()}),di(t,function(t){t.setState(Je),f.push(t.getLabelConfig())}),u={x:t[0].category,y:t[0].y},u.points=f,this.len=f.length,t=t[0]),r=g.call(u,l),a=t.series,this.distance=oi(a.tooltipOptions.distance,16),r===!1?this.hide():(l.isHidden&&(bi(c),c.attr("opacity",1).show()),c.attr({text:r}),s=p.borderColor||t.color||a.color||"#606060",c.attr({stroke:s}),l.updatePosition({plotX:i,plotY:n,negative:t.negative,ttBelow:t.ttBelow,h:o[2]||0}),this.isHidden=!1),yi(h,"tooltipRefresh",{text:r,x:i+h.plotLeft,y:n+h.plotTop,borderColor:s})},updatePosition:function(t){var e=this.chart,i=this.label,n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(pe(n.x),pe(n.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,i){var n,o,r,s=e.dateTimeLabelFormats,a=i&&i.closestPointRange,l="01-01 00:00:00.000",h={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";if(a){r=F("%m-%d %H:%M:%S.%L",t.x);for(o in N){if(a===N.week&&+F("%w",t.x)===i.options.startOfWeek&&r.substr(6)===l.substr(6)){o="week";break}if(N[o]>a){o=c;break}if(h[o]&&r.substr(h[o])!==l.substr(h[o]))break;"week"!==o&&(c=o)}o&&(n=s[o])}else n=s.day;return n||s.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",n=t.series,o=n.tooltipOptions,s=o.xDateFormat,a=n.xAxis,l=a&&"datetime"===a.options.type&&r(t.key),h=o[i+"Format"];return l&&!s&&(s=this.getXDateFormat(t,o,a)),l&&s&&(h=h.replace("{point.key}","{point.key:"+s+"}")),x(h,{point:t,series:n})},bodyFormatter:function(t){return fi(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var Bi;E=he.documentElement.ontouchstart!==X;var Xi=le.Pointer=function(t,e){this.init(t,e)};if(Xi.prototype={init:function(t,e){var i,n,o=e.chart,r=o.events,s=ze?"":o.zoomType,a=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(s),this.zoomY=n=/y/.test(s),this.zoomHor=i&&!a||n&&a,this.zoomVert=n&&!a||i&&a,this.hasZoom=i||n,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},le.Tooltip&&e.tooltip.enabled&&(t.tooltip=new Ri(t,e.tooltip),this.followTouchMove=oi(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,e){var i,n,o;return t=t||window.event,t=vi(t),t.target||(t.target=t.srcElement),o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=ui(this.chart.container)),o.pageX===X?(i=ge(t.x,t.clientX-e.left),n=t.y):(i=o.pageX-e.left,n=o.pageY-e.top),ni(t,{chartX:pe(i),chartY:pe(n)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return di(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,i,n,o,r,s,a,l=this,h=l.chart,c=h.series,d=h.tooltip,p=d?d.shared:!1,u=h.hoverPoint,f=h.hoverSeries,g=h.chartWidth,m=[];if(!p&&!f)for(i=0;i<c.length;i++)(c[i].directTouch||!c[i].options.stickyTracking)&&(c=[]);if(!p&&f&&f.directTouch&&u?s=u:(di(c,function(e){o=e.noSharedTooltip&&p,r=!p&&e.directTouch,e.visible&&!o&&!r&&oi(e.options.enableMouseTracking,!0)&&(a=e.searchPoint(t,!o&&1===e.kdDimensions),a&&m.push(a))}),di(m,function(t){t&&"number"==typeof t.dist&&t.dist<g&&(g=t.dist,s=t)})),s&&(s!==this.prevKDPoint||d&&d.isHidden)){if(p&&!s.series.noSharedTooltip){for(i=m.length;i--;)(m[i].clientX!==s.clientX||m[i].series.noSharedTooltip)&&m.splice(i,1);m.length&&d&&d.refresh(m,t),di(m,function(e){e.onMouseOver(t,e!==(f&&f.directTouch&&u||s))})}else d&&d.refresh(s,t),f&&f.directTouch||s.onMouseOver(t);this.prevKDPoint=s}else e=f&&f.tooltipOptions.followPointer,d&&e&&!d.isHidden&&(n=d.getAnchor([{}],t),d.updatePosition({plotX:n[0],plotY:n[1]}));d&&!l._onDocumentMouseMove&&(l._onDocumentMouseMove=function(t){Xe[Bi]&&Xe[Bi].pointer.onDocumentMouseMove(t)},gi(he,"mousemove",l._onDocumentMouseMove)),di(h.axes,function(e){e.drawCrosshair(t,oi(s,u))})},reset:function(t,e){var i=this,n=i.chart,o=n.hoverSeries,r=n.hoverPoint,s=n.hoverPoints,a=n.tooltip,l=a&&a.shared?s:r;t=t&&a&&l,t&&d(l)[0].plotX===X&&(t=!1),t?(a.refresh(l),r&&(r.setState(r.state,!0),di(n.axes,function(t){oi(t.options.crosshair&&t.options.crosshair.snap,!0)?t.drawCrosshair(null,r):t.hideCrosshair()}))):(r&&r.onMouseOut(),s&&di(s,function(t){t.setState()}),o&&o.onMouseOut(),a&&a.hide(e),i._onDocumentMouseMove&&(mi(he,"mousemove",i._onDocumentMouseMove),i._onDocumentMouseMove=null),di(n.axes,function(t){t.hideCrosshair()}),i.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;di(n.series,function(o){i=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(e?n.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i,n=this.chart,o=n.options.chart,r=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,h=n.plotLeft,c=n.plotTop,d=n.plotWidth,p=n.plotHeight,u=this.selectionMarker,f=this.mouseDownX,g=this.mouseDownY,m=o.panKey&&t[o.panKey+"Key"];u&&u.touch||(h>r?r=h:r>h+d&&(r=h+d),c>s?s=c:s>c+p&&(s=c+p),this.hasDragged=Math.sqrt(Math.pow(f-r,2)+Math.pow(g-s,2)),this.hasDragged>10&&(e=n.isInsidePlot(f-h,g-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&(u||(this.selectionMarker=u=n.renderer.rect(h,c,a?1:d,l?1:p,0).attr({fill:o.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),u&&a&&(i=r-f,u.attr({width:ye(i),x:(i>0?0:i)+f})),u&&l&&(i=s-g,u.attr({height:ye(i),y:(i>0?0:i)+g})),e&&!u&&o.panning&&n.pan(t,o.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o,r={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,c=s.attr?s.attr("width"):s.width,d=s.attr?s.attr("height"):s.height;(this.hasDragged||n)&&(di(i.axes,function(i){if(i.zoomEnabled&&h(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var s=i.horiz,p="touchend"===t.type?i.minPixelPadding:0,u=i.toValue((s?a:l)+p),f=i.toValue((s?a+c:l+d)-p);r[i.coll].push({axis:i,min:me(u,f),max:ge(u,f)}),o=!0}}),o&&yi(i,"selection",r,function(t){i.zoom(ni(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(p(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Xe[Bi]&&Xe[Bi].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(){var t=Xe[Bi];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;Bi=e.index,t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=c(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf(Ve+"container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=t.relatedTarget||t.toElement,n=i&&i.point&&i.point.series;!e||e.options.stickyTracking||this.inClass(i,Ve+"tooltip")||n===e||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,o=e.plotTop;t=this.normalize(t),t.originalEvent=t,e.cancelClick||(i&&this.inClass(t.target,Ve+"tracker")?(yi(i.series,"click",ni(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(ni(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-o)&&yi(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},gi(e,"mouseleave",t.onContainerMouseLeave),1===He&&gi(he,"mouseup",t.onDocumentMouseUp),E&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===He&&gi(he,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;mi(this.chart.container,"mouseleave",this.onContainerMouseLeave),He||(mi(he,"mouseup",this.onDocumentMouseUp),mi(he,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},ni(le.Pointer.prototype,{pinchTranslate:function(t,e,i,n,o,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,o,r),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,o,r)},pinchTranslateDirection:function(t,e,i,n,o,r,s,a){var l,h,c,d,p,u,f=this.chart,g=t?"x":"y",m=t?"X":"Y",y="chart"+m,v=t?"width":"height",x=f["plot"+(t?"Left":"Top")],b=a||1,k=f.inverted,w=f.bounds[t?"h":"v"],S=1===e.length,T=e[0][y],A=i[0][y],P=!S&&e[1][y],C=!S&&i[1][y],L=function(){!S&&ye(T-P)>20&&(b=a||ye(A-C)/ye(T-P)),c=(x-A)/b+T,l=f["plot"+(t?"Width":"Height")]/b};L(),h=c,h<w.min?(h=w.min,d=!0):h+l>w.max&&(h=w.max-l,d=!0),d?(A-=.8*(A-s[g][0]),S||(C-=.8*(C-s[g][1])),L()):s[g]=[A,C],k||(r[g]=c-x,r[v]=l),u=k?t?"scaleY":"scaleX":"scale"+m,p=k?1/b:b,o[v]=l,o[g]=h,n[u]=b,n["translate"+m]=p*x+(A-p*T)},pinch:function(t){var e=this,i=e.chart,n=e.pinchDown,o=t.touches,r=o.length,s=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,h={},c=1===r&&(e.inClass(t.target,Ve+"tracker")&&i.runTrackerClick||e.runChartClick),d={};r>1&&(e.initiated=!0),a&&e.initiated&&!c&&t.preventDefault(),fi(o,function(t){return e.normalize(t)}),"touchstart"===t.type?(di(o,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),s.x=[n[0].chartX,n[1]&&n[1].chartX],s.y=[n[0].chartY,n[1]&&n[1].chartY],di(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,o=t.toPixels(oi(t.options.min,t.dataMin)),r=t.toPixels(oi(t.options.max,t.dataMax)),s=me(o,r),a=ge(o,r);e.min=me(t.pos,s-n),e.max=ge(t.pos+t.len,a+n)}}),e.res=!0):n.length&&(l||(e.selectionMarker=l=ni({destroy:Be,touch:!0},i.plotBox)),e.pinchTranslate(n,o,h,l,d,s),e.hasPinched=a,e.scaleGroups(h,d),!a&&e.followTouchMove&&1===r?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i=this.chart;Bi=i.index,1===t.touches.length?(t=this.normalize(t),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&!i.openMenu?(e&&this.runPointActions(t),this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){Xe[Bi]&&Xe[Bi].pointer.drop(t)}}),ce.PointerEvent||ce.MSPointerEvent){var Hi={},Ei=!!ce.PointerEvent,Wi=function(){var t,e=[];e.item=function(t){return this[t]};for(t in Hi)Hi.hasOwnProperty(t)&&e.push({pageX:Hi[t].pageX,pageY:Hi[t].pageY,target:Hi[t].target});return e},Gi=function(t,e,i,n){var o;t=t.originalEvent||t,"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Xe[Bi]||(n(t),o=Xe[Bi].pointer,o[e]({type:i,target:t.currentTarget,preventDefault:Be,touches:Wi()}))};ni(Xi.prototype,{onContainerPointerDown:function(t){Gi(t,"onContainerTouchStart","touchstart",function(t){Hi[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){Gi(t,"onContainerTouchMove","touchmove",function(t){Hi[t.pointerId]={pageX:t.pageX,pageY:t.pageY},Hi[t.pointerId].target||(Hi[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){Gi(t,"onDocumentTouchEnd","touchend",function(t){delete Hi[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,Ei?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,Ei?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(he,Ei?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),ri(Xi.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&p(e.container,{"-ms-touch-action":Ue,"touch-action":Ue})}),ri(Xi.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(gi)}),ri(Xi.prototype,"destroy",function(t){this.batchMSEvents(mi),t.call(this)})}var Fi=le.Legend=function(t,e){this.init(t,e)};Fi.prototype={init:function(e,i){var n,o=this,r=i.itemStyle,s=i.itemMarginTop||0;this.options=i,i.enabled&&(o.itemStyle=r,o.itemHiddenStyle=t(r,i.itemHiddenStyle),o.itemMarginTop=s,o.padding=n=oi(i.padding,8),o.initialItemX=n,o.initialItemY=n-5,o.maxItemWidth=0,o.chart=e,o.itemHeight=0,o.symbolWidth=oi(i.symbolWidth,16),o.pages=[],o.render(),gi(o.chart,"endResize",function(){o.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n,o=this,r=o.options,s=t.legendItem,a=t.legendLine,l=t.legendSymbol,h=o.itemHiddenStyle.color,c=e?r.itemStyle.color:h,d=e?t.legendColor||t.color||"#CCC":h,p=t.options&&t.options.marker,u={fill:d};if(s&&s.css({fill:c,color:c}),a&&a.attr({stroke:d}),l){if(p&&l.isMarker){u.stroke=d,p=t.convertAttribs(p);for(i in p)n=p[i],n!==X&&(u[i]=n)}l.attr(u)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,o=!i.rtl,r=t._legendItemPos,s=r[0],a=r[1],l=t.checkbox,h=t.legendGroup;h&&h.element&&h.translate(o?s:e.legendWidth-s-2*n-4,a),l&&(l.x=s,l.y=a)},destroyItem:function(t){var e=t.checkbox;di(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&P(t.checkbox)},destroy:function(){var t=this,e=t.group,i=t.box;i&&(t.box=i.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,di(this.allItems,function(o){var r,s=o.checkbox;s&&(r=e+s.y+(t||0)+3,p(s,{left:i.translateX+o.checkboxOffset+s.x-20+_e,top:r+_e,display:r>e-6&&e+n-6>r?"":Ue}))}))},renderTitle:function(){var t,e=this.options,i=this.padding,n=e.title,o=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,i-3,i-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),t=this.title.getBBox(),o=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?x(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(e){var i,n,o,r=this,s=r.chart,a=s.renderer,l=r.options,h="horizontal"===l.layout,c=r.symbolWidth,d=l.symbolPadding,p=r.itemStyle,u=r.itemHiddenStyle,f=r.padding,g=h?oi(l.itemDistance,20):0,m=!l.rtl,y=l.width,v=l.itemMarginBottom||0,x=r.itemMarginTop,b=r.initialItemX,k=e.legendItem,w=e.series&&e.series.drawLegendSymbol?e.series:e,S=w.options,T=r.createCheckboxForItem&&S&&S.showCheckbox,A=l.useHTML;k||(e.legendGroup=a.g("legend-item").attr({zIndex:1}).add(r.scrollGroup),e.legendItem=k=a.text("",m?c+d:-d,r.baseline||0,A).css(t(e.visible?p:u)).attr({align:m?"left":"right",zIndex:2}).add(e.legendGroup),r.baseline||(r.fontMetrics=a.fontMetrics(p.fontSize,k),r.baseline=r.fontMetrics.f+3+x,k.attr("y",r.baseline)),w.drawLegendSymbol(r,e),r.setItemEvents&&r.setItemEvents(e,k,A,p,u),r.colorizeItem(e,e.visible),T&&r.createCheckboxForItem(e)),r.setText(e),n=k.getBBox(),o=e.checkboxOffset=l.itemWidth||e.legendItemWidth||c+d+n.width+g+(T?20:0),r.itemHeight=i=pe(e.legendItemHeight||n.height),h&&r.itemX-b+o>(y||s.chartWidth-2*f-b-l.x)&&(r.itemX=b,r.itemY+=x+r.lastLineHeight+v,r.lastLineHeight=0),r.maxItemWidth=ge(r.maxItemWidth,o),r.lastItemY=x+r.itemY+v,r.lastLineHeight=ge(i,r.lastLineHeight),e._legendItemPos=[r.itemX,r.itemY],h?r.itemX+=o:(r.itemY+=x+i+v,r.lastLineHeight=i),r.offsetWidth=y||ge((h?r.itemX-b-g:o)+f,r.offsetWidth)},getAllItems:function(){var t=[];return di(this.chart.series,function(e){var i=e.options;oi(i.showInLegend,h(i.linkedTo)?!1:X,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,o=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);this.display&&!n.floating&&di([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(r,s){r.test(o)&&!h(t[s])&&(i[ti[s]]=ge(i[ti[s]],i.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*n[s%2?"x":"y"]+oi(n.margin,12)+e[s]))})},render:function(){var t,e,i,n,o=this,r=o.chart,s=r.renderer,a=o.group,l=o.box,h=o.options,c=o.padding,d=h.borderWidth,p=h.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,a||(o.group=a=s.g("legend").attr({zIndex:7}).add(),o.contentGroup=s.g().attr({zIndex:1}).add(a),o.scrollGroup=s.g().add(o.contentGroup)),o.renderTitle(),t=o.getAllItems(),w(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&t.reverse(),o.allItems=t,o.display=e=!!t.length,o.lastLineHeight=0,di(t,function(t){o.renderItem(t)}),i=(h.width||o.offsetWidth)+c,n=o.lastItemY+o.lastLineHeight+o.titleHeight,n=o.handleOverflow(n),n+=c,(d||p)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(o.box=l=s.rect(0,0,i,n,h.borderRadius,d||0).attr({stroke:h.borderColor,"stroke-width":d||0,fill:p||Ue}).add(a).shadow(h.shadow),l.isNew=!0),l[e?"show":"hide"]()),o.legendWidth=i,o.legendHeight=n,di(t,function(t){o.positionItem(t)}),e&&a.align(ni({width:i,height:n},h),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,o=this.chart,r=o.renderer,s=this.options,a=s.y,l="top"===s.verticalAlign,h=o.spacingBox.height+(l?-a:a)-this.padding,c=s.maxHeight,d=this.clipRect,p=s.navigation,u=oi(p.animation,!0),f=p.arrowSize||12,g=this.nav,m=this.pages,y=this.padding,v=this.allItems,x=function(t){d.attr({height:t}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+y+"px,9999px,"+(y+t)+"px,0)")};return"horizontal"===s.layout&&(h/=2),c&&(h=me(h,c)),m.length=0,t>h?(this.clipHeight=e=ge(h-20-this.titleHeight-y,0),this.currentPage=oi(this.currentPage,1),this.fullHeight=t,di(v,function(t,n){var o=t._legendItemPos[1],r=pe(t.legendItem.getBBox().height),s=m.length;
(!s||o-m[s-1]>e&&(i||o)!==m[s-1])&&(m.push(i||o),s++),n===v.length-1&&o+r-m[s-1]>e&&m.push(o),o!==i&&(i=o)}),d||(d=n.clipRect=r.clipRect(0,y,9999,0),n.contentGroup.clip(d)),x(e),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,f,f).on("click",function(){n.scroll(-1,u)}).add(g),this.pager=r.text("",15,10).css(p.style).add(g),this.down=r.symbol("triangle-down",0,0,f,f).on("click",function(){n.scroll(1,u)}).add(g)),n.scroll(0),t=h):g&&(x(o.chartHeight),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i,n=this.pages,o=n.length,r=this.currentPage+t,s=this.clipHeight,a=this.options.navigation,l=a.activeColor,h=a.inactiveColor,c=this.pager,d=this.padding;r>o&&(r=o),r>0&&(e!==X&&M(e,this.chart),this.nav.attr({translateX:d,translateY:s+this.padding+7+this.titleHeight,visibility:je}),this.up.attr({fill:1===r?h:l}).css({cursor:1===r?"default":"pointer"}),c.attr({text:r+"/"+o}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===o?h:l}).css({cursor:r===o?"default":"pointer"}),i=-n[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=r,this.positionCheckboxes(i))}};var Yi=le.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-i+1,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i,n,o=this.options,r=o.marker,s=t.symbolWidth,a=this.chart.renderer,l=this.legendGroup,h=t.baseline-pe(.3*t.fontMetrics.b);o.lineWidth&&(n={"stroke-width":o.lineWidth},o.dashStyle&&(n.dashstyle=o.dashStyle),this.legendLine=a.path([Ze,0,h,Ke,s,h]).attr(n).add(l)),r&&r.enabled!==!1&&(e=r.radius,this.legendSymbol=i=a.symbol(this.symbol,s/2-e,h-e,2*e,2*e).add(l),i.isMarker=!0)}};(/Trident\/7\.0/.test(we)||Ce)&&ri(Fi.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)});var Ni=le.Chart=function(){this.init.apply(this,arguments)};Ni.prototype={callbacks:[],init:function(e,i){var n,o=e.series;e.series=null,n=t(G,e),n.series=e.series=o,this.userOptions=e;var r=n.chart;this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var s=r.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var a,l=this;if(l.index=Xe.length,Xe.push(l),He++,r.reflow!==!1&&gi(l,"load",function(){l.initReflow()}),s)for(a in s)gi(l,a,s[a]);l.xAxis=[],l.yAxis=[],l.animation=ze?!1:oi(r.animation,!0),l.pointCount=l.colorCounter=l.symbolCounter=0,l.firstRender()},initSeries:function(t){var e,i=this,n=i.options.chart,o=t.type||n.type||n.defaultSeriesType,r=ii[o];return r||C(17,!0),e=new r,e.init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t,o=i?t:e;return n>=0&&n<=this.plotWidth&&o>=0&&o<=this.plotHeight},redraw:function(t){var e,i,n,o=this,r=o.axes,s=o.series,a=o.pointer,l=o.legend,h=o.isDirtyLegend,c=o.hasCartesianSeries,d=o.isDirtyBox,p=s.length,u=p,f=o.renderer,g=f.isHidden(),m=[];for(M(t,o),g&&o.cloneRenderTo(),o.layOutTitles();u--;)if(n=s[u],n.options.stacking&&(e=!0,n.isDirty)){i=!0;break}if(i)for(u=p;u--;)n=s[u],n.options.stacking&&(n.isDirty=!0);di(s,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),h=!0)}),h&&l.options.enabled&&(l.render(),o.isDirtyLegend=!1),e&&o.getStacks(),c&&(o.isResizing||(o.maxTicks=null,di(r,function(t){t.setScale()}))),o.getMargins(),c&&(di(r,function(t){t.isDirty&&(d=!0)}),di(r,function(t){var i=t.min+","+t.max;t.extKey!==i&&(t.extKey=i,m.push(function(){yi(t,"afterSetExtremes",ni(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||e)&&t.redraw()})),d&&o.drawChartBox(),di(s,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),a&&a.reset(!0),f.draw(),yi(o,"redraw"),g&&o.cloneRenderTo(!0),di(m,function(t){t.call()})},get:function(t){var e,i,n,o=this,r=o.axes,s=o.series;for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(n=s[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t,e,i=this,n=this.options,o=n.xAxis=d(n.xAxis||{}),r=n.yAxis=d(n.yAxis||{});di(o,function(t,e){t.index=e,t.isX=!0}),di(r,function(t,e){t.index=e}),t=o.concat(r),di(t,function(t){e=new Ii(i,t)})},getSelectedPoints:function(){var t=[];return di(this.series,function(e){t=t.concat(pi(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return pi(this.series,function(t){return t.selected})},setTitle:function(e,i,n){var o,r,s=this,a=s.options;o=a.title=t(a.title,e),r=a.subtitle=t(a.subtitle,i),di([["title",e,o],["subtitle",i,r]],function(t){var e=t[0],i=s[e],n=t[1],o=t[2];i&&n&&(s[e]=i=i.destroy()),o&&o.text&&!i&&(s[e]=s.renderer.text(o.text,0,0,o.useHTML).attr({align:o.align,"class":Ve+e,zIndex:o.zIndex||4}).css(o.style).add())}),s.layOutTitles(n)},layOutTitles:function(t){var e,i=0,n=this.title,o=this.subtitle,r=this.options,s=r.title,a=r.subtitle,l=this.renderer,h=this.spacingBox.width-44;n&&(n.css({width:(s.width||h)+_e}).align(ni({y:l.fontMetrics(s.style.fontSize,n).b-3},s),!1,"spacingBox"),s.floating||s.verticalAlign||(i=n.getBBox().height)),o&&(o.css({width:(a.width||h)+_e}).align(ni({y:i+(s.margin-13)+l.fontMetrics(s.style.fontSize,o).b},a),!1,"spacingBox"),a.floating||a.verticalAlign||(i=fe(i+o.getBBox().height))),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&oi(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,e=t.options.chart,i=e.width,n=e.height,o=t.renderToClone||t.renderTo;h(i)||(t.containerWidth=li(o,"width")),h(n)||(t.containerHeight=li(o,"height")),t.chartWidth=ge(0,i||t.containerWidth||600),t.chartHeight=ge(0,oi(n,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),P(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),p(e,{position:Fe,top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),he.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var t,n,o,r,s,a,l=this,h=l.options.chart,d="data-highcharts-chart";l.renderTo=r=h.renderTo,a=Ve+Re++,i(r)&&(l.renderTo=r=he.getElementById(r)),r||C(13,!0),s=e(c(r,d)),!isNaN(s)&&Xe[s]&&Xe[s].hasRendered&&Xe[s].destroy(),c(r,d,l.index),r.innerHTML="",h.skipClone||r.offsetWidth||l.cloneRenderTo(),l.getChartSize(),n=l.chartWidth,o=l.chartHeight,l.container=t=u(Ge,{className:Ve+"container"+(h.className?" "+h.className:""),id:a},ni({position:Ye,overflow:Ne,width:n+_e,height:o+_e,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style),l.renderToClone||r),l._cursor=t.style.cursor,l.renderer=h.forExport?new Ci(t,n,o,h.style,!0):new H(t,n,o,h.style),ze&&l.renderer.create(l,t,n,o),l.renderer.chartIndex=l.index},getMargins:function(t){var e=this,i=e.spacing,n=e.margin,o=e.titleOffset;e.resetMargins(),o&&!h(n[0])&&(e.plotTop=ge(e.plotTop,o+e.options.title.margin+i[0])),e.legend.adjustMargins(n,i),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&di(t.axes,function(t){t.getOffset()}),di(ti,function(n,o){h(i[o])||(t[n]+=e[o])}),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,o=i.width||li(n,"width"),r=i.height||li(n,"height"),s=t?t.target:ce,a=function(){e.container&&(e.setSize(o,r,!1),e.hasUserSize=null)};e.hasUserSize||e.isPrinting||!o||!r||s!==ce&&s!==he||((o!==e.containerWidth||r!==e.containerHeight)&&(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(a,100):a()),e.containerWidth=o,e.containerHeight=r)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};gi(ce,"resize",e),gi(t,"destroy",function(){mi(ce,"resize",e)})},setSize:function(t,e,i){var n,o,r,s=this,a=s.renderer,l=a.globalAnimation;s.isResizing+=1,r=function(){s&&yi(s,"endResize",null,function(){s.isResizing-=1})},M(i,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,h(t)&&(s.chartWidth=n=ge(0,pe(t)),s.hasUserSize=!!n),h(e)&&(s.chartHeight=o=ge(0,pe(e))),(l?xi:p)(s.container,{width:n+_e,height:o+_e},l),s.setChartSize(!0),a.setSize(n,o,i),s.maxTicks=null,di(s.axes,function(t){t.isDirty=!0,t.setScale()}),di(s.series,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(i),s.oldChartHeight=null,yi(s,"resize"),l===!1?r():setTimeout(r,l&&l.duration||500)},setChartSize:function(t){var e,i,n,o,r,s,a,l=this,h=l.inverted,c=l.renderer,d=l.chartWidth,p=l.chartHeight,u=l.options.chart,f=l.spacing,g=l.clipOffset;l.plotLeft=n=pe(l.plotLeft),l.plotTop=o=pe(l.plotTop),l.plotWidth=r=ge(0,pe(d-n-l.marginRight)),l.plotHeight=s=ge(0,pe(p-o-l.marginBottom)),l.plotSizeX=h?s:r,l.plotSizeY=h?r:s,l.plotBorderWidth=u.plotBorderWidth||0,l.spacingBox=c.spacingBox={x:f[3],y:f[0],width:d-f[3]-f[1],height:p-f[0]-f[2]},l.plotBox=c.plotBox={x:n,y:o,width:r,height:s},a=2*ue(l.plotBorderWidth/2),e=fe(ge(a,g[3])/2),i=fe(ge(a,g[0])/2),l.clipBox={x:e,y:i,width:ue(l.plotSizeX-ge(a,g[1])/2-e),height:ge(0,ue(l.plotSizeY-ge(a,g[2])/2-i))},t||di(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;di(ti,function(e,i){t[e]=oi(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this,n=i.options.chart,o=i.renderer,r=i.chartWidth,s=i.chartHeight,a=i.chartBackground,l=i.plotBackground,h=i.plotBorder,c=i.plotBGImage,d=n.borderWidth||0,p=n.backgroundColor,u=n.plotBackgroundColor,f=n.plotBackgroundImage,g=n.plotBorderWidth||0,m=i.plotLeft,y=i.plotTop,v=i.plotWidth,x=i.plotHeight,b=i.plotBox,k=i.clipRect,w=i.clipBox;t=d+(n.shadow?8:0),(d||p)&&(a?a.animate(a.crisp({width:r-t,height:s-t})):(e={fill:p||Ue},d&&(e.stroke=n.borderColor,e["stroke-width"]=d),i.chartBackground=o.rect(t/2,t/2,r-t,s-t,n.borderRadius,d).attr(e).addClass(Ve+"background").add().shadow(n.shadow))),u&&(l?l.animate(b):i.plotBackground=o.rect(m,y,v,x,0).attr({fill:u}).add().shadow(n.plotShadow)),f&&(c?c.animate(b):i.plotBGImage=o.image(f,m,y,v,x).add()),k?k.animate({width:w.width,height:w.height}):i.clipRect=o.clipRect(w),g&&(h?h.animate(h.crisp({x:m,y:y,width:v,height:x,strokeWidth:-g})):i.plotBorder=o.rect(m,y,v,x,0,-g).attr({stroke:n.plotBorderColor,"stroke-width":g,fill:Ue,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,o=n.options.chart,r=n.options.series;di(["inverted","angular","polar"],function(s){for(t=ii[o.type||o.defaultSeriesType],i=n[s]||o[s]||t&&t.prototype[s],e=r&&r.length;!i&&e--;)t=ii[r[e].type],t&&t.prototype[s]&&(i=!0);n[s]=i})},linkSeries:function(){var t=this,e=t.series;di(e,function(t){t.linkedSeries.length=0}),di(e,function(e){var n=e.options.linkedTo;i(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n),n&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=oi(e.options.visible,n.options.visible,e.visible)))})},renderSeries:function(){di(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,i=t.options.labels;i.items&&di(i.items,function(n){var o=ni(i.style,n.style),r=e(o.left)+t.plotLeft,s=e(o.top)+t.plotTop+12;delete o.left,delete o.top,t.renderer.text(n.html,r,s).attr({zIndex:2}).css(o).add()})},render:function(){var t,e,i,n,o=this,r=o.axes,s=o.renderer,a=o.options;o.setTitle(),o.legend=new Fi(o,a.legend),o.getStacks&&o.getStacks(),o.getMargins(!0),o.setChartSize(),t=o.plotWidth,e=o.plotHeight=o.plotHeight-13,di(r,function(t){t.setScale()}),o.getAxisMargins(),i=t/o.plotWidth>1.1,n=e/o.plotHeight>1.1,(i||n)&&(o.maxTicks=null,di(r,function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)}),o.getMargins()),o.drawChartBox(),o.hasCartesianSeries&&di(r,function(t){t.render()}),o.seriesGroup||(o.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),o.renderSeries(),o.renderLabels(),o.showCredits(a.credits),o.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var t,e=this,i=e.axes,n=e.series,o=e.container,r=o&&o.parentNode;for(yi(e,"destroy"),Xe[e.index]=X,He--,e.renderTo.removeAttribute("data-highcharts-chart"),mi(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();di(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),o&&(o.innerHTML="",mi(o),r&&P(o));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!De&&ce==ce.top&&"complete"!==he.readyState||ze&&!ce.canvg?(ze?zi.push(function(){t.firstRender()},t.options.global.canvasToolsURL):he.attachEvent("onreadystatechange",function(){he.detachEvent("onreadystatechange",t.firstRender),"complete"===he.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),yi(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),di(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),yi(t,"beforeRender"),le.Pointer&&(t.pointer=new Xi(t,e)),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),di(t.callbacks,function(e){t.index!==X&&e.apply(t,[t])}),yi(t,"load"),t.cloneRenderTo(!0))},splashArray:function(t,e){var i=e[t],o=n(i)?i:[i,i,i,i];return[oi(e[t+"Top"],o[0]),oi(e[t+"Right"],o[1]),oi(e[t+"Bottom"],o[2]),oi(e[t+"Left"],o[3])]}};var Vi=le.CenteredSeriesMixin={getCenter:function(){var t,e,i,n=this.options,o=this.chart,r=2*(n.slicedOffset||0),s=o.plotWidth-2*r,a=o.plotHeight-2*r,l=n.center,h=[oi(l[0],"50%"),oi(l[1],"50%"),n.size||"100%",n.innerSize||0],c=me(s,a);for(e=0;4>e;++e)i=h[e],t=2>e||2===e&&/%$/.test(i),h[e]=m(i,[s,a,c,h[2]][e])+(t?r:0);return h}},ji=function(){};ji.prototype={init:function(t,e,i){var n,o=this;return o.series=t,o.color=t.color,o.applyOptions(e,i),o.pointAttr={},t.options.colorByPoint&&(n=t.options.colors||t.chart.options.colors,o.color=o.color||n[t.colorCounter++],t.colorCounter===n.length&&(t.colorCounter=0)),t.chart.pointCount++,o},applyOptions:function(t,e){var i=this,n=i.series,o=n.options.pointValKey||n.pointValKey;return t=ji.prototype.optionsToObject.call(this,t),ni(i,t),i.options=i.options?ni(i.options,t):t,o&&(i.y=i[o]),i.x===X&&n&&(i.x=e===X?n.autoIncrement():e),i},optionsToObject:function(t){var e,i={},n=this.series,r=n.options.keys,s=r||n.pointArrayMap||["y"],a=s.length,l=0,h=0;if("number"==typeof t||null===t)i[s[0]]=t;else if(o(t))for(!r&&t.length>a&&(e=typeof t[0],"string"===e?i.name=t[0]:"number"===e&&(i.x=t[0]),l++);a>h;)i[s[h++]]=t[l++];else"object"==typeof t&&(i=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return i},destroy:function(){var t,e=this,i=e.series,n=i.chart,o=n.hoverPoints;n.pointCount--,o&&(e.setState(),l(o,e),o.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(mi(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n=6;n--;)t=i[n],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=oi(i.valueDecimals,""),o=i.valuePrefix||"",r=i.valueSuffix||"";return di(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||r)&&(t=t.replace(e+"}",o+e+"}"+r)),t=t.replace(e+"}",e+":,."+n+"f}")}),x(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,o=this.series,r=o.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),yi(this,t,e,i)}};var _i=le.Series=function(){};_i.prototype={isCartesian:!0,type:"line",pointClass:ji,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var i,n,o=this,r=t.series,s=function(t,e){return oi(t.options.index,t._i)-oi(e.options.index,e._i)};o.chart=t,o.options=e=o.setOptions(e),o.linkedSeries=[],o.bindAxes(),ni(o,{name:e.name,state:$e,pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),ze&&(e.animation=!1),n=e.events;for(i in n)gi(o,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),di(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(e.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),r.push(o),o._i=r.length-1,w(r,s),this.yAxis&&w(this.yAxis.series,s),di(r,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;di(e.axisTypes||[],function(o){di(n[o],function(n){t=n.options,(i[o]===t.index||i[o]!==X&&i[o]===t.id||i[o]===X&&0===t.index)&&(n.series.push(e),e[o]=n,n.isDirty=!0)}),e[o]||e.optionalAxis===o||C(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,o="number"==typeof e?function(n){var o="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=o}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};di(i.parallelArrays,o)},autoIncrement:function(){var t,e,i=this.options,n=this.xIncrement,o=i.pointIntervalUnit;return n=oi(n,i.pointStart,0),this.pointInterval=e=oi(this.pointInterval,i.pointInterval,1),("month"===o||"year"===o)&&(t=new j(n),t="month"===o?+t[se](t[Q]()+e):+t[ae](t[te]()+e),e=t-n),this.xIncrement=n+e,n},getSegments:function(){var t,e=this,i=-1,n=[],o=e.points,r=o.length;if(r)if(e.options.connectNulls){for(t=r;t--;)null===o[t].y&&o.splice(t,1);o.length&&(n=[o])}else di(o,function(t,e){null===t.y?(e>i+1&&n.push(o.slice(i+1,e)),i=e):e===r-1&&n.push(o.slice(i+1,e+1))});e.segments=n},setOptions:function(e){var i,n,o=this.chart,r=o.options,s=r.plotOptions,a=o.userOptions||{},l=a.plotOptions||{},c=s[this.type];return this.userOptions=e,i=t(c,s.series,e),this.tooltipOptions=t(G.tooltip,G.plotOptions[this.type].tooltip,a.tooltip,l.series&&l.series.tooltip,l[this.type]&&l[this.type].tooltip,e.tooltip),null===c.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,n=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||n.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),n.length&&h(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,i){var n,o=this.userOptions,r="_"+t+"Index",s=t+"Counter";e||(h(o[r])?n=o[r]:(o[r]=n=this.chart[s]%i.length,this.chart[s]+=1),e=i[n]),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||ki[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:Yi.drawLineMarker,setData:function(t,e,n,s){var a,l,c,d=this,p=d.points,u=p&&p.length||0,f=d.options,g=d.chart,m=null,y=d.xAxis,v=y&&!!y.categories,x=f.turboThreshold,b=this.xData,k=this.yData,w=d.pointArrayMap,S=w&&w.length;if(t=t||[],a=t.length,e=oi(e,!0),s!==!1&&a&&u===a&&!d.cropped&&!d.hasGroupedData&&d.visible)di(t,function(t,e){p[e].update&&p[e].update(t,!1,null,!1)});else{if(d.xIncrement=null,d.pointRange=v?1:f.pointRange,d.colorCounter=0,di(this.parallelArrays,function(t){d[t+"Data"].length=0}),x&&a>x){for(l=0;null===m&&a>l;)m=t[l],l++;if(r(m)){var T=oi(f.pointStart,0),A=oi(f.pointInterval,1);for(l=0;a>l;l++)b[l]=T,k[l]=t[l],T+=A;d.xIncrement=T}else if(o(m))if(S)for(l=0;a>l;l++)c=t[l],b[l]=c[0],k[l]=c.slice(1,S+1);else for(l=0;a>l;l++)c=t[l],b[l]=c[0],k[l]=c[1];else C(12)}else for(l=0;a>l;l++)t[l]!==X&&(c={series:d},d.pointClass.prototype.applyOptions.apply(c,[t[l]]),d.updateParallelArrays(c,l),v&&h(c.name)&&(y.names[c.x]=c.name));for(i(k[0])&&C(14,!0),d.data=[],d.options.data=t,l=u;l--;)p[l]&&p[l].destroy&&p[l].destroy();y&&(y.minRange=y.userMinRange),d.isDirty=d.isDirtyData=g.isDirtyBox=!0,n=!1}e&&g.redraw(n)},processData:function(t){var e,i,n,o,r,s,a,l,h=this,c=h.xData,d=h.yData,p=c.length,u=0,f=h.xAxis,g=h.options,m=g.cropThreshold,y=h.isCartesian;if(y&&!h.isDirty&&!f.isDirty&&!h.yAxis.isDirty&&!t)return!1;for(f&&(s=f.getExtremes(),a=s.min,l=s.max),y&&h.sorted&&(!m||p>m||h.forceCrop)&&(c[p-1]<a||c[0]>l?(c=[],d=[]):(c[0]<a||c[p-1]>l)&&(e=this.cropData(h.xData,h.yData,a,l),c=e.xData,d=e.yData,u=e.start,i=!0)),r=c.length-1;r>=0;r--)n=c[r]-c[r-1],n>0&&(o===X||o>n)?o=n:0>n&&h.requireSorting&&C(15);h.cropped=i,h.cropStart=u,h.processedXData=c,h.processedYData=d,null===g.pointRange&&(h.pointRange=o||1),h.closestPointRange=o},cropData:function(t,e,i,n){var o,r=t.length,s=0,a=r,l=oi(this.cropShoulder,1);for(o=0;r>o;o++)if(t[o]>=i){s=ge(0,o-l);break}for(;r>o;o++)if(t[o]>n){a=o+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,i,n,o=this,r=o.options,s=r.data,a=o.data,l=o.processedXData,h=o.processedYData,c=o.pointClass,p=l.length,u=o.cropStart||0,f=o.hasGroupedData,g=[];if(!a&&!f){var m=[];m.length=s.length,a=o.data=m}for(n=0;p>n;n++)e=u+n,f?g[n]=(new c).init(o,[l[n]].concat(d(h[n]))):(a[e]?i=a[e]:s[e]!==X&&(a[e]=i=(new c).init(o,s[e],l[n])),g[n]=i),g[n].index=e;if(a&&(p!==(t=a.length)||f))for(n=0;t>n;n++)n!==u||f||(n+=p),a[n]&&(a[n].destroyElements(),a[n].plotX=X);o.data=a,o.points=g},getExtremes:function(t){var e,i,n,o,r,s,a,l=this.xAxis,h=this.yAxis,c=this.processedXData,d=[],p=0,u=l.getExtremes(),f=u.min,g=u.max;for(t=t||this.stackedYData||this.processedYData,e=t.length,s=0;e>s;s++)if(o=c[s],r=t[s],i=null!==r&&r!==X&&(!h.isLog||r.length||r>0),n=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(c[s+1]||o)>=f&&(c[s-1]||o)<=g,i&&n)if(a=r.length)for(;a--;)null!==r[a]&&(d[p++]=r[a]);else d[p++]=r;this.dataMin=S(d),this.dataMax=T(d)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,n,o=this,s=o.options,a=s.stacking,l=o.xAxis,c=l.categories,d=o.yAxis,p=o.points,u=p.length,f=!!o.modifyValue,g=s.pointPlacement,m="between"===g||r(g),y=s.threshold,v=s.startFromThreshold?y:0,x=Number.MAX_VALUE;for(t=0;u>t;t++){var b,k,w=p[t],S=w.x,T=w.y,A=w.low,P=a&&d.stacks[(o.negStacks&&(v?0:y)>T?"-":"")+o.stackKey];d.isLog&&null!==T&&0>=T&&(w.y=T=null,C(10)),w.plotX=e=me(ge(-1e5,l.translate(S,0,0,0,1,g,"flags"===this.type)),1e5),a&&o.visible&&P&&P[S]&&(b=P[S],k=b.points[o.index+","+t],A=k[0],T=k[1],A===v&&(A=oi(y,d.min)),d.isLog&&0>=A&&(A=null),w.total=w.stackTotal=b.total,w.percentage=b.total&&w.y/b.total*100,w.stackY=T,b.setOffset(o.pointXOffset||0,o.barW||0)),w.yBottom=h(A)?d.translate(A,0,1,0,1):null,f&&(T=o.modifyValue(T,w)),w.plotY=i="number"==typeof T&&1/0!==T?me(ge(-1e5,d.translate(T,0,1,0,1)),1e5):X,w.isInside=i!==X&&i>=0&&i<=d.len&&e>=0&&e<=l.len,w.clientX=m?l.translate(S,0,0,0,1):e,w.negative=w.y<(y||0),w.category=c&&c[w.x]!==X?c[w.x]:w.x,t&&(x=me(x,ye(e-n))),n=e}o.closestPointRangePx=x,o.getSegments()},setClip:function(t){var e=this.chart,i=e.renderer,n=e.inverted,o=this.clipBox,r=o||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,r.height].join(","),a=e[s],l=e[s+"m"];a||(t&&(r.width=0,e[s+"m"]=l=i.clipRect(-99,n?-e.plotLeft:-e.plotTop,99,n?e.chartWidth:e.chartHeight)),e[s]=a=i.clipRect(r)),t&&(a.count+=1),this.options.clip!==!1&&(this.group.clip(t||o?a:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=s),t||(a.count-=1,a.count<=0&&s&&e[s]&&(o||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,i,o=this,r=o.chart,s=o.options.animation;s&&!n(s)&&(s=ki[o.type].animation),t?o.setClip(s):(i=this.sharedClipKey,e=r[i],e&&e.animate({width:r.plotSizeX},s),r[i+"m"]&&r[i+"m"].animate({width:r.plotSizeX+99},s),o.animate=null)},afterAnimate:function(){this.setClip(),yi(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,o,r,s,a,l,h,c,d,p,u=this,f=u.points,g=u.chart,m=u.options,y=m.marker,v=u.pointAttr[""],x=u.markerGroup,b=u.xAxis,k=oi(y.enabled,b.isRadial,u.closestPointRangePx>2*y.radius);if(y.enabled!==!1||u._hasPointMarkers)for(n=f.length;n--;)o=f[n],e=ue(o.plotX),i=o.plotY,l=o.graphic,h=o.marker||{},c=!!o.marker,d=k&&h.enabled===X||h.enabled,p=o.isInside,d&&i!==X&&!isNaN(i)&&null!==o.y?(t=o.pointAttr[o.selected?Qe:$e]||v,r=t.r,s=oi(h.symbol,u.symbol),a=0===s.indexOf("url"),l?l[p?"show":"hide"](!0).animate(ni({x:e-r,y:i-r},l.symbolName?{width:2*r,height:2*r}:{})):p&&(r>0||a)&&(o.graphic=l=g.renderer.symbol(s,e-r,i-r,2*r,2*r,c?h:y).attr(t).add(x))):l&&(o.graphic=l.destroy())},convertAttribs:function(t,e,i,n){var o,r,s=this.pointAttrToOptions,a={};t=t||{},e=e||{},i=i||{},n=n||{};for(o in s)r=s[o],a[o]=oi(t[r],e[o],i[o],n[o]);return a},getAttribs:function(){var t,e,i,n,o,r,s,a,l=this,c=l.options,d=ki[l.type].marker?c.marker:c,p=d.states,u=p[Je],f=l.color,g=l.options.negativeColor,m={stroke:f,fill:f},y=l.points||[],v=[],x=l.pointAttrToOptions,b=l.hasPointSpecificOptions,k=d.lineColor,w=d.fillColor,S=c.turboThreshold,T=l.zones,A=l.zoneAxis||"y";if(c.marker?(u.radius=u.radius||d.radius+u.radiusPlus,u.lineWidth=u.lineWidth||d.lineWidth+u.lineWidthPlus):(u.color=u.color||Pi(u.color||f).brighten(u.brightness).get(),u.negativeColor=u.negativeColor||Pi(u.negativeColor||g).brighten(u.brightness).get()),v[$e]=l.convertAttribs(d,m),di([Je,Qe],function(t){v[t]=l.convertAttribs(p[t],v[$e])}),l.pointAttr=v,e=y.length,!S||S>e||b)for(;e--;){if(o=y[e],d=o.options&&o.options.marker||o.options,d&&d.enabled===!1&&(d.radius=0),T.length){for(i=0,n=T[i];o[A]>=n.value;)n=T[++i];n.color&&(o.color=o.fillColor=n.color)}if(b=c.colorByPoint||o.color,o.options)for(a in x)h(d[x[a]])&&(b=!0);b?(d=d||{},r=[],p=d.states||{},t=p[Je]=p[Je]||{},c.marker||(t.color=t.color||!o.options.color&&u[o.negative&&g?"negativeColor":"color"]||Pi(o.color).brighten(t.brightness||u.brightness).get()),s={color:o.color},w||(s.fillColor=o.color),k||(s.lineColor=o.color),d.hasOwnProperty("color")&&!d.color&&delete d.color,r[$e]=l.convertAttribs(ni(s,d),v[$e]),r[Je]=l.convertAttribs(p[Je],v[Je],r[$e]),r[Qe]=l.convertAttribs(p[Qe],v[Qe],r[$e])):r=v,o.pointAttr=r}},destroy:function(){var t,e,i,n,o,r=this,s=r.chart,a=/AppleWebKit\/533/.test(we),h=r.data||[];for(yi(r,"destroy"),mi(r),di(r.axisTypes||[],function(t){o=r[t],o&&(l(o.series,r),o.isDirty=o.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=h.length;e--;)i=h[e],i&&i.destroy&&i.destroy();r.points=null,clearTimeout(r.animationTimeout);for(n in r)r[n]instanceof I&&!r[n].survive&&(t=a&&"group"===n?"hide":"destroy",r[n][t]());s.hoverSeries===r&&(s.hoverSeries=null),l(s.series,r);for(n in r)delete r[n]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return di(t,function(o,r){var s,a=o.plotX,l=o.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,o,r)):(i.push(r?Ke:Ze),n&&r&&(s=t[r-1],"right"===n?i.push(s.plotX,l):"center"===n?i.push((s.plotX+a)/2,s.plotY,(s.plotX+a)/2,l):i.push(a,s.plotY)),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return di(e.segments,function(o){t=e.getSegmentPath(o),o.length>1?i=i.concat(t):n.push(o[0])}),e.singlePoints=n,e.graphPath=i,i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color,e.dashStyle]],n=e.lineWidth,o="square"!==e.linecap,r=this.getGraphPath(),s=this.fillGraph&&this.color||Ue,a=this.zones;di(a,function(n,o){i.push(["zoneGraph"+o,n.color||t.color,n.dashStyle||e.dashStyle])}),di(i,function(i,a){var l,h=i[0],c=t[h];c?c.animate({d:r}):(n||s)&&r.length&&(l={stroke:i[1],"stroke-width":n,fill:s,zIndex:1},i[2]?l.dashstyle=i[2]:o&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),t[h]=t.chart.renderer.path(r).attr(l).add(t.group).shadow(2>a&&e.shadow))})},applyZones:function(){var t,e,i,n,o,r,s,a=this,l=this.chart,h=l.renderer,c=this.zones,d=this.clips||[],p=this.graph,u=this.area,f=ge(l.chartWidth,l.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],m=g.reversed,y=l.inverted,v=g.horiz,x=!1;c.length&&(p||u)&&g.min!==X&&(p&&p.hide(),u&&u.hide(),n=g.getExtremes(),di(c,function(c,b){t=m?v?l.plotWidth:0:v?0:g.toPixels(n.min),t=me(ge(oi(e,t),0),f),e=me(ge(pe(g.toPixels(oi(c.value,n.max),!0)),0),f),x&&(t=e=g.toPixels(n.max)),o=Math.abs(t-e),r=me(t,e),s=ge(t,e),g.isXAxis?(i={x:y?s:r,y:0,width:o,height:f},v||(i.x=l.plotHeight-i.x)):(i={x:0,y:y?s:r,width:f,height:o},v&&(i.y=l.plotWidth-i.y)),l.inverted&&h.isVML&&(i=g.isXAxis?{x:0,y:m?r:s,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),d[b]?d[b].animate(i):(d[b]=h.clipRect(i),p&&a["zoneGraph"+b].clip(d[b]),u&&a["zoneArea"+b].clip(d[b])),x=c.value>n.max}),this.clips=d)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};di(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(gi(i,"resize",t),gi(e,"destroy",function(){mi(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,o){var r=this[t],s=!r;return s&&(this[t]=r=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(o)),r[s?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,o=n.animation,r=o&&!!e.animate&&i.renderer.isSVG&&oi(o.duration,500)||0,s=e.visible?je:Ne,a=n.zIndex,l=e.hasRendered,h=i.seriesGroup;t=e.plotGroup("group","series",s,a,h),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,h),r&&e.animate(!0),e.getAttribs(),t.inverted=e.isCartesian?i.inverted:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),di(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip===!1||e.sharedClipKey||l||t.clip(i.clipRect),r&&e.animate(),l||(r?e.animationTimeout=setTimeout(function(){e.afterAnimate()},r):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirtyData,n=t.isDirty,o=t.group,r=t.xAxis,s=t.yAxis;o&&(e.inverted&&o.attr({width:e.plotWidth,height:e.plotHeight}),o.animate({translateX:oi(r&&r.left,e.plotLeft),translateY:oi(s&&s.top,e.plotTop)})),t.translate(),t.render(),i&&yi(t,"updatedData"),(n||i)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this,n=i.xAxis,o=i.yAxis,r=i.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?o.len-t.chartX+o.pos:t.chartY-o.pos},e)},buildKDTree:function(){function t(e,n,o){var r,s,a=e&&e.length;return a?(r=i.kdAxisArray[n%o],e.sort(function(t,e){return t[r]-e[r]}),s=Math.floor(a/2),{point:e[s],left:t(e.slice(0,s),n+1,o),right:t(e.slice(s+1),n+1,o)}):void 0}function e(){var e=pi(i.points||[],function(t){return null!==t.y});i.kdTree=t(e,n,n)}var i=this,n=i.kdDimensions;delete i.kdTree,i.options.kdSync?e():setTimeout(e)},searchKDTree:function(t,e){function i(t,e){var i=h(t[r])&&h(e[r])?Math.pow(t[r]-e[r],2):null,n=h(t[s])&&h(e[s])?Math.pow(t[s]-e[s],2):null,o=(i||0)+(n||0);
e.dist=h(o)?Math.sqrt(o):Number.MAX_VALUE,e.distX=h(i)?Math.sqrt(i):Number.MAX_VALUE}function n(t,e,r,s){var l,h,c,d,p,u=e.point,f=o.kdAxisArray[r%s],g=u;return i(t,u),l=t[f]-u[f],h=0>l?"left":"right",c=0>l?"right":"left",e[h]&&(d=n(t,e[h],r+1,s),g=d[a]<g[a]?d:u),e[c]&&Math.sqrt(l*l)<g[a]&&(p=n(t,e[c],r+1,s),g=p[a]<g[a]?p:g),g}var o=this,r=this.kdAxisArray[0],s=this.kdAxisArray[1],a=e?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?n(t,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},B.prototype={destroy:function(){A(this,this.axis)},render:function(t){var e=this.options,i=e.format,n=i?x(i,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:Ne}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:Ne}).add(t)},setOffset:function(t,e){var i,n=this,o=n.axis,r=o.chart,s=r.inverted,a=o.reversed,l=this.isNegative&&!a||!this.isNegative&&a,h=o.translate(o.usePercentage?100:this.total,0,0,0,1),c=o.translate(0),d=ye(h-c),p=r.xAxis[0].translate(this.x)+t,u=r.plotHeight,f={x:s?l?h:h-d:p,y:s?u-p-e:l?u-h-d:u-h,width:s?d:e,height:s?e:d},g=this.label;g&&(g.align(this.alignOptions,null,f),i=g.alignAttr,g[this.options.crop===!1||r.isInsidePlot(i.x,i.y)?"show":"hide"](!0))}},Ni.prototype.getStacks=function(){var t=this;di(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),di(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+oi(e.options.stack,""))})},Ii.prototype.buildStacks=function(){var t=this.series,e=oi(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)t[e?i:t.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<t.length;i++)t[i].setPercentStacks()}},Ii.prototype.renderStackTotals=function(){var t,e,i,n=this,o=n.chart,r=o.renderer,s=n.stacks,a=n.stackTotalGroup;a||(n.stackTotalGroup=a=r.g("stack-labels").attr({visibility:je,zIndex:6}).add()),a.translate(o.plotLeft,o.plotTop);for(t in s){e=s[t];for(i in e)e[i].render(a)}},Ii.prototype.resetStacks=function(){var t,e,i=this.stacks;if(!this.isXAxis)for(t in i)for(e in i[t])i[t][e].touched<this.stacksTouched?(i[t][e].destroy(),delete i[t][e]):(i[t][e].total=null,i[t][e].cum=0)},Ii.prototype.cleanStacks=function(){var t,e,i;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(i in t[e])t[e][i].cum=t[e][i].total}},_i.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,o,r,s,a,l=this,h=l.processedXData,c=l.processedYData,d=[],p=c.length,u=l.options,f=u.threshold,g=u.startFromThreshold?f:0,m=u.stack,y=u.stacking,v=l.stackKey,x="-"+v,b=l.negStacks,k=l.yAxis,w=k.stacks,S=k.oldStacks;for(k.stacksTouched+=1,r=0;p>r;r++)s=h[r],a=c[r],o=l.index+","+r,t=b&&(g?0:f)>a,n=t?x:v,w[n]||(w[n]={}),w[n][s]||(S[n]&&S[n][s]?(w[n][s]=S[n][s],w[n][s].total=null):w[n][s]=new B(k,k.options.stackLabels,t,s,m)),e=w[n][s],e.points[o]=[oi(e.cum,g)],e.touched=k.stacksTouched,"percent"===y?(i=t?v:x,b&&w[i]&&w[i][s]?(i=w[i][s],e.total=i.total=ge(i.total,e.total)+ye(a)||0):e.total=L(e.total+(ye(a)||0))):e.total=L(e.total+(a||0)),e.cum=oi(e.cum,g)+(a||0),e.points[o].push(e.cum),d[r]=e.cum;"percent"===y&&(k.usePercentage=!0),this.stackedYData=d,k.oldStacks={}}},_i.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,i=t.yAxis.stacks,n=t.processedXData;di([e,"-"+e],function(e){for(var o,r,s,a,l=n.length;l--;)o=n[l],r=i[e]&&i[e][o],s=r&&r.points[t.index+","+l],s&&(a=r.total?100/r.total:0,s[0]=L(s[0]*a),s[1]=L(s[1]*a),t.stackedYData[l]=s[1])})},ni(Ni.prototype,{addSeries:function(t,e,i){var n,o=this;return t&&(e=oi(e,!0),yi(o,"addSeries",{options:t},function(){n=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),e&&o.redraw(i)})),n},addAxis:function(e,i,n,o){var r,s=i?"xAxis":"yAxis",a=this.options;r=new Ii(this,t(e,{index:this[s].length,isX:i})),a[s]=d(a[s]||{}),a[s].push(e),oi(n,!0)&&this.redraw(o)},showLoading:function(t){var e=this,i=e.options,n=e.loadingDiv,o=i.loading,r=function(){n&&p(n,{left:e.plotLeft+_e,top:e.plotTop+_e,width:e.plotWidth+_e,height:e.plotHeight+_e})};n||(e.loadingDiv=n=u(Ge,{className:Ve+"loading"},ni(o.style,{zIndex:10,display:Ue}),e.container),e.loadingSpan=u("span",null,o.labelStyle,n),gi(e,"redraw",r)),e.loadingSpan.innerHTML=t||i.lang.loading,e.loadingShown||(p(n,{opacity:0,display:""}),xi(n,{opacity:o.style.opacity},{duration:o.showDuration||0}),e.loadingShown=!0),r()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&xi(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){p(e,{display:Ue})}}),this.loadingShown=!1}}),ni(ji.prototype,{update:function(t,e,i,r){function s(){l.applyOptions(t),null===l.y&&c&&(l.graphic=c.destroy()),n(t)&&!o(t)&&(l.redraw=function(){c&&c.element&&t&&t.marker&&t.marker.symbol&&(l.graphic=c.destroy()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),a=l.index,h.updateParallelArrays(l,a),u&&l.name&&(u[l.x]=l.name),p.data[a]=l.options,h.isDirty=h.isDirtyData=!0,!h.fixedBox&&h.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===p.legendType&&(d.isDirtyLegend=!0),e&&d.redraw(i)}var a,l=this,h=l.series,c=l.graphic,d=h.chart,p=h.options,u=h.xAxis&&h.xAxis.names;e=oi(e,!0),r===!1?s():l.firePointEvent("update",{options:t},s)},remove:function(t,e){this.series.removePoint(ci(this,this.series.data),t,e)}}),ni(_i.prototype,{addPoint:function(t,e,i,n){var o,r,s,a,l=this,h=l.options,c=l.data,d=l.graph,p=l.area,u=l.chart,f=l.xAxis&&l.xAxis.names,g=d&&d.shift||0,m=["graph","area"],y=h.data,v=l.xData;if(M(n,u),i){for(s=l.zones.length;s--;)m.push("zoneGraph"+s,"zoneArea"+s);di(m,function(t){l[t]&&(l[t].shift=g+1)})}if(p&&(p.isArea=!0),e=oi(e,!0),o={series:l},l.pointClass.prototype.applyOptions.apply(o,[t]),a=o.x,s=v.length,l.requireSorting&&a<v[s-1])for(r=!0;s&&v[s-1]>a;)s--;l.updateParallelArrays(o,"splice",s,0,0),l.updateParallelArrays(o,s),f&&o.name&&(f[a]=o.name),y.splice(s,0,t),r&&(l.data.splice(s,0,null),l.processData()),"point"===h.legendType&&l.generatePoints(),i&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),l.updateParallelArrays(o,"shift"),y.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&(l.getAttribs(),u.redraw())},removePoint:function(t,e,i){var n=this,o=n.data,r=o[t],s=n.points,a=n.chart,l=function(){o.length===s.length&&s.splice(t,1),o.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(r||{series:n},"splice",t,1),r&&r.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};M(i,a),e=oi(e,!0),r?r.firePointEvent("remove",null,l):l()},remove:function(t,e){var i=this,n=i.chart;t=oi(t,!0),i.isRemoving||(i.isRemoving=!0,yi(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},update:function(e,i){var n,o=this,r=this.chart,s=this.userOptions,a=this.type,l=ii[a].prototype,h=["group","markerGroup","dataLabelsGroup"];(e.type&&e.type!==a||void 0!==e.zIndex)&&(h.length=0),di(h,function(t){h[t]=o[t],delete o[t]}),e=t(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1);for(n in l)this[n]=X;ni(this,ii[e.type||a].prototype),di(h,function(t){o[t]=h[t]}),this.init(r,e),r.linkSeries(),oi(i,!0)&&r.redraw(!1)}}),ni(Ii.prototype,{update:function(e,i){var n=this.chart;e=n.options[this.coll][this.options.index]=t(this.userOptions,e),this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=X,this.init(n,ni(e,{events:X})),n.isDirtyBox=!0,oi(i,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,o=n.length;o--;)n[o]&&n[o].remove(!1);l(e.axes,this),l(e[i],this),e.options[i].splice(this.options.index,1),di(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,oi(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var Ui=f(_i);ii.line=Ui,ki.area=t(wi,{threshold:0});var Zi=f(_i,{type:"area",getSegments:function(){var t,e,i,n,o=this,r=[],s=[],a=[],l=this.xAxis,h=this.yAxis,c=h.stacks[this.stackKey],d={},p=this.points,u=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<p.length;i++)d[p[i].x]=p[i];for(n in c)null!==c[n].total&&a.push(+n);a.sort(function(t,e){return t-e}),di(a,function(n){var r,a=0;if(!u||d[n]&&null!==d[n].y)if(d[n])s.push(d[n]);else{for(i=o.index;i<=h.series.length;i++)if(r=c[n].points[i+","+n]){a=r[1];break}t=l.translate(n),e=h.toPixels(a,!0),s.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Be})}}),s.length&&r.push(s)}else _i.prototype.getSegments.call(this),r=this.segments;this.segments=r},getSegmentPath:function(t){var e,i,n=_i.prototype.getSegmentPath.call(this,t),o=[].concat(n),r=this.options,s=n.length,a=this.yAxis.getThreshold(r.threshold);if(3===s&&o.push(Ke,n[1],n[2]),r.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)i=oi(t[e].yBottom,a),e<t.length-1&&r.step&&o.push(t[e+1].plotX,i),o.push(t[e].plotX,i);else this.closeSegment(o,t,a);return this.areaPath=this.areaPath.concat(o),n},closeSegment:function(t,e,i){t.push(Ke,e[e.length-1].plotX,i,Ke,e[0].plotX,i)},drawGraph:function(){this.areaPath=[],_i.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=this.zones,o=[["area",this.color,i.fillColor]];di(n,function(e,n){o.push(["zoneArea"+n,e.color||t.color,e.fillColor||i.fillColor])}),di(o,function(n){var o=n[0],r=t[o];r?r.animate({d:e}):t[o]=t.chart.renderer.path(e).attr({fill:oi(n[2],Pi(n[1]).setOpacity(oi(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:Yi.drawRectangle});ii.area=Zi,ki.spline=t(wi);var Ki=f(_i,{type:"spline",getPointSpline:function(t,e,i){var n,o,r,s,a,l=1.5,h=l+1,c=e.plotX,d=e.plotY,p=t[i-1],u=t[i+1];if(p&&u){var f,g=p.plotX,m=p.plotY,y=u.plotX,v=u.plotY;n=(l*c+g)/h,o=(l*d+m)/h,r=(l*c+y)/h,s=(l*d+v)/h,f=(s-o)*(r-c)/(r-n)+d-s,o+=f,s+=f,o>m&&o>d?(o=ge(m,d),s=2*d-o):m>o&&d>o&&(o=me(m,d),s=2*d-o),s>v&&s>d?(s=ge(v,d),o=2*d-s):v>s&&d>s&&(s=me(v,d),o=2*d-s),e.rightContX=r,e.rightContY=s}return i?(a=["C",p.rightContX||p.plotX,p.rightContY||p.plotY,n||c,o||d,c,d],p.rightContX=p.rightContY=null):a=[Ze,c,d],a}});ii.spline=Ki,ki.areaspline=t(ki.area);var qi=Zi.prototype,$i=f(Ki,{type:"areaspline",closedStacks:!0,getSegmentPath:qi.getSegmentPath,closeSegment:qi.closeSegment,drawGraph:qi.drawGraph,drawLegendSymbol:Yi.drawRectangle});ii.areaspline=$i,ki.column=t(wi,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});var Ji=f(_i,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){_i.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&di(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,o=i.xAxis,r=i.yAxis,s=o.reversed,a={},l=0;n.grouping===!1?l=1:di(i.chart.series,function(n){var o=n.options,s=n.yAxis;n.type===i.type&&n.visible&&r.len===s.len&&r.pos===s.pos&&(o.stacking?(t=n.stackKey,a[t]===X&&(a[t]=l++),e=a[t]):o.grouping!==!1&&(e=l++),n.columnIndex=e)});var h=me(ye(o.transA)*(o.ordinalSlope||n.pointRange||o.closestPointRange||o.tickInterval||1),o.len),c=h*n.groupPadding,d=h-2*c,p=d/l,u=me(n.maxPointWidth||o.len,oi(n.pointWidth,p*(1-2*n.pointPadding))),f=(p-u)/2,g=(s?l-(i.columnIndex||0):i.columnIndex)||0,m=f+(c+g*p-h/2)*(s?-1:1);return i.columnMetrics={width:u,offset:m}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=oi(i.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),o=t.yAxis,r=i.threshold,s=t.translatedThreshold=o.getThreshold(r),a=oi(i.minPointLength,5),l=t.getColumnMetrics(),h=l.width,c=t.barW=ge(h,1+2*n),d=t.pointXOffset=l.offset,p=-(n%2?.5:0),u=n%2?.5:1;e.inverted&&(s-=.5,e.renderer.isVML&&(u+=1)),i.pointPadding&&(c=fe(c)),_i.prototype.translate.apply(t),di(t.points,function(i){var n,r,l,f,g=oi(i.yBottom,s),m=999+ye(g),y=me(ge(-m,i.plotY),o.len+m),v=i.plotX+d,x=c,b=me(y,g),k=ge(y,g)-b;ye(k)<a&&a&&(k=a,f=!o.reversed&&!i.negative||o.reversed&&i.negative,b=pe(ye(b-s)>a?g-a:s-(f?a:0))),i.barX=v,i.pointWidth=h,n=pe(v+x)+p,v=pe(v)+p,x=n-v,l=ye(b)<.5,r=me(pe(b+k)+u,9e4),b=pe(b)+u,k=r-b,l&&(b-=1,k+=1),i.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-y,t.xAxis.len-v-x/2,k]:[v+x/2,y+o.pos-e.plotTop,k],i.shapeType="rect",i.shapeArgs={x:v,y:b,width:x,height:k}})},getSymbol:Be,drawLegendSymbol:Yi.drawRectangle,drawGraph:Be,drawPoints:function(){var e,i,n=this,o=this.chart,r=n.options,s=o.renderer,a=r.animationLimit||250;di(n.points,function(l){var c,d=l.plotY,p=l.graphic;d===X||isNaN(d)||null===l.y?p&&(l.graphic=p.destroy()):(e=l.shapeArgs,c=h(n.borderWidth)?{"stroke-width":n.borderWidth}:{},i=l.pointAttr[l.selected?Qe:$e]||n.pointAttr[$e],p?(bi(p),p.attr(c)[o.pointCount<a?"animate":"attr"](t(e))):l.graphic=p=s[l.shapeType](e).attr(c).attr(i).add(n.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius))})},animate:function(t){var e,i=this,n=this.yAxis,o=i.options,r=this.chart.inverted,s={};De&&(t?(s.scaleY=.001,e=me(n.pos+n.len,ge(n.pos,n.toPixels(o.threshold))),r?s.translateX=e-n.len:s.translateY=e,i.group.attr(s)):(s.scaleY=1,s[r?"translateX":"translateY"]=n.pos,i.group.animate(s,i.options.animation),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&di(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),_i.prototype.remove.apply(t,arguments)}});ii.column=Ji,ki.bar=t(ki.column);var Qi=f(Ji,{type:"bar",inverted:!0});ii.bar=Qi,ki.scatter=t(wi,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var tn=f(_i,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&_i.prototype.drawGraph.call(this)}});ii.scatter=tn,ki.pie=t(wi,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var en=f(ji,{init:function(){ji.prototype.init.apply(this,arguments);var t,e=this;return ni(e,{visible:e.visible!==!1,name:oi(e.name,"Slice")}),t=function(t){e.slice("select"===t.type)},gi(e,"select",t),gi(e,"unselect",t),e},setVisible:function(t,e){var i=this,n=i.series,o=n.chart,r=n.options.ignoreHiddenPoint;e=oi(e,r),t!==i.visible&&(i.visible=i.options.visible=t=t===X?!i.visible:t,n.options.data[ci(i,n.data)]=i.options,di(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&o.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),r&&(n.isDirty=!0),e&&o.redraw())},slice:function(t,e,i){var n,o=this,r=o.series,s=r.chart;M(i,s),e=oi(e,!0),o.sliced=o.options.sliced=t=h(t)?t:!o.sliced,r.options.data[ci(o,r.data)]=o.options,n=t?o.slicedTranslation:{translateX:0,translateY:0},o.graphic.animate(n),o.shadowGroup&&o.shadowGroup.animate(n)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),nn={type:"pie",isCartesian:!1,pointClass:en,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(di(i,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},setData:function(t,e,i,n){_i.prototype.setData.call(this,t,!1,i,n),this.processData(),this.generatePoints(),oi(e,!0)&&this.chart.redraw(i)},updateTotals:function(){var t,e,i=0,n=this.points,o=n.length,r=this.options.ignoreHiddenPoint;for(t=0;o>t;t++)e=n[t],i+=r&&!e.visible?0:e.y;for(this.total=i,t=0;o>t;t++)e=n[t],e.percentage=i>0&&(e.visible||!r)?e.y/i*100:0,e.total=i},generatePoints:function(){_i.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,o,r,s,a,l=this,h=0,c=1e3,d=l.options,p=d.slicedOffset,u=p+d.borderWidth,f=d.startAngle||0,g=l.startAngleRad=be/180*(f-90),m=l.endAngleRad=be/180*(oi(d.endAngle,f+360)-90),y=m-g,v=l.points,x=d.dataLabels.distance,b=d.ignoreHiddenPoint,k=v.length;for(t||(l.center=t=l.getCenter()),l.getX=function(e,i){return n=de.asin(me((e-t[1])/(t[2]/2+x),1)),t[0]+(i?-1:1)*ve(n)*(t[2]/2+x)},s=0;k>s;s++)a=v[s],e=g+h*y,(!b||a.visible)&&(h+=a.percentage/100),i=g+h*y,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:pe(e*c)/c,end:pe(i*c)/c},n=(i+e)/2,n>1.5*be?n-=2*be:-be/2>n&&(n+=2*be),a.slicedTranslation={translateX:pe(ve(n)*p),translateY:pe(xe(n)*p)},o=ve(n)*t[2]/2,r=xe(n)*t[2]/2,a.tooltipPos=[t[0]+.7*o,t[1]+.7*r],a.half=-be/2>n||n>be/2?1:0,a.angle=n,u=me(u,x/2),a.labelPos=[t[0]+o+ve(n)*x,t[1]+r+xe(n)*x,t[0]+o+ve(n)*u,t[1]+r+xe(n)*u,t[0]+o,t[1]+r,0>x?"center":a.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,o,r=this,s=r.chart,a=s.renderer,l=r.options.shadow;l&&!r.shadowGroup&&(r.shadowGroup=a.g("shadow").add(r.group)),di(r.points,function(s){null!==s.y&&(e=s.graphic,n=s.shapeArgs,i=s.shadowGroup,l&&!i&&(i=s.shadowGroup=a.g("shadow").add(r.shadowGroup)),t=s.sliced?s.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),e?e.animate(ni(n,t)):(o={"stroke-linejoin":"round"},s.visible||(o.visibility="hidden"),s.graphic=e=a[s.shapeType](n).setRadialReference(r.center).attr(s.pointAttr[s.selected?Qe:$e]).attr(o).attr(t).add(r.group).shadow(l,i)))})},searchPoint:Be,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:Yi.drawRectangle,getCenter:Vi.getCenter,getSymbol:Be};nn=f(_i,nn),ii.pie=nn,_i.prototype.drawDataLabels=function(){var e,i,n,o,r=this,s=r.options,a=s.cursor,l=s.dataLabels,c=r.points,d=r.hasRendered||0,p=r.chart.renderer;(l.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(l),o=r.plotGroup("dataLabelsGroup","data-labels",l.defer?Ne:je,l.zIndex||6),oi(l.defer,!0)&&(o.attr({opacity:+d}),d||gi(r,"afterAnimate",function(){r.visible&&o.show(),o[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),i=l,di(c,function(c){var d,u,f,g,m,y,v=c.dataLabel,b=c.connector,k=!0,w={};if(e=c.dlOptions||c.options&&c.options.dataLabels,d=oi(e&&e.enabled,i.enabled),v&&!d)c.dataLabel=v.destroy();else if(d){if(l=t(i,e),y=l.style,m=l.rotation,u=c.getLabelConfig(),n=l.format?x(l.format,u):l.formatter.call(u,l),y.color=oi(l.color,y.color,r.color,"black"),v)h(n)?(v.attr({text:n}),k=!1):(c.dataLabel=v=v.destroy(),b&&(c.connector=b.destroy()));else if(h(n)){f={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:m,padding:l.padding,zIndex:1},"contrast"===y.color&&(w.color=l.inside||l.distance<0||s.stacking?p.getContrast(c.color||r.color):"#000000"),a&&(w.cursor=a);for(g in f)f[g]===X&&delete f[g];v=c.dataLabel=p[m?"text":"label"](n,0,-999,l.shape,null,null,l.useHTML).attr(f).css(ni(y,w)).add(o).shadow(l.shadow)}v&&r.alignDataLabel(c,v,l,null,k)}}))},_i.prototype.alignDataLabel=function(t,e,i,n,o){var r,s,a=this.chart,l=a.inverted,h=oi(t.plotX,-999),c=oi(t.plotY,-999),d=e.getBBox(),p=a.renderer.fontMetrics(i.style.fontSize).b,u=this.visible&&(t.series.forceDL||a.isInsidePlot(h,pe(c),l)||n&&a.isInsidePlot(h,l?n.x+1:n.y+n.height-1,l));u&&(n=ni({x:l?a.plotWidth-c:h,y:pe(l?a.plotHeight-h:c),width:0,height:0},n),ni(i,{width:d.width,height:d.height}),i.rotation?(r=a.renderer.rotCorr(p,i.rotation),e[o?"attr":"animate"]({x:n.x+i.x+n.width/2+r.x,y:n.y+i.y+n.height/2}).attr({align:i.align})):(e.align(i,null,n),s=e.alignAttr,"justify"===oi(i.overflow,"justify")?this.justifyDataLabel(e,i,s,d,n,o):oi(i.crop,!0)&&(u=a.isInsidePlot(s.x,s.y)&&a.isInsidePlot(s.x+d.width,s.y+d.height)),i.shape&&e.attr({anchorX:t.plotX,anchorY:t.plotY}))),u||(e.attr({y:-999}),e.placed=!1)},_i.prototype.justifyDataLabel=function(t,e,i,n,o,r){var s,a,l=this.chart,h=e.align,c=e.verticalAlign,d=t.box?0:t.padding||0;s=i.x+d,0>s&&("right"===h?e.align="left":e.x=-s,a=!0),s=i.x+n.width-d,s>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-s,a=!0),s=i.y+d,0>s&&("bottom"===c?e.verticalAlign="top":e.y=-s,a=!0),s=i.y+n.height-d,s>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!r,t.align(e,null,o))},ii.pie&&(ii.pie.prototype.drawDataLabels=function(){var t,e,i,n,o,r,s,a,l,h,c,d,p,u=this,f=u.data,g=u.chart,m=u.options.dataLabels,y=oi(m.connectorPadding,10),v=oi(m.connectorWidth,1),x=g.plotWidth,b=g.plotHeight,k=oi(m.softConnector,!0),w=m.distance,S=u.center,A=S[2]/2,P=S[1],C=w>0,L=[[],[]],M=[0,0,0,0],D=function(t,e){return e.y-t.y};if(u.visible&&(m.enabled||u._hasPointLabels)){for(_i.prototype.drawDataLabels.apply(u),di(f,function(t){t.dataLabel&&t.visible&&L[t.half].push(t)}),d=2;d--;){var O,z,I,R,B=[],X=[],H=L[d],E=H.length;if(E){for(u.sortByAngle(H,d-.5),p=s=0;!s&&H[p];)s=H[p]&&H[p].dataLabel&&(H[p].dataLabel.getBBox().height||21),p++;if(w>0){for(I=me(P+A+w,g.plotHeight),z=ge(0,P-A-w);I>=z;z+=s)B.push(z);if(O=B.length,E>O){for(c=[].concat(H),c.sort(D),p=E;p--;)c[p].rank=p;for(p=E;p--;)H[p].rank>=O&&H.splice(p,1);E=H.length}for(p=0;E>p;p++){t=H[p],r=t.labelPos;var W,G,F=9999;for(G=0;O>G;G++)W=ye(B[G]-r[1]),F>W&&(F=W,R=G);if(p>R&&null!==B[p])R=p;else if(E-p+R>O&&null!==B[p])for(R=O-E+p;null===B[R];)R++;else for(;null===B[R];)R++;X.push({i:R,y:B[R]}),B[R]=null}X.sort(D)}for(p=0;E>p;p++){var Y,N;t=H[p],r=t.labelPos,n=t.dataLabel,h=t.visible===!1?Ne:"inherit",N=r[1],w>0?(Y=X.pop(),R=Y.i,l=Y.y,(N>l&&null!==B[R+1]||l>N&&null!==B[R-1])&&(l=me(ge(0,N),g.plotHeight))):l=N,a=m.justify?S[0]+(d?-1:1)*(A+w):u.getX(l===P-A-w||l===P+A+w?N:l,d),n._attr={visibility:h,align:r[6]},n._pos={x:a+m.x+({left:y,right:-y}[r[6]]||0),y:l+m.y-10},n.connX=a,n.connY=l,null===this.options.size&&(o=n.width,y>a-o?M[3]=ge(pe(o-a+y),M[3]):a+o>x-y&&(M[1]=ge(pe(a+o-x+y),M[1])),0>l-s/2?M[0]=ge(pe(-l+s/2),M[0]):l+s/2>b&&(M[2]=ge(pe(l+s/2-b),M[2])))}}}(0===T(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),C&&v&&di(this.points,function(t){e=t.connector,r=t.labelPos,n=t.dataLabel,n&&n._pos&&t.visible?(h=n._attr.visibility,a=n.connX,l=n.connY,i=k?[Ze,a+("left"===r[6]?5:-5),l,"C",a,l,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],Ke,r[4],r[5]]:[Ze,a+("left"===r[6]?5:-5),l,Ke,r[2],r[3],Ke,r[4],r[5]],e?(e.animate({d:i}),e.attr("visibility",h)):t.connector=e=u.chart.renderer.path(i).attr({"stroke-width":v,stroke:m.connectorColor||t.color||"#606060",visibility:h}).add(u.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},ii.pie.prototype.placeDataLabels=function(){di(this.points,function(t){var e,i=t.dataLabel;i&&t.visible&&(e=i._pos,e?(i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-999}))})},ii.pie.prototype.alignDataLabel=Be,ii.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,o=n.center,r=n.minSize||80,s=r;return null!==o[0]?s=ge(i[2]-ge(t[1],t[3]),r):(s=ge(i[2]-t[1]-t[3],r),i[0]+=(t[3]-t[1])/2),null!==o[1]?s=ge(me(s,i[2]-ge(t[0],t[2])),r):(s=ge(me(s,i[2]-t[0]-t[2]),r),i[1]+=(t[0]-t[2])/2),s<i[2]?(i[2]=s,i[3]=m(n.innerSize||0,s),this.translate(i),di(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),ii.column&&(ii.column.prototype.alignDataLabel=function(e,i,n,o,r){var s=this.chart.inverted,a=e.series,l=e.dlBox||e.shapeArgs,h=oi(e.below,e.plotY>oi(this.translatedThreshold,a.yAxis.len)),c=oi(n.inside,!!this.options.stacking);l&&(o=t(l),s&&(o={x:a.yAxis.len-o.y-o.height,y:a.xAxis.len-o.x-o.width,width:o.height,height:o.width}),c||(s?(o.x+=h?0:o.width,o.width=0):(o.y+=h?o.height:0,o.height=0))),n.align=oi(n.align,!s||c?"center":h?"right":"left"),n.verticalAlign=oi(n.verticalAlign,s||c?"middle":h?"top":"bottom"),_i.prototype.alignDataLabel.call(this,e,i,n,o,r)}),function(t){var e=t.Chart,i=t.each,n=t.pick,o=HighchartsAdapter.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var o=t.options.dataLabels,r=t.dataLabelCollections||["dataLabel"];(o.enabled||t._hasPointLabels)&&!o.allowOverlap&&t.visible&&i(r,function(o){i(t.points,function(t){t[o]&&(t[o].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[o]))})})}),t.hideOverlappingLabels(e)}e(),o(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,o,r,s,a,l,h,c,d=t.length,p=function(t,e,i,n,o,r,s,a){return!(o>t+i||t>o+s||r>e+n||e>r+a)};for(n=0;d>n;n++)e=t[n],e&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;d>n;n++)for(r=t[n],o=n+1;d>o;++o)s=t[o],r&&s&&r.placed&&s.placed&&0!==r.newOpacity&&0!==s.newOpacity&&(l=r.alignAttr,h=s.alignAttr,c=2*(r.box?0:r.padding),a=p(l.x,l.y,r.width-c,r.height-c,h.x,h.y,s.width-c,s.height-c),a&&((r.labelrank<s.labelrank?r:s).newOpacity=0));i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(le);var on=le.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,o=n&&{cursor:n},r=function(t){for(var i,n=t.target;n&&!i;)i=n.point,n=n.parentNode;i!==X&&i!==e.hoverPoint&&i.onMouseOver(t)};di(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(di(t.trackerGroups,function(e){t[e]&&(t[e].addClass(Ve+"tracker").on("mouseover",r).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(o),E&&t[e].on("touchstart",r))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e,i=this,n=i.options,o=n.trackByArea,r=[].concat(o?i.areaPath:i.graphPath),s=r.length,a=i.chart,l=a.pointer,h=a.renderer,c=a.options.tooltip.snap,d=i.tracker,p=n.cursor,u=p&&{cursor:p},f=i.singlePoints,g=function(){a.hoverSeries!==i&&i.onMouseOver()},m="rgba(192,192,192,"+(De?1e-4:.002)+")";if(s&&!o)for(e=s+1;e--;)r[e]===Ze&&r.splice(e+1,0,r[e+1]-c,r[e+2],Ke),(e&&r[e]===Ze||e===s)&&r.splice(e,0,Ke,r[e-2]+c,r[e-1]);for(e=0;e<f.length;e++)t=f[e],r.push(Ze,t.plotX-c,t.plotY,Ke,t.plotX+c,t.plotY);d?d.attr({d:r}):(i.tracker=h.path(r).attr({"stroke-linejoin":"round",visibility:i.visible?je:Ne,stroke:m,fill:o?m:Ue,"stroke-width":n.lineWidth+(o?0:2*c),zIndex:2}).add(i.group),di([i.tracker,i.markerGroup],function(t){t.addClass(Ve+"tracker").on("mouseover",g).on("mouseout",function(t){l.onTrackerMouseOut(t)}).css(u),E&&t.on("touchstart",g)}))}};ii.column&&(Ji.prototype.drawTracker=on.drawTrackerPoint),ii.pie&&(ii.pie.prototype.drawTracker=on.drawTrackerPoint),ii.scatter&&(tn.prototype.drawTracker=on.drawTrackerPoint),ni(Fi.prototype,{setItemEvents:function(t,e,i,n,o){var r=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState(Je),e.css(r.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:o),t.setState()}).on("click",function(e){var i="legendItemClick",n=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):yi(t,i,e,n)})},createCheckboxForItem:function(t){var e=this;t.checkbox=u("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),gi(t.checkbox,"click",function(e){var i=e.target;yi(t.series||t,"checkboxClick",{checked:i.checked,item:t},function(){t.select()})})}}),G.legend.itemStyle.cursor="pointer",ni(Ni.prototype,{showResetZoom:function(){var t=this,e=G.lang,i=t.options.chart.resetZoomButton,n=i.theme,o=n.states,r="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,r)},zoomOut:function(){var t=this;yi(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,o=this,r=o.pointer,s=!1;!t||t.resetSelection?di(o.axes,function(t){e=t.zoom()}):di(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;(r[n?"zoomX":"zoomY"]||r[n?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(s=!0))}),i=o.resetZoomButton,s&&!i?o.showResetZoom():!s&&n(i)&&(o.resetZoomButton=i.destroy()),e&&o.redraw(oi(o.options.chart.animation,t&&t.animation,o.pointCount<100))},pan:function(t,e){var i,n=this,o=n.hoverPoints;o&&di(o,function(t){t.setState()}),di("xy"===e?[1,0]:[1],function(e){var o=t[e?"chartX":"chartY"],r=n[e?"xAxis":"yAxis"][0],s=n[e?"mouseDownX":"mouseDownY"],a=(r.pointRange||0)/2,l=r.getExtremes(),h=r.toValue(s-o,!0)+a,c=r.toValue(s+n[e?"plotWidth":"plotHeight"]-o,!0)-a,d=s>o;r.series.length&&(d||h>me(l.dataMin,l.min))&&(!d||c<ge(l.dataMax,l.max))&&(r.setExtremes(h,c,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=o}),i&&n.redraw(!1),p(n.container,{cursor:"move"})}}),ni(ji.prototype,{select:function(t,e){var i=this,n=i.series,o=n.chart;t=oi(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[ci(i,n.data)]=i.options,i.setState(t&&Qe),e||di(o.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[ci(t,n.data)]=t.options,t.setState($e),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var i=this,n=i.series,o=n.chart,r=o.tooltip,s=o.hoverPoint;o.hoverSeries!==n&&n.onMouseOver(),s&&s!==i&&s.onMouseOut(),i.series&&(i.firePointEvent("mouseOver"),!r||r.shared&&!n.noSharedTooltip||r.refresh(i,t),i.setState(Je),e||(o.hoverPoint=i))},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==ci(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,i=this,n=t(i.series.options.point,i.options),o=n.events;i.events=o;for(e in o)gi(i,e,o[e]);this.hasImportedEvents=!0}},setState:function(e,i){var n,o,r,s,a=this,l=a.plotX,h=a.plotY,c=a.series,d=c.options.states,p=ki[c.type].marker&&c.options.marker,u=p&&!p.enabled,f=p&&p.states[e],g=f&&f.enabled===!1,m=c.stateMarkerGraphic,y=a.marker||{},v=c.chart,x=c.halo;e=e||$e,s=a.pointAttr[e]||c.pointAttr[e],e===a.state&&!i||a.selected&&e!==Qe||d[e]&&d[e].enabled===!1||e&&(g||u&&f.enabled===!1)||e&&y.states&&y.states[e]&&y.states[e].enabled===!1||(a.graphic?(n=p&&a.graphic.symbolName&&s.r,a.graphic.attr(t(s,n?{x:l-n,y:h-n,width:2*n,height:2*n}:{})),m&&m.hide()):(e&&f&&(n=f.radius,r=y.symbol||c.symbol,m&&m.currentSymbol!==r&&(m=m.destroy()),m?m[i?"animate":"attr"]({x:l-n,y:h-n}):r&&(c.stateMarkerGraphic=m=v.renderer.symbol(r,l-n,h-n,2*n,2*n).attr(s).add(c.markerGroup),m.currentSymbol=r)),m&&(m[e&&v.isInsidePlot(l,h,v.inverted)?"show":"hide"](),m.element.point=a)),o=d[e]&&d[e].halo,o&&o.size?(x||(c.halo=x=v.renderer.path().add(v.seriesGroup)),x.attr(ni({fill:Pi(a.color||c.color).setOpacity(o.opacity).get()},o.attributes))[i?"animate":"attr"]({d:a.haloPath(o.size)})):x&&x.attr({d:[]}),a.state=e)},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),o=i.inverted;return i.renderer.symbols.circle(n.translateX+(o?e.yAxis.len-this.plotY:this.plotX)-t,n.translateY+(o?e.xAxis.len-this.plotX:this.plotY)-t,2*t,2*t)}}),ni(_i.prototype,{onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;
i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&yi(t,"mouseOver"),t.setState(Je),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,o=i.hoverPoint;i.hoverSeries=null,o&&o.onMouseOut(),t&&e.events.mouseOut&&yi(t,"mouseOut"),!n||e.stickyTracking||n.shared&&!t.noSharedTooltip||n.hide(),t.setState()},setState:function(t){var e,i=this,n=i.options,o=i.graph,r=n.states,s=n.lineWidth,a=0;if(t=t||$e,i.state!==t){if(i.state=t,r[t]&&r[t].enabled===!1)return;if(t&&(s=r[t].lineWidth||s+(r[t].lineWidthPlus||0)),o&&!o.dashstyle)for(e={"stroke-width":s},o.attr(e);i["zoneGraph"+a];)i["zoneGraph"+a].attr(e),a+=1}},setVisible:function(t,e){var i,n=this,o=n.chart,r=n.legendItem,s=o.options.chart.ignoreHiddenSeries,a=n.visible;n.visible=t=n.userOptions.visible=t===X?!a:t,i=t?"show":"hide",di(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),(o.hoverSeries===n||(o.hoverPoint&&o.hoverPoint.series)===n)&&n.onMouseOut(),r&&o.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&di(o.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),di(n.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(o.isDirtyBox=!0),e!==!1&&o.redraw(),yi(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===X?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),yi(e,t?"select":"unselect")},drawTracker:on.drawTrackerGraph}),ni(le,{Color:Pi,Point:ji,Tick:R,Renderer:H,SVGElement:I,SVGRenderer:Ci,arrayMin:S,arrayMax:T,charts:Xe,dateFormat:F,error:C,format:x,pathAnim:Y,getOptions:z,hasBidiBug:Oe,isTouchDevice:Le,setOptions:O,addEvent:gi,removeEvent:mi,createElement:u,discardElement:P,css:p,each:di,map:fi,merge:t,splat:d,extendClass:f,pInt:e,svg:De,canvas:ze,vml:!De&&!ze,product:Ee,version:We})}(),i.exports=Highcharts});
;define("common:widget/ui/line/line",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/lib/eventEmitter","common:widget/oui/lib/highcharts/3.0.5/highcharts"],function(t,e,i){function o(t){t=t||[];for(var e=[],i=!0,o=0,r=t.length;r>o;o++){var l=n.extend(!0,{},t[o]);l.y<=0?l.y=0:i=!1,e[o]=l}if(i)for(var o=0,r=e.length;r>o;o++){var l=e[o];l.y=88,l.color="#d6d6d6"}return e}function r(t){if(!t.container)throw new Error("Line 构造函数,必须传递  container  DOM引用");o(t.data);a.theme={colors:["#7cb5ec","#f7a35c","#90ee7e","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:null,style:{fontFamily:"Dosis, sans-serif"}},title:{style:{fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"}},tooltip:{borderWidth:0,backgroundColor:"rgba(219,219,216,0.8)",shadow:!1},legend:{itemStyle:{fontWeight:"bold",fontSize:"13px"}},xAxis:{labels:{style:{fontSize:"12px"}}},yAxis:{title:{style:{textTransform:"uppercase"}},labels:{style:{fontSize:"12px"}}},plotOptions:{candlestick:{lineColor:"#404048"}},background2:"#F0F0EA"},a.setOptions(a.theme),this.chart=new a.Chart({chart:{renderTo:t.container,width:t.width||300,height:t.height||300,spacingRight:20},credits:{enabled:!1},title:{text:t.unit,style:{visibility:"hidden"}},subtitle:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%m-%d"},tickInterval:null,tickPixelInterval:80},yAxis:{title:{text:t.unit+"(元)",align:"high",offset:0,rotation:0,y:-10,style:{color:"#2b2b2b"}},labels:{style:{color:"#848484"}},gridLineColor:"#dddddd",gridLineWidth:1},tooltip:{shared:!0,xDateFormat:"%Y-%m-%d",backgroundColor:"#ff8813",style:{color:"#ffffff",fontSize:"12px",padding:"8px"},useHTML:!0,headerFormat:"时间：<small>{point.key}</small><table>",pointFormat:'<tr><td style="color:#fff">{series.name}: </td><td style="text-align: right"><b>{point.y}元</b></td></tr>',footerFormat:"</table>"},legend:{enabled:!1},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#d2e8ff"],[1,a.Color(a.getOptions().colors[0]).setOpacity(0).get("rgba")]]},lineWidth:1,marker:{enabled:!1},shadow:!1,states:{hover:{lineWidth:1}},threshold:null}},series:[{type:"area",name:t.unit,data:t.data}]})}var n=t("common:widget/oui/lib/jquery/1.9.1/jquery"),l=t("common:widget/ui/lib/eventEmitter"),a=t("common:widget/oui/lib/highcharts/3.0.5/highcharts");n.extend(r.prototype,l.prototype),n.extend(r.prototype,{destroy:function(){this.chart&&(this.chart.destroy(),this.chart=null)},selectPointById:function(t){var e=this.chart.get(t);return e&&e.select(!0),this},unselectPointById:function(t){var e=this.chart.get(t);return e&&e.select(!1),this},clickPointById:function(t){var e=this.chart.get(t);return e&&this.trigger("click",e.options),this}}),i.exports=r});
;define("common:widget/ui/logManager/logManager",function(o,n,t){var a=window._hmt,e=window.console,r=function(){e&&"function"==typeof e.error&&e.error.apply(e,arguments)},c={baidu:function(o){o&&o.category&&o.action||r("百度统计参数错误[category action必填]",o),a?a.push(["_trackEvent",o.category,o.action,o.opt_label,o.opt_value]):r("找不到百度统计接口!!")}};t.exports=c});
;define("common:widget/ui/messageModule/messageModule",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/common-cmbc-dialog/common-cmbc-dialog"],function(o,e,t){var i=o("common:widget/oui/lib/jquery/1.9.1/jquery"),m=o("common:widget/oui/common"),n=o("common:widget/common-cmbc-dialog/common-cmbc-dialog"),c={init:function(){var o=i("#pg-server-message");if(o.length>0){var e=o.data("status"),t=o.data("message"),c=o.data("ispop"),a=o.data("fundtips"),s={message:t};""!==e&&(e+="","2"===e||"3"===e?n.smartShow():(0===e||"0"===e?(s.success=!0,c+""=="true"&&(s.link="/account/coupon!toCoupon.action#invite-anchor",s.linkText="邀请好友投资即得100元红包，多邀多得，快快",s.linkTextEnd="邀请壕友"),a+""=="true"&&(s.fund=!0,s.fundMsg=i(".FUND_MSG").text(),s.fundUrl=i(".FUND_URL").text())):s.error=!0,m.showMessage(s)))}var u=i("#title-detail"),d=i("title").html();u.length>0&&i("title").html(u.html()+" -"+d),m.initPoptips()}};t.exports=c});
;define("common:widget/ui/service-change-dialog/service-change-dialog",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/dialog/dialog"],function(i,e,o){var c=i("common:widget/oui/lib/jquery/1.9.1/jquery"),t=i("common:widget/ui/dialog/dialog"),n="/account/agreeDepositAccountChange.action",d='<div id="j-service-change-con"><div class="dialog-main-body"><h2 class="title">用户利益保障机制调整说明</h2><dl class="service-text-con"><dt>尊敬的用户：</dt><dd><p>为了更好地保护投资者利益，经与合作机构友众信业金融信息服务（上海）有限公司（简称友信）协商，自2015年12月31日起，友信将开设由民生银行股份有限公司进行资金存管的专款专用保证金账户，以替代原人人贷开设由民生银行股份有限公司进行资金存管的专款专用风险备用金账户。</p><p>该账户资金金额与计提方式、以向受保障理财人提供逾期应收赔付功能、民生银行针对该账户每月出具存管报告政策均不变。请您阅读并知悉更新后的<a target="_blank" href="http://www.we.com/help/security/security!detail.action?flag=bjbz">《用户利益保障机制》</a>。</p></dd></dl></div><div class="confirm-btn">确认并同意修改</div></div>',a=null,l={init:function(){if(!a){var i=c(d);a=t.modalDialog({title:"",width:"760px",height:"482px",zIndex:10010,cssClass:"j-service-change-dialog",clickMaskHide:!1,content:i}),i.on("click",".confirm-btn",function(){c.post(n),a.hide()})}},show:function(){a||l.init(),a.show()}};o.exports=l});
;define("common:widget/ui/utmsource/utmsource",function(){!function(){function e(e){var t=new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i");return t.test(location.href)?unescape(RegExp.$2.replace(/\+/g," ")):null}function t(e,t,n){var o=new Date;o.setDate(o.getDate()+n),document.cookie=e+"="+escape(t)+(null==n?"":";expires="+o.toGMTString()+";path=/")}var n=e("utmSource");n&&t("promotion_source",n,365)}()});
;define("common:widget/ui/weShare/weShare",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t,e,i){function s(t){this.title=t.title,this.url=t.url,this.summary=t.summary,this.$el=n(t.el||document),this.itemClass=t.itemClass||"js-we-share",this.init()}var n=t("common:widget/oui/lib/jquery/1.9.1/jquery");n.extend(s.prototype,{init:function(){var t=this;this.onItemClick=function(e){var i=n(e.currentTarget),s=i.attr("data-share");s&&t.share(s)},this.$el.on("click","."+this.itemClass,this.onItemClick)},share:function(t){var e=encodeURIComponent,i=screen,s=document,n=640,r=480,o=(s.location,""),h="",l="http://api.bshare.cn/share/"+t+"?url="+e(this.url)+"&title="+e(this.title)+"&publisherUuid="+o+"&summary="+e(this.summary)+"&pic="+h;window.open(l,"bshare",["toolbar=0,status=0,resizable=1,width="+n+",height="+r+",left="+(i.width-n)/2+",top="+(i.height-r)/2])},destroy:function(){this.$el.off("click","."+this.itemClass,this.onItemClick),this.onItemClick=null,this.$el=null}}),s.make=function(t){return new s(t)},i.exports=s});
;define("common:widget/ui/zeroClipboard/zeroClipboard",function(e,t,i){ZeroClipboard={version:"1.0.7",clients:{},moviePath:"/static/common/widget/ui/zeroClipboard/ZeroClipboard_9f4401c.swf",nextId:1,$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){for(var t=this.className.split(/\s+/),i=-1,s=0;s<t.length;s++)t[s]==e&&(i=s,s=t.length);return i>-1&&(t.splice(i,1),this.className=t.join(" ")),this},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,i){var s=this.clients[e];s&&s.receiveEvent(t,i)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e,t){for(var i={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};e&&e!=t;)i.left+=e.offsetLeft,i.top+=e.offsetTop,e=e.offsetParent;return i},Client:function(e){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),e&&this.glue(e)}},ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(e,t,i){this.domElement=ZeroClipboard.$(e);var s=9999;this.domElement.style.zIndex&&(s=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof t?t=ZeroClipboard.$(t):"undefined"==typeof t&&(t=document.getElementsByTagName("body")[0]);var o=ZeroClipboard.getDOMObjectPosition(this.domElement,t);this.div=document.createElement("div");var a=this.div.style;if(a.position="absolute",a.left=""+o.left+"px",a.top=""+o.top+"px",a.width=""+o.width+"px",a.height=""+o.height+"px",a.zIndex=s,"object"==typeof i)for(addedStyle in i)a[addedStyle]=i[addedStyle];t.appendChild(this.div),this.div.innerHTML=this.getHTML(o.width,o.height)},getHTML:function(e,t){var i="",s="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var o=location.href.match(/^https/i)?"https://":"http://";i+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+o+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+s+'"/><param name="wmode" value="transparent"/></object>'}else i+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+s+'" wmode="transparent" />';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(t){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=ZeroClipboard.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=ZeroClipboard.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=""+t.left+"px",i.top=""+t.top+"px"}},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var i=this;return void setTimeout(function(){i.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var i=this;return setTimeout(function(){i.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0,this.movie.setText(this.clipText),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var s=0,o=this.handlers[e].length;o>s;s++){var a=this.handlers[e][s];"function"==typeof a?a(this,t):"object"==typeof a&&2==a.length?a[0][a[1]](this,t):"string"==typeof a&&window[a](this,t)}}},i.exports=ZeroClipboard});